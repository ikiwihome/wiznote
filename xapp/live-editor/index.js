!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.LiveEditor=t():e.LiveEditor=t()}(this,(function(){return(()=>{var e={1195:function(e,t,n){e=n.nmd(e);var r=n(4155);!function(t){"use strict";function o(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),o=0;o<n;o++)r[o]=e[t+o];return r}var i=function(e){var t=o(arguments,1);return function(){var n=o(arguments);return e.apply(null,t.concat(n))}},a=function(e){return function(){var t=o(arguments),n=t.pop();e.call(this,t,n)}};function s(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var c="function"==typeof setImmediate&&setImmediate,l="object"==typeof r&&"function"==typeof r.nextTick;function u(e){setTimeout(e,0)}function d(e){return function(t){var n=o(arguments,1);e((function(){t.apply(null,n)}))}}var p=d(c?setImmediate:l?r.nextTick:u);function f(e){return a((function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}s(r)&&"function"==typeof r.then?r.then((function(e){h(n,null,e)}),(function(e){h(n,e.message?e:new Error(e))})):n(null,r)}))}function h(e,t,n){try{e(t,n)}catch(e){p(A,e)}}function A(e){throw e}var m="function"==typeof Symbol;function g(e){return m&&"AsyncFunction"===e[Symbol.toStringTag]}function v(e){return g(e)?f(e):e}function b(e){return function(t){var n=o(arguments,1),r=a((function(n,r){var o=this;return e(t,(function(e,t){v(e).apply(o,n.concat(t))}),r)}));return n.length?r.apply(this,n):r}}var y="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,w="object"==typeof self&&self&&self.Object===Object&&self,x=y||w||Function("return this")(),k=x.Symbol,C=Object.prototype,E=C.hasOwnProperty,B=C.toString,T=k?k.toStringTag:void 0;function M(e){var t=E.call(e,T),n=e[T];try{e[T]=void 0;var r=!0}catch(e){}var o=B.call(e);return r&&(t?e[T]=n:delete e[T]),o}var I=Object.prototype.toString;function D(e){return I.call(e)}var _="[object Null]",S="[object Undefined]",O=k?k.toStringTag:void 0;function N(e){return null==e?void 0===e?S:_:O&&O in Object(e)?M(e):D(e)}var L="[object AsyncFunction]",R="[object Function]",j="[object GeneratorFunction]",U="[object Proxy]";function F(e){if(!s(e))return!1;var t=N(e);return t==R||t==j||t==L||t==U}var z=9007199254740991;function Q(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=z}function P(e){return null!=e&&Q(e.length)&&!F(e)}var H={};function V(){}function K(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var G="function"==typeof Symbol&&Symbol.iterator,W=function(e){return G&&e[G]&&e[G]()};function Y(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function q(e){return null!=e&&"object"==typeof e}var Z="[object Arguments]";function X(e){return q(e)&&N(e)==Z}var J=Object.prototype,$=J.hasOwnProperty,ee=J.propertyIsEnumerable,te=X(function(){return arguments}())?X:function(e){return q(e)&&$.call(e,"callee")&&!ee.call(e,"callee")},ne=Array.isArray;function re(){return!1}var oe="object"==typeof t&&t&&!t.nodeType&&t,ie=oe&&e&&!e.nodeType&&e,ae=ie&&ie.exports===oe?x.Buffer:void 0,se=(ae?ae.isBuffer:void 0)||re,ce=9007199254740991,le=/^(?:0|[1-9]\d*)$/;function ue(e,t){var n=typeof e;return!!(t=null==t?ce:t)&&("number"==n||"symbol"!=n&&le.test(e))&&e>-1&&e%1==0&&e<t}var de="[object Arguments]",pe="[object Array]",fe="[object Boolean]",he="[object Date]",Ae="[object Error]",me="[object Function]",ge="[object Map]",ve="[object Number]",be="[object Object]",ye="[object RegExp]",we="[object Set]",xe="[object String]",ke="[object WeakMap]",Ce="[object ArrayBuffer]",Ee="[object DataView]",Be="[object Float64Array]",Te="[object Int8Array]",Me="[object Int16Array]",Ie="[object Int32Array]",De="[object Uint8Array]",_e="[object Uint8ClampedArray]",Se="[object Uint16Array]",Oe="[object Uint32Array]",Ne={};function Le(e){return q(e)&&Q(e.length)&&!!Ne[N(e)]}function Re(e){return function(t){return e(t)}}Ne["[object Float32Array]"]=Ne[Be]=Ne[Te]=Ne[Me]=Ne[Ie]=Ne[De]=Ne[_e]=Ne[Se]=Ne[Oe]=!0,Ne[de]=Ne[pe]=Ne[Ce]=Ne[fe]=Ne[Ee]=Ne[he]=Ne[Ae]=Ne[me]=Ne[ge]=Ne[ve]=Ne[be]=Ne[ye]=Ne[we]=Ne[xe]=Ne[ke]=!1;var je="object"==typeof t&&t&&!t.nodeType&&t,Ue=je&&e&&!e.nodeType&&e,Fe=Ue&&Ue.exports===je&&y.process,ze=function(){try{var e=Ue&&Ue.require&&Ue.require("util").types;return e||Fe&&Fe.binding&&Fe.binding("util")}catch(e){}}(),Qe=ze&&ze.isTypedArray,Pe=Qe?Re(Qe):Le,He=Object.prototype.hasOwnProperty;function Ve(e,t){var n=ne(e),r=!n&&te(e),o=!n&&!r&&se(e),i=!n&&!r&&!o&&Pe(e),a=n||r||o||i,s=a?Y(e.length,String):[],c=s.length;for(var l in e)!t&&!He.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ue(l,c))||s.push(l);return s}var Ke=Object.prototype;function Ge(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ke)}function We(e,t){return function(n){return e(t(n))}}var Ye=We(Object.keys,Object),qe=Object.prototype.hasOwnProperty;function Ze(e){if(!Ge(e))return Ye(e);var t=[];for(var n in Object(e))qe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Xe(e){return P(e)?Ve(e):Ze(e)}function Je(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}function $e(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function et(e){var t=Xe(e),n=-1,r=t.length;return function(){var o=t[++n];return n<r?{value:e[o],key:o}:null}}function tt(e){if(P(e))return Je(e);var t=W(e);return t?$e(t):et(e)}function nt(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function rt(e){return function(t,n,r){if(r=K(r||V),e<=0||!t)return r(null);var o=tt(t),i=!1,a=0,s=!1;function c(e,t){if(a-=1,e)i=!0,r(e);else{if(t===H||i&&a<=0)return i=!0,r(null);s||l()}}function l(){for(s=!0;a<e&&!i;){var t=o();if(null===t)return i=!0,void(a<=0&&r(null));a+=1,n(t.value,t.key,nt(c))}s=!1}l()}}function ot(e,t,n,r){rt(t)(e,v(n),r)}function it(e,t){return function(n,r,o){return e(n,t,r,o)}}function at(e,t,n){n=K(n||V);var r=0,o=0,i=e.length;function a(e,t){e?n(e):++o!==i&&t!==H||n(null)}for(0===i&&n(null);r<i;r++)t(e[r],r,nt(a))}var st=it(ot,1/0),ct=function(e,t,n){(P(e)?at:st)(e,v(t),n)};function lt(e){return function(t,n,r){return e(ct,t,v(n),r)}}function ut(e,t,n,r){r=r||V,t=t||[];var o=[],i=0,a=v(n);e(t,(function(e,t,n){var r=i++;a(e,(function(e,t){o[r]=t,n(e)}))}),(function(e){r(e,o)}))}var dt=lt(ut),pt=b(dt);function ft(e){return function(t,n,r,o){return e(rt(n),t,v(r),o)}}var ht=ft(ut),At=it(ht,1),mt=b(At);function gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function vt(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}var bt=vt();function yt(e,t){return e&&bt(e,t,Xe)}function wt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function xt(e){return e!=e}function kt(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function Ct(e,t,n){return t==t?kt(e,t,n):wt(e,xt,n)}var Et=function(e,t,n){"function"==typeof t&&(n=t,t=null),n=K(n||V);var r=Xe(e).length;if(!r)return n(null);t||(t=r);var i={},a=0,s=!1,c=Object.create(null),l=[],u=[],d={};function p(e,t){l.push((function(){m(e,t)}))}function f(){if(0===l.length&&0===a)return n(null,i);for(;l.length&&a<t;)l.shift()()}function h(e,t){var n=c[e];n||(n=c[e]=[]),n.push(t)}function A(e){gt(c[e]||[],(function(e){e()})),f()}function m(e,t){if(!s){var r=nt((function(t,r){if(a--,arguments.length>2&&(r=o(arguments,1)),t){var l={};yt(i,(function(e,t){l[t]=e})),l[e]=r,s=!0,c=Object.create(null),n(t,l)}else i[e]=r,A(e)}));a++;var l=v(t[t.length-1]);t.length>1?l(i,r):l(r)}}function g(){for(var e=0;u.length;)e++,gt(b(u.pop()),(function(e){0==--d[e]&&u.push(e)}));if(e!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function b(t){var n=[];return yt(e,(function(e,r){ne(e)&&Ct(e,t,0)>=0&&n.push(r)})),n}yt(e,(function(t,n){if(!ne(t))return p(n,[t]),void u.push(n);var r=t.slice(0,t.length-1),o=r.length;if(0===o)return p(n,t),void u.push(n);d[n]=o,gt(r,(function(i){if(!e[i])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+i+"` in "+r.join(", "));h(i,(function(){0==--o&&p(n,t)}))}))})),g(),f()};function Bt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Tt="[object Symbol]";function Mt(e){return"symbol"==typeof e||q(e)&&N(e)==Tt}var It=1/0,Dt=k?k.prototype:void 0,_t=Dt?Dt.toString:void 0;function St(e){if("string"==typeof e)return e;if(ne(e))return Bt(e,St)+"";if(Mt(e))return _t?_t.call(e):"";var t=e+"";return"0"==t&&1/e==-It?"-0":t}function Ot(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}function Nt(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Ot(e,t,n)}function Lt(e,t){for(var n=e.length;n--&&Ct(t,e[n],0)>-1;);return n}function Rt(e,t){for(var n=-1,r=e.length;++n<r&&Ct(t,e[n],0)>-1;);return n}function jt(e){return e.split("")}var Ut=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Ft(e){return Ut.test(e)}var zt="\\ud800-\\udfff",Qt="["+zt+"]",Pt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ht="\\ud83c[\\udffb-\\udfff]",Vt="[^"+zt+"]",Kt="(?:\\ud83c[\\udde6-\\uddff]){2}",Gt="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="(?:"+Pt+"|"+Ht+")?",Yt="[\\ufe0e\\ufe0f]?",qt="(?:\\u200d(?:"+[Vt,Kt,Gt].join("|")+")"+Yt+Wt+")*",Zt=Yt+Wt+qt,Xt="(?:"+[Vt+Pt+"?",Pt,Kt,Gt,Qt].join("|")+")",Jt=RegExp(Ht+"(?="+Ht+")|"+Xt+Zt,"g");function $t(e){return e.match(Jt)||[]}function en(e){return Ft(e)?$t(e):jt(e)}function tn(e){return null==e?"":St(e)}var nn=/^\s+|\s+$/g;function rn(e,t,n){if((e=tn(e))&&(n||void 0===t))return e.replace(nn,"");if(!e||!(t=St(t)))return e;var r=en(e),o=en(t);return Nt(r,Rt(r,o),Lt(r,o)+1).join("")}var on=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,an=/,/,sn=/(=.+)?(\s*)$/,cn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function ln(e){return e=(e=(e=(e=e.toString().replace(cn,"")).match(on)[2].replace(" ",""))?e.split(an):[]).map((function(e){return rn(e.replace(sn,""))}))}function un(e,t){var n={};yt(e,(function(e,t){var r,o=g(e),i=!o&&1===e.length||o&&0===e.length;if(ne(e))r=e.slice(0,-1),e=e[e.length-1],n[t]=r.concat(r.length>0?a:e);else if(i)n[t]=e;else{if(r=ln(e),0===e.length&&!o&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");o||r.pop(),n[t]=r.concat(a)}function a(t,n){var o=Bt(r,(function(e){return t[e]}));o.push(n),v(e).apply(null,o)}})),Et(n,t)}function dn(){this.head=this.tail=null,this.length=0}function pn(e,t){e.length=1,e.head=e.tail=t}function fn(e,t,n){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=v(e),o=0,i=[],a=!1;function s(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(u.started=!0,ne(e)||(e=[e]),0===e.length&&u.idle())return p((function(){u.drain()}));for(var r=0,o=e.length;r<o;r++){var i={data:e[r],callback:n||V};t?u._tasks.unshift(i):u._tasks.push(i)}a||(a=!0,p((function(){a=!1,u.process()})))}function c(e){return function(t){o-=1;for(var n=0,r=e.length;n<r;n++){var a=e[n],s=Ct(i,a,0);0===s?i.shift():s>0&&i.splice(s,1),a.callback.apply(a,arguments),null!=t&&u.error(t,a.data)}o<=u.concurrency-u.buffer&&u.unsaturated(),u.idle()&&u.drain(),u.process()}}var l=!1,u={_tasks:new dn,concurrency:t,payload:n,saturated:V,unsaturated:V,buffer:t/4,empty:V,drain:V,error:V,started:!1,paused:!1,push:function(e,t){s(e,!1,t)},kill:function(){u.drain=V,u._tasks.empty()},unshift:function(e,t){s(e,!0,t)},remove:function(e){u._tasks.remove(e)},process:function(){if(!l){for(l=!0;!u.paused&&o<u.concurrency&&u._tasks.length;){var e=[],t=[],n=u._tasks.length;u.payload&&(n=Math.min(n,u.payload));for(var a=0;a<n;a++){var s=u._tasks.shift();e.push(s),i.push(s),t.push(s.data)}o+=1,0===u._tasks.length&&u.empty(),o===u.concurrency&&u.saturated();var d=nt(c(e));r(t,d)}l=!1}},length:function(){return u._tasks.length},running:function(){return o},workersList:function(){return i},idle:function(){return u._tasks.length+o===0},pause:function(){u.paused=!0},resume:function(){!1!==u.paused&&(u.paused=!1,p(u.process))}};return u}function hn(e,t){return fn(e,1,t)}dn.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},dn.prototype.empty=function(){for(;this.head;)this.shift();return this},dn.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},dn.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},dn.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):pn(this,e)},dn.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):pn(this,e)},dn.prototype.shift=function(){return this.head&&this.removeLink(this.head)},dn.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},dn.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},dn.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this};var An=it(ot,1);function mn(e,t,n,r){r=K(r||V);var o=v(n);An(e,(function(e,n,r){o(t,e,(function(e,n){t=n,r(e)}))}),(function(e){r(e,t)}))}function gn(){var e=Bt(arguments,v);return function(){var t=o(arguments),n=this,r=t[t.length-1];"function"==typeof r?t.pop():r=V,mn(e,t,(function(e,t,r){t.apply(n,e.concat((function(e){var t=o(arguments,1);r(e,t)})))}),(function(e,t){r.apply(n,[e].concat(t))}))}}var vn=function(){return gn.apply(null,o(arguments).reverse())},bn=Array.prototype.concat,yn=function(e,t,n,r){r=r||V;var i=v(n);ht(e,t,(function(e,t){i(e,(function(e){return e?t(e):t(null,o(arguments,1))}))}),(function(e,t){for(var n=[],o=0;o<t.length;o++)t[o]&&(n=bn.apply(n,t[o]));return r(e,n)}))},wn=it(yn,1/0),xn=it(yn,1),kn=function(){var e=o(arguments),t=[null].concat(e);return function(){return arguments[arguments.length-1].apply(this,t)}};function Cn(e){return e}function En(e,t){return function(n,r,o,i){i=i||V;var a,s=!1;n(r,(function(n,r,i){o(n,(function(r,o){r?i(r):e(o)&&!a?(s=!0,a=t(!0,n),i(null,H)):i()}))}),(function(e){e?i(e):i(null,s?a:t(!1))}))}}function Bn(e,t){return t}var Tn=lt(En(Cn,Bn)),Mn=ft(En(Cn,Bn)),In=it(Mn,1);function Dn(e){return function(t){var n=o(arguments,1);n.push((function(t){var n=o(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&gt(n,(function(t){console[e](t)})))})),v(t).apply(null,n)}}var _n=Dn("dir");function Sn(e,t,n){n=nt(n||V);var r=v(e),i=v(t);function a(e){if(e)return n(e);var t=o(arguments,1);t.push(s),i.apply(this,t)}function s(e,t){return e?n(e):t?void r(a):n(null)}s(null,!0)}function On(e,t,n){n=nt(n||V);var r=v(e),i=function(e){if(e)return n(e);var a=o(arguments,1);if(t.apply(this,a))return r(i);n.apply(null,[null].concat(a))};r(i)}function Nn(e,t,n){On(e,(function(){return!t.apply(this,arguments)}),n)}function Ln(e,t,n){n=nt(n||V);var r=v(t),o=v(e);function i(e){if(e)return n(e);o(a)}function a(e,t){return e?n(e):t?void r(i):n(null)}o(a)}function Rn(e){return function(t,n,r){return e(t,r)}}function jn(e,t,n){ct(e,Rn(v(t)),n)}function Un(e,t,n,r){rt(t)(e,Rn(v(n)),r)}var Fn=it(Un,1);function zn(e){return g(e)?e:a((function(t,n){var r=!0;t.push((function(){var e=arguments;r?p((function(){n.apply(null,e)})):n.apply(null,e)})),e.apply(this,t),r=!1}))}function Qn(e){return!e}var Pn=lt(En(Qn,Qn)),Hn=ft(En(Qn,Qn)),Vn=it(Hn,1);function Kn(e){return function(t){return null==t?void 0:t[e]}}function Gn(e,t,n,r){var o=new Array(t.length);e(t,(function(e,t,r){n(e,(function(e,n){o[t]=!!n,r(e)}))}),(function(e){if(e)return r(e);for(var n=[],i=0;i<t.length;i++)o[i]&&n.push(t[i]);r(null,n)}))}function Wn(e,t,n,r){var o=[];e(t,(function(e,t,r){n(e,(function(n,i){n?r(n):(i&&o.push({index:t,value:e}),r())}))}),(function(e){e?r(e):r(null,Bt(o.sort((function(e,t){return e.index-t.index})),Kn("value")))}))}function Yn(e,t,n,r){(P(t)?Gn:Wn)(e,t,v(n),r||V)}var qn=lt(Yn),Zn=ft(Yn),Xn=it(Zn,1);function Jn(e,t){var n=nt(t||V),r=v(zn(e));function o(e){if(e)return n(e);r(o)}o()}var $n=function(e,t,n,r){r=r||V;var o=v(n);ht(e,t,(function(e,t){o(e,(function(n,r){return n?t(n):t(null,{key:r,val:e})}))}),(function(e,t){for(var n={},o=Object.prototype.hasOwnProperty,i=0;i<t.length;i++)if(t[i]){var a=t[i].key,s=t[i].val;o.call(n,a)?n[a].push(s):n[a]=[s]}return r(e,n)}))},er=it($n,1/0),tr=it($n,1),nr=Dn("log");function rr(e,t,n,r){r=K(r||V);var o={},i=v(n);ot(e,t,(function(e,t,n){i(e,t,(function(e,r){if(e)return n(e);o[t]=r,n()}))}),(function(e){r(e,o)}))}var or=it(rr,1/0),ir=it(rr,1);function ar(e,t){return t in e}function sr(e,t){var n=Object.create(null),r=Object.create(null);t=t||Cn;var i=v(e),s=a((function(e,a){var s=t.apply(null,e);ar(n,s)?p((function(){a.apply(null,n[s])})):ar(r,s)?r[s].push(a):(r[s]=[a],i.apply(null,e.concat((function(){var e=o(arguments);n[s]=e;var t=r[s];delete r[s];for(var i=0,a=t.length;i<a;i++)t[i].apply(null,e)}))))}));return s.memo=n,s.unmemoized=e,s}var cr=d(l?r.nextTick:c?setImmediate:u);function lr(e,t,n){n=n||V;var r=P(t)?[]:{};e(t,(function(e,t,n){v(e)((function(e,i){arguments.length>2&&(i=o(arguments,1)),r[t]=i,n(e)}))}),(function(e){n(e,r)}))}function ur(e,t){lr(ct,e,t)}function dr(e,t,n){lr(rt(t),e,n)}var pr=function(e,t){var n=v(e);return fn((function(e,t){n(e[0],t)}),t,1)},fr=function(e,t){var n=pr(e,t);return n.push=function(e,t,r){if(null==r&&(r=V),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,ne(e)||(e=[e]),0===e.length)return p((function(){n.drain()}));t=t||0;for(var o=n._tasks.head;o&&t>=o.priority;)o=o.next;for(var i=0,a=e.length;i<a;i++){var s={data:e[i],priority:t,callback:r};o?n._tasks.insertBefore(o,s):n._tasks.push(s)}p(n.process)},delete n.unshift,n};function hr(e,t){if(t=K(t||V),!ne(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)v(e[n])(t)}function Ar(e,t,n,r){mn(o(e).reverse(),t,n,r)}function mr(e){var t=v(e);return a((function(e,n){return e.push((function(e,t){var r;e?n(null,{error:e}):(r=arguments.length<=2?t:o(arguments,1),n(null,{value:r}))})),t.apply(this,e)}))}function gr(e){var t;return ne(e)?t=Bt(e,mr):(t={},yt(e,(function(e,n){t[n]=mr.call(this,e)}))),t}function vr(e,t,n,r){Yn(e,t,(function(e,t){n(e,(function(e,n){t(e,!n)}))}),r)}var br=lt(vr),yr=ft(vr),wr=it(yr,1);function xr(e){return function(){return e}}function kr(e,t,n){var r=5,o=0,i={times:r,intervalFunc:xr(o)};function a(e,t){if("object"==typeof t)e.times=+t.times||r,e.intervalFunc="function"==typeof t.interval?t.interval:xr(+t.interval||o),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||r}}if(arguments.length<3&&"function"==typeof e?(n=t||V,t=e):(a(i,e),n=n||V),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var s=v(t),c=1;function l(){s((function(e){e&&c++<i.times&&("function"!=typeof i.errorFilter||i.errorFilter(e))?setTimeout(l,i.intervalFunc(c)):n.apply(null,arguments)}))}l()}var Cr=function(e,t){t||(t=e,e=null);var n=v(t);return a((function(t,r){function o(e){n.apply(null,t.concat(e))}e?kr(e,o,r):kr(o,r)}))};function Er(e,t){lr(An,e,t)}var Br=lt(En(Boolean,Cn)),Tr=ft(En(Boolean,Cn)),Mr=it(Tr,1);function Ir(e,t,n){var r=v(t);function o(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}dt(e,(function(e,t){r(e,(function(n,r){if(n)return t(n);t(null,{value:e,criteria:r})}))}),(function(e,t){if(e)return n(e);n(null,Bt(t.sort(o),Kn("value")))}))}function Dr(e,t,n){var r=v(e);return a((function(o,i){var a,s=!1;function c(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),s=!0,i(r)}o.push((function(){s||(i.apply(null,arguments),clearTimeout(a))})),a=setTimeout(c,t),r.apply(null,o)}))}var _r=Math.ceil,Sr=Math.max;function Or(e,t,n,r){for(var o=-1,i=Sr(_r((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a}function Nr(e,t,n,r){var o=v(n);ht(Or(0,e,1),t,o,r)}var Lr=it(Nr,1/0),Rr=it(Nr,1);function jr(e,t,n,r){arguments.length<=3&&(r=n,n=t,t=ne(e)?[]:{}),r=K(r||V);var o=v(n);ct(e,(function(e,n,r){o(t,e,n,r)}),(function(e){r(e,t)}))}function Ur(e,t){var n,r=null;t=t||V,Fn(e,(function(e,t){v(e)((function(e,i){n=arguments.length>2?o(arguments,1):i,r=e,t(!e)}))}),(function(){t(r,n)}))}function Fr(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function zr(e,t,n){n=nt(n||V);var r=v(t);if(!e())return n(null);var i=function(t){if(t)return n(t);if(e())return r(i);var a=o(arguments,1);n.apply(null,[null].concat(a))};r(i)}function Qr(e,t,n){zr((function(){return!e.apply(this,arguments)}),t,n)}var Pr=function(e,t){if(t=K(t||V),!ne(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function r(t){var r=v(e[n++]);t.push(nt(i)),r.apply(null,t)}function i(i){if(i||n===e.length)return t.apply(null,arguments);r(o(arguments,1))}r([])},Hr={apply:i,applyEach:pt,applyEachSeries:mt,asyncify:f,auto:Et,autoInject:un,cargo:hn,compose:vn,concat:wn,concatLimit:yn,concatSeries:xn,constant:kn,detect:Tn,detectLimit:Mn,detectSeries:In,dir:_n,doDuring:Sn,doUntil:Nn,doWhilst:On,during:Ln,each:jn,eachLimit:Un,eachOf:ct,eachOfLimit:ot,eachOfSeries:An,eachSeries:Fn,ensureAsync:zn,every:Pn,everyLimit:Hn,everySeries:Vn,filter:qn,filterLimit:Zn,filterSeries:Xn,forever:Jn,groupBy:er,groupByLimit:$n,groupBySeries:tr,log:nr,map:dt,mapLimit:ht,mapSeries:At,mapValues:or,mapValuesLimit:rr,mapValuesSeries:ir,memoize:sr,nextTick:cr,parallel:ur,parallelLimit:dr,priorityQueue:fr,queue:pr,race:hr,reduce:mn,reduceRight:Ar,reflect:mr,reflectAll:gr,reject:br,rejectLimit:yr,rejectSeries:wr,retry:kr,retryable:Cr,seq:gn,series:Er,setImmediate:p,some:Br,someLimit:Tr,someSeries:Mr,sortBy:Ir,timeout:Dr,times:Lr,timesLimit:Nr,timesSeries:Rr,transform:jr,tryEach:Ur,unmemoize:Fr,until:Qr,waterfall:Pr,whilst:zr,all:Pn,allLimit:Hn,allSeries:Vn,any:Br,anyLimit:Tr,anySeries:Mr,find:Tn,findLimit:Mn,findSeries:In,forEach:jn,forEachSeries:Fn,forEachLimit:Un,forEachOf:ct,forEachOfSeries:An,forEachOfLimit:ot,inject:mn,foldl:mn,foldr:Ar,select:qn,selectLimit:Zn,selectSeries:Xn,wrapSync:f};t.default=Hr,t.apply=i,t.applyEach=pt,t.applyEachSeries=mt,t.asyncify=f,t.auto=Et,t.autoInject=un,t.cargo=hn,t.compose=vn,t.concat=wn,t.concatLimit=yn,t.concatSeries=xn,t.constant=kn,t.detect=Tn,t.detectLimit=Mn,t.detectSeries=In,t.dir=_n,t.doDuring=Sn,t.doUntil=Nn,t.doWhilst=On,t.during=Ln,t.each=jn,t.eachLimit=Un,t.eachOf=ct,t.eachOfLimit=ot,t.eachOfSeries=An,t.eachSeries=Fn,t.ensureAsync=zn,t.every=Pn,t.everyLimit=Hn,t.everySeries=Vn,t.filter=qn,t.filterLimit=Zn,t.filterSeries=Xn,t.forever=Jn,t.groupBy=er,t.groupByLimit=$n,t.groupBySeries=tr,t.log=nr,t.map=dt,t.mapLimit=ht,t.mapSeries=At,t.mapValues=or,t.mapValuesLimit=rr,t.mapValuesSeries=ir,t.memoize=sr,t.nextTick=cr,t.parallel=ur,t.parallelLimit=dr,t.priorityQueue=fr,t.queue=pr,t.race=hr,t.reduce=mn,t.reduceRight=Ar,t.reflect=mr,t.reflectAll=gr,t.reject=br,t.rejectLimit=yr,t.rejectSeries=wr,t.retry=kr,t.retryable=Cr,t.seq=gn,t.series=Er,t.setImmediate=p,t.some=Br,t.someLimit=Tr,t.someSeries=Mr,t.sortBy=Ir,t.timeout=Dr,t.times=Lr,t.timesLimit=Nr,t.timesSeries=Rr,t.transform=jr,t.tryEach=Ur,t.unmemoize=Fr,t.until=Qr,t.waterfall=Pr,t.whilst=zr,t.all=Pn,t.allLimit=Hn,t.allSeries=Vn,t.any=Br,t.anyLimit=Tr,t.anySeries=Mr,t.find=Tn,t.findLimit=Mn,t.findSeries=In,t.forEach=jn,t.forEachSeries=Fn,t.forEachLimit=Un,t.forEachOf=ct,t.forEachOfSeries=An,t.forEachOfLimit=ot,t.inject=mn,t.foldl=mn,t.foldr=Ar,t.select=qn,t.selectLimit=Zn,t.selectSeries=Xn,t.wrapSync=f,Object.defineProperty(t,"__esModule",{value:!0})}(t)},9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var r=n(4867),o=n(6026),i=n(4372),a=n(5327),s=n(4097),c=n(4109),l=n(7985),u=n(5061);e.exports=function(e){return new Promise((function(t,n){var d=e.data,p=e.headers,f=e.responseType;r.isFormData(d)&&delete p["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var A=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(A+":"+m)}var g=s(e.baseURL,e.url);function v(){if(h){var r="getAllResponseHeaders"in h?c(h.getAllResponseHeaders()):null,i={data:f&&"text"!==f&&"json"!==f?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h};o(t,n,i),h=null}}if(h.open(e.method.toUpperCase(),a(g,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,"onloadend"in h?h.onloadend=v:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(v)},h.onabort=function(){h&&(n(u("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){n(u("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||l(g))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;b&&(p[e.xsrfHeaderName]=b)}"setRequestHeader"in h&&r.forEach(p,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:h.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),f&&"json"!==f&&(h.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),n(e),h=null)})),d||(d=null),h.send(d)}))}},1609:(e,t,n)=>{"use strict";var r=n(4867),o=n(1849),i=n(321),a=n(7185);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var c=s(n(5655));c.Axios=i,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n(5263),c.CancelToken=n(4972),c.isCancel=n(6502),c.all=function(e){return Promise.all(e)},c.spread=n(8713),c.isAxiosError=n(6268),e.exports=c,e.exports.default=c},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,n)=>{"use strict";var r=n(5263);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(4867),o=n(5327),i=n(782),a=n(3572),s=n(7185),c=n(4875),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!r){var u=[a,void 0];for(Array.prototype.unshift.apply(u,n),u.concat(i),o=Promise.resolve(e);u.length;)o=o.then(u.shift(),u.shift());return o}for(var d=e;n.length;){var p=n.shift(),f=n.shift();try{d=p(d)}catch(e){f(e);break}}try{o=a(d)}catch(e){return Promise.reject(e)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},u.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},782:(e,t,n)=>{"use strict";var r=n(4867);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},4097:(e,t,n)=>{"use strict";var r=n(1793),o=n(7303);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},5061:(e,t,n)=>{"use strict";var r=n(481);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},3572:(e,t,n)=>{"use strict";var r=n(4867),o=n(8527),i=n(6502),a=n(5655);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},7185:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){t=t||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function l(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=c(void 0,e[o])):n[o]=c(e[o],t[o])}r.forEach(o,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(i,l),r.forEach(a,(function(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=c(void 0,e[o])):n[o]=c(void 0,t[o])})),r.forEach(s,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var u=o.concat(i).concat(a).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return r.forEach(d,l),n}},6026:(e,t,n)=>{"use strict";var r=n(5061);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var r=n(4867),o=n(5655);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},5655:(e,t,n)=>{"use strict";var r=n(4155),o=n(4867),i=n(6016),a=n(481),s={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(l=n(5448)),l),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),JSON.stringify(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&o.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){u.headers[e]=o.merge(s)})),e.exports=u},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var r=n(4867);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},4109:(e,t,n)=>{"use strict";var r=n(4867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:(e,t,n)=>{"use strict";var r=n(696),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={},a=r.version.split(".");function s(e,t){for(var n=t?t.split("."):a,r=e.split("."),o=0;o<3;o++){if(n[o]>r[o])return!0;if(n[o]<r[o])return!1}return!1}o.transitional=function(e,t,n){var o=t&&s(t);function a(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(a(r," has been removed in "+t));return o&&!i[r]&&(i[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},4867:(e,t,n)=>{"use strict";var r=n(1849),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},696:e=>{"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.2","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=c(e),a=i[0],s=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,c=r-o;s<c;s+=a)i.push(l(e,s,s+a>c?c:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},9560:function(e,t,n){var r;!function(o){"use strict";function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t,n,r,o,a){return i((s=i(i(t,e),i(r,a)))<<(c=o)|s>>>32-c,n);var s,c}function s(e,t,n,r,o,i,s){return a(t&n|~t&r,e,t,o,i,s)}function c(e,t,n,r,o,i,s){return a(t&r|n&~r,e,t,o,i,s)}function l(e,t,n,r,o,i,s){return a(t^n^r,e,t,o,i,s)}function u(e,t,n,r,o,i,s){return a(n^(t|~r),e,t,o,i,s)}function d(e,t){var n,r,o,a,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var p=1732584193,f=-271733879,h=-1732584194,A=271733878;for(n=0;n<e.length;n+=16)r=p,o=f,a=h,d=A,p=s(p,f,h,A,e[n],7,-680876936),A=s(A,p,f,h,e[n+1],12,-389564586),h=s(h,A,p,f,e[n+2],17,606105819),f=s(f,h,A,p,e[n+3],22,-1044525330),p=s(p,f,h,A,e[n+4],7,-176418897),A=s(A,p,f,h,e[n+5],12,1200080426),h=s(h,A,p,f,e[n+6],17,-1473231341),f=s(f,h,A,p,e[n+7],22,-45705983),p=s(p,f,h,A,e[n+8],7,1770035416),A=s(A,p,f,h,e[n+9],12,-1958414417),h=s(h,A,p,f,e[n+10],17,-42063),f=s(f,h,A,p,e[n+11],22,-1990404162),p=s(p,f,h,A,e[n+12],7,1804603682),A=s(A,p,f,h,e[n+13],12,-40341101),h=s(h,A,p,f,e[n+14],17,-1502002290),p=c(p,f=s(f,h,A,p,e[n+15],22,1236535329),h,A,e[n+1],5,-165796510),A=c(A,p,f,h,e[n+6],9,-1069501632),h=c(h,A,p,f,e[n+11],14,643717713),f=c(f,h,A,p,e[n],20,-373897302),p=c(p,f,h,A,e[n+5],5,-701558691),A=c(A,p,f,h,e[n+10],9,38016083),h=c(h,A,p,f,e[n+15],14,-660478335),f=c(f,h,A,p,e[n+4],20,-405537848),p=c(p,f,h,A,e[n+9],5,568446438),A=c(A,p,f,h,e[n+14],9,-1019803690),h=c(h,A,p,f,e[n+3],14,-187363961),f=c(f,h,A,p,e[n+8],20,1163531501),p=c(p,f,h,A,e[n+13],5,-1444681467),A=c(A,p,f,h,e[n+2],9,-51403784),h=c(h,A,p,f,e[n+7],14,1735328473),p=l(p,f=c(f,h,A,p,e[n+12],20,-1926607734),h,A,e[n+5],4,-378558),A=l(A,p,f,h,e[n+8],11,-2022574463),h=l(h,A,p,f,e[n+11],16,1839030562),f=l(f,h,A,p,e[n+14],23,-35309556),p=l(p,f,h,A,e[n+1],4,-1530992060),A=l(A,p,f,h,e[n+4],11,1272893353),h=l(h,A,p,f,e[n+7],16,-155497632),f=l(f,h,A,p,e[n+10],23,-1094730640),p=l(p,f,h,A,e[n+13],4,681279174),A=l(A,p,f,h,e[n],11,-358537222),h=l(h,A,p,f,e[n+3],16,-722521979),f=l(f,h,A,p,e[n+6],23,76029189),p=l(p,f,h,A,e[n+9],4,-640364487),A=l(A,p,f,h,e[n+12],11,-421815835),h=l(h,A,p,f,e[n+15],16,530742520),p=u(p,f=l(f,h,A,p,e[n+2],23,-995338651),h,A,e[n],6,-198630844),A=u(A,p,f,h,e[n+7],10,1126891415),h=u(h,A,p,f,e[n+14],15,-1416354905),f=u(f,h,A,p,e[n+5],21,-57434055),p=u(p,f,h,A,e[n+12],6,1700485571),A=u(A,p,f,h,e[n+3],10,-1894986606),h=u(h,A,p,f,e[n+10],15,-1051523),f=u(f,h,A,p,e[n+1],21,-2054922799),p=u(p,f,h,A,e[n+8],6,1873313359),A=u(A,p,f,h,e[n+15],10,-30611744),h=u(h,A,p,f,e[n+6],15,-1560198380),f=u(f,h,A,p,e[n+13],21,1309151649),p=u(p,f,h,A,e[n+4],6,-145523070),A=u(A,p,f,h,e[n+11],10,-1120210379),h=u(h,A,p,f,e[n+2],15,718787259),f=u(f,h,A,p,e[n+9],21,-343485551),p=i(p,r),f=i(f,o),h=i(h,a),A=i(A,d);return[p,f,h,A]}function p(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function f(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function h(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function A(e){return unescape(encodeURIComponent(e))}function m(e){return function(e){return p(d(f(e),8*e.length))}(A(e))}function g(e,t){return function(e,t){var n,r,o=f(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=d(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=d(i.concat(f(t)),512+8*t.length),p(d(a.concat(r),640))}(A(e),A(t))}function v(e,t,n){return t?n?g(t,e):h(g(t,e)):n?m(e):h(m(e))}void 0===(r=function(){return v}.call(t,n,t,e))||(e.exports=r)}()},8764:(e,t,n)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
const r=n(9742),o=n(645),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=c,t.h2=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|A(e,t);let r=s(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(q(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(q(e,SharedArrayBuffer)||e&&q(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||Z(e.length)?s(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|h(e))}function p(e){const t=e.length<0?0:0|h(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function A(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(o)return r?-1:G(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return B(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(l(e,i+r)!==l(t,r)){n=!1;break}if(n)return i}return-1}function y(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function w(e,t,n,r){return Y(G(t,e.length-n),e,n,r)}function x(e,t,n,r){return Y(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return Y(W(t),e,n,r)}function C(e,t,n,r){return Y(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function B(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(q(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=A,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?B(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),l=this.slice(r,o),u=e.slice(t,n);for(let e=0;e<s;++e)if(l[e]!==u[e]){i=l[e],a=u[e];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return x(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function M(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function I(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function D(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=X[e[r]];return o}function _(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function S(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,o){P(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function L(e,t,n,r,o){P(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function R(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,i){return t=+t,n>>>=0,i||R(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return t=+t,n>>>=0,i||R(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=J((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=J((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||S(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||S(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=J((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=J((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||S(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||S(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||S(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||S(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){O(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){O(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=J((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=J((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=J((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=J((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const F={};function z(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function Q(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function P(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||V(t,e.length-(n+1))}(r,o,i)}function H(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,n){if(Math.floor(e)!==e)throw H(e,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=Q(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=Q(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function J(e){return"undefined"==typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},8874:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4963:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},7722:(e,t,n)=>{var r=n(6314)("unscopables"),o=Array.prototype;null==o[r]&&n(7728)(o,r,{}),e.exports=function(e){o[r][e]=!0}},6793:(e,t,n)=>{"use strict";var r=n(4496)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},3328:e=>{e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},7007:(e,t,n)=>{var r=n(5286);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},5216:(e,t,n)=>{"use strict";var r=n(508),o=n(2337),i=n(875);e.exports=[].copyWithin||function(e,t){var n=r(this),a=i(n.length),s=o(e,a),c=o(t,a),l=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===l?a:o(l,a))-c,a-s),d=1;for(c<s&&s<c+u&&(d=-1,c+=u-1,s+=u-1);u-- >0;)c in n?n[s]=n[c]:delete n[s],s+=d,c+=d;return n}},6852:(e,t,n)=>{"use strict";var r=n(508),o=n(2337),i=n(875);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:o(c,n);l>s;)t[s++]=e;return t}},9315:(e,t,n)=>{var r=n(2110),o=n(875),i=n(2337);e.exports=function(e){return function(t,n,a){var s,c=r(t),l=o(c.length),u=i(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},50:(e,t,n)=>{var r=n(741),o=n(9797),i=n(508),a=n(875),s=n(6886);e.exports=function(e,t){var n=1==e,c=2==e,l=3==e,u=4==e,d=6==e,p=5==e||d,f=t||s;return function(t,s,h){for(var A,m,g=i(t),v=o(g),b=r(s,h,3),y=a(v.length),w=0,x=n?f(t,y):c?f(t,0):void 0;y>w;w++)if((p||w in v)&&(m=b(A=v[w],w,g),e))if(n)x[w]=m;else if(m)switch(e){case 3:return!0;case 5:return A;case 6:return w;case 2:x.push(A)}else if(u)return!1;return d?-1:l||u?u:x}}},2736:(e,t,n)=>{var r=n(5286),o=n(4302),i=n(6314)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},6886:(e,t,n)=>{var r=n(2736);e.exports=function(e,t){return new(r(e))(t)}},4398:(e,t,n)=>{"use strict";var r=n(4963),o=n(5286),i=n(7242),a=[].slice,s={},c=function(e,t,n){if(!(t in s)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?c(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(s.prototype=t.prototype),s}},1488:(e,t,n)=>{var r=n(2032),o=n(6314)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},2032:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9824:(e,t,n)=>{"use strict";var r=n(9275).f,o=n(2503),i=n(4408),a=n(741),s=n(3328),c=n(3531),l=n(2923),u=n(5436),d=n(2974),p=n(7057),f=n(4728).fastKey,h=n(1616),A=p?"_s":"size",m=function(e,t){var n,r=f(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var u=e((function(e,r){s(e,u,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[A]=0,null!=r&&c(r,n,e[l],e)}));return i(u.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[A]=0},delete:function(e){var n=h(this,t),r=m(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[A]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(h(this,t),e)}}),p&&r(u.prototype,"size",{get:function(){return h(this,t)[A]}}),u},def:function(e,t,n){var r,o,i=m(e,t);return i?i.v=n:(e._l=i={i:o=f(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[A]++,"F"!==o&&(e._i[o]=i)),e},getEntry:m,setStrong:function(e,t,n){l(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?u(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,u(1))}),n?"entries":"values",!n,!0),d(t)}}},5795:(e,t,n)=>{"use strict";var r=n(3816),o=n(2985),i=n(7234),a=n(4408),s=n(4728),c=n(3531),l=n(3328),u=n(5286),d=n(4253),p=n(7462),f=n(2943),h=n(266);e.exports=function(e,t,n,A,m,g){var v=r[e],b=v,y=m?"set":"add",w=b&&b.prototype,x={},k=function(e){var t=w[e];i(w,e,"delete"==e||"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(g||w.forEach&&!d((function(){(new b).entries().next()})))){var C=new b,E=C[y](g?{}:-0,1)!=C,B=d((function(){C.has(1)})),T=p((function(e){new b(e)})),M=!g&&d((function(){for(var e=new b,t=5;t--;)e[y](t,t);return!e.has(-0)}));T||((b=t((function(t,n){l(t,b,e);var r=h(new v,t,b);return null!=n&&c(n,m,r[y],r),r}))).prototype=w,w.constructor=b),(B||M)&&(k("delete"),k("has"),m&&k("get")),(M||E)&&k(y),g&&w.clear&&delete w.clear}else b=A.getConstructor(t,e,m,y),a(b.prototype,n),s.NEED=!0;return f(b,e),x[e]=b,o(o.G+o.W+o.F*(b!=v),x),g||A.setStrong(b,e,m),b}},5645:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},2811:(e,t,n)=>{"use strict";var r=n(9275),o=n(681);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},741:(e,t,n)=>{var r=n(4963);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},1355:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},7057:(e,t,n)=>{e.exports=!n(4253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},2457:(e,t,n)=>{var r=n(5286),o=n(3816).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},4430:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5541:(e,t,n)=>{var r=n(7184),o=n(4548),i=n(4682);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),c=i.f,l=0;s.length>l;)c.call(e,a=s[l++])&&t.push(a);return t}},2985:(e,t,n)=>{var r=n(3816),o=n(5645),i=n(7728),a=n(7234),s=n(741),c=function(e,t,n){var l,u,d,p,f=e&c.F,h=e&c.G,A=e&c.S,m=e&c.P,g=e&c.B,v=h?r:A?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?o:o[t]||(o[t]={}),y=b.prototype||(b.prototype={});for(l in h&&(n=t),n)d=((u=!f&&v&&void 0!==v[l])?v:n)[l],p=g&&u?s(d,r):m&&"function"==typeof d?s(Function.call,d):d,v&&a(v,l,d,e&c.U),b[l]!=d&&i(b,l,p),m&&y[l]!=d&&(y[l]=d)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},8852:(e,t,n)=>{var r=n(6314)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},4253:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},8082:(e,t,n)=>{"use strict";n(8269);var r=n(7234),o=n(7728),i=n(4253),a=n(1355),s=n(6314),c=n(1165),l=s("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var p=s(e),f=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=f?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[p](""),!t})):void 0;if(!f||!h||"replace"===e&&!u||"split"===e&&!d){var A=/./[p],m=n(a,p,""[e],(function(e,t,n,r,o){return t.exec===c?f&&!o?{done:!0,value:A.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),g=m[0],v=m[1];r(String.prototype,e,g),o(RegExp.prototype,p,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},3218:(e,t,n)=>{"use strict";var r=n(7007);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},3325:(e,t,n)=>{"use strict";var r=n(4302),o=n(5286),i=n(875),a=n(741),s=n(6314)("isConcatSpreadable");e.exports=function e(t,n,c,l,u,d,p,f){for(var h,A,m=u,g=0,v=!!p&&a(p,f,3);g<l;){if(g in c){if(h=v?v(c[g],g,n):c[g],A=!1,o(h)&&(A=void 0!==(A=h[s])?!!A:r(h)),A&&d>0)m=e(t,n,h,i(h.length),m,d-1)-1;else{if(m>=9007199254740991)throw TypeError();t[m]=h}m++}g++}return m}},3531:(e,t,n)=>{var r=n(741),o=n(8851),i=n(6555),a=n(7007),s=n(875),c=n(9002),l={},u={},d=e.exports=function(e,t,n,d,p){var f,h,A,m,g=p?function(){return e}:c(e),v=r(n,d,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(f=s(e.length);f>b;b++)if((m=t?v(a(h=e[b])[0],h[1]):v(e[b]))===l||m===u)return m}else for(A=g.call(e);!(h=A.next()).done;)if((m=o(A,v,h.value,t))===l||m===u)return m};d.BREAK=l,d.RETURN=u},18:(e,t,n)=>{e.exports=n(3825)("native-function-to-string",Function.toString)},3816:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},9181:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},7728:(e,t,n)=>{var r=n(9275),o=n(681);e.exports=n(7057)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},639:(e,t,n)=>{var r=n(3816).document;e.exports=r&&r.documentElement},1734:(e,t,n)=>{e.exports=!n(7057)&&!n(4253)((function(){return 7!=Object.defineProperty(n(2457)("div"),"a",{get:function(){return 7}}).a}))},266:(e,t,n)=>{var r=n(5286),o=n(7375).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},7242:e=>{e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},9797:(e,t,n)=>{var r=n(2032);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},6555:(e,t,n)=>{var r=n(2803),o=n(6314)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},4302:(e,t,n)=>{var r=n(2032);e.exports=Array.isArray||function(e){return"Array"==r(e)}},5286:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},5364:(e,t,n)=>{var r=n(5286),o=n(2032),i=n(6314)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},8851:(e,t,n)=>{var r=n(7007);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},9988:(e,t,n)=>{"use strict";var r=n(2503),o=n(681),i=n(2943),a={};n(7728)(a,n(6314)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},2923:(e,t,n)=>{"use strict";var r=n(4461),o=n(2985),i=n(7234),a=n(7728),s=n(2803),c=n(9988),l=n(2943),u=n(468),d=n(6314)("iterator"),p=!([].keys&&"next"in[].keys()),f="keys",h="values",A=function(){return this};e.exports=function(e,t,n,m,g,v,b){c(n,t,m);var y,w,x,k=function(e){if(!p&&e in T)return T[e];switch(e){case f:case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",E=g==h,B=!1,T=e.prototype,M=T[d]||T["@@iterator"]||g&&T[g],I=M||k(g),D=g?E?k("entries"):I:void 0,_="Array"==t&&T.entries||M;if(_&&(x=u(_.call(new e)))!==Object.prototype&&x.next&&(l(x,C,!0),r||"function"==typeof x[d]||a(x,d,A)),E&&M&&M.name!==h&&(B=!0,I=function(){return M.call(this)}),r&&!b||!p&&!B&&T[d]||a(T,d,I),s[t]=I,s[C]=A,g)if(y={values:E?I:k(h),keys:v?I:k(f),entries:D},b)for(w in y)w in T||i(T,w,y[w]);else o(o.P+o.F*(p||B),t,y);return y}},7462:(e,t,n)=>{var r=n(6314)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},5436:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},2803:e=>{e.exports={}},4461:e=>{e.exports=!1},4728:(e,t,n)=>{var r=n(3953)("meta"),o=n(5286),i=n(9181),a=n(9275).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(4253)((function(){return c(Object.preventExtensions({}))})),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!i(e,r)&&u(e),e}}},4351:(e,t,n)=>{var r=n(3816),o=n(4193).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(2032)(a);e.exports=function(){var e,t,n,l=function(){var r,o;for(c&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(l)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(l)}}else n=function(){o.call(r,l)};else{var d=!0,p=document.createTextNode("");new i(l).observe(p,{characterData:!0}),n=function(){p.data=d=!d}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},3499:(e,t,n)=>{"use strict";var r=n(4963);function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},5345:(e,t,n)=>{"use strict";var r=n(7057),o=n(7184),i=n(4548),a=n(4682),s=n(508),c=n(9797),l=Object.assign;e.exports=!l||n(4253)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=s(e),l=arguments.length,u=1,d=i.f,p=a.f;l>u;)for(var f,h=c(arguments[u++]),A=d?o(h).concat(d(h)):o(h),m=A.length,g=0;m>g;)f=A[g++],r&&!p.call(h,f)||(n[f]=h[f]);return n}:l},2503:(e,t,n)=>{var r=n(7007),o=n(5588),i=n(4430),a=n(9335)("IE_PROTO"),s=function(){},c=function(){var e,t=n(2457)("iframe"),r=i.length;for(t.style.display="none",n(639).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},9275:(e,t,n)=>{var r=n(7007),o=n(1734),i=n(1689),a=Object.defineProperty;t.f=n(7057)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},5588:(e,t,n)=>{var r=n(9275),o=n(7007),i=n(7184);e.exports=n(7057)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},8693:(e,t,n)=>{var r=n(4682),o=n(681),i=n(2110),a=n(1689),s=n(9181),c=n(1734),l=Object.getOwnPropertyDescriptor;t.f=n(7057)?l:function(e,t){if(e=i(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},9327:(e,t,n)=>{var r=n(2110),o=n(616).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},616:(e,t,n)=>{var r=n(189),o=n(4430).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},4548:(e,t)=>{t.f=Object.getOwnPropertySymbols},468:(e,t,n)=>{var r=n(9181),o=n(508),i=n(9335)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},189:(e,t,n)=>{var r=n(9181),o=n(2110),i=n(9315)(!1),a=n(9335)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(l,n)||l.push(n));return l}},7184:(e,t,n)=>{var r=n(189),o=n(4430);e.exports=Object.keys||function(e){return r(e,o)}},4682:(e,t)=>{t.f={}.propertyIsEnumerable},3160:(e,t,n)=>{var r=n(2985),o=n(5645),i=n(4253);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},1131:(e,t,n)=>{var r=n(7057),o=n(7184),i=n(2110),a=n(4682).f;e.exports=function(e){return function(t){for(var n,s=i(t),c=o(s),l=c.length,u=0,d=[];l>u;)n=c[u++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},7743:(e,t,n)=>{var r=n(3816).parseFloat,o=n(9599).trim;e.exports=1/r(n(4644)+"-0")!=-1/0?function(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},5960:(e,t,n)=>{var r=n(3816).parseInt,o=n(9599).trim,i=n(4644),a=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},188:e=>{e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},94:(e,t,n)=>{var r=n(7007),o=n(5286),i=n(3499);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},681:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4408:(e,t,n)=>{var r=n(7234);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},7234:(e,t,n)=>{var r=n(3816),o=n(7728),i=n(9181),a=n(3953)("src"),s=n(18),c="toString",l=(""+s).split(c);n(5645).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||o(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},7787:(e,t,n)=>{"use strict";var r=n(1488),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},1165:(e,t,n)=>{"use strict";var r,o,i=n(3218),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,l=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),u=void 0!==/()??/.exec("")[1];(l||u)&&(c=function(e){var t,n,r,o,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",i.call(c))),l&&(t=c.lastIndex),r=a.call(c,e),l&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},7375:(e,t,n)=>{var r=n(5286),o=n(7007),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(741)(Function.call,n(8693).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},2974:(e,t,n)=>{"use strict";var r=n(3816),o=n(9275),i=n(7057),a=n(6314)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},2943:(e,t,n)=>{var r=n(9275).f,o=n(9181),i=n(6314)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},9335:(e,t,n)=>{var r=n(3825)("keys"),o=n(3953);e.exports=function(e){return r[e]||(r[e]=o(e))}},3825:(e,t,n)=>{var r=n(5645),o=n(3816),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(4461)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},8364:(e,t,n)=>{var r=n(7007),o=n(4963),i=n(6314)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},7717:(e,t,n)=>{"use strict";var r=n(4253);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},4496:(e,t,n)=>{var r=n(1467),o=n(1355);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},2094:(e,t,n)=>{var r=n(5364),o=n(1355);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},9395:(e,t,n)=>{var r=n(2985),o=n(4253),i=n(1355),a=/"/g,s=function(e,t,n,r){var o=String(i(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+o+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*o((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},8595:(e,t,n)=>{"use strict";var r=n(1467),o=n(1355);e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},9599:(e,t,n)=>{var r=n(2985),o=n(1355),i=n(4253),a=n(4644),s="["+a+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(e,t,n){var o={},s=i((function(){return!!a[e]()||"​"!="​"[e]()})),c=o[e]=s?t(d):a[e];n&&(o[n]=c),r(r.P+r.F*s,"String",o)},d=u.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=u},4644:e=>{e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},4193:(e,t,n)=>{var r,o,i,a=n(741),s=n(7242),c=n(639),l=n(2457),u=n(3816),d=u.process,p=u.setImmediate,f=u.clearImmediate,h=u.MessageChannel,A=u.Dispatch,m=0,g={},v="onreadystatechange",b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},y=function(e){b.call(e.data)};p&&f||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},f=function(e){delete g[e]},"process"==n(2032)(d)?r=function(e){d.nextTick(a(b,e,1))}:A&&A.now?r=function(e){A.now(a(b,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=y,r=a(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):r=v in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:p,clear:f}},2337:(e,t,n)=>{var r=n(1467),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},4843:(e,t,n)=>{var r=n(1467),o=n(875);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},1467:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},2110:(e,t,n)=>{var r=n(9797),o=n(1355);e.exports=function(e){return r(o(e))}},875:(e,t,n)=>{var r=n(1467),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},508:(e,t,n)=>{var r=n(1355);e.exports=function(e){return Object(r(e))}},1689:(e,t,n)=>{var r=n(5286);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},8440:(e,t,n)=>{"use strict";if(n(7057)){var r=n(4461),o=n(3816),i=n(4253),a=n(2985),s=n(9383),c=n(1125),l=n(741),u=n(3328),d=n(681),p=n(7728),f=n(4408),h=n(1467),A=n(875),m=n(4843),g=n(2337),v=n(1689),b=n(9181),y=n(1488),w=n(5286),x=n(508),k=n(6555),C=n(2503),E=n(468),B=n(616).f,T=n(9002),M=n(3953),I=n(6314),D=n(50),_=n(9315),S=n(8364),O=n(6997),N=n(2803),L=n(7462),R=n(2974),j=n(6852),U=n(5216),F=n(9275),z=n(8693),Q=F.f,P=z.f,H=o.RangeError,V=o.TypeError,K=o.Uint8Array,G="ArrayBuffer",W="SharedArrayBuffer",Y="BYTES_PER_ELEMENT",q=Array.prototype,Z=c.ArrayBuffer,X=c.DataView,J=D(0),$=D(2),ee=D(3),te=D(4),ne=D(5),re=D(6),oe=_(!0),ie=_(!1),ae=O.values,se=O.keys,ce=O.entries,le=q.lastIndexOf,ue=q.reduce,de=q.reduceRight,pe=q.join,fe=q.sort,he=q.slice,Ae=q.toString,me=q.toLocaleString,ge=I("iterator"),ve=I("toStringTag"),be=M("typed_constructor"),ye=M("def_constructor"),we=s.CONSTR,xe=s.TYPED,ke=s.VIEW,Ce="Wrong length!",Ee=D(1,(function(e,t){return De(S(e,e[ye]),t)})),Be=i((function(){return 1===new K(new Uint16Array([1]).buffer)[0]})),Te=!!K&&!!K.prototype.set&&i((function(){new K(1).set({})})),Me=function(e,t){var n=h(e);if(n<0||n%t)throw H("Wrong offset!");return n},Ie=function(e){if(w(e)&&xe in e)return e;throw V(e+" is not a typed array!")},De=function(e,t){if(!w(e)||!(be in e))throw V("It is not a typed array constructor!");return new e(t)},_e=function(e,t){return Se(S(e,e[ye]),t)},Se=function(e,t){for(var n=0,r=t.length,o=De(e,r);r>n;)o[n]=t[n++];return o},Oe=function(e,t,n){Q(e,t,{get:function(){return this._d[n]}})},Ne=function(e){var t,n,r,o,i,a,s=x(e),c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,p=T(s);if(null!=p&&!k(p)){for(a=p.call(s),r=[],t=0;!(i=a.next()).done;t++)r.push(i.value);s=r}for(d&&c>2&&(u=l(u,arguments[2],2)),t=0,n=A(s.length),o=De(this,n);n>t;t++)o[t]=d?u(s[t],t):s[t];return o},Le=function(){for(var e=0,t=arguments.length,n=De(this,t);t>e;)n[e]=arguments[e++];return n},Re=!!K&&i((function(){me.call(new K(1))})),je=function(){return me.apply(Re?he.call(Ie(this)):Ie(this),arguments)},Ue={copyWithin:function(e,t){return U.call(Ie(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return te(Ie(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return j.apply(Ie(this),arguments)},filter:function(e){return _e(this,$(Ie(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ne(Ie(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return re(Ie(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){J(Ie(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ie(Ie(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return oe(Ie(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return pe.apply(Ie(this),arguments)},lastIndexOf:function(e){return le.apply(Ie(this),arguments)},map:function(e){return Ee(Ie(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ue.apply(Ie(this),arguments)},reduceRight:function(e){return de.apply(Ie(this),arguments)},reverse:function(){for(var e,t=this,n=Ie(t).length,r=Math.floor(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return ee(Ie(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return fe.call(Ie(this),e)},subarray:function(e,t){var n=Ie(this),r=n.length,o=g(e,r);return new(S(n,n[ye]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,A((void 0===t?r:g(t,r))-o))}},Fe=function(e,t){return _e(this,he.call(Ie(this),e,t))},ze=function(e){Ie(this);var t=Me(arguments[1],1),n=this.length,r=x(e),o=A(r.length),i=0;if(o+t>n)throw H(Ce);for(;i<o;)this[t+i]=r[i++]},Qe={entries:function(){return ce.call(Ie(this))},keys:function(){return se.call(Ie(this))},values:function(){return ae.call(Ie(this))}},Pe=function(e,t){return w(e)&&e[xe]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},He=function(e,t){return Pe(e,t=v(t,!0))?d(2,e[t]):P(e,t)},Ve=function(e,t,n){return!(Pe(e,t=v(t,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?Q(e,t,n):(e[t]=n.value,e)};we||(z.f=He,F.f=Ve),a(a.S+a.F*!we,"Object",{getOwnPropertyDescriptor:He,defineProperty:Ve}),i((function(){Ae.call({})}))&&(Ae=me=function(){return pe.call(this)});var Ke=f({},Ue);f(Ke,Qe),p(Ke,ge,Qe.values),f(Ke,{slice:Fe,set:ze,constructor:function(){},toString:Ae,toLocaleString:je}),Oe(Ke,"buffer","b"),Oe(Ke,"byteOffset","o"),Oe(Ke,"byteLength","l"),Oe(Ke,"length","e"),Q(Ke,ve,{get:function(){return this[xe]}}),e.exports=function(e,t,n,c){var l=e+((c=!!c)?"Clamped":"")+"Array",d="get"+e,f="set"+e,h=o[l],g=h||{},v=h&&E(h),b=!h||!s.ABV,x={},k=h&&h.prototype,T=function(e,n){Q(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[d](n*t+r.o,Be)}(this,n)},set:function(e){return function(e,n,r){var o=e._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[f](n*t+o.o,r,Be)}(this,n,e)},enumerable:!0})};b?(h=n((function(e,n,r,o){u(e,h,l,"_d");var i,a,s,c,d=0,f=0;if(w(n)){if(!(n instanceof Z||(c=y(n))==G||c==W))return xe in n?Se(h,n):Ne.call(h,n);i=n,f=Me(r,t);var g=n.byteLength;if(void 0===o){if(g%t)throw H(Ce);if((a=g-f)<0)throw H(Ce)}else if((a=A(o)*t)+f>g)throw H(Ce);s=a/t}else s=m(n),i=new Z(a=s*t);for(p(e,"_d",{b:i,o:f,l:a,e:s,v:new X(i)});d<s;)T(e,d++)})),k=h.prototype=C(Ke),p(k,"constructor",h)):i((function(){h(1)}))&&i((function(){new h(-1)}))&&L((function(e){new h,new h(null),new h(1.5),new h(e)}),!0)||(h=n((function(e,n,r,o){var i;return u(e,h,l),w(n)?n instanceof Z||(i=y(n))==G||i==W?void 0!==o?new g(n,Me(r,t),o):void 0!==r?new g(n,Me(r,t)):new g(n):xe in n?Se(h,n):Ne.call(h,n):new g(m(n))})),J(v!==Function.prototype?B(g).concat(B(v)):B(g),(function(e){e in h||p(h,e,g[e])})),h.prototype=k,r||(k.constructor=h));var M=k[ge],I=!!M&&("values"==M.name||null==M.name),D=Qe.values;p(h,be,!0),p(k,xe,l),p(k,ke,!0),p(k,ye,h),(c?new h(1)[ve]==l:ve in k)||Q(k,ve,{get:function(){return l}}),x[l]=h,a(a.G+a.W+a.F*(h!=g),x),a(a.S,l,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*i((function(){g.of.call(h,1)})),l,{from:Ne,of:Le}),Y in k||p(k,Y,t),a(a.P,l,Ue),R(l),a(a.P+a.F*Te,l,{set:ze}),a(a.P+a.F*!I,l,Qe),r||k.toString==Ae||(k.toString=Ae),a(a.P+a.F*i((function(){new h(1).slice()})),l,{slice:Fe}),a(a.P+a.F*(i((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!i((function(){k.toLocaleString.call([1,2])}))),l,{toLocaleString:je}),N[l]=I?M:D,r||I||p(k,ge,D)}}else e.exports=function(){}},1125:(e,t,n)=>{"use strict";var r=n(3816),o=n(7057),i=n(4461),a=n(9383),s=n(7728),c=n(4408),l=n(4253),u=n(3328),d=n(1467),p=n(875),f=n(4843),h=n(616).f,A=n(9275).f,m=n(6852),g=n(2943),v="ArrayBuffer",b="DataView",y="Wrong index!",w=r.ArrayBuffer,x=r.DataView,k=r.Math,C=r.RangeError,E=r.Infinity,B=w,T=k.abs,M=k.pow,I=k.floor,D=k.log,_=k.LN2,S="buffer",O="byteLength",N="byteOffset",L=o?"_b":S,R=o?"_l":O,j=o?"_o":N;function U(e,t,n){var r,o,i,a=new Array(n),s=8*n-t-1,c=(1<<s)-1,l=c>>1,u=23===t?M(2,-24)-M(2,-77):0,d=0,p=e<0||0===e&&1/e<0?1:0;for((e=T(e))!=e||e===E?(o=e!=e?1:0,r=c):(r=I(D(e)/_),e*(i=M(2,-r))<1&&(r--,i*=2),(e+=r+l>=1?u/i:u*M(2,1-l))*i>=2&&(r++,i/=2),r+l>=c?(o=0,r=c):r+l>=1?(o=(e*i-1)*M(2,t),r+=l):(o=e*M(2,l-1)*M(2,t),r=0));t>=8;a[d++]=255&o,o/=256,t-=8);for(r=r<<t|o,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*p,a}function F(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,s=o-7,c=n-1,l=e[c--],u=127&l;for(l>>=7;s>0;u=256*u+e[c],c--,s-=8);for(r=u&(1<<-s)-1,u>>=-s,s+=t;s>0;r=256*r+e[c],c--,s-=8);if(0===u)u=1-a;else{if(u===i)return r?NaN:l?-E:E;r+=M(2,t),u-=a}return(l?-1:1)*r*M(2,u-t)}function z(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function Q(e){return[255&e]}function P(e){return[255&e,e>>8&255]}function H(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function V(e){return U(e,52,8)}function K(e){return U(e,23,4)}function G(e,t,n){A(e.prototype,t,{get:function(){return this[n]}})}function W(e,t,n,r){var o=f(+n);if(o+t>e[R])throw C(y);var i=e[L]._b,a=o+e[j],s=i.slice(a,a+t);return r?s:s.reverse()}function Y(e,t,n,r,o,i){var a=f(+n);if(a+t>e[R])throw C(y);for(var s=e[L]._b,c=a+e[j],l=r(+o),u=0;u<t;u++)s[c+u]=l[i?u:t-u-1]}if(a.ABV){if(!l((function(){w(1)}))||!l((function(){new w(-1)}))||l((function(){return new w,new w(1.5),new w(NaN),w.name!=v}))){for(var q,Z=(w=function(e){return u(this,w),new B(f(e))}).prototype=B.prototype,X=h(B),J=0;X.length>J;)(q=X[J++])in w||s(w,q,B[q]);i||(Z.constructor=w)}var $=new x(new w(2)),ee=x.prototype.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||c(x.prototype,{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else w=function(e){u(this,w,v);var t=f(e);this._b=m.call(new Array(t),0),this[R]=t},x=function(e,t,n){u(this,x,b),u(e,w,b);var r=e[R],o=d(t);if(o<0||o>r)throw C("Wrong offset!");if(o+(n=void 0===n?r-o:p(n))>r)throw C("Wrong length!");this[L]=e,this[j]=o,this[R]=n},o&&(G(w,O,"_l"),G(x,S,"_b"),G(x,O,"_l"),G(x,N,"_o")),c(x.prototype,{getInt8:function(e){return W(this,1,e)[0]<<24>>24},getUint8:function(e){return W(this,1,e)[0]},getInt16:function(e){var t=W(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=W(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return z(W(this,4,e,arguments[1]))},getUint32:function(e){return z(W(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return F(W(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return F(W(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){Y(this,1,e,Q,t)},setUint8:function(e,t){Y(this,1,e,Q,t)},setInt16:function(e,t){Y(this,2,e,P,t,arguments[2])},setUint16:function(e,t){Y(this,2,e,P,t,arguments[2])},setInt32:function(e,t){Y(this,4,e,H,t,arguments[2])},setUint32:function(e,t){Y(this,4,e,H,t,arguments[2])},setFloat32:function(e,t){Y(this,4,e,K,t,arguments[2])},setFloat64:function(e,t){Y(this,8,e,V,t,arguments[2])}});g(w,v),g(x,b),s(x.prototype,a.VIEW,!0),t.ArrayBuffer=w,t.DataView=x},9383:(e,t,n)=>{for(var r,o=n(3816),i=n(7728),a=n(3953),s=a("typed_array"),c=a("view"),l=!(!o.ArrayBuffer||!o.DataView),u=l,d=0,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=o[p[d++]])?(i(r.prototype,s,!0),i(r.prototype,c,!0)):u=!1;e.exports={ABV:l,CONSTR:u,TYPED:s,VIEW:c}},3953:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},575:(e,t,n)=>{var r=n(3816).navigator;e.exports=r&&r.userAgent||""},1616:(e,t,n)=>{var r=n(5286);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},6074:(e,t,n)=>{var r=n(3816),o=n(5645),i=n(4461),a=n(8787),s=n(9275).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},8787:(e,t,n)=>{t.f=n(6314)},6314:(e,t,n)=>{var r=n(3825)("wks"),o=n(3953),i=n(3816).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},9002:(e,t,n)=>{var r=n(1488),o=n(6314)("iterator"),i=n(2803);e.exports=n(5645).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},8977:(e,t,n)=>{var r=n(2985);r(r.P,"Array",{fill:n(6852)}),n(7722)("fill")},8837:(e,t,n)=>{"use strict";var r=n(2985),o=n(50)(2);r(r.P+r.F*!n(7717)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},4899:(e,t,n)=>{"use strict";var r=n(2985),o=n(50)(6),i="findIndex",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(7722)(i)},2310:(e,t,n)=>{"use strict";var r=n(2985),o=n(50)(5),i="find",a=!0;i in[]&&Array(1).find((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(7722)(i)},522:(e,t,n)=>{"use strict";var r=n(741),o=n(2985),i=n(508),a=n(8851),s=n(6555),c=n(875),l=n(2811),u=n(9002);o(o.S+o.F*!n(7462)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,d,p=i(e),f="function"==typeof this?this:Array,h=arguments.length,A=h>1?arguments[1]:void 0,m=void 0!==A,g=0,v=u(p);if(m&&(A=r(A,h>2?arguments[2]:void 0,2)),null==v||f==Array&&s(v))for(n=new f(t=c(p.length));t>g;g++)l(n,g,m?A(p[g],g):p[g]);else for(d=v.call(p),n=new f;!(o=d.next()).done;g++)l(n,g,m?a(d,A,[o.value,g],!0):o.value);return n.length=g,n}})},6997:(e,t,n)=>{"use strict";var r=n(7722),o=n(5436),i=n(2803),a=n(2110);e.exports=n(2923)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},9371:(e,t,n)=>{"use strict";var r=n(2985),o=n(50)(1);r(r.P+r.F*!n(7717)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},110:(e,t,n)=>{"use strict";var r=n(2985),o=n(639),i=n(2032),a=n(2337),s=n(875),c=[].slice;r(r.P+r.F*n(4253)((function(){o&&c.call(o)})),"Array",{slice:function(e,t){var n=s(this.length),r=i(this);if(t=void 0===t?n:t,"Array"==r)return c.call(this,e,t);for(var o=a(e,n),l=a(t,n),u=s(l-o),d=new Array(u),p=0;p<u;p++)d[p]="String"==r?this.charAt(o+p):this[o+p];return d}})},75:(e,t,n)=>{"use strict";var r=n(2985),o=n(4963),i=n(508),a=n(4253),s=[].sort,c=[1,2,3];r(r.P+r.F*(a((function(){c.sort(void 0)}))||!a((function(){c.sort(null)}))||!n(7717)(s)),"Array",{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),o(e))}})},6059:(e,t,n)=>{var r=n(9275).f,o=Function.prototype,i=/^\s*function ([^ (]*)/,a="name";a in o||n(7057)&&r(o,a,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},8416:(e,t,n)=>{"use strict";var r=n(9824),o=n(1616),i="Map";e.exports=n(5795)(i,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(o(this,i),e);return t&&t.v},set:function(e,t){return r.def(o(this,i),0===e?0:e,t)}},r,!0)},951:(e,t,n)=>{"use strict";var r=n(3816),o=n(9181),i=n(2032),a=n(266),s=n(1689),c=n(4253),l=n(616).f,u=n(8693).f,d=n(9275).f,p=n(9599).trim,f="Number",h=r.Number,A=h,m=h.prototype,g=i(n(2503)(m))==f,v="trim"in String.prototype,b=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=v?t.trim():p(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,c=t.slice(2),l=0,u=c.length;l<u;l++)if((a=c.charCodeAt(l))<48||a>o)return NaN;return parseInt(c,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(g?c((function(){m.valueOf.call(n)})):i(n)!=f)?a(new A(b(t)),n,h):b(t)};for(var y,w=n(7057)?l(A):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)o(A,y=w[x])&&!o(h,y)&&d(h,y,u(A,y));h.prototype=m,m.constructor=h,n(7234)(r,f,h)}},3441:(e,t,n)=>{var r=n(2985);r(r.S,"Number",{isNaN:function(e){return e!=e}})},5177:(e,t,n)=>{var r=n(2985),o=n(7743);r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},1246:(e,t,n)=>{var r=n(2985),o=n(5960);r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},5115:(e,t,n)=>{var r=n(2985);r(r.S+r.F,"Object",{assign:n(5345)})},4882:(e,t,n)=>{var r=n(2110),o=n(8693).f;n(3160)("getOwnPropertyDescriptor",(function(){return function(e,t){return o(r(e),t)}}))},1520:(e,t,n)=>{var r=n(508),o=n(468);n(3160)("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},7476:(e,t,n)=>{var r=n(508),o=n(7184);n(3160)("keys",(function(){return function(e){return o(r(e))}}))},6253:(e,t,n)=>{"use strict";var r=n(1488),o={};o[n(6314)("toStringTag")]="z",o+""!="[object z]"&&n(7234)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},851:(e,t,n)=>{"use strict";var r,o,i,a,s=n(4461),c=n(3816),l=n(741),u=n(1488),d=n(2985),p=n(5286),f=n(4963),h=n(3328),A=n(3531),m=n(8364),g=n(4193).set,v=n(4351)(),b=n(3499),y=n(188),w=n(575),x=n(94),k="Promise",C=c.TypeError,E=c.process,B=E&&E.versions,T=B&&B.v8||"",M=c.Promise,I="process"==u(E),D=function(){},_=o=b.f,S=!!function(){try{var e=M.resolve(1),t=(e.constructor={})[n(6314)("species")]=function(e){e(D,D)};return(I||"function"==typeof PromiseRejectionEvent)&&e.then(D)instanceof t&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),O=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var n=e._c;v((function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,s=o?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(o||(2==e._h&&j(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===t.promise?l(C("Promise-chain cycle")):(i=O(n))?i.call(n,c,l):c(n)):l(r)}catch(e){u&&!a&&u.exit(),l(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&L(e)}))}},L=function(e){g.call(c,(function(){var t,n,r,o=e._v,i=R(e);if(i&&(t=y((function(){I?E.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=I||R(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){g.call(c,(function(){var t;I?E.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},U=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw C("Promise can't be resolved itself");(t=O(e))?v((function(){var r={_w:n,_d:!1};try{t.call(e,l(F,r,1),l(U,r,1))}catch(e){U.call(r,e)}})):(n._v=e,n._s=1,N(n,!1))}catch(e){U.call({_w:n,_d:!1},e)}}};S||(M=function(e){h(this,M,k,"_h"),f(e),r.call(this);try{e(l(F,this,1),l(U,this,1))}catch(e){U.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(4408)(M.prototype,{then:function(e,t){var n=_(m(this,M));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=I?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=l(F,e,1),this.reject=l(U,e,1)},b.f=_=function(e){return e===M||e===a?new i(e):o(e)}),d(d.G+d.W+d.F*!S,{Promise:M}),n(2943)(M,k),n(2974)(k),a=n(5645).Promise,d(d.S+d.F*!S,k,{reject:function(e){var t=_(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!S),k,{resolve:function(e){return x(s&&this===a?M:this,e)}}),d(d.S+d.F*!(S&&n(7462)((function(e){M.all(e).catch(D)}))),k,{all:function(e){var t=this,n=_(t),r=n.resolve,o=n.reject,i=y((function(){var n=[],i=0,a=1;A(e,!1,(function(e){var s=i++,c=!1;n.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--a||r(n))}),o)})),--a||r(n)}));return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=_(t),r=n.reject,o=y((function(){A(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},2139:(e,t,n)=>{var r=n(2985),o=n(2503),i=n(4963),a=n(7007),s=n(5286),c=n(4253),l=n(4398),u=(n(3816).Reflect||{}).construct,d=c((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),p=!c((function(){u((function(){}))}));r(r.S+r.F*(d||p),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(p&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var c=n.prototype,f=o(s(c)?c:Object.prototype),h=Function.apply.call(e,f,t);return s(h)?h:f}})},3049:(e,t,n)=>{var r=n(8693),o=n(468),i=n(9181),a=n(2985),s=n(5286),c=n(7007);a(a.S,"Reflect",{get:function e(t,n){var a,l,u=arguments.length<3?t:arguments[2];return c(t)===u?t[n]:(a=r.f(t,n))?i(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(l=o(t))?e(l,n,u):void 0}})},3946:(e,t,n)=>{var r=n(3816),o=n(266),i=n(9275).f,a=n(616).f,s=n(5364),c=n(3218),l=r.RegExp,u=l,d=l.prototype,p=/a/g,f=/a/g,h=new l(p)!==p;if(n(7057)&&(!h||n(4253)((function(){return f[n(6314)("match")]=!1,l(p)!=p||l(f)==f||"/a/i"!=l(p,"i")})))){l=function(e,t){var n=this instanceof l,r=s(e),i=void 0===t;return!n&&r&&e.constructor===l&&i?e:o(h?new u(r&&!i?e.source:e,t):u((r=e instanceof l)?e.source:e,r&&i?c.call(e):t),n?this:d,l)};for(var A=function(e){e in l||i(l,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},m=a(u),g=0;m.length>g;)A(m[g++]);d.constructor=l,l.prototype=d,n(7234)(r,"RegExp",l)}n(2974)("RegExp")},8269:(e,t,n)=>{"use strict";var r=n(1165);n(2985)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},6774:(e,t,n)=>{n(7057)&&"g"!=/./g.flags&&n(9275).f(RegExp.prototype,"flags",{configurable:!0,get:n(3218)})},1466:(e,t,n)=>{"use strict";var r=n(7007),o=n(875),i=n(6793),a=n(7787);n(8082)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=r(e),l=String(this);if(!c.global)return a(c,l);var u=c.unicode;c.lastIndex=0;for(var d,p=[],f=0;null!==(d=a(c,l));){var h=String(d[0]);p[f]=h,""===h&&(c.lastIndex=i(l,o(c.lastIndex),u)),f++}return 0===f?null:p}]}))},9357:(e,t,n)=>{"use strict";var r=n(7007),o=n(508),i=n(875),a=n(1467),s=n(6793),c=n(7787),l=Math.max,u=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;n(8082)("replace",2,(function(e,t,n,h){return[function(r,o){var i=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var d=r(e),p=String(this),f="function"==typeof t;f||(t=String(t));var m=d.global;if(m){var g=d.unicode;d.lastIndex=0}for(var v=[];;){var b=c(d,p);if(null===b)break;if(v.push(b),!m)break;""===String(b[0])&&(d.lastIndex=s(p,i(d.lastIndex),g))}for(var y,w="",x=0,k=0;k<v.length;k++){b=v[k];for(var C=String(b[0]),E=l(u(a(b.index),p.length),0),B=[],T=1;T<b.length;T++)B.push(void 0===(y=b[T])?y:String(y));var M=b.groups;if(f){var I=[C].concat(B,E,p);void 0!==M&&I.push(M);var D=String(t.apply(void 0,I))}else D=A(C,p,E,B,M,t);E>=x&&(w+=p.slice(x,E)+D,x=E+C.length)}return w+p.slice(x)}];function A(e,t,r,i,a,s){var c=r+e.length,l=i.length,u=f;return void 0!==a&&(a=o(a),u=p),n.call(s,u,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":s=a[o.slice(1,-1)];break;default:var u=+o;if(0===u)return n;if(u>l){var p=d(u/10);return 0===p?n:p<=l?void 0===i[p-1]?o.charAt(1):i[p-1]+o.charAt(1):n}s=i[u-1]}return void 0===s?"":s}))}}))},1876:(e,t,n)=>{"use strict";var r=n(5364),o=n(7007),i=n(8364),a=n(6793),s=n(875),c=n(7787),l=n(1165),u=n(4253),d=Math.min,p=[].push,f=4294967295,h=!u((function(){RegExp(f,"y")}));n(8082)("split",2,(function(e,t,n,u){var A;return A="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,h=void 0===t?f:t>>>0,A=new RegExp(e.source,u+"g");(i=l.call(A,o))&&!((a=A.lastIndex)>d&&(c.push(o.slice(d,i.index)),i.length>1&&i.index<o.length&&p.apply(c,i.slice(1)),s=i[0].length,d=a,c.length>=h));)A.lastIndex===i.index&&A.lastIndex++;return d===o.length?!s&&A.test("")||c.push(""):c.push(o.slice(d)),c.length>h?c.slice(0,h):c}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):A.call(String(o),n,r)},function(e,t){var r=u(A,e,this,t,A!==n);if(r.done)return r.value;var l=o(e),p=String(this),m=i(l,RegExp),g=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(h?"y":"g"),b=new m(h?l:"^(?:"+l.source+")",v),y=void 0===t?f:t>>>0;if(0===y)return[];if(0===p.length)return null===c(b,p)?[p]:[];for(var w=0,x=0,k=[];x<p.length;){b.lastIndex=h?x:0;var C,E=c(b,h?p:p.slice(x));if(null===E||(C=d(s(b.lastIndex+(h?0:x)),p.length))===w)x=a(p,x,g);else{if(k.push(p.slice(w,x)),k.length===y)return k;for(var B=1;B<=E.length-1;B++)if(k.push(E[B]),k.length===y)return k;x=w=C}}return k.push(p.slice(w)),k}]}))},6108:(e,t,n)=>{"use strict";n(6774);var r=n(7007),o=n(3218),i=n(7057),a="toString",s=/./.toString,c=function(e){n(7234)(RegExp.prototype,a,e,!0)};n(4253)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?c((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)})):s.name!=a&&c((function(){return s.call(this)}))},8184:(e,t,n)=>{"use strict";var r=n(9824),o=n(1616);e.exports=n(5795)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},5292:(e,t,n)=>{"use strict";n(9395)("bold",(function(e){return function(){return e(this,"b","","")}}))},6620:(e,t,n)=>{"use strict";var r=n(2985),o=n(875),i=n(2094),a="endsWith",s="".endsWith;r(r.P+r.F*n(8852)(a),"String",{endsWith:function(e){var t=i(this,e,a),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),c=void 0===n?r:Math.min(o(n),r),l=String(e);return s?s.call(t,l,c):t.slice(c-l.length,c)===l}})},2850:(e,t,n)=>{"use strict";var r=n(2985),o=n(2094),i="includes";r(r.P+r.F*n(8852)(i),"String",{includes:function(e){return!!~o(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},7795:(e,t,n)=>{"use strict";n(9395)("italics",(function(e){return function(){return e(this,"i","","")}}))},9115:(e,t,n)=>{"use strict";var r=n(4496)(!0);n(2923)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},4531:(e,t,n)=>{"use strict";n(9395)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},823:(e,t,n)=>{var r=n(2985);r(r.P,"String",{repeat:n(8595)})},7732:(e,t,n)=>{"use strict";var r=n(2985),o=n(875),i=n(2094),a="startsWith",s="".startsWith;r(r.P+r.F*n(8852)(a),"String",{startsWith:function(e){var t=i(this,e,a),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},6780:(e,t,n)=>{"use strict";n(9395)("strike",(function(e){return function(){return e(this,"strike","","")}}))},9937:(e,t,n)=>{"use strict";n(9395)("sub",(function(e){return function(){return e(this,"sub","","")}}))},5767:(e,t,n)=>{"use strict";var r=n(3816),o=n(9181),i=n(7057),a=n(2985),s=n(7234),c=n(4728).KEY,l=n(4253),u=n(3825),d=n(2943),p=n(3953),f=n(6314),h=n(8787),A=n(6074),m=n(5541),g=n(4302),v=n(7007),b=n(5286),y=n(508),w=n(2110),x=n(1689),k=n(681),C=n(2503),E=n(9327),B=n(8693),T=n(4548),M=n(9275),I=n(7184),D=B.f,_=M.f,S=E.f,O=r.Symbol,N=r.JSON,L=N&&N.stringify,R=f("_hidden"),j=f("toPrimitive"),U={}.propertyIsEnumerable,F=u("symbol-registry"),z=u("symbols"),Q=u("op-symbols"),P=Object.prototype,H="function"==typeof O&&!!T.f,V=r.QObject,K=!V||!V.prototype||!V.prototype.findChild,G=i&&l((function(){return 7!=C(_({},"a",{get:function(){return _(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=D(P,t);r&&delete P[t],_(e,t,n),r&&e!==P&&_(P,t,r)}:_,W=function(e){var t=z[e]=C(O.prototype);return t._k=e,t},Y=H&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},q=function(e,t,n){return e===P&&q(Q,t,n),v(e),t=x(t,!0),v(n),o(z,t)?(n.enumerable?(o(e,R)&&e[R][t]&&(e[R][t]=!1),n=C(n,{enumerable:k(0,!1)})):(o(e,R)||_(e,R,k(1,{})),e[R][t]=!0),G(e,t,n)):_(e,t,n)},Z=function(e,t){v(e);for(var n,r=m(t=w(t)),o=0,i=r.length;i>o;)q(e,n=r[o++],t[n]);return e},X=function(e){var t=U.call(this,e=x(e,!0));return!(this===P&&o(z,e)&&!o(Q,e))&&(!(t||!o(this,e)||!o(z,e)||o(this,R)&&this[R][e])||t)},J=function(e,t){if(e=w(e),t=x(t,!0),e!==P||!o(z,t)||o(Q,t)){var n=D(e,t);return!n||!o(z,t)||o(e,R)&&e[R][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=S(w(e)),r=[],i=0;n.length>i;)o(z,t=n[i++])||t==R||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===P,r=S(n?Q:w(e)),i=[],a=0;r.length>a;)!o(z,t=r[a++])||n&&!o(P,t)||i.push(z[t]);return i};H||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===P&&t.call(Q,n),o(this,R)&&o(this[R],e)&&(this[R][e]=!1),G(this,e,k(1,n))};return i&&K&&G(P,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",(function(){return this._k})),B.f=J,M.f=q,n(616).f=E.f=$,n(4682).f=X,T.f=ee,i&&!n(4461)&&s(P,"propertyIsEnumerable",X,!0),h.f=function(e){return W(f(e))}),a(a.G+a.W+a.F*!H,{Symbol:O});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)f(te[ne++]);for(var re=I(f.store),oe=0;re.length>oe;)A(re[oe++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=O(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){K=!0},useSimple:function(){K=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?C(e):Z(C(e),t)},defineProperty:q,defineProperties:Z,getOwnPropertyDescriptor:J,getOwnPropertyNames:$,getOwnPropertySymbols:ee});var ie=l((function(){T.f(1)}));a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return T.f(y(e))}}),N&&a(a.S+a.F*(!H||l((function(){var e=O();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,L.apply(N,r)}}),O.prototype[j]||n(7728)(O.prototype,j,O.prototype.valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},6964:(e,t,n)=>{n(8440)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},1268:(e,t,n)=>{"use strict";var r=n(2985),o=n(3325),i=n(508),a=n(875),s=n(4963),c=n(6886);r(r.P,"Array",{flatMap:function(e){var t,n,r=i(this);return s(e),t=a(r.length),n=c(r,0),o(n,r,r,t,0,1,e,arguments[1]),n}}),n(7722)("flatMap")},2773:(e,t,n)=>{"use strict";var r=n(2985),o=n(9315)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(7722)("includes")},3276:(e,t,n)=>{var r=n(2985),o=n(1131)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},6409:(e,t,n)=>{var r=n(2985),o=n(1131)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},5869:(e,t,n)=>{"use strict";n(9599)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},1181:(e,t,n)=>{for(var r=n(6997),o=n(7184),i=n(7234),a=n(3816),s=n(7728),c=n(2803),l=n(6314),u=l("iterator"),d=l("toStringTag"),p=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(f),A=0;A<h.length;A++){var m,g=h[A],v=f[g],b=a[g],y=b&&b.prototype;if(y&&(y[u]||s(y,u,p),y[d]||s(y,d,g),c[g]=p,v))for(m in r)y[m]||i(y,m,r[m],!0)}},890:(e,t,n)=>{"use strict";t.K1=v,t.mL=x;var r=i(n(8874)),o=i(n(3258));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?$/,u=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?$/,d=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(0|1|0?\.\d+|\d+%))?\s*\)$/,p=/^rgba?\(\s*(\d+)\s+(\d+)\s+(\d+)(?:\s*\/\s*(0|1|0?\.\d+|\d+%))?\s*\)$/,f=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(0|1|0?\.\d+|\d+%))?\s*\)$/,h=/^rgba?\(\s*(\d+%)\s+(\d+%)\s+(\d+%)(?:\s*\/\s*(0|1|0?\.\d+|\d+%))?\s*\)$/,A=/^hsla?\(\s*(\d+)(deg|rad|grad|turn)?\s*,\s*(\d+)%\s*,\s*(\d+)%(?:\s*,\s*(0|1|0?\.\d+|\d+%))?\s*\)$/;function m(e,t){return e.indexOf(t)>-1}var g=function(){function e(t){var n=s(t,4),r=n[0],o=n[1],i=n[2],a=n[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.values=[Math.max(Math.min(parseInt(r,10),255),0),Math.max(Math.min(parseInt(o,10),255),0),Math.max(Math.min(parseInt(i,10),255),0),null==a?1:Math.max(Math.min(parseFloat(a),255),0)]}var t,n,r;return t=e,(n=[{key:"toRgbString",value:function(){var e=s(this.values,4),t=e[0],n=e[1],r=e[2],o=e[3];return 1===o?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")}},{key:"toHslString",value:function(){var e=s(this.toHslaArray(),4),t=e[0],n=e[1],r=e[2],o=e[3];return 1===o?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(o,")")}},{key:"toHexString",value:function(){var e=s(this.values,4),t=e[0],n=e[1],r=e[2],o=e[3];return t=Number(t).toString(16).padStart(2,"0"),n=Number(n).toString(16).padStart(2,"0"),r=Number(r).toString(16).padStart(2,"0"),o=o<1?parseInt(255*o,10).toString(16).padStart(2,"0"):"","#".concat(t).concat(n).concat(r).concat(o)}},{key:"toRgbaArray",value:function(){return this.values}},{key:"toHslaArray",value:function(){var e=s(this.values,4),t=e[0],n=e[1],r=e[2],o=e[3],i=s(function(e,t,n){var r=e/255,o=t/255,i=n/255,a=Math.max(r,o,i),s=Math.min(r,o,i),c=a-s,l=(a+s)/2;if(0===c)return[0,0,100*l];var u=c/(1-Math.abs(2*l-1));return[60*function(){switch(a){case r:return(o-i)/c%6;case o:return(i-r)/c+2;default:return(r-o)/c+4}}(),100*u,100*l]}(t,n,r),3);return[i[0],i[1],i[2],o]}}])&&a(t.prototype,n),r&&a(t,r),e}();function v(e){var t=s(e,4),n=t[0],r=t[1],o=t[2],i=t[3];return new g([n,r,o,i])}function b(e){var t=s(e,3);return v([t[0],t[1],t[2],1])}function y(e){var t=s(e,4),n=t[0],r=t[1],o=t[2],i=t[3],a=function(e,t,n){var r=e/60,o=t/100,i=n/100,a=(1-Math.abs(2*i-1))*o,c=a*(1-Math.abs(r%2-1)),l=i-a/2,u=s(r<1?[a,c,0]:r<2?[c,a,0]:r<3?[0,a,c]:r<4?[0,c,a]:r<5?[c,0,a]:[a,0,c],3);return[255*(u[0]+l),255*(u[1]+l),255*(u[2]+l)]}(n,r,o),c=s(a,3);return v([c[0],c[1],c[2],i])}function w(e){var t=s(e,3);return y([t[0],t[1],t[2],1])}function x(e){return r.default[e]?b(r.default[e]):l.test(e)||u.test(e)?function(e){var t=s(l.exec(e)||u.exec(e),5),n=t[1],r=t[2],o=t[3],i=t[4];return v([n=parseInt(n.length<2?n.repeat(2):n,16),r=parseInt(r.length<2?r.repeat(2):r,16),o=parseInt(o.length<2?o.repeat(2):o,16),i=i&&(parseInt(i.length<2?i.repeat(2):i,16)/255).toPrecision(1)||1])}(e):d.test(e)||f.test(e)||p.test(e)||h.test(e)?function(e){var t=s(d.exec(e)||f.exec(e)||p.exec(e)||h.exec(e),5),n=t[1],r=t[2],o=t[3],i=t[4];return v([n=m(n,"%")?255*parseInt(n,10)/100:parseInt(n,10),r=m(r,"%")?255*parseInt(r,10)/100:parseInt(r,10),o=m(o,"%")>0?255*parseInt(o,10)/100:parseInt(o,10),i=void 0===i?1:parseFloat(i)/(m(i,"%")?100:1)])}(e):A.test(e)?function(e){var t=s(A.exec(e),6),n=t[1],r=t[2],i=t[3],a=t[4],c=t[5];return r=r||"deg",y([n=(0,o.default)(parseFloat(n),r,"deg"),i=parseFloat(i),a=parseFloat(a),c=void 0===c?1:parseFloat(c)/(m(c,"%")?100:1)])}(e):null}},397:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,".tippy-box[data-animation=scale][data-placement^=top]{transform-origin:bottom}.tippy-box[data-animation=scale][data-placement^=bottom]{transform-origin:top}.tippy-box[data-animation=scale][data-placement^=left]{transform-origin:right}.tippy-box[data-animation=scale][data-placement^=right]{transform-origin:left}.tippy-box[data-animation=scale][data-state=hidden]{transform:scale(.5);opacity:0}",""])},1474:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,'.editor-main .editor-templates {\n  position: absolute;\n  bottom: 70px;\n  /* background: red; */\n  height: 240px;\n  width: min(800px,100%);\n}\n\n.editor-main .editor-templates .editor-templates-title {\n  color: #909090;\n  margin-bottom: 0;\n  font-size: 14px;\n  margin-left: 20px;\n}\n\n.editor-main .editor-templates .editor-templates-cards {\n  display: flex;\n  margin-left: 4px;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card {\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin-left: 0px;\n  margin-right: -12px;\n  cursor: pointer;\n  width: 172px;\n  height: 220px;\n  background-image: url(data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjE0MCIgaGVpZ2h0PSIxODAiIHZpZXdCb3g9IjAgMCAxNDAgMTgwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMC41IDNDMC41IDEuNjE5MjkgMS42MTkyOSAwLjUgMyAwLjVIMTM3QzEzOC4zODEgMC41IDEzOS41IDEuNjE5MjkgMTM5LjUgM1YxNzdDMTM5LjUgMTc4LjM4MSAxMzguMzgxIDE3OS41IDEzNyAxNzkuNUgzQzEuNjE5MjkgMTc5LjUgMC41IDE3OC4zODEgMC41IDE3N1YzWiIgZmlsbD0id2hpdGUiIHN0cm9rZT0iI0U4RThFOCIvPgo8L3N2Zz4K);\n  background-position-x: 16px;\n  background-position-y: 16px;\n  background-repeat: no-repeat;\n  padding: 16px 16px 32px 16px;\n  flex-shrink: 0;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card:hover {\n  background-image: url(data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjE3MiIgaGVpZ2h0PSIyMTIiIHZpZXdCb3g9IjAgMCAxNzIgMjEyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8ZyBmaWx0ZXI9InVybCgjZmlsdGVyMF9kZF83MTlfMTIzNDMpIj4KPHBhdGggZD0iTTE2IDExQzE2IDkuMzQzMTQgMTcuMzQzMSA4IDE5IDhIMTUzQzE1NC42NTcgOCAxNTYgOS4zNDMxNSAxNTYgMTFWMTg1QzE1NiAxODYuNjU3IDE1NC42NTcgMTg4IDE1MyAxODhIMTlDMTcuMzQzMSAxODggMTYgMTg2LjY1NyAxNiAxODVWMTFaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTkgOC41SDE1M0MxNTQuMzgxIDguNSAxNTUuNSA5LjYxOTI5IDE1NS41IDExVjE4NUMxNTUuNSAxODYuMzgxIDE1NC4zODEgMTg3LjUgMTUzIDE4Ny41SDE5QzE3LjYxOTMgMTg3LjUgMTYuNSAxODYuMzgxIDE2LjUgMTg1VjExQzE2LjUgOS42MTkyOSAxNy42MTkzIDguNSAxOSA4LjVaIiBzdHJva2U9IiNFOEU4RTgiLz4KPC9nPgo8ZGVmcz4KPGZpbHRlciBpZD0iZmlsdGVyMF9kZF83MTlfMTIzNDMiIHg9IjAiIHk9IjAiIHdpZHRoPSIxNzIiIGhlaWdodD0iMjEyIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPgo8ZmVPZmZzZXQgZHk9IjgiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iOCIvPgo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwLjE4ODIzNSAwIDAgMCAwIDAuMTg4MjM1IDAgMCAwIDAgMC4xODgyMzUgMCAwIDAgMC4xNSAwIi8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzcxOV8xMjM0MyIvPgo8ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIgcmVzdWx0PSJoYXJkQWxwaGEiLz4KPGZlT2Zmc2V0Lz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMC41Ii8+CjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAuMTg4MjM1IDAgMCAwIDAgMC4xODgyMzUgMCAwIDAgMCAwLjE4ODIzNSAwIDAgMCAwLjIgMCIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzcxOV8xMjM0MyIgcmVzdWx0PSJlZmZlY3QyX2Ryb3BTaGFkb3dfNzE5XzEyMzQzIi8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0Ml9kcm9wU2hhZG93XzcxOV8xMjM0MyIgcmVzdWx0PSJzaGFwZSIvPgo8L2ZpbHRlcj4KPC9kZWZzPgo8L3N2Zz4K);\n  background-position-x: 0px;\n  background-position-y: 8px;\n  border: none;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card.more {\n  background-image: url(data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjE1NiIgaGVpZ2h0PSIxOTMiIHZpZXdCb3g9IjAgMCAxNTYgMTkzIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB4PSIwLjU0MTY3NSIgeT0iMTMuMjE1NyIgd2lkdGg9IjEzOSIgaGVpZ2h0PSIxNzkiIHJ4PSIyLjUiIHRyYW5zZm9ybT0icm90YXRlKC01IDAuNTQxNjc1IDEzLjIxNTcpIiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSIjRThFOEU4Ii8+CjxyZWN0IHg9IjE0LjA2NzciIHk9IjcuMTg4MDQiIHdpZHRoPSIxMzkiIGhlaWdodD0iMTc5IiByeD0iMi41IiB0cmFuc2Zvcm09InJvdGF0ZSgyIDE0LjA2NzcgNy4xODgwNCkiIGZpbGw9IndoaXRlIiBzdHJva2U9IiNFOEU4RTgiLz4KPHJlY3QgeD0iNi41IiB5PSI3LjUiIHdpZHRoPSIxMzkiIGhlaWdodD0iMTc5IiByeD0iMi41IiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSIjRThFOEU4Ii8+Cjwvc3ZnPgo=);\n  background-position-x: 16px;\n  background-position-y: 8px;\n  padding-left: 24px;\n  margin-left: -5px;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card.more:hover {\n  width: 188px;\n  background-image: url(data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjE4NyIgaGVpZ2h0PSIyMjQiIHZpZXdCb3g9IjAgMCAxODcgMjI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8ZyBmaWx0ZXI9InVybCgjZmlsdGVyMF9kZF85MTlfMTI3NzYpIj4KPHJlY3QgeD0iMTYuNTQxNyIgeT0iMjEuMjE1NyIgd2lkdGg9IjEzOSIgaGVpZ2h0PSIxNzkiIHJ4PSIyLjUiIHRyYW5zZm9ybT0icm90YXRlKC01IDE2LjU0MTcgMjEuMjE1NykiIGZpbGw9IndoaXRlIiBzdHJva2U9IiNFOEU4RTgiLz4KPHJlY3QgeD0iMzAuMDY3NyIgeT0iMTUuMTg4IiB3aWR0aD0iMTM5IiBoZWlnaHQ9IjE3OSIgcng9IjIuNSIgdHJhbnNmb3JtPSJyb3RhdGUoMiAzMC4wNjc3IDE1LjE4OCkiIGZpbGw9IndoaXRlIiBzdHJva2U9IiNFOEU4RTgiLz4KPHJlY3QgeD0iMjIuNSIgeT0iMTUuNSIgd2lkdGg9IjEzOSIgaGVpZ2h0PSIxNzkiIHJ4PSIyLjUiIGZpbGw9IndoaXRlIiBzdHJva2U9IiNFOEU4RTgiLz4KPC9nPgo8ZGVmcz4KPGZpbHRlciBpZD0iZmlsdGVyMF9kZF85MTlfMTI3NzYiIHg9IjAiIHk9IjAuNTU5NDQ4IiB3aWR0aD0iMTg3LjE1NSIgaGVpZ2h0PSIyMjMuNTE3IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPgo8ZmVPZmZzZXQgZHk9IjgiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iOCIvPgo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwLjE4ODIzNSAwIDAgMCAwIDAuMTg4MjM1IDAgMCAwIDAgMC4xODgyMzUgMCAwIDAgMC4xNSAwIi8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzkxOV8xMjc3NiIvPgo8ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIgcmVzdWx0PSJoYXJkQWxwaGEiLz4KPGZlT2Zmc2V0Lz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMC41Ii8+CjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAuMTg4MjM1IDAgMCAwIDAgMC4xODgyMzUgMCAwIDAgMCAwLjE4ODIzNSAwIDAgMCAwLjIgMCIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzkxOV8xMjc3NiIgcmVzdWx0PSJlZmZlY3QyX2Ryb3BTaGFkb3dfOTE5XzEyNzc2Ii8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0Ml9kcm9wU2hhZG93XzkxOV8xMjc3NiIgcmVzdWx0PSJzaGFwZSIvPgo8L2ZpbHRlcj4KPC9kZWZzPgo8L3N2Zz4K);\n  background-position-x: 0px;\n  background-position-y: 0px;\n  padding-left: 24px;\n  padding-right: 32px;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card .editor-template-thumb-container {\n  flex-grow: 1;\n  position: relative;\n  /* display: flex; */\n  margin: 20px 15px 0 15px;\n  overflow: hidden;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card.starred .editor-template-thumb-container::before {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  width: 16px;\n  height: 16px;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNyAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE1Ljk0MzYgNS45NjQzMkMxNS44MDU0IDUuNTUxMDEgMTUuNDQ5NSA1LjI1IDE1LjAyMjggNS4xODUwOUwxMC44NTc4IDQuNTQ1MjdMOS4wNDg1MiAwLjY2NjcyNUM4Ljg1ODExIDAuMjU5NzEgOC40NDk5OSAwIDguMDAxNzggMEM3LjU1Mzc2IDAgNy4xNDU0NCAwLjI1OTcxIDYuOTU1MjQgMC42NjY3MjVMNS4xNDU3NyA0LjU0NTI3TDAuOTgwOTE0IDUuMTg1MDlDMC41NTI2OTggNS4yNSAwLjE5ODE4NSA1LjU1MTAxIDAuMDYwMDc5NiA1Ljk2NDMyQy0wLjA3ODAyNTUgNi4zNzc3NCAwLjAyNjI3ODQgNi44MzM3NiAwLjMyODU5IDcuMTQ0MjdMMy4zNzk1IDEwLjI4OTZMMi42NzE5OCAxNC42NTExQzIuNjAxNDcgMTUuMDkgMi43ODU1OCAxNS41MzAyIDMuMTQ2MiAxNS43ODgzQzMuMzQ1NyAxNS45MjkyIDMuNTc5MTEgMTYuMDAwNiAzLjgxMjIyIDE2LjAwMDZDNC4wMDQwMyAxNi4wMDA2IDQuMTk3NDMgMTUuOTUxNSA0LjM3MDk0IDE1Ljg1NjVMOC4wMDE3OCAxMy45MDIyTDExLjYzMjggMTUuODU2NUMxMS44MDYyIDE1Ljk1MTUgMTEuOTk5NSAxNi4wMDA2IDEyLjE5MTQgMTYuMDAwNkMxMi40MjQ2IDE2LjAwMDYgMTIuNjU3OSAxNS45MjkyIDEyLjg1NzUgMTUuNzg4M0MxMy4yMTgxIDE1LjUzMDIgMTMuNDAyMiAxNS4wOSAxMy4zMzAyIDE0LjY1MTFMMTIuNjIyNyAxMC4yODk2TDE1LjY3NTEgNy4xNDQyN0MxNS45Nzc0IDYuODMzNzYgMTYuMDgwMiA2LjM3Nzc0IDE1Ljk0MzYgNS45NjQzMloiIGZpbGw9IiNGRkI4MDYiLz4KPC9zdmc+Cg==);\n  content: "";\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card .editor-template-thumb-container img {\n  max-width: 100%;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card.more .editor-template-thumb-container {\n  margin-right: 5px;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card .editor-template-name {\n  height: 40px;\n  padding-left: 10px;\n  padding-right: 10px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  color: #303030;\n  font-weight: 500;\n  flex-shrink: 0;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card.customized .editor-template-name::before {\n  content: var(--editor-template-customized-text);\n  height: 16px;\n  border-radius: 3px;\n  background-color: #448aff;\n  color: white;\n  font-size: 11px;\n  font-weight: 500;\n  line-height: 16px;\n  padding: 0 4px;\n  margin-right: 4px;\n  white-space: nowrap;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card:hover .editor-template-name {\n  color: #338FE5;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card.more .editor-template-name {\n  padding-right: 5px;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card .editor-template-name span {\n  display: block;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card.more .editor-template-name span {\n  padding-left: 0;\n  text-align: center;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card.new .editor-template-thumb-container {\n  flex-grow: unset;\n  margin-top: 0;\n  padding-top: 25px;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card.new .editor-template-name span {\n  padding-left: 0;\n  text-align: center;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card + .editor-template-card {\n  /* margin-left: 0; */\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card.more .editor-template-thumb-container,\n.editor-main .editor-templates .editor-templates-cards .editor-template-card.new .editor-template-thumb-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor-main .editor-templates .editor-templates-cards .editor-template-card.new .editor-template-thumb-container img {\n  width: 32px;\n  height: 32px;\n}\n\n',""])},7621:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,".tippy-box[data-theme~='editor-auto-suggest'] {\n  background-color: var(--popover-menu-bg-color);\n  color: var(--editor-dialog-text-color);\n  border: var(--editor-popover-border);\n  box-shadow: var(--editor-box-shadow);\n  min-width: 200px;\n  outline: none;\n  border-radius: var(--editor-border-radius);\n}\n\n.tippy-box[data-theme~='editor-auto-suggest'] .tippy-content {\n  padding-left: 0;\n  padding-right: 0;\n  max-height: 300px;\n  min-width: 240px;\n  max-width: 90vw;\n  overflow-y: auto;\n}\n\n.tippy-box[data-theme~='editor-auto-suggest'] .tippy-content .tippy-loading {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 8px 0;\n}\n\n.tippy-box[data-theme~='editor-auto-suggest'] ul {\n  list-style: none;\n  padding: 6px 0;\n  margin: 0;\n}\n\n.tippy-box[data-theme~='editor-auto-suggest'] li.suggest-item {\n  padding: 6px 12px;\n  margin: 0 8px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  color: var(--popover-menu-color);\n  width: auto;\n  overflow: hidden;\n  font-size: 14px;\n  box-sizing: border-box;\n  min-height: auto;\n  font-weight: 400;\n  line-height: 1.5;\n  white-space: nowrap;\n  border-radius: var(--editor-border-radius);\n}\n\n.tippy-box[data-theme~='editor-auto-suggest'] li.suggest-item:hover {\n  background-color: var(--popover-menu-item-hover-bg-color);\n}\n.tippy-box[data-theme~='editor-auto-suggest'] li.suggest-item.active {\n  background-color: var(--popover-menu-item-active-bg-color);\n}\n\n.tippy-box[data-theme~='editor-auto-suggest'] li.suggest-item.disabled {\n  color: var(--popover-menu-item-disable-color);\n  cursor: default;\n}\n\n.tippy-box[data-theme~='editor-auto-suggest'] li.suggest-item.disabled:hover,\n.tippy-box[data-theme~='editor-auto-suggest'] li.suggest-item.disabled.active {\n  background-color: var(--popover-menu-item-disable-bg-color);\n}\n\n.tippy-box[data-theme~='editor-auto-suggest'] li img {\n  width: 20px;\n  height: 20px;\n  border-radius: 100%;\n  margin-right: 8px;\n}\n\n.tippy-box[data-theme~='editor-auto-suggest'] li.suggest-item:not(.auto-wrap) span.suggest-item-text-container {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.tippy-box[data-theme~='editor-auto-suggest'] li.suggest-item.auto-wrap span.suggest-item-text-container {\n  white-space: normal;\n}\n.tippy-box[data-theme~='editor-auto-suggest'] li span.suggest-item-text {\n  flex-grow: 1;\n}\n.tippy-box[data-theme~='editor-auto-suggest'] li.suggest-item:not(.disabled) span.suggest-item-text {\n  color: var(--popover-menu-color);\n}\n.tippy-box[data-theme~='editor-auto-suggest'] li.suggest-item:not(.disabled) span.suggest-item-subtext {\n  color: var(--popover-menu-sub-color);\n}\n\n.tippy-box[data-theme~='editor-custom-suggest'] {\n  background-color: var(--editor-math-input-bg-color);\n  color: var(--editor-math-input-text-color);\n  border: var(--editor-popover-border);\n  box-shadow: var(--editor-box-shadow);\n  min-width: 200px;\n  max-height: 300px;\n  outline: none;\n  border-radius: var(--editor-border-radius);\n}\n\n/* .tippy-box[data-theme~='editor-custom-suggest'] .tippy-content {\n  overflow-x: hidden;\n  overflow-y: auto;\n} */\n\n.tippy-box[data-theme~='editor-custom-suggest'][data-theme~='calendar-box'] {\n  width: 320px;\n  height: 400px;\n  max-height: 400px;\n}\n\n.tippy-box[data-theme~='editor-custom-suggest'] ul {\n  list-style: none;\n  padding: 8px 0;\n  margin: 0;\n}\n\n.tippy-box[data-theme~='editor-custom-suggest'] li {\n  padding: 0;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n}\n\n.tippy-box[data-theme~='editor-custom-suggest'] li.hover {\n  background-color: transparent;\n}\n.tippy-box[data-theme~='editor-custom-suggest'] li.disabled {\n  color: #adadad;\n}\n\n.tippy-box[data-theme~='editor-custom-suggest'] li.disabled.hover {\n  background-color: #ffffff;\n}\n\n.tippy-box[data-theme~='editor-custom-suggest'] li img {\n  width: 20px;\n  height: 20px;\n  border-radius: 100%;\n  margin-right: 8px;\n}\n\n.tippy-box[data-theme~='editor-custom-suggest'] li span {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: #adadad;\n}\n\n.tippy-box[data-theme~='editor-auto-suggest'] li .suggest-item-text.suggest-item-text-highlight .suggest-item-text-part.highlight {\n  color: red;\n}\n\n.tippy-content ul li.suggest-item .quick-insert-item {\n  height: 48px;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  color: var(--popover-menu-color);\n}\n.tippy-content ul li.suggest-item .quick-insert-item .quick-insert-item-icon {\n  width: 32px;\n  height: 32px;\n  margin-right: 10px;\n  border: 1px solid #E8ECF3;\n  box-sizing: border-box;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #606060;\n}\n.tippy-content ul li.suggest-item .quick-insert-item .quick-insert-item-icon svg {\n  /* fill: currentColor; */\n  transition: fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n}\n.tippy-content ul li.suggest-item .quick-insert-item .quick-insert-item-main-container {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.tippy-content ul li.suggest-item .quick-insert-item .quick-insert-item-main-container .quick-insert-item-content {\n  display: flex;\n  align-items: center;\n}\n.tippy-content ul li.suggest-item .quick-insert-item .quick-insert-item-main-container .quick-insert-item-content .quick-insert-item-name {\n  font-size: 14px;\n  line-height: 16px;\n  flex-grow: 1;\n}\n.tippy-content ul li.suggest-item .quick-insert-item .quick-insert-item-main-container .quick-insert-item-content .quick-insert-item-hotkeys {\n  font-size: 12px;\n  line-height: 14px;\n  color: var(--popover-menu-sub-color);\n}\n.quick-insert-item .quick-insert-item-main-container .quick-insert-item-info {\n  margin-top: 4px;\n  font-size: 12px;\n  line-height: 14px;\n  color: var(--popover-menu-sub-color);\n}\n\ndiv[data-custom-type=\"quick-insert-/\"] .tippy-content {\n  padding-top: 8px;\n  padding-bottom: 8px;\n}\n\n.editor-auto-suggest-root {\n  display: flex;\n  flex-direction: column;\n}\n\n.editor-auto-suggest-root .editor-auto-suggest-items {\n  flex-grow: 1;\n}\n",""])},947:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,".editor-button-container{\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  max-width: 100%;\n  padding: 0 2px;\n}\n.tippy-box[data-theme~='popover-menu'] .editor-button-container {\n  display: grid;\n  grid-template-columns: repeat(5, 20%);\n  justify-items: center;\n  align-items: center;\n}\n.editor-sub-items-container:empty {\n  display: none;\n}\n\n.editor-button-container svg {\n  /* fill: currentColor; */\n}\n\n\n.editor-button-container .toolbar-button {\n  padding: 4px;\n  cursor: pointer;\n  border-radius: 4px;\n  font-weight: normal;\n  margin-left: 4px;\n  margin-right: 4px;\n  display: flex;\n  align-items: center;\n  color: var(--button-color);\n  background-color: var(--button-bg-color);\n}\n.editor-button-container .toolbar-button:hover {\n  color: var(--button-color-hover);\n  background-color: var(--button-bg-color-hover);\n}\n.editor-button-container .toolbar-button:active {\n  color: var(--button-color-active);\n}\n\n.editor-button-container .toolbar-button:last-child {\n  margin-right: 4px;\n}\n\n.editor-button-container .toolbar-button.icon-button {\n  justify-content: center;\n  padding: 2px;\n  width: 24px;\n  height: 24px;\n}\n\n.editor-button-container .toolbar-button.no-click,\n.editor-button-container .toolbar-button.disabled {\n  cursor: default;\n}\n\n.editor-button-container .toolbar-button.no-click:hover,\n.editor-button-container .toolbar-button.disabled:hover {\n  background-color: var(--button-bg-color-hover);\n}\n\n.editor-toolbar-split-line {\n  background-color: var(--popover-toolbar-color);\n  width: 1px;\n  height: 20px;\n}\n",""])},5295:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,"\n/*\ncalendar\n*/\n.editor-calendar-box {\n  width: 320px;\n  cursor: default;\n}\n\n#calendar-wrapper {\n  width: 100%;\n  display: grid;\n  grid-template-rows: 56px 1fr;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n  sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  box-sizing: border-box;\n  font-size: inherit;\n}\n\n#calendar-wrapper header {\n  grid-row: 1/2;\n  box-sizing: inherit;\n  display: flex;\n  align-items: center;\n  margin-top: 24px;\n  height: 32px;\n}\n\n#calendar-wrapper header h4 {\n  padding: 0 0 0 16px;\n  margin: 0;\n  font-size: 14px;\n  flex-grow: 1;\n}\n\n#calendar {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 32px 1fr;\n  box-sizing: inherit;\n  padding: 0;\n}\n\n#calendar #calendar-days,\n#calendar #calendar-grid {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  align-items: center;\n  padding: 0 12px;\n  box-sizing: inherit;\n  margin: 0;\n}\n\n#calendar #calendar-days {\n  justify-items: center;\n  grid-row: 1/2;\n  grid-column: 1/2;\n  font-size: 12px;\n}\n#calendar #calendar-days span {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n#calendar #calendar-grid {\n  grid-template-rows: repeat(6, 1fr);\n  justify-items: flex-start;\n  grid-row: 2/-1;\n  grid-column: 1/2;\n  width: 100%;\n  font-size: 15px;\n}\n\n#calendar #calendar-grid > time {\n  display: flex;\n  width: 32px;\n  height: 32px;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  line-height: 1;\n  border-radius: 100%;\n  border: 0;\n  box-sizing: inherit;\n  outline: none;\n}\n#calendar #calendar-grid > time span {\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--editor-color);\n  border-radius: 100%;\n}\n\n#calendar #calendar-grid > time.today span {\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--editor-calendar-selected-bg-color);\n  border-radius: 100%;\n}\n\n#calendar #calendar-grid time.selected span,\n#calendar #calendar-grid time.selected:focus span,\n#calendar #calendar-grid time.selected:hover span {\n  outline: none;\n  color: var(--editor-calendar-selected-color);\n  background-color: var(--editor-calendar-selected-bg-color);\n  box-sizing: inherit;\n}\n\n#calendar #calendar-grid time.disabled,\n#calendar #calendar-grid time.disabled:focus,\n#calendar #calendar-grid time.disabled:hover {\n  outline: none;\n  box-sizing: inherit;\n  cursor: not-allowed;\n  background-color: var(--editor-calendar-disabled-bg-color);\n  box-sizing: inherit;\n}\n#calendar #calendar-grid > time.disabled span {\n  color: var(--editor-calendar-disabled-color);\n}\n\n#calendar #calendar-grid > *:hover span {\n  background-color: var(--editor-calendar-hover-bg-color);\n  box-sizing: inherit;\n}\n\n#calendar #calendar-grid > time.disabled > span:hover {\n  background-color: transparent !important;\n}\n\n#calendar-wrapper #navigation-wrapper {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: inherit;\n  padding: 0;\n  margin: 0 16px 0 0;\n}\n\n#calendar-wrapper #navigation-wrapper button {\n  cursor: pointer;\n  background: transparent;\n  border: 0;\n  width: 24px;\n  height: 24px;\n  box-sizing: inherit;\n  padding: 0.1em;\n  margin: 0 0 0 8px;\n  outline: none;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--editor-color);\n}\n\n#calendar-wrapper #navigation-wrapper button:hover {\n  /* opacity: 0.75; */\n  background-color: var(--popover-toolbar-button-bg-color-hover);\n  color:var(--popover-toolbar-button-color-hover);\n}\n\n\n#calendar-wrapper #navigation-wrapper button svg {\n  margin: 0;\n  padding: 0;\n  width: 20px;\n  height: 20px;\n  display: block;\n  box-sizing: inherit;\n}\n\n#calendar-wrapper #navigation-wrapper button:last-of-type svg {\n  transform: rotate(180deg);\n}\n",""])},1545:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,".editor-main .editor-block .text-element .box-calendar {\n  color: var(--editor-link-color);\n  padding: 0 4px;\n  position: relative;\n}\n.editor-main .editor-block .text-element .box-calendar.warning {\n  color: var(--editor-warning-color);\n}\n.editor-main .editor-block .text-element .box-calendar.error {\n  color: var(--editor-error-color);\n}\n\n.editor-main .editor-block .text-element .box-calendar::before {\n  content: ' ';\n  width: 16px;\n  height: 16px;\n  overflow: hidden;\n  display: inline-block;\n  margin-right: 4px;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguMDAyIDE2YTcuNSA3LjUgMCAxIDEgMC0xNSA3LjUgNy41IDAgMSAxIDAgMTV6TTMuNDY5LjI5M2EuNzI4LjcyOCAwIDAgMSAwIDEuMDM2bC0yLjE0NyAyLjEyYS43NDYuNzQ2IDAgMCAxLTEuMDQ4IDAgLjcyOC43MjggMCAwIDEgMC0xLjAzNUwyLjQyLjI5M2EuNzQ2Ljc0NiAwIDAgMSAxLjA0OSAwem05LjA1NSAwYS43NDYuNzQ2IDAgMCAxIDEuMDQ4IDBsMi4xNDcgMi4xMjFhLjcyOC43MjggMCAwIDEgMCAxLjAzNi43NDYuNzQ2IDAgMCAxLTEuMDQ5IDBsLTIuMTQ2LTIuMTIxYS43MjguNzI4IDAgMCAxIDAtMS4wMzZ6TTguNzUgOFY1LjRhLjQuNCAwIDAgMC0uNC0uNGgtLjdhLjQuNCAwIDAgMC0uNC40djMuN2EuMzk5LjM5OSAwIDAgMCAuNC40aDMuNzAxYS40LjQgMCAwIDAgLjQtLjR2LS43YS40LjQgMCAwIDAtLjQtLjRoLTIuNnoiIGZpbGw9IiMwMDZlZmYiLz48L3N2Zz4=);\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  position: relative;\n  top: 2px;\n}\n.editor-main .editor-block .text-element .box-calendar.warning::before {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguMDAyIDE2YTcuNSA3LjUgMCAxIDEgMC0xNSA3LjUgNy41IDAgMSAxIDAgMTV6TTMuNDY5LjI5M2EuNzI4LjcyOCAwIDAgMSAwIDEuMDM2bC0yLjE0NyAyLjEyYS43NDYuNzQ2IDAgMCAxLTEuMDQ4IDAgLjcyOC43MjggMCAwIDEgMC0xLjAzNUwyLjQyLjI5M2EuNzQ2Ljc0NiAwIDAgMSAxLjA0OSAwem05LjA1NSAwYS43NDYuNzQ2IDAgMCAxIDEuMDQ4IDBsMi4xNDcgMi4xMjFhLjcyOC43MjggMCAwIDEgMCAxLjAzNi43NDYuNzQ2IDAgMCAxLTEuMDQ5IDBsLTIuMTQ2LTIuMTIxYS43MjguNzI4IDAgMCAxIDAtMS4wMzZ6TTguNzUgOFY1LjRhLjQuNCAwIDAgMC0uNC0uNGgtLjdhLjQuNCAwIDAgMC0uNC40djMuN2EuMzk5LjM5OSAwIDAgMCAuNC40aDMuNzAxYS40LjQgMCAwIDAgLjQtLjR2LS43YS40LjQgMCAwIDAtLjQtLjRoLTIuNnoiIGZpbGw9IiNmZjgwMDAiLz48L3N2Zz4=);\n}\n.editor-main .editor-block .text-element .box-calendar.error::before {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguMDAyIDE2YTcuNSA3LjUgMCAxIDEgMC0xNSA3LjUgNy41IDAgMSAxIDAgMTV6TTMuNDY5LjI5M2EuNzI4LjcyOCAwIDAgMSAwIDEuMDM2bC0yLjE0NyAyLjEyYS43NDYuNzQ2IDAgMCAxLTEuMDQ4IDAgLjcyOC43MjggMCAwIDEgMC0xLjAzNUwyLjQyLjI5M2EuNzQ2Ljc0NiAwIDAgMSAxLjA0OSAwem05LjA1NSAwYS43NDYuNzQ2IDAgMCAxIDEuMDQ4IDBsMi4xNDcgMi4xMjFhLjcyOC43MjggMCAwIDEgMCAxLjAzNi43NDYuNzQ2IDAgMCAxLTEuMDQ5IDBsLTIuMTQ2LTIuMTIxYS43MjguNzI4IDAgMCAxIDAtMS4wMzZ6TTguNzUgOFY1LjRhLjQuNCAwIDAgMC0uNC0uNGgtLjdhLjQuNCAwIDAgMC0uNC40djMuN2EuMzk5LjM5OSAwIDAgMCAuNC40aDMuNzAxYS40LjQgMCAwIDAgLjQtLjR2LS43YS40LjQgMCAwIDAtLjQtLjRoLTIuNnoiIGZpbGw9IiNlODIxMDAiLz48L3N2Zz4=);\n}\n\n.editor-main .editor-block .text-element .editor-checked .box-calendar {\n  color: var(--editor-placeholder-color);\n}\n.editor-main .editor-block .text-element .editor-checked .box-calendar::before {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguMDAyIDE2YTcuNSA3LjUgMCAxIDEgMC0xNSA3LjUgNy41IDAgMSAxIDAgMTV6TTMuNDY5LjI5M2EuNzI4LjcyOCAwIDAgMSAwIDEuMDM2bC0yLjE0NyAyLjEyYS43NDYuNzQ2IDAgMCAxLTEuMDQ4IDAgLjcyOC43MjggMCAwIDEgMC0xLjAzNUwyLjQyLjI5M2EuNzQ2Ljc0NiAwIDAgMSAxLjA0OSAwem05LjA1NSAwYS43NDYuNzQ2IDAgMCAxIDEuMDQ4IDBsMi4xNDcgMi4xMjFhLjcyOC43MjggMCAwIDEgMCAxLjAzNi43NDYuNzQ2IDAgMCAxLTEuMDQ5IDBsLTIuMTQ2LTIuMTIxYS43MjguNzI4IDAgMCAxIDAtMS4wMzZ6TTguNzUgOFY1LjRhLjQuNCAwIDAgMC0uNC0uNGgtLjdhLjQuNCAwIDAgMC0uNC40djMuN2EuMzk5LjM5OSAwIDAgMCAuNC40aDMuNzAxYS40LjQgMCAwIDAgLjQtLjR2LS43YS40LjQgMCAwIDAtLjQtLjRoLTIuNnoiIGZpbGw9IiNiOWJmYzgiLz48L3N2Zz4=);\n}\n\n.tippy-box .calendar-time-container {\n  display: flex;\n  width: 100%;\n  padding: 0 16px;\n  align-items: center;\n}\n\n.tippy-box .calendar-reminder-container {\n  display: flex;\n  width: 100%;\n  padding: 8px 16px;\n  align-items: center;\n}\n.tippy-box .calendar-mentions-container {\n  padding: 8px 16px;\n  font-size: 12px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.tippy-box .calendar-check-container {\n  width: 120px;\n  display: flex;\n  font-size: 15px;\n}\n.tippy-box .calendar-check-container .calendar-check {\n  margin-right: 8px;\n}\n\n.tippy-box .calendar-label {\n  width: 120px;\n}\n\n.tippy-box .calendar-control {\n  flex-grow: 1;\n  height: 32px;\n  padding: 0 8px;\n  border-radius: 4px;\n  border: 0;\n  outline: none;\n  background: var(--editor-calendar-control-bg-color);\n  color: var(--editor-color);\n}\n",""])},5895:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,".editor-main .comment-root {\n  visibility: hidden;\n  min-height: 100%;\n  padding-left: 0;\n  transition: width 300ms cubic-bezier(0.65, 0.05, 0.36, 1);\n  width: 0;\n  /* overflow: hidden; visible以外的值会导致子元素粘性定位无效 */\n  overflow: visible;\n  min-width: 0;\n  max-width: 0;\n  flex-grow: 1;\n}\n\n.editor-main .comment-loading {\n  transition: none;\n  opacity: 0;\n}\n\n.editor-main .comment-root.active {\n  min-width: 300px;\n  max-width: 300px;\n  visibility: visible;\n  width: -webkit-fill-available;\n  margin-left: 40px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--wiz-editor-z-comment-root);\n  background-color: var(--editor-bg-color);\n  padding-right: 18px;\n}\n\n.editor-main .comment-root.active::before {\n  content: '';\n  display: block;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  border-left: 1px solid var(--comment-root-border-color);\n  z-index: var(--wiz-editor-z-comment-root-right-border);\n}\n\n.editor-main .comment-head {\n  position: -webkit-sticky;\n  position: sticky;\n  z-index: var(--wiz-editor-z-comment-head);\n  top: 0px;\n  width: 100%;\n  border-bottom: 1px solid var(--comment-root-border-color);\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  padding: 19px 0 13px 18px;\n  user-select: none;\n  -webkit-user-select: none;\n  background-color: var(--editor-bg-color);\n}\n.editor-main .comment-head.editor-hidden,\n.editor-main .comment-group-container.editor-hidden {\n  display: none;\n}\n.editor-main .comment-root:not(.active) .comment-head {\n  padding: 0;\n  overflow: hidden;\n}\n.editor-main .comment-head .comment-count {\n  flex-grow: 1;\n}\n\n.editor-main .comment-group-container .comment-count {\n  position: relative;\n  cursor: pointer;\n  background-color: var(--editor-comment-active-color);\n  color: var(--editor-comment-mini-text-color);\n  align-items: center;\n  justify-content: center;\n  border-radius: 2px;\n  line-height: 16px;\n  min-width: 20px;\n  max-width: 20px;\n  font-size: 12px;\n}\n\n.editor-main .comment-group-container .comment-count::after {\n  position: absolute;\n  left: 50%;\n  bottom: -6px;\n  z-index: var(--wiz-editor-z-comment-count-arrow);\n  content: '';\n  display: block;\n  width: 8px;\n  height: 8px;\n  background-color: var(--editor-comment-active-color);\n  border-radius: 2px;\n  transform: matrix(0.71, 0.61, 0.82, -0.71, 0, 0) translateX(-50%);\n}\n\n.editor-main .comment-root .comment-groups-container {\n  position: relative;\n  opacity: 0;\n  transition: opacity 200ms cubic-bezier(0.075, 0.82, 0.165, 1);\n}\n.editor-main .comment-root .comment-groups-container.active {\n  opacity: 1;\n}\n\n.editor-main .comment-root .comment-group-container.waiting-show {\n  opacity: 0;\n}\n\n.editor-main .comment-root .comment-group-container {\n  transition: top 0.2s cubic-bezier(0.65, 0.05, 0.36, 1);\n  margin: 0;\n  position: absolute;\n  left: 7px;\n  right: 4px;\n}\n.editor-main .comment-root .comment-group-container:last-child {\n  padding-bottom: 30px;\n}\n\n.editor-main .comment-root .comment-group-layer {\n  /* border: 1px solid var(--editor-comment-layer-border-color); */\n  background-color: var(--editor-comment-layer-bg-color);\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 2px;\n  padding-bottom: 18px;\n  position: relative;\n}\n\n.editor-main .comment-root .comment-top-tool-container {\n  position: relative;\n  /* background-color: var(--editor-bg-color); */\n}\n.comment-editor .editor-main {\n  background: initial;\n}\n\n.editor-main .comment-root .comment-quote-container {\n  font-size: 12px;\n  line-height: 18px;\n  color: var(--editor-comment-quote-color);\n  padding: 15px 12px 15px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  width: 100%;\n  max-width: calc(100% - 80px);\n}\n\n.editor-main .comment-root .comment-quote-container:before {\n  content: '';\n  display: block;\n  width: 3px;\n  height: 16px;\n  background-color: var(--editor-comment-quote-before-bg-color);\n  margin-right: 6px;\n  float: left;\n  border-radius: 10px;\n}\n.editor-main .comment-root .comment-group-container.active .comment-quote-container:before {\n  background-color: var(--editor-comment-active-color);\n}\n\n.editor-main .comment-root .comment-handler-container {\n  margin-top: 12px;\n  padding: 0 12px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.editor-main .comment-root .comment-group-container.active .comment-group-layer {\n  border-color: var(--editor-comment-layer-active-border-color);\n  box-shadow: var(--editor-box-shadow);\n}\n\n.editor-main .comment-root .comment-group-container.active .comment-group-layer::before {\n  content: '';\n  /* display: block; */\n  display: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  height: 6px;\n  background-color: var(--editor-comment-active-color);\n  border-radius: 2px 2px 0 0;\n  z-index: var(--wiz-editor-z-comment-group-active-top-before);\n}\n\n.editor-main .comment-root .comment-item-head {\n  position: relative;\n  padding: 0 12px;\n  display: flex;\n  align-items: center;\n}\n\n.editor-main .comment-root .comment-avatar {\n  width: var(--editor-comment-avatar-width);\n  height: var(--editor-comment-avatar-width);\n  border-radius: 100%;\n  margin-right: 6px;\n}\n\n.editor-main .comment-root .comment-username {\n  font-size: var(--editor-comment-username-font-size);\n  color: var(--editor-comment-username-color);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.editor-main .comment-root .comment-modified {\n  margin-left: 8px;\n  font-size: 12px;\n  color: var(--editor-comment-modified-color);\n  flex-grow: 1;\n  white-space: nowrap;\n}\n\n.editor-main .comment-root .comment-item {\n  position: relative;\n}\n\n.editor-main .comment-root .comment-item::before {\n  content: ' ';\n  display: block;\n  position: absolute;\n  left: 24px;\n  width: 1px;\n  background-color: var(--editor-border-color);\n  overflow: hidden;\n  opacity: 0.8;\n  top: 0;\n  bottom: 0;\n  -webkit-transform: scaleX(.5);\n  transform: scaleX(.5);\n  z-index: var(--wiz-editor-z-comment-item-before);\n}\n.editor-main .comment-root .comment-item:last-child:before {\n  display: none;\n}\n\n\n.editor-main .comment-root .comment-item-tools {\n  display: none;\n  align-items: center;\n  z-index: var(--wiz-editor-z-comment-item-tools);\n}\n.editor-main .comment-root .comment-item-tools.active .editor-text-button.comment-item-more {\n  color: var(--text-button-color-hover);\n}\n.editor-main .comment-root .comment-item-tools .editor-text-button svg {\n  width: 20px;\n  height: 20px;\n}\n.editor-main:not(.comment-readonly) .comment-root .comment-item-tools.active,\n.editor-main:not(.comment-readonly) .comment-root .comment-item:hover .comment-item-tools {\n  display: flex;\n}\n.editor-main .comment-root .comment-item.comment-item-editing:hover .comment-item-tools {\n  display: none;\n}\n\n.editor-main .comment-root .comment-group-container .comment-quickly-reply {\n  display: none;\n  color: var(--editor-comment-quick-reply-color);\n  font-size: 12px;\n  position: absolute;\n  left: 8px;\n  bottom: 3px;\n  z-index: 2;\n}\n\n.editor-main:not(.comment-readonly) .comment-root .comment-group-container:hover .comment-quickly-reply {\n  display: block;\n}\n\n.editor-main:not(.comment-readonly) .comment-root .comment-group-container.comment-group-editing .comment-quickly-reply {\n  display: none;\n}\n\n\n.editor-main .comment-group-container .editor-main {\n  margin: 0;\n}\n\n/* .editor-main .comment-group-container .comment-item-reply-editor .editor-main {\n  margin-top: 8px;\n} */\n\n\n.editor-main .comment-group-container .editor-main .root-container {\n  background-color: transparent;\n  box-shadow: none;\n  padding: 0 12px 0 0;\n  font-size: 14px;\n  border: 1px solid transparent;\n  width: auto;\n}\n.editor-main .comment-group-container .editor-main .root-container[contenteditable=true] {\n  margin: 6px 12px 0;\n  padding: 7px 12px;\n  padding-right: 45px;\n  background-color: var(--editor-comment-editor-bg-color);\n  border-radius: 6px;\n  border: 2px solid #448aff;\n}\n.editor-main .comment-group-container .editor-main .root-container[contenteditable=false] {\n  position: relative;\n  margin: 0 12px 0 38px;\n}\n\n.editor-main .comment-group-container .comment-item-reply-editor .editor-main .root-container[contenteditable=true] {\n  margin-top: 0;\n}\n\n.comment-item-reply-editor {\n  position: relative;\n}\n\n.comment-item.comment-item-editing + .comment-item-reply-editor {\n  margin-top: 12px;\n}\n\n.editor-main .comment-root .comment-item-reply-editor .comment-editor,\n.editor-main .comment-root .comment-item .comment-editor {\n  position: relative;\n}\n\n.editor-main .comment-root .comment-item-reply-editor .comment-editor .comment-image-container,\n.editor-main .comment-root .comment-item .comment-editor .comment-image-container {\n  position: absolute;\n  top: 6px;\n  right: 0;\n  bottom: 0;\n  width: 0;\n}\n\n.editor-main .comment-root .comment-item-reply-editor .comment-editor .comment-image-container {\n  top: 0;\n}\n\n.editor-main .comment-root .comment-item-reply-editor .comment-editor .comment-item-image,\n.editor-main .comment-root .comment-item .comment-editor .comment-item-image {\n  display: none;\n  position: absolute;\n  right: 24px;\n  bottom: 8px;\n  color: #999999;\n}\n\n.editor-main .comment-root .comment-item-reply-editor .comment-editor .comment-item-image:hover,\n.editor-main .comment-root .comment-item .comment-editor .comment-item-image:hover {\n  color: #5587F0;\n}\n\n.editor-main .comment-root .comment-item-reply-editor .comment-editor .comment-item-image.active,\n.editor-main .comment-root .comment-item.comment-item-editing .comment-item-image {\n  display: flex;\n}\n\n.editor-main .comment-group-container .editor-main .root-container .editor-block {\n  /* margin-bottom: 8px; */\n  margin: 0;\n}\n.editor-main .comment-group-container .editor-main .root-container .editor-block:last-child {\n  margin-bottom: 0px;\n}\n.editor-main .comment-group-container .editor-main .root-container .editor-block:before {\n  display: none;\n}\n\n.editor-main .comment-group-container .editor-main .root-container .box-mention img {\n  margin-bottom: 2px;\n}\n\n.editor-main .comment-root.comment-mini {\n  margin-left: 0;\n}\n.editor-main .comment-root.comment-mini.active::before {\n  display: none;\n}\n.editor-main .comment-root.comment-mini.active {\n  width: 48px;\n  min-width: 32px;\n  max-width: 48px;\n  background-color: transparent;\n  padding-right: 0;\n}\n.editor-main .comment-root.comment-mini.active .comment-head {\n  border-color: transparent;\n  padding-left: 0;\n  background-color: transparent;\n}\n\n.comment-item-handle {\n  display: flex;\n  flex-direction: column;\n}\n\n.comment-item-handle .editor-text-button {\n  min-width: 44px;\n  text-align: center;\n  border: 0;\n  line-height: 24px;\n  font-size: var(--editor-comment-more-menu-font-size);\n  cursor: pointer;\n  outline: none;\n  background-color: var(--popover-toolbar-bg-color);\n  color: var(--popover-toolbar-color);\n  display: flex;\n  align-items: center;\n  padding: 8px 16px;\n}\n\n.comment-item-handle .editor-text-button:hover {\n  background-color: var(--popover-toolbar-button-bg-color-hover);\n}\n.comment-item-handle .editor-text-button .comment-menu-button-icon-container {\n  display: flex;\n  align-items: center;\n  margin-right: 8px;\n}\n\n.editor-main .comment-root .comment-group-layer .comment-switch-container {\n  position: absolute;\n  right: 12px;\n  top: 12px;\n  z-index: var(--wiz-editor-z-comment-switch-container);\n  border-radius: 2px;\n  display: flex;\n  align-items: center;\n  padding: 0 4px;\n}\n\n.comment-switch-container button.editor-text-button {\n  padding: 0;\n  display: flex;\n  margin: 3px 0;\n  color: var(--editor-comment-switch-button-color);\n  width: var(--editor-comment-switch-button-width);\n}\n\n.comment-switch-container button.editor-text-button.comment-item-pre {\n  margin-right: 16px;\n}\n\n.comment-switch-container button.disabled {\n  color: #c1c1c1;\n  cursor: not-allowed;\n}\n\n.editor-button-container.comment-mini-button-container {\n  width: 48px;\n  height: 48px;\n  align-items: center;\n  justify-content: center;\n  background-color: #ffffff;\n  border-radius: 24px 0 0 24px;\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);\n}\n\n.editor-button-container .toolbar-button.editor-command-item {\n  /* color: #999999; */\n  /* Todo Delete */\n  z-index: var(--wiz-editor-z-command-item);\n}\n\n.editor-button-container .toolbar-button.editor-command-item .editor-button-icon {\n  height: 16px;\n  padding-right: 4px;\n}\n\n.editor-button-container.comment-mini-button-container .toolbar-button.icon-button.editor-command-item {\n  color: #333333;\n}\n\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-comment'] {\n  border: none;\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 2px;\n}\n\n.editor-main .comment-root.comment-mini.active .comment-head .comment-count,\n.editor-main .comment-root.comment-mini.active .comment-head .editor-button-container,\n.editor-main .comment-root.comment-mini.active .comment-group-layer,\n.editor-main .comment-head .editor-button-container.comment-mini-button-container,\n.editor-main .comment-root .comment-handler-container,\n.editor-main .comment-root .comment-group-container .comment-group-layer .comment-switch-container,\n.editor-main .comment-group-container .comment-count {\n  display: none;\n}\n\n.editor-main .comment-root.comment-mini.active .comment-head .editor-button-container.comment-mini-button-container,\n.editor-main .comment-root .comment-item-editing .comment-handler-container,\n.editor-main .comment-root .comment-group-container.active .comment-group-layer .comment-switch-container,\n.editor-main .comment-root.comment-mini.active .comment-group-container .comment-count {\n  display: flex;\n}\n",""])},4382:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,"#editor-dialog-background {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: var(--wiz-editor-z-dialog);\n  /* background-color: var(--editor-dialog-masking-bg-color); */\n  /* backdrop-filter: blur(1px); */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  outline: none;\n}\n\n#editor-dialog-background textarea {\n  resize: none;\n  outline: none;\n}\n\n#editor-dialog-background .dialog-main {\n  max-width: calc(100vw - 10px);\n  background-color: var(--editor-dialog-bg-color);\n  color: var(--editor-dialog-text-color);\n  border: var(--editor-popover-border);\n  box-shadow: var(--editor-box-shadow);\n  min-width: 200px;\n  border-radius: var(--editor-border-radius-big);\n  font-size: 14px;\n  line-height: 1.4;\n  outline: 0;\n  transition-property: transform,visibility,opacity;\n}\n\n#editor-dialog-background .dialog-content {\n  padding: 5px 0;\n  max-height: calc(100vh - 10px);\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n\n#editor-dialog-background button {\n  user-select: none;\n  -webkit-user-select: none;\n}\n\n#editor-dialog-background .dialog-container {\n  padding: 0 24px;\n  min-width: 300px;\n}\n\n#editor-dialog-background .dialog-title {\n  font-size: 16px;\n  font-weight: bold;\n  margin: 12px 0;\n}\n\n#editor-dialog-background .dialog-container input,\n#editor-dialog-background .dialog-container textarea {\n  outline: none;\n  border: none;\n  border-radius: 4px;\n  padding: 4px;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n#editor-dialog-background .dialog-container input::placeholder {\n  color: #909090;\n}\n\n#editor-dialog-background .dialog-container .dialog-input-container {\n  display: flex;\n  border: 1px solid #adadad;\n  border-radius: 4px;\n  padding: 4px;\n  background-color: var(--editor-dialog-input-bg-color);\n}\n\n#editor-dialog-background .dialog-container .dialog-input-content.error .dialog-input-container {\n  border: 1px solid var(--editor-error-color);\n}\n\n#editor-dialog-background .dialog-container .dialog-input-container .editor-webpage-input-ext-action {\n  border: none;\n  white-space: nowrap;\n  background-color: var(--editor-dialog-input-bg-color);\n  color: var(--editor-link-color);\n  cursor: pointer;\n}\n\n#editor-dialog-background .dialog-container.webpage,\n#editor-dialog-background .dialog-container.link {\n  min-width: 500px;\n  max-width: 500px;\n}\n\n#editor-dialog-background .dialog-input-input {\n  font-size: 16px;\n  background-color: var(--editor-dialog-input-bg-color);\n  color: var(--editor-dialog-input-text-color);\n}\n\n#editor-dialog-background .dialog-container textarea {\n  min-height: 150px;\n}\n\n#editor-dialog-background .dialog-tools {\n  text-align: right;\n  margin: 16px 0 8px;\n}\n\n\n\n\n\n#editor-dialog-background .editor-preview-iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n  overflow: hidden;\n}\n\n#editor-dialog-background .dialog-main-fullscreen {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}\n\n#editor-dialog-background .dialog-content-fullscreen {\n  width: 100%;\n  height: 100%;\n}\n\n#editor-dialog-background .editor-preview-fullscreen {\n  width: 100%;\n  height: 100%;\n  background-color: rgba(248,249,250,.97);\n}\n\n#editor-dialog-background .editor-preview-fullscreen .editor-preview-header {\n  width: 100%;\n  height: 64px;\n  border-bottom: 1px solid rgba(187,191,196,.5);\n  display: flex;\n  box-sizing: border-box;\n  align-items: center;\n}\n\n#editor-dialog-background .fullscreen-close-button {\n  cursor: pointer;\n  padding: 12px;\n}\n\n#editor-dialog-background .fullscreen-line-side{\n  margin-right: 18px;\n  border-right: 1px solid rgba(187,191,196,.5);\n  height: 38px;\n}\n\n#editor-dialog-background .fullscreen-info-container {\n  flex: 1;\n  display: flex;\n  align-items: center;\n}\n\n#editor-dialog-background .fullscreen-download-button {\n  color: #333333;\n  height: 32px;\n  font-size: 14px;\n  border-radius: 4px;\n  padding: 0 12px;\n  border: 1px solid rgba(187,191,196,.5);\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  margin-right: 20px;\n  background-color: #ffffff;\n}\n\n#editor-dialog-background .fullscreen-download-button:hover {\n  background-color: transparent;\n}\n\n#editor-dialog-background .fullscreen-download-icon {\n  margin-right: 5px;\n}\n\n#editor-dialog-background .fullscreen-file-icon svg{\n  width: 36px;\n  height: 36px;\n  margin-right: 14px;\n}\n\n#editor-dialog-background .fullscreen-file-name {\n  font-size: 16px;\n  color: #1f2329;\n}\n\n#editor-dialog-background .fullscreen-file-size {\n  font-size: 12px;\n  color: #646a73;\n}\n\n.editor-preview-main {\n  width: 100%;\n  height: calc(100vh - 64px);\n  overflow: hidden;\n}\n\n.editor-preview-main.editor-preview-main-scroll {\n  overflow: auto;\n}\n\n.editor-preview-main .editor-preview-no-support {\n  font-size: 14px;\n  color: var(--style-color-6);\n  margin-top: 40vh;\n  text-align: center;\n}\n\n#editor-dialog-background .dialog-main .dialog-content .dialog-title-container {\n  display: flex;\n  align-items: center;\n}\n\n#editor-dialog-background .dialog-main .dialog-content .dialog-title-container .dialog-title {\n  flex-grow: 1;\n}\n\n\n#editor-dialog-background .dialog-main .dialog-content .dialog-title-container .dialog-close-button {\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n}\n\n#editor-dialog-background .dialog-main .dialog-content .dialog-input-description {\n  margin-top: 8px;\n  margin-bottom: 8px;\n  position: relative;\n}\n\n#editor-dialog-background .dialog-main .dialog-content .dialog-input-description .dialog-input-description-info {\n  margin-left: 8px;\n  font-size: 12px;\n  color: #909090;\n}\n\n#editor-dialog-background .dialog-main .dialog-content .dialog-input-description.dialog-input-required::before {\n  content: '*';\n  color: var(--editor-error-color);\n  position: absolute;\n  left: -8px;\n  top: 3px;\n}\n\n#editor-dialog-background .dialog-main .dialog-content .dialog-input-secondary {\n  margin-top: 8px;\n}\n\n#editor-dialog-background .dialog-main .dialog-content .dialog-input-error {\n  margin-top: 8px;\n  color: red;\n  display: none;\n}\n#editor-dialog-background .dialog-main .dialog-content .dialog-input-content.error .dialog-input-error {\n  display: block;\n}\n\n#editor-dialog-background .dialog-main .dialog-content .dialog-webpage-help-container {\n  color: #909090;\n}\n",""])},5481:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,"body.hide-scrollbar {\n  overflow: hidden;\n  height: 100%;\n  width: 100%;\n}\n.show-mobile-comments {\n  position: absolute !important;\n  overflow: auto !important;\n  height: 100%;\n  width: 100%;\n}\n\n.editor-main {\n  position: relative;\n  color: var(--editor-color);\n  font-size: var(--editor-font-size);\n  line-height: var(--editor-line-height);\n  letter-spacing: 0.02em;\n  flex-grow: 1;\n  display: flex;\n  margin-top: 24px;\n  margin-bottom: 24px;\n  justify-content: center;\n  /* align-items: start; */\n  max-width: 100%;\n}\n.editor-main *::selection {\n  background-color: var(--editor-selection-bg-color);\n}\n\n.drag-snapshot-container {\n  color: var(--editor-color);\n  font-size: var(--editor-font-size);\n  line-height: var(--editor-line-height);\n  letter-spacing: 0.02em;\n  transform-origin: top left;\n  padding: 6px;\n  pointer-events: none;\n  /* display: flex;\n  align-items: center;\n  justify-content: center; */\n}\n.drag-snapshot-container.no-padding {\n  padding: 0;\n}\n.tippy-box *,\n.editor-main *,\n#editor-dialog-background,\n.drag-snapshot-container * {\n  box-sizing: border-box;\n  font-family: var(--editor-font-family);\n}\n.drag-snapshot-container .editor-code-config {\n  display: none;\n}\n\n.editor-main button:focus { outline: none; }\n\n.editor-main {\n  background-color: var(--editor-bg-color);\n}\n\n.editor-main .root-container-extend {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  max-width: 800px;\n  max-width: min(800px,100%);\n  box-sizing: border-box;\n  counter-reset: step;\n  counter-increment: step 0;\n}\n\n.editor-main .editor-container.root-container {\n  flex-grow: 1;\n  padding: 48px 32px 32px 48px;\n  width: 100%;\n  outline: none;\n}\n\n.editor-main .editor-container.root-container h1.editor-block.title-block {\n  font-weight: 500;\n  font-size: 28px;\n  line-height: 32px;\n  margin-top: 0;\n  margin-bottom: var(--editor-block-title-margin-bottom);\n}\n\n.editor-main .editor-container .sub-container {\n  width: 100%;\n}\n\n.editor-main .root-container .editor-block {\n  position: relative;\n  margin: var(--editor-block-margin-top) 0 var(--editor-block-margin-bottom);\n  font-weight: normal;\n}\n\n.editor-main .root-container .editor-block.table-block + .editor-block.table-block{\n  margin-top: var(--editor-table-block-margin-top);\n}\n\n.drag-snapshot-container .block-content,\n.editor-main .root-container .block-content {\n  padding: 0 var(--editor-block-content-padding-left);\n  word-break: break-word;\n  position: relative;\n  z-index: var(--wiz-editor-z-block-content);\n}\n.drag-snapshot-container.no-padding .block-content {\n  padding: 0;\n}\n\n.editor-main .root-container .editor-block:first-child {\n  margin-top: 0;\n}\n.editor-main .root-container .editor-block:last-child {\n  margin-bottom: 0;\n}\n\n.editor-main .root-container > .editor-block:before {\n  content: counter(step);\n  counter-increment: step;\n  position: absolute;\n  left: -48px;\n  top: var(--editor-first-line-center-top);\n  z-index: var(--wiz-editor-z-block-counter);\n  margin-top: -6px;\n  display: block;\n  width: 48px;\n  padding-right: 14px;\n  text-align: right;\n  color: var(--editor-line-number-color);\n  box-sizing: border-box;\n  font-size: 12px;\n  font-weight: normal;\n  line-height: 13px;\n  letter-spacing: 0;\n  white-space: nowrap;\n}\n\n.editor-main .root-container .editor-block.editor-block-left-overflow:before {\n  opacity: 0;\n}\n.editor-main .root-container > h1.editor-block:before {\n  top: var(--editor-first-line-center-top-h1);\n}\n.editor-main .root-container > h2.editor-block:before {\n  top: var(--editor-first-line-center-top-h2);\n}\n.editor-main .root-container > h3.editor-block:before {\n  top: var(--editor-first-line-center-top-h3);\n}\n.editor-main .root-container > h4.editor-block:before {\n  top: var(--editor-first-line-center-top-h4);\n}\n.editor-main .root-container > h5.editor-block:before {\n  top: var(--editor-first-line-center-top-h5);\n}\n.editor-main .root-container > h6.editor-block:before {\n  top: var(--editor-first-line-center-top-h6);\n}\n.editor-main .root-container > .editor-heading-7.editor-block:before {\n  top: var(--editor-first-line-center-top-h7);\n}\n.editor-main .root-container > .editor-heading-8.editor-block:before {\n  top: var(--editor-first-line-center-top-h8);\n}\n\n.editor-main .root-container > .editor-block.locked-by-user:before {\n  color: transparent;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBmaWxsPSIjMDA2ZWZmIj48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE4IDhoLTFWNmMwLTIuNzYtMi4yNC01LTUtNVM3IDMuMjQgNyA2djJINmMtMS4xIDAtMiAuOS0yIDJ2MTBjMCAxLjEuOSAyIDIgMmgxMmMxLjEgMCAyLS45IDItMlYxMGMwLTEuMS0uOS0yLTItMnptLTYgOWMtMS4xIDAtMi0uOS0yLTJzLjktMiAyLTIgMiAuOSAyIDItLjkgMi0yIDJ6bTMuMS05SDguOVY2YzAtMS43MSAxLjM5LTMuMSAzLjEtMy4xIDEuNzEgMCAzLjEgMS4zOSAzLjEgMy4xdjJ6Ii8+PC9zdmc+);\n  background-size: 18px 18px;\n  background-position: calc(100% - 12px) 0;\n  background-repeat: no-repeat;\n  height: 20px;\n}\n.editor-main .root-container > .editor-block.locked-by-user.locked-readonly:before {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBmaWxsPSIjOTY5Njk2Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE4IDhoLTFWNmMwLTIuNzYtMi4yNC01LTUtNVM3IDMuMjQgNyA2djJINmMtMS4xIDAtMiAuOS0yIDJ2MTBjMCAxLjEuOSAyIDIgMmgxMmMxLjEgMCAyLS45IDItMlYxMGMwLTEuMS0uOS0yLTItMnptLTYgOWMtMS4xIDAtMi0uOS0yLTJzLjktMiAyLTIgMiAuOSAyIDItLjkgMi0yIDJ6bTMuMS05SDguOVY2YzAtMS43MSAxLjM5LTMuMSAzLjEtMy4xIDEuNzEgMCAzLjEgMS4zOSAzLjEgMy4xdjJ6Ii8+PC9zdmc+);\n}\n\n.editor-main.editor-hide-line-number .root-container .editor-block:before,\n.editor-main .root-container > .editor-block.editor-hide-line-number:before {\n  opacity: 0;\n}\n\n/* title */\n.editor-main.readonly .root-container.editor-with-title > .editor-block.empty-block:first-child:not(.editor-compositing):after {\n  content: var(--editor-title-placeholder-readonly);\n  color: var(--editor-placeholder-color);\n  position: absolute;\n  top: 0;\n  left: var(--editor-block-content-padding-left);\n  right: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  user-select: none;\n  -webkit-user-select: none;\n  pointer-events: none;\n}\n\n/* title */\n.editor-main .root-container[contenteditable=true].editor-with-title > .editor-block.empty-block:first-child:not(.editor-compositing):after {\n  content: var(--editor-title-placeholder);\n  color: var(--editor-placeholder-color);\n  position: absolute;\n  top: 0;\n  left: var(--editor-block-content-padding-left);\n  right: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  user-select: none;\n  -webkit-user-select: none;\n  pointer-events: none;\n}\n\n/* content */\n.editor-main .root-container[contenteditable=true].editor-with-title > .editor-block.text-block.empty-block:not(.editor-compositing):nth-child(2):last-child:after {\n  content: var(--editor-content-placeholder);\n  position: absolute;\n  top: 0;\n  color: var(--editor-placeholder-color);\n  left: var(--editor-block-content-padding-left);\n  right: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  user-select: none;\n  -webkit-user-select: none;\n  pointer-events: none;\n}\n\n.editor-main .root-container[contenteditable=true]:not(.editor-with-title) > .editor-block.text-block.empty-block:not(.editor-compositing):only-child:after {\n  content: var(--editor-placeholder);\n  position: absolute;\n  top: 0;\n  color: var(--editor-placeholder-color);\n  left: var(--editor-block-content-padding-left);\n  user-select: none;\n  -webkit-user-select: none;\n  pointer-events: none;\n}\n.editor-main .root-container[contenteditable=true].editor-with-title > .editor-block.text-block.editor-quote-block.empty-block:not(.editor-compositing):nth-child(2):last-child:after,\n.editor-main .root-container[contenteditable=true]:not(.editor-with-title) > .editor-block.text-block.editor-quote-block.empty-block:not(.editor-compositing):only-child:after {\n    left: calc(var(--editor-block-content-padding-left) + var(--editor-quote-block-padding-left));\n}\n\n.editor-main .root-container .editor-block.block-align-left {\n  text-align: left;\n}\n\n.editor-main .root-container .editor-block.block-align-right {\n  text-align: right;\n}\n\n.editor-main .root-container .editor-block.block-align-center {\n  text-align: center;\n}\n\n.editor-main .root-container .editor-block.block-align-justify {\n  text-align: justify;\n}\n\n.editor-main .root-container h1.editor-block,\n.drag-snapshot-container h1 {\n  font-size: var(--editor-font-size-h1);\n  font-weight: 500;\n  line-height: var(--editor-line-height-h1);\n  letter-spacing: 1px;\n  margin: var(--editor-block-h1-margin-top)  0 var(--editor-block-h1-margin-bottom);\n}\n.editor-main .root-container h2.editor-block,\n.drag-snapshot-container h2 {\n  font-size: var(--editor-font-size-h2);\n  font-weight: 500;\n  line-height: var(--editor-line-height-h2);\n  letter-spacing: 1px;\n  margin: var(--editor-block-h2-margin-top)  0 var(--editor-block-h2-margin-bottom);\n}\n.editor-main .root-container h3.editor-block,\n.drag-snapshot-container h3 {\n  font-size: var(--editor-font-size-h3);\n  font-weight: 500;\n  line-height: var(--editor-line-height-h3);\n  letter-spacing: 1px;\n  margin: var(--editor-block-h3-margin-top)  0 var(--editor-block-h3-margin-bottom);\n}\n.editor-main .root-container h4.editor-block,\n.drag-snapshot-container h4 {\n  font-size: var(--editor-font-size-h4);\n  font-weight: 500;\n  line-height: var(--editor-line-height-h4);\n  letter-spacing: 1px;\n  margin: var(--editor-block-h4-margin-top)  0 var(--editor-block-h4-margin-bottom);\n}\n.editor-main .root-container h5.editor-block,\n.drag-snapshot-container h5 {\n  font-size: var(--editor-font-size-h5);\n  font-weight: 500;\n  line-height: var(--editor-line-height-h5);\n  letter-spacing: 1px;\n  margin: var(--editor-block-h5-margin-top)  0 var(--editor-block-h5-margin-bottom);\n}\n\n.editor-main .root-container h6.editor-block,\n.drag-snapshot-container h6 {\n  font-size: var(--editor-font-size-h6);\n  line-height: var(--editor-line-height-h6);\n  font-weight: 500;\n  letter-spacing: 1px;\n  margin: 16px 0 8px;\n}\n.drag-snapshot-container h1,\n.drag-snapshot-container h2,\n.drag-snapshot-container h3,\n.drag-snapshot-container h4,\n.drag-snapshot-container h5,\n.drag-snapshot-container h6 {\n  margin: 0;\n}\n.editor-main .root-container .editor-heading-7.editor-block,\n.drag-snapshot-container .editor-heading-7 {\n  font-size: var(--editor-font-size-h7);\n  line-height: var(--editor-line-height-h7);\n  font-weight: 500;\n  letter-spacing: 1px;\n  margin: 16px 0 8px;\n}\n\n.editor-main .root-container .editor-heading-8.editor-block,\n.drag-snapshot-container .editor-heading-8 {\n  font-size: var(--editor-font-size-h8);\n  line-height: var(--editor-line-height-h8);\n  font-weight: 500;\n  letter-spacing: 1px;\n  margin: 16px 0 8px;\n}\n\n.editor-main .root-container a,\n.editor-main .root-container span.editor-composition.link,\n.drag-snapshot-container a,\n.drag-snapshot-container span.editor-composition.link {\n  color: var(--editor-link-color);\n  text-decoration: underline;\n}\n.editor-main:not(.mobile) .root-container a:hover,\n.editor-main .root-container a:active {\n  color: var(--editor-link-color);\n}\n\n.editor-main .editor-text-button {\n  border: 0;\n  color: var(--text-button-color);\n  background-color: var(--text-button-bg-color);\n  cursor: pointer;\n  border-radius: var(--editor-border-radius);\n  font-size: 14px;\n  padding: 1px 6px;\n  display: flex;\n  align-items: center;\n}\n.comment-item-handle .editor-text-button svg,\n.editor-main .editor-text-button svg {\n  fill: currentColor;\n}\n.editor-main:not(.mobile) .editor-text-button:not(.disabled):hover,\n.editor-main .editor-text-button:not(.disabled):active {\n  color: var(--text-button-color-hover);\n  background-color: var(--text-button-bg-color-hover);\n}\n.editor-main .editor-text-button.alert {\n  color: var(--text-button-color-alert);\n}\n.editor-main:not(.mobile) .editor-text-button.comment-item-delete:not(.disabled):hover,\n.comment-item-handle .editor-text-button.comment-item-delete:hover,\n.editor-main:not(.mobile) .editor-text-button.alert:hover,\n.editor-main .editor-text-button.alert:active {\n  color: var(--text-button-color-alert-hover);\n}\n\n.comment-item-handle .editor-text-button.comment-item-delete:hover {\n  background: var(--comment-delete-button-bg-color-active);\n}\n\n.editor-main .root-container img,\n.drag-snapshot-container img {\n  max-width: 100%;\n  vertical-align: bottom;\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n}\n.editor-main .root-container img.image-loading,\n.drag-snapshot-container img.image-loading {\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBzdHlsZT0iZmlsbDogcmdiYSgwLDAsMCwgLjMpOyI+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xOSA4bC00IDRoM2MwIDMuMzEtMi42OSA2LTYgNi0xLjAxIDAtMS45Ny0uMjUtMi44LS43bC0xLjQ2IDEuNDZDOC45NyAxOS41NCAxMC40MyAyMCAxMiAyMGM0LjQyIDAgOC0zLjU4IDgtOGgzbC00LTR6TTYgMTJjMC0zLjMxIDIuNjktNiA2LTYgMS4wMSAwIDEuOTcuMjUgMi44LjdsMS40Ni0xLjQ2QzE1LjAzIDQuNDYgMTMuNTcgNCAxMiA0Yy00LjQyIDAtOCAzLjU4LTggOEgxbDQgNCA0LTRINnoiLz48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIGJlZ2luPSIwcyIgZHVyPSIxLjVzIiB0eXBlPSJyb3RhdGUiIGZyb209IjAgMCAwIiB0bz0iLTM2MCAwIDAiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+PC9zdmc+);\n}\n.editor-main .root-container img.image-error,\n.drag-snapshot-container img.image-error {\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBzdHlsZT0iZmlsbDogcmdiYSgwLDAsMCwgLjMpOyI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTExIDE1aDJ2MmgtMnptMC04aDJ2NmgtMnptLjk5LTVDNi40NyAyIDIgNi40OCAyIDEyczQuNDcgMTAgOS45OSAxMEMxNy41MiAyMiAyMiAxNy41MiAyMiAxMlMxNy41MiAyIDExLjk5IDJ6TTEyIDIwYy00LjQyIDAtOC0zLjU4LTgtOHMzLjU4LTggOC04IDggMy41OCA4IDgtMy41OCA4LTggOHoiLz48L3N2Zz4=);\n}\n\n.editor-main .block-tools .upload-loading {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  padding: 8px;\n  font-size: 0;\n}\n\n.upload-loading .upload-loading-container,\n.drag-snapshot-container .upload-loading-container {\n  display: inline-block;\n  position: relative;\n  padding: 4px;\n}\n\n.upload-loading .upload-loading-wall {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(0,0,0,.75);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 4px;\n  z-index: var(--wiz-editor-z-upload-loading-wall);\n}\n\n.upload-loading .upload-loading-wall.upload-enabled-background {\n  background-color: #ffffff;\n  top: 1px;\n  left: 1px;\n  right: 1px;\n  bottom: 41px;\n  border-radius: var(--editor-border-radius);\n}\n\n.upload-loading .upload-loading-wall .upload-enabled-block {\n  text-align: center;\n  font-size: 12px;\n  color: #5587F0;\n}\n\n.upload-loading .upload-loading-progress {\n  width: 80%;\n  max-width: 150px;\n  height: 8px;\n  border-radius: 8px;\n  background-color: rgb(239, 240, 241);\n  overflow: hidden;\n}\n\n.upload-loading .upload-loading-progress .upload-loading-progress-inner {\n  width: 0;\n  min-width: 5%;\n  height: 100%;\n  background-color: #3f74f6;\n  border-radius: 8px;\n  transition: width .3s linear;\n}\n\n.upload-loading .upload-loading-office {\n  padding: 0 4px;\n}\n\n.upload-loading .upload-loading-container-preview {\n  width: 100%;\n  height: 100%;\n}\n\n.upload-loading .upload-loading-container-card {\n  width: auto;\n  height: auto;\n}\n\n.upload-loading .upload-loading-container-card .upload-loading-wall {\n  bottom: 8px;\n}\n\n.upload-loading .upload-loading-office .upload-loading-wall,\n.upload-loading .upload-loading-container-card .upload-loading-wall {\n  background-color: rgba(255,255,255,.75);\n}\n\n.upload-loading .upload-loading-clone {\n  opacity: 0;\n}\n\n.editor-main .root-container svg,\n.drag-snapshot-container svg {\n  fill: currentColor;\n}\n\n.editor-main .root-container .editor-mindmap-fit-icon svg {\n  fill: none;\n}\n\n.editor-main .root-container textarea,\n.drag-snapshot-container textarea {\n  resize: none;\n  outline: none;\n  font-family: var(--editor-font-family);\n  font-size: 14px;\n}\n\n.editor-main .root-container .style-bold,\n.drag-snapshot-container .style-bold {\n  font-weight: bold;\n}\n.editor-main .root-container .style-italic,\n.drag-snapshot-container .style-italic {\n  font-style: italic;\n}\n.editor-main .root-container .style-code,\n.drag-snapshot-container .style-code {\n  padding: .2em .4em;\n  margin: 0;\n  background-color: var(--editor-code-bg-color);\n  border-radius: 4px;\n  font-family: Menlo, Monaco, Consolas, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace;\n  font-size: 85%;\n}\n.editor-main .root-container .style-underline,\n.drag-snapshot-container .style-underline {\n  /* text-decoration: underline; */\n  border-bottom: solid 1px var(--editor-placeholder-color);\n}\n.editor-main .root-container .style-strikethrough,\n.drag-snapshot-container .style-strikethrough {\n  text-decoration: line-through;\n}\n\n.editor-main .root-container .style-strikethrough.style-underline,\n.drag-snapshot-container .style-underline {\n  text-decoration: line-through underline;\n}\n\n\n.editor-main .root-container .style-sub,\n.drag-snapshot-container .style-sub {\n  vertical-align: sub;\n  font-size: 70%;\n  /* position: relative;\n  top: -1px;\n  text-decoration: none !important; */\n}\n/* .editor-main .root-container h1 .style-sub {\n  top: -3px;\n}\n.editor-main .root-container h1.list-block .style-sub {\n  top: -2px;\n}\n.editor-main .root-container h1.list-block .editor-checkbox .style-sub {\n  top: -3px;\n}\n.editor-main .root-container h2 .style-sub {\n  top: -2px;\n}\n.editor-main .root-container h3 .style-sub {\n  top: -1px;\n}\n.editor-main .root-container h4 .style-sub {\n  top: -1px;\n}\n.editor-main .root-container h4.list-block .editor-checkbox .style-sub {\n  top: -2px;\n}\n.editor-main .root-container h5 .style-sub {\n  top: 0px;\n}\n.editor-main .root-container h5.list-block .style-sub {\n  top: -1px;\n}\n.editor-main .root-container h6 .style-sub {\n  top: -2px;\n}\n.editor-main .root-container h6.list-block .style-sub {\n  top: -1px;\n}\n.editor-main .root-container .editor-heading-7 .style-sub {\n  top: -1px;\n}\n.editor-main .root-container .editor-heading-7.list-block .editor-checkbox .style-sub {\n  top: -2px;\n}\n.editor-main .root-container .editor-heading-8 .style-sub {\n  top: -1px;\n} */\n/* comment patch */\n\n.editor-main .root-container .style-super,\n.drag-snapshot-container .style-super {\n  vertical-align: super;\n  font-size: 70%;\n  /* text-decoration: none !important; */\n}\n\n.editor-main .root-container .block-content .comment,\n.drag-snapshot-container .block-content .comment,\n.editor-main .root-container .comment.text-block .text-element > span,\n.drag-snapshot-container .comment.text-block .text-element > span,\n.editor-main .root-container .comment.list-block .text-element > span,\n.drag-snapshot-container .comment.list-block .text-element > span {\n  border-bottom: 2px solid var(--editor-comment-text-border-color);\n  padding-bottom: 2px;\n}\n.editor-main .root-container .comment-ready.text-block .text-element > span,\n.editor-main .root-container .comment-ready.list-block .text-element > span {\n  background-color: var(--editor-comment-text-bg-color) !important;\n}\n\n.editor-main .root-container .comment.style-super,\n.editor-main .root-container .comment.style-sub,\n.editor-main .root-container .comment.text-block .block-content .style-super,\n.editor-main .root-container .comment.text-block .block-content .style-sub,\n.editor-main .root-container .comment.list-block .block-content .style-super,\n.editor-main .root-container .comment.list-block .block-content .style-sub {\n  border-bottom: none;\n}\n\n.editor-main .root-container .comment.text-block {\n  border-bottom: none;\n}\n\n/* .editor-main .root-container .comment.style-super {\n  padding-bottom: 9px;\n}\n.editor-main .root-container .list-block .editor-checkbox .comment.style-super {\n  padding-bottom: 10px;\n}\n\n.editor-main .root-container h1 .comment.style-super {\n  padding-bottom: 17px;\n}\n.editor-main .root-container h1.list-block .comment.style-super,\n.editor-main .root-container h1.list-block .editor-checkbox .comment.style-super {\n  padding-bottom: 18px;\n}\n.editor-main .root-container h2 .comment.style-super,\n.editor-main .root-container h2.list-block .editor-checkbox .comment.style-super {\n  padding-bottom: 16px;\n}\n.editor-main .root-container h3 .comment.style-super {\n  padding-bottom: 15px;\n}\n.editor-main .root-container h3.list-block .editor-checkbox .comment.style-super {\n  padding-bottom: 14px;\n}\n.editor-main .root-container h4 .comment.style-super,\n.editor-main .root-container h4.list-block .editor-checkbox .comment.style-super {\n  padding-bottom: 12px;\n}\n.editor-main .root-container h5 .comment.style-super {\n  padding-bottom: 12px;\n}\n.editor-main .root-container h5.list-block .editor-checkbox .comment.style-super {\n  padding-bottom: 11px;\n}\n.editor-main .root-container h6 .comment.style-super,\n.editor-main .root-container h6.list-block .editor-checkbox .comment.style-super {\n  padding-bottom: 10px;\n}\n.editor-main .root-container .editor-heading-7 .comment.style-super {\n  padding-bottom: 10px;\n}\n.editor-main .root-container .editor-heading-7.list-block .editor-checkbox .comment.style-super {\n  padding-bottom: 9px;\n}\n.editor-main .root-container .editor-heading-8 .comment.style-super {\n  padding-bottom: 10px;\n}\n.editor-main .root-container .editor-heading-8.list-block .editor-checkbox .comment.style-super {\n  padding-bottom: 9px;\n}\n\n.editor-main .root-container .comment.style-sub {\n  padding-bottom: 0;\n} */\n\n/* table */\n.editor-main .root-container .table-block > .block-content {\n  padding: 0 1px 0 0;\n  margin: 0;\n}\n.editor-main .root-container .table-block > .block-content > table {\n  margin-left: var(--editor-block-content-padding-left);\n}\n.editor-main.markdown .root-container .table-block > .block-content > table {\n  max-width: calc(100% - var(--editor-block-content-padding-left));\n}\n.editor-main .root-container .table-block > .block-content > table th,\n.editor-main .root-container .table-block > .block-content > table td {\n  min-width: 40px;\n}\n.editor-main .root-container .table-block > .block-content > table th[data-width=\"0\"],\n.editor-main .root-container .table-block > .block-content > table td[data-width=\"0\"] {\n  min-width: 100px;\n}\n.editor-main .root-container .table-block table.stripe-style-table:not(.row-title-table) tr:nth-of-type(2n),\n.editor-main .root-container .table-block table.stripe-style-table.row-title-table tr:nth-of-type(2n + 1) {\n  background-color: var( --editor-table-singular-row-bg-color);\n}\n.editor-main .root-container .table-block table.row-title-table tr:nth-of-type(1) td {\n  font-weight: 500;\n  text-align: center;\n}\n.editor-main .root-container .table-block table.row-title-table tr:nth-of-type(1) td:not(.table-selected-cell) {\n  background-color: var(--editor-table-title-bg-color);\n}\n\n.editor-main .root-container .table-block table.col-title-table tr td.col-title-item {\n  font-weight: 500;\n  text-align: center;\n}\n\n.editor-main .root-container .table-block table.col-title-table tr td.col-title-item:not(.table-selected-cell) {\n  background-color: var(--editor-table-title-bg-color);\n}\n\n.editor-main .table-block > .block-content,\n.drag-snapshot-container .table-block > .block-content {\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.editor-main .table-block > .block-content > table,\n.drag-snapshot-container .table-block > .block-content > table {\n  background-color: var(--editor-bg-color);\n}\n\n.editor-main .root-container .editor-block.table-block .editor-block {\n  margin: var(--editor-block-table-sub-block-margin-top)  0 var(--editor-block-table-sub-block-margin-bottom);\n}\n\n.editor-main .root-container .block-content {\n  /* 解决safari空行光标无法出现的问题 */\n  /* 1. 表格有水平滚动条 */\n  /* 2. 页面有垂直滚动条 */\n  background-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==);\n}\n\n/* .editor-main.custom-table-scrollbar .table-block > .block-content { */\n  /* overflow-x: hidden; */\n/* } */\n.drag-snapshot-container > table {\n  margin: 12px;\n}\n.editor-main .root-container table,\n.drag-snapshot-container table {\n  border-collapse: collapse;\n}\n.editor-main .root-container table,\n.drag-snapshot-container table,\n.editor-main .root-container td,\n.drag-snapshot-container td,\n.editor-main .root-container th,\n.drag-snapshot-container th {\n  border: 1px solid var(--editor-border-table-color);\n  background-color: var(--editor-table-bg-color);\n}\n\n.editor-main .root-container td,\n.editor-main .root-container th,\n.drag-snapshot-container td,\n.drag-snapshot-container th {\n  padding: 2px 12px;\n}\n\n.editor-main .root-container th,\n.drag-snapshot-container th {\n  text-align: left;\n  font-weight: 400;\n}\n\n.editor-main .root-container .table-block .table-border-shadow {\n  position: absolute;\n  top: 0;\n  /* background-color: red; */\n  opacity: 0;\n  width: 0;\n  border: none;\n  pointer-events: none;\n  transition: opacity 50ms ease-in;\n  z-index: var(--wiz-editor-z-table-border-shadow);\n}\n.editor-main .root-container .table-block .table-border-shadow.active {\n  width: 8px;\n  opacity: 1;\n}\n.editor-main .root-container .table-block .table-left-border-shadow {\n  left: var(--editor-block-content-padding-left);\n  background: linear-gradient(270deg,rgba(31,35,41,0) 0,rgba(31,35,41,.1));\n  border-left: 0px solid #dee0e3;\n}\n.editor-main .root-container .table-block .table-left-border-shadow.active {\n  border-left-width: 1px;\n}\n.editor-main .root-container .table-block .table-right-border-shadow {\n  right: 0;\n  background: linear-gradient(90deg,rgba(31,35,41,0) 0,rgba(31,35,41,.1));\n  border-right: 0px solid #dee0e3;\n}\n.editor-main .root-container .table-block .table-right-border-shadow.active {\n  border-right-width: 1px;\n}\n\n\n.editor-main .root-container table.table-layout,\n.drag-snapshot-container table.table-layout {\n  width: calc(100% - var(--editor-block-content-padding-left));\n  table-layout: fixed;\n  text-align: left;\n}\n\n\n.editor-main .root-container table.table-layout,\n.editor-main .root-container .table-layout td,\n.editor-main .root-container .table-layout th {\n  border: 1px dashed;\n  border-color: transparent;\n  vertical-align: top;\n}\n\n.editor-main .root-container table.table-no-border,\n.editor-main .root-container .table-no-border td,\n.editor-main .root-container .table-no-border th {\n  border: 1px dashed;\n  border-color: transparent;\n}\n\n.editor-main:not(.readonly) .root-container .editor-block.focused table.table-no-border,\n.editor-main:not(.readonly) .root-container .editor-block.hover table.table-no-border,\n.drag-snapshot-container .editor-block table.table-no-border,\n.editor-main:not(.readonly) .root-container .editor-block.focused .table-no-border td,\n.editor-main:not(.readonly) .root-container .editor-block.hover .table-no-border td,\n.drag-snapshot-container .editor-block .table-no-border td,\n.editor-main:not(.readonly) .root-container .editor-block.focused .table-no-border th,\n.editor-main:not(.readonly) .root-container .editor-block.hover .table-no-border th,\n.drag-snapshot-container .editor-block .table-no-border th,\n.editor-main:not(.readonly) .root-container .editor-block.focused table.table-layout,\n.editor-main:not(.readonly) .root-container .editor-block.hover table.table-layout,\n.drag-snapshot-container .editor-block table.table-layout,\n.editor-main:not(.readonly) .root-container .editor-block.focused .table-layout td,\n.editor-main:not(.readonly) .root-container .editor-block.hover .table-layout td,\n.drag-snapshot-container .editor-block .table-layout td,\n.editor-main:not(.readonly) .root-container .editor-block.focused .table-layout th,\n.editor-main:not(.readonly) .root-container .editor-block.hover .table-layout th,\n.drag-snapshot-container .editor-block .table-layout th {\n  border-color: var(--editor-border-table-color);\n}\n\n.editor-main .root-container span.fake-caret{\n  width: 0;\n  display: inline-block;\n  position: relative;\n  height: 1em;\n}\n.drag-snapshot-container span.fake-caret {\n  display: none;\n}\n.editor-main .root-container span.fake-caret:before {\n  content: \" \";\n  width: 2px;\n  height: 8px;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n  opacity: .8;\n  background-color: var(--caret-color);\n  /* animation: fake-caret-frames 1040ms infinite steps(1, start); */\n}\n.editor-main .root-container span.fake-caret:after,\n.drag-snapshot-container span.fake-caret:after {\n  content: attr(data-user-name);\n  position: absolute;\n  top: -16px;\n  left: -8px;\n  padding:0 2px;\n  background-color: var(--caret-color);\n  color: var(--editor-fake-caret-user-color);\n  opacity: .95;\n  font-size: 12px;\n  border-radius: var(--editor-border-radius);\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 60px;\n}\n\n.editor-main .root-container .box-tag .box-tag-text,\n.drag-snapshot-container .box-tag .box-tag-text {\n  background-color: var(--editor-tag-box-bg-color);\n  padding-left: 8px;\n  padding-right: 8px;\n  border-radius: 12px;\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.editor-main .root-container .box-tag:before,\n.drag-snapshot-container .box-tag:before {\n  content: '*';\n  margin-left: -12px;\n  margin-right: 4px;\n  padding-left: 0px;\n  opacity: 0;\n}\n\n.editor-main .root-container .box-mention .box-mention-text,\n.drag-snapshot-container .box-mention .box-mention-text {\n  background-color: var(--editor-mention-bg-color);\n  color: var(--editor-mention-color);\n  padding: 0;\n  border-radius: 12px;\n  margin-left: 4px;\n  margin-right: 4px;\n  white-space: wrap;\n  word-break: break-all;\n  cursor: pointer;\n}\n.editor-main .root-container .box-mention:before,\n.drag-snapshot-container .box-mention:before {\n  content: '*';\n  margin-left: -12px;\n  margin-right: 4px;\n  padding-left: 0px;\n  opacity: 0;\n}\n.editor-main .root-container .box-mention.self .box-mention-text,\n.drag-snapshot-container .box-mention.self .box-mention-text {\n  background-color: var(--editor-mention-self-bg-color);\n  color: var(--editor-mention-self-color);\n  padding: 2px 0px;\n}\n\n.editor-main .root-container ol.editor-checkbox.editor-checked:not(.editor-list-text-only) li .box-mention,\n.drag-snapshot-container ol.editor-checkbox.editor-checked:not(.editor-list-text-only) li .box-mention {\n  color: var(--editor-placeholder-color);\n}\n\n.editor-main:not(.history) .editor-block.list-block.empty-block .list-ul.editor-checkbox.block-content .text-element {\n  position: relative;\n}\n\n.editor-main:not(.history):not(.readonly):not(.mobile) .editor-block.list-block.empty-block .list-ul.editor-checkbox.block-content .text-element::after {\n  content: var(--editor-checkbox-placeholder);\n  position: absolute;\n  top: 50%;\n  left: 0;\n  width: 100%;\n  color: var(--editor-placeholder-color);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 1;\n  bottom: 0;\n  margin-top: -0.5em;\n  cursor: text;\n  pointer-events: none;\n  user-select: none;\n  -webkit-user-select: none;\n}\n\n\n.editor-main .root-container .box-mention img,\n.drag-snapshot-container .box-mention img {\n  height: 20px;\n  width: 20px;\n  vertical-align: middle;\n  margin-bottom: 4px;\n  margin-right: 4px;\n  border-radius: 10px;\n}\n\n\n.editor-main .root-container .block-exclusive:not(.xmind-embed),\n.drag-snapshot-container .block-exclusive:not(.xmind-embed) {\n  background-color: #ebebeb;\n}\n.editor-main .root-container .block-exclusive > div,\n.drag-snapshot-container .block-exclusive > div {\n  opacity: 0.6;\n}\n\n.editor-main .root-container .block-exclusive:after,\n.drag-snapshot-container .block-exclusive:after {\n  content: attr(data-user-name);\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  padding:0 2px;\n  background: #faf8f3;\n  color: #f8ac09;\n  opacity: .95;\n  font-size: 12px;\n  border-radius: var(--editor-border-radius);\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 60px;\n}\n\n.editor-main .root-container .locked-by-user,\n.drag-snapshot-container .locked-by-user {\n  background-color: var(--editor-locked-bg-color);\n  color: var(--editor-locked-color);\n}\n/* .editor-main .root-container .locked-readonly {\n\n} */\n\n.editor-main .root-container .embed-block.webpage-embed iframe {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100px;\n  opacity: 0;\n  visibility: hidden;\n  pointer-events: none;\n  z-index: -1;\n}\n.editor-main .root-container .embed-block.webpage-embed.editor-webpage-loaded iframe {\n  position: static;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 1;\n  visibility: visible;\n  pointer-events: all;\n}\n\n.editor-main .root-container .embed-block.webpage-embed .embed-resize-tool {\n  display: none;\n}\n.editor-main .root-container .embed-block.webpage-embed.editor-webpage-loaded .embed-resize-tool {\n  display: block;\n}\n\n.editor-main .root-container .embed-block .editor-embed,\n.drag-snapshot-container .embed-block .editor-embed {\n  display: inline-block;\n}\n\n.history.editor-main .root-container .embed-block .editor-embed {\n  display: block;\n}\n\n.history.editor-main .root-container .embed-block .embed-container-office .editor-embed[data-preview-type='preview'] {\n  display: flex;\n}\n\n.editor-main .root-container .embed-block .editor-embed.editor-images-container,\n.drag-snapshot-container .embed-block .editor-embed.editor-images-container{\n  display: inline-flex;\n  align-items: flex-start;\n}\n\n.editor-main .root-container .embed-block img.editor-embed,\n.drag-snapshot-container .embed-block img.editor-embed {\n  display: block;\n  min-width: 5px;\n}\n\n.editor-main .root-container .embed-block hr.editor-embed,\n.drag-snapshot-container .embed-block hr.editor-embed {\n  display: block;\n  border: none;\n  border-top: 2px dashed #ccc;\n  margin-left: -8px;\n}\n\n.editor-block.embed-block.hr-embed {\n  padding-bottom: 0 !important;\n  padding-top: 4px !important;\n  margin-bottom: 0;\n}\n\n.editor-main .editor-block.embed-block.snapshot-embed {\n  color: var(--editor-color);\n  text-align: left;\n}\n\n.editor-main .editor-block.embed-block.snapshot-embed .embed-container.embed-container-snapshot.block-content {\n  width: 100%;\n}\n\n.editor-main .editor-block.embed-block.snapshot-embed .embed-container.embed-container-snapshot.block-content > .editor-embed {\n  width: 100%;\n}\n\n.editor-main .root-container .embed-block,\n.drag-snapshot-container .embed-block {\n  color: transparent;\n  caret-color: transparent;\n  text-align: center;\n  border: 1px solid transparent;\n  border-radius: var(--editor-border-radius);\n  padding: 8px;\n}\n\n.drag-snapshot-container .embed-block:focus-visible,\n.editor-main .root-container .embed-block:focus-visible {\n  outline: none;\n}\n\n.editor-main .root-container .embed-container,\n.drag-snapshot-container .embed-container {\n  outline: none;\n  display: inline-block;\n  position: relative;\n}\n\n.editor-main .root-container .embed-container.container-on-uploading:not(.embed-container-audio) {\n  display: flex;\n}\n\n.editor-main .root-container .embed-container.container-on-uploading.embed-container-audio {\n  width: 300px;\n}\n\n.embed-container-audio+.block-tools .upload-loading {\n  width: auto;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.editor-main .root-container .embed-block .embed-container-office {\n  width: 100%;\n  height: 100%;\n}\n.drag-snapshot-container .embed-container-office .editor-embed[data-preview-type~='preview'] {\n  width: 360px;\n  height: 230px;\n}\n\n.editor-main .root-container .embed-block .embed-container-card,\n.drag-snapshot-container .embed-block .embed-container-card {\n  width: auto;\n}\n\n.editor-main .root-container .embed-container-hr,\n.drag-snapshot-container .embed-container-hr {\n  width: 100%;\n  margin-left: 4px;\n}\n\n.editor-main .root-container .embed-block.embed-caret-left hr.editor-embed,\n.editor-main .root-container .embed-block.embed-caret-right hr.editor-embed,\n.editor-main .root-container .embed-block.embed-caret-full hr.editor-embed {\n  border-top: 2px dashed #448aff;\n  caret-color: transparent;\n}\n\n.editor-main .root-container .editor-block.embed-block.embed-caret-left:not(.locked-readonly) .embed-container-audio,\n.editor-main .root-container .editor-block.embed-block.embed-caret-right:not(.locked-readonly) .embed-container-audio,\n.editor-main .root-container .editor-block.embed-block.embed-caret-full:not(.locked-readonly) .embed-container-audio,\n.editor-main .root-container .editor-block.embed-block.office-embed.embed-caret-left:not(.locked-readonly) .embed-office-card,\n.editor-main .root-container .editor-block.embed-block.office-embed.embed-caret-right:not(.locked-readonly) .embed-office-card,\n.editor-main .root-container .editor-block.embed-block.office-embed.embed-caret-full:not(.locked-readonly) .embed-office-card,\n.editor-main .root-container .editor-block.embed-block.office-embed.embed-selected:not(.locked-readonly) .embed-office-card,\n.drag-snapshot-container .editor-block.embed-block.office-embed.embed-caret-left:not(.locked-readonly) .embed-office-card,\n.drag-snapshot-container .editor-block.embed-block.office-embed.embed-caret-right:not(.locked-readonly) .embed-office-card,\n.drag-snapshot-container .editor-block.embed-block.office-embed.embed-caret-full:not(.locked-readonly) .embed-office-card,\n.drag-snapshot-container .editor-block.embed-block.office-embed.embed-selected:not(.locked-readonly) .embed-office-card {\n  outline:1px solid #448aff;\n}\n\n/*\n.editor-main .root-container .embed-caret-left .embed-container:after {\n  content: \" \";\n  width: 1px;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  left: -8px;\n  opacity: .8;\n  background: black;\n  animation: fake-caret-frames 1040ms infinite steps(1, start);\n}\n\n.editor-main .root-container .embed-caret-right .embed-container:after {\n  content: \" \";\n  width: 1px;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  right: -8px;\n  opacity: .8;\n  background: black;\n  animation: fake-caret-frames 1040ms infinite steps(1, start);\n} */\n\n.editor-main .root-container .block-tools {\n  color: var(--editor-block-tools-color);\n  caret-color: currentColor;\n  user-select: none;\n  -webkit-user-select: none;\n}\n\n.editor-main .root-container .block-tools .sliding-tool-view-window {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  pointer-events: none;\n  z-index: var(--wiz-editor-z-sliding-tool-view-window);\n}\n\n.editor-main .root-container .editor-block.embed-block.editing {\n  background-color: var(--editor-code-bg-color);\n  min-height: 100px;\n}\n\n.editor-main .root-container .editor-block.embed-block.editing .embed-container.embed-container-math.block-content {\n  margin-top: 300px;\n}\n\n.editor-main .root-container .embed-code-editor-mask,\n.drag-snapshot-container .embed-code-editor-mask {\n  position: absolute;\n  top: 0;\n  left: 0px;\n  right: 0px;\n  bottom: 0;\n  background-color: var(--editor-code-bg-color);\n  z-index: var(--wiz-editor-z-embed-code-editor-mask);\n  padding: 8px;\n}\n\n.editor-main .root-container .embed-code-editor-mask textarea,\n.drag-snapshot-container .embed-code-editor-mask textarea {\n  width: 100%;\n  height: 100%;\n  resize: none;\n  outline: none;\n  padding: 12px;\n  border: 1px solid var(--editor-border-color);\n  border-radius: var(--editor-border-radius);\n  background-color: var(--editor-bg-color);\n  color: var(--editor-dialog-text-color);\n}\n\n.editor-main .block-menu-button {\n  position: absolute;\n  z-index: var(--wiz-editor-z-block-menu-button);\n  top: var(--editor-first-line-center-top);\n  left: 0px;\n  transform: translateX(-32px);\n  margin-top: -12px;\n  width: 24px;\n  height: 24px;\n  color: #adadad;\n}\n\n.editor-main.on-dragging .block-menu-button,\n.editor-main.on-dragging .editor-block:not(.empty-block) .block-menu-button.for-heading,\n.editor-main.on-dragging .editor-block:not(.empty-block) .block-menu-button.editor-heading-expand-button,\n.editor-main .editor-block.empty-block .block-menu-button.editor-heading-expand-button,\n.editor-main .editor-block.webpage-embed:not(.editor-webpage-loaded) .block-menu-button\n {\n  display: none;\n}\n\n.editor-main .editor-block:not(.empty-block) .block-menu-button.editor-heading-expand-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  left: -22px;\n  z-index: var(--wiz-editor-z-heading-expand-button);\n  cursor: pointer;\n}\n.editor-main.readonly:not(.mobile) .editor-block:not(.empty-block) .block-menu-button.editor-heading-expand-button {\n  left: -31px;\n}\n\n.editor-main.mobile .editor-block:not(.empty-block) .block-menu-button.editor-heading-expand-button,\n.editor-main.editor-hide-line-number.readonly .editor-block:not(.empty-block) .block-menu-button.editor-heading-expand-button {\n  transform: translateX(0);\n}\n.editor-main .editor-block.title-block:not(.empty-block) .block-menu-button.editor-heading-expand-button {\n  display: none;\n}\n\n.editor-main .block-menu-button .add,\n.editor-main .block-menu-button .more {\n  cursor: grab;\n}\n.editor-main .block-menu-button .more.dragNotAllowed {\n  cursor: default;\n}\n\n.editor-main .block-menu-button > .button {\n  width: 24px;\n  height: 24px;\n  color: #adadad;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor-main .editor-block:not(.empty-block) .block-menu-button.for-heading {\n  width: 24px;\n  left: -44px;\n  display: flex;\n  align-items: center;\n}\n\n.editor-main .block-menu-button .collapse {\n  display: none;\n  color: var(--editor-color);\n  cursor: pointer;\n}\n\n.editor-main .block-menu-button .expand {\n  display: none;\n  color: var(--editor-color);\n  cursor: pointer;\n}\n\n.editor-main .block-menu-button.for-table {\n  transform: translateX(-32px) translateY(-128%);\n}\n\n.editor-main h1 .block-menu-button {\n  top: var(--editor-first-line-center-top-h1);\n}\n.editor-main h2 .block-menu-button {\n  top: var(--editor-first-line-center-top-h2);\n}\n.editor-main h3 .block-menu-button {\n  top: var(--editor-first-line-center-top-h3);\n}\n.editor-main h4 .block-menu-button {\n  top: var(--editor-first-line-center-top-h4);\n}\n.editor-main h5 .block-menu-button {\n  top: var(--editor-first-line-center-top-h5);\n}\n.editor-main h6 .block-menu-button {\n  top: var(--editor-first-line-center-top-h6);\n}\n.editor-main .editor-heading-7 .block-menu-button {\n  top: var(--editor-first-line-center-top-h7);\n}\n.editor-main .editor-heading-8 .block-menu-button {\n  top: var(--editor-first-line-center-top-h8);\n}\n/* .editor-main .block-menu-button.for-table {\n  transform: translate(25%, -100%);\n} */\n.editor-main .block-menu-button .more {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 25px;\n  height: 25px;\n  border-radius: var(--editor-border-radius);\n}\n.editor-main:not(.mobile) .block-menu-button .more:hover {\n  background-color: var(--editor-block-entire-selected-bg-color);\n  color: var(--text-button-color-hover);\n}\n.editor-main .block-menu-button.for-empty .more {\n  display: none;\n}\n.editor-main .block-menu-button .add {\n  display: none;\n}\n.editor-main .block-menu-button.for-empty .add {\n  display: flex;\n}\n\n\n.editor-main .block-comment-btn {\n  display: flex;\n  border: 0;\n  background: transparent;\n  position: absolute;\n  outline: none;\n  padding: 0;\n  right: -28px;\n  top: var(--editor-first-line-center-top);\n  margin-top: -12px;\n  cursor: pointer;\n  border-radius: var(--editor-border-radius);\n  color: var(--editor-color);\n  width: 24px;\n  height: 24px;\n  justify-content: center;\n  align-items: center;\n}\n.editor-main .root-container > h1.editor-block .block-comment-btn {\n  top: var(--editor-first-line-center-top-h1);\n}\n.editor-main .root-container > h2.editor-block .block-comment-btn {\n  top: var(--editor-first-line-center-top-h2);\n}\n.editor-main .root-container > h3.editor-block .block-comment-btn {\n  top: var(--editor-first-line-center-top-h3);\n}\n.editor-main .root-container > h4.editor-block .block-comment-btn {\n  top: var(--editor-first-line-center-top-h4);\n}\n.editor-main .root-container > h5.editor-block .block-comment-btn {\n  top: var(--editor-first-line-center-top-h5);\n}\n.editor-main .root-container > h6.editor-block .block-comment-btn {\n  top: var(--editor-first-line-center-top-h6);\n}\n.editor-main .root-container > .editor-heading-7.editor-block .block-comment-btn {\n  top: var(--editor-first-line-center-top-h7);\n}\n.editor-main .root-container > .editor-heading-8.editor-block .block-comment-btn {\n  top: var(--editor-first-line-center-top-h8);\n}\n.editor-main:not(.mobile) .block-comment-btn:hover {\n  background: var(--comment-button-bg-color);\n}\n\n.editor-main .title-block .block-comment-btn {\n  display: none;\n  visibility: hidden;\n}\n\n.drag-cursor-layer {\n  position: fixed;\n  z-index: var(--wiz-editor-z-drag-cursor-layer);\n  /* pointer-events: none; */\n  cursor: grabbing;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.block-position-marking-line {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 2px;\n  background-color: var(--editor-marking-line-color);\n  z-index: var(--wiz-editor-z-block-position-marking-line);\n}\n\n.list-block .block-position-marking-line {\n  transform: translateY(4px);\n}\n.editor-block:last-child .block-position-marking-line {\n  transform: translateY(0px);\n}\n@keyframes fake-caret-frames {\n  0% {\n    opacity: 1;\n    display: block;\n  }\n  50% {\n    opacity: 0;\n    display: none;\n  }\n  100% {\n    opacity: 1;\n    display: block;\n  }\n}\n\n/*\nColorPalette\n*/\n.editor-color-palette {\n  padding: 4px 12px;\n}\n\n.editor-color-palette .editor-color-palette-title {\n  font-size: 12px;\n  color: var(--palette-title-color);\n}\n\n.editor-color-palette .editor-color-palette-colors,\n.editor-color-palette .editor-color-palette-bg-colors {\n  width: 224px;\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  cursor: default;\n  margin-bottom: 16px;\n}\n\n.editor-color-palette .editor-color-palette-item {\n  border-radius: var(--editor-border-radius);\n  width: 24px;\n  height: 24px;\n  margin: 8px 4px 0;\n  cursor: pointer;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.editor-color-palette .editor-color-palette-colors .editor-color-palette-item:before {\n  content: \"\";\n  border: 1px solid var(--palette-svg-border-color);\n  -webkit-transform: scale(.5);\n  -ms-transform: scale(.5);\n  transform: scale(.5);\n  -webkit-transform-origin: 0 0;\n  -ms-transform-origin: 0 0;\n  transform-origin: 0 0;\n  width: 46px;\n  height: 46px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  border-radius: var(--editor-border-radius);\n}\n.editor-color-palette .editor-color-palette-colors .editor-color-palette-item.active:before {\n  border-color: var(--palette-svg-active-border-color);\n}\n\n.editor-color-palette svg {\n  /* width: 24px;\n  height: 24px; */\n}\n\n.editor-color-palette .editor-color-palette-bg-colors svg {\n  border-radius: var(--editor-border-radius);\n  color: var(--palette-bg-svg-color);\n}\n\n.editor-color-palette .editor-color-palette-colors .editor-color-palette-item:hover:after {\n  content: \"\";\n  border: 4px solid var(--palette-svg-hover-border-color);\n  width: 24px;\n  height: 24px;\n  position: absolute;\n  left: -4px;\n  top: -4px;\n  border-radius: var(--editor-border-radius);\n}\n\n.editor-color-palette .editor-color-palette-bg-colors .editor-color-palette-item.active svg {\n  color: var(--palette-bg-svg-active-color);\n}\n\n.editor-color-palette .editor-color-palette-bg-colors .editor-color-palette-item:hover:before {\n  content: \"\";\n  border: 2px solid var(--palette-svg-border-color);\n  -webkit-transform: scale(.5);\n  transform: scale(.5);\n  -webkit-transform-origin: 0 0;\n  transform-origin: 0 0;\n  width: 60px;\n  height: 60px;\n  position: absolute;\n  left: -4px;\n  top: -4px;\n  border-radius: var(--editor-border-radius);\n}\n\n.editor-color-palette .editor-color-palette-tools {\n  width: 100%;\n  padding: 0 2px;\n  text-align: center;\n}\n.editor-color-palette .editor-color-palette-clear {\n  min-width: 72px;\n  outline: none;\n  color: var(--editor-color);\n  background-color: var(--palette-clear-button-bg-color);\n  border: 1px solid var(--editor-border-color);\n  border-radius: var(--editor-border-radius);\n  padding: 4px;\n  cursor: pointer;\n}\n.editor-color-palette .editor-color-palette-clear:hover,\n.editor-color-palette .editor-color-palette-clear:active {\n  color: var(--palette-clear-button-color-hover);\n  background-color: var(--palette-clear-button-bg-color-hover);\n}\n\n.tippy-box {\n  box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n}\n\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.menu-font-color {\n  color: #333;\n}\n\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-color-0,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-color-0:hover,\n.editor-main .root-container .style-color-0,\n.drag-snapshot-container .style-color-0,\n.editor-color-palette .style-color-0 {\n  color: var(--style-color-0);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-color-1,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-color-1:hover,\n.editor-main .root-container .style-color-1,\n.drag-snapshot-container .style-color-1,\n.editor-color-palette .style-color-1 {\n  color: var(--style-color-1);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-color-2,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-color-2:hover,\n.editor-main .root-container .style-color-2,\n.drag-snapshot-container .style-color-2,\n.editor-color-palette .style-color-2 {\n  color: var(--style-color-2);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-color-3,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-color-3:hover,\n.editor-main .root-container .style-color-3,\n.drag-snapshot-container .style-color-3,\n.editor-color-palette .style-color-3 {\n  color: var(--style-color-3);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-color-4,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-color-4:hover,\n.editor-main .root-container .style-color-4,\n.drag-snapshot-container .style-color-4,\n.editor-color-palette .style-color-4 {\n  color: var(--style-color-4);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-color-5,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-color-5:hover,\n.editor-main .root-container .style-color-5,\n.drag-snapshot-container .style-color-5,\n.editor-color-palette .style-color-5 {\n  color: var(--style-color-5);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-color-6,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-color-6:hover,\n.editor-main .root-container .style-color-6,\n.drag-snapshot-container .style-color-6,\n.editor-color-palette .style-color-6 {\n  color: var(--style-color-6);\n}\n\n.editor-main .root-container .style-bg-color-0,\n.drag-snapshot-container .style-bg-color-0  {\n  background-color: var(--style-bg-color-0);\n}\n.editor-main .root-container .style-bg-color-1,\n.drag-snapshot-container .style-bg-color-1 {\n  background-color: var(--style-bg-color-1);\n}\n.editor-main .root-container .style-bg-color-2,\n.drag-snapshot-container .style-bg-color-2 {\n  background-color: var(--style-bg-color-2);\n}\n\n.editor-main .root-container .style-bg-color-3,\n.drag-snapshot-container .style-bg-color-3 {\n  background-color: var(--style-bg-color-3);\n}\n\n.editor-main .root-container .style-bg-color-4,\n.drag-snapshot-container .style-bg-color-4 {\n  background-color: var(--style-bg-color-4);\n}\n.editor-main .root-container .style-bg-color-5,\n.drag-snapshot-container .style-bg-color-5 {\n  background-color: var(--style-bg-color-5);\n}\n.editor-main .root-container .style-bg-color-6,\n.drag-snapshot-container .style-bg-color-6 {\n  background-color: var(--style-bg-color-6);\n}\n.editor-main .root-container .style-bg-color-7,\n.drag-snapshot-container .style-bg-color-7 {\n  background-color: var(--style-bg-color-7);\n}\n.editor-main .root-container .style-bg-color-8,\n.drag-snapshot-container .style-bg-color-8 {\n  background-color: var(--style-bg-color-8);\n}\n.editor-main .root-container .style-bg-color-9,\n.drag-snapshot-container .style-bg-color-9 {\n  background-color: var(--style-bg-color-9);\n}\n.editor-main .root-container .style-bg-color-10,\n.drag-snapshot-container .style-bg-color-10 {\n  background-color: var(--style-bg-color-10);\n}\n.editor-main .root-container .style-bg-color-11,\n.drag-snapshot-container .style-bg-color-11 {\n  background-color: var(--style-bg-color-11);\n}\n.editor-main .root-container .style-bg-color-12,\n.drag-snapshot-container .style-bg-color-12 {\n  background-color: var(--style-bg-color-12);\n}\n.editor-main .root-container .style-bg-color-13,\n.drag-snapshot-container .style-bg-color-13 {\n  background-color: var(--style-bg-color-13);\n}\n\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-0,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-0:hover,\n.editor-color-palette .style-bg-color-0 {\n  background-color: var(--style-bg-color-0);\n  border-color: var(--style-bg-color-0);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-1,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-1:hover,\n.editor-color-palette .style-bg-color-1 {\n  background-color: var(--style-bg-color-1);\n  border-color: var(--style-bg-color-1);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-2,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-2:hover,\n.editor-color-palette .style-bg-color-2 {\n  background-color: var(--style-bg-color-2);\n  border-color: var(--style-bg-color-2);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-3,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-3:hover,\n.editor-color-palette .style-bg-color-3 {\n  background-color: var(--style-bg-color-3);\n  border-color: var(--style-bg-color-3);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-4,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-4:hover,\n.editor-color-palette .style-bg-color-4 {\n  background-color: var(--style-bg-color-4);\n  border-color: var(--style-bg-color-4);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-5,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-5:hover,\n.editor-color-palette .style-bg-color-5 {\n  background-color: var(--style-bg-color-5);\n  border-color: var(--style-bg-color-5);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-6,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-6:hover,\n.editor-color-palette .style-bg-color-6 {\n  background-color: var(--style-bg-color-6);\n  border-color: var(--style-bg-color-6);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-7,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-7:hover,\n.editor-color-palette .style-bg-color-7 {\n  background-color: var(--style-bg-color-7);\n  border-color: var(--style-bg-color-7);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-8,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-8:hover,\n.editor-color-palette .style-bg-color-8 {\n  background-color: var(--style-bg-color-8);\n  border-color: var(--style-bg-color-8);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-9,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-9:hover,\n.editor-color-palette .style-bg-color-9 {\n  background-color: var(--style-bg-color-9);\n  border-color: var(--style-bg-color-9);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-10,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-10:hover,\n.editor-color-palette .style-bg-color-10 {\n  background-color: var(--style-bg-color-10);\n  border-color: var(--style-bg-color-10);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-11,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-11:hover,\n.editor-color-palette .style-bg-color-11 {\n  background-color: var(--style-bg-color-11);\n  border-color: var(--style-bg-color-11);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-12,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-12:hover,\n.editor-color-palette .style-bg-color-12 {\n  background-color: var(--style-bg-color-12);\n  border-color: var(--style-bg-color-12);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-13,\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.style-bg-color-13:hover,\n.editor-color-palette .style-bg-color-13 {\n  background-color: var(--style-bg-color-13);\n  border-color: var(--style-bg-color-13);\n}\n\n/* List */\n.editor-main .root-container .editor-block.list-block {\n  margin-bottom: var(--editor-block-list-margin-bottom);\n}\n.editor-main .root-container .editor-block.list-block + .list-block {\n  margin-top: 0;\n}\n\n.editor-main .root-container ol,\n.drag-snapshot-container ol {\n  margin: 0;\n}\n\n.editor-main .root-container .list-block > .block-content,\n.drag-snapshot-container .list-block > .block-content {\n  padding-left: 8px;\n}\n\n.editor-main .root-container .block-content.level2,\n.drag-snapshot-container .block-content.level2 {\n  margin-left: 24px;\n}\n\n.editor-main .root-container .block-content.level3,\n.drag-snapshot-container .block-content.level3 {\n  margin-left: 48px;\n}\n\n.editor-main .root-container .block-content.level4,\n.drag-snapshot-container .block-content.level4 {\n  margin-left: 72px;\n}\n\n.editor-main .root-container .block-content.level5,\n.drag-snapshot-container .block-content.level5 {\n  margin-left: 96px;\n}\n\n.editor-main .root-container .block-content.level6,\n.drag-snapshot-container .block-content.level6 {\n  margin-left: 120px;\n}\n\n.editor-main .root-container .block-content.level7,\n.drag-snapshot-container .block-content.level7 {\n  margin-left: 144px;\n}\n\n.editor-main .root-container .block-content.level8,\n.drag-snapshot-container .block-content.level8 {\n  margin-left: 168px;\n}\n\n\n\n.editor-main .root-container .list-block .list-bullet-mask {\n  /* background-color: red; */\n  opacity: 0;\n  position: absolute;\n  cursor: pointer;\n  z-index: var(--wiz-editor-z-list-bullet-mask);\n}\n\n.editor-main .root-container .block-content.list-ol,\n.editor-main .root-container .block-content.list-ul,\n.drag-snapshot-container .block-content.list-ol,\n.drag-snapshot-container .block-content.list-ul {\n  list-style-type: none;\n}\n\n.editor-main .root-container .block-content.list-ol > li:before,\n.drag-snapshot-container .block-content.list-ol > li:before {\n  content: attr(data-start) \".\";\n  min-width: 24px;\n  display: inline-block;\n  color: #448aff;\n  font-family: Helvetica Neue,Consolas;\n  /* line-height: 1; */\n  margin-left: -24px;\n  margin-right: 0;\n  padding-left: 2px;\n  box-sizing: border-box;\n  white-space: nowrap;\n  border-radius: 2px;\n  text-align: left;\n}\n.editor-main .root-container .block-content.list-ol.list-hover > li {\n  cursor: default;\n}\n.editor-main .root-container .block-content.list-ol.list-hover > li:before {\n  background-color: transparent;\n}\n.editor-main:not(.list-bullet-click-disabled) .root-container[contenteditable=true] .block-content.list-ol.list-hover > li {\n  cursor: pointer;\n}\n.editor-main:not(.list-bullet-click-disabled) .root-container[contenteditable=true] .block-content.list-ol.list-hover > li:before {\n  background-color: rgba(51, 112, 255, 0.15);\n}\n.editor-main .root-container .block-content.list-ul.editor-list-text-only > li:before,\n.drag-snapshot-container .block-content.list-ul.editor-list-text-only > li:before,\n.editor-main .root-container .block-content.list-ol.editor-list-text-only > li:before,\n.drag-snapshot-container .block-content.list-ol.editor-list-text-only > li:before {\n  display: none;\n  padding-left: 0;\n}\n\n.editor-main .root-container .block-content.list-ul.editor-list-text-only > li,\n.editor-main .root-container .block-content.list-ol.editor-list-text-only > li,\n.drag-snapshot-container .block-content.list-ol.editor-list-text-only > li {\n  padding-left: 0;\n}\n\n.editor-main .root-container .list-block > .block-content.editor-list-text-only,\n.drag-snapshot-container .list-block > .block-content.editor-list-text-only {\n  padding-left: 8px;\n}\n\n.editor-main .root-container .list-ul.editor-checkbox.block-content > li,\n.drag-snapshot-container .list-ul.editor-checkbox.block-content > li {\n  padding-left: 0;\n}\n\n.editor-main .root-container .block-content.list-ol > li,\n.drag-snapshot-container .block-content.list-ol > li {\n  padding-left: 22px;\n}\n\n.editor-main .root-container .block-content.list-ul > li,\n.drag-snapshot-container .block-content.list-ul > li {\n  padding-left: 22px;\n}\n\n\n.editor-main .root-container .block-content.list-ul > li:before,\n.drag-snapshot-container .block-content.list-ul > li:before {\n  content: \"\\2022\";\n  margin-left: 2px;\n  margin-right: 16px;\n  position: absolute;\n  color: #448aff;\n  margin-left: -22px;\n}\n.editor-main .root-container h1 .block-content.list-ul > li:before {\n  margin-right: 23px;\n}\n.editor-main .root-container h2 .block-content.list-ul > li:before {\n  margin-right: 21px;\n}\n.editor-main .root-container h3 .block-content.list-ul > li:before {\n  margin-right: 18.8px;\n}\n.editor-main .root-container h4 .block-content.list-ul > li:before {\n  margin-right: 17px;\n}\n.editor-main .root-container h5 .block-content.list-ul > li:before {\n  margin-right: 15px;\n}\n\n/* Checkbox */\n.editor-main .root-container ol.editor-checkbox {\n  list-style: none;\n}\n\n.editor-main .root-container .block-content.list-ul.editor-checkbox > li:before {\n  display: none;\n}\n\n.editor-main .root-container ol.editor-checkbox.editor-list-text-only:before {\n  display: none;\n}\n\n.editor-main .root-container ol.editor-checkbox:before {\n  content: ' ';\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  border: 1px solid var(--editor-checkbox-color);\n  border-radius: var(--editor-border-radius);\n  position: absolute;\n  top: var(--editor-first-line-center-top);\n  left: 8px;\n  margin-top: -6px;\n}\n.editor-main .root-container h1 ol.editor-checkbox:before {\n  width: 20px;\n  height: 20px;\n  border-width: 2px;\n  margin-top: -12px;\n  top: var(--editor-first-line-center-top-h1);\n}\n.editor-main .root-container h2 ol.editor-checkbox:before {\n  width: 18px;\n  height: 18px;\n  border-width: 2px;\n  margin-top: -11px;\n  top: var(--editor-first-line-center-top-h2);\n}\n.editor-main .root-container h3 ol.editor-checkbox:before {\n  width: 16px;\n  height: 16px;\n  border-width: 2px;\n  margin-top: -10px;\n  top: var(--editor-first-line-center-top-h3);\n}\n.editor-main .root-container h4 ol.editor-checkbox:before {\n  border-width: 2px;\n  margin-top: -9px;\n  top: var(--editor-first-line-center-top-h4);\n}\n.editor-main .root-container h5 ol.editor-checkbox:before {\n  width: 12px;\n  height: 12px;\n  border-width: 2px;\n  margin-top: -8px;\n  top: var(--editor-first-line-center-top-h5);\n}\n.editor-main .root-container h6 ol.editor-checkbox:before {\n  width: 12px;\n  height: 12px;\n  border-width: 2px;\n  margin-top: -8px;\n  top: var(--editor-first-line-center-top-h6);\n}\n.editor-main .root-container .editor-heading-7 ol.editor-checkbox:before {\n  width: 12px;\n  height: 12px;\n  border-width: 2px;\n  margin-top: -8px;\n  top: var(--editor-first-line-center-top-h7);\n}\n.editor-main .root-container .editor-heading-8 ol.editor-checkbox:before {\n  width: 12px;\n  height: 12px;\n  border-width: 2px;\n  margin-top: -8px;\n  top: var(--editor-first-line-center-top-h8);\n}\n\n.editor-main:not(.readonly):not(.mobile) .root-container ol.editor-checkbox:hover,\n.editor-main:not(.readonly):not(.mobile) .root-container .editor-block.focused:not(.table-block) ol.editor-checkbox {\n  background-color: var(--editor-checkbox-layer-bg-color);\n}\n.editor-main .root-container ol.editor-checkbox.editor-checked:not(.editor-list-text-only) li {\n  color: var(--editor-placeholder-color);\n}\n.editor-main .root-container ol.editor-checkbox.editor-checked:before {\n  border-color: var(--editor-checkbox-checked-color);\n  background-color: var(--editor-checkbox-checked-color);\n  background-image: var(--editor-checkbox-checked-svg);\n  background-size: 7px 7px;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.editor-main:not(.readonly) .root-container ol.editor-checkbox.checkbox-hover {\n  cursor: pointer;\n}\n.editor-main:not(.readonly) .root-container ol.editor-checkbox.checkbox-hover:before {\n  border-color: var(--editor-checkbox-checked-color);\n}\n\n.editor-main .root-container .block-content.list-ul.editor-checkbox {\n  padding-left: 29.5px;\n  position: relative;\n}\n\n.editor-main .root-container .editor-block.editor-list-disable-calendar .block-content.list-ul.editor-checkbox {\n  padding-right: 0;\n}\n\n.editor-main.readonly .root-container .block-content.list-ul.editor-checkbox,\n.editor-main.mobile .root-container .block-content.list-ul.editor-checkbox {\n  padding-right: 0;\n}\n.editor-main.mobile .root-container .list-block .block-tools .block-tools-button-container .editor-add-reminder-button,\n.editor-main.mobile .root-container .list-block .block-tools .block-tools-button-container .editor-add-mention-button,\n.editor-main.mobile .root-container .list-block .block-tools .block-tools-button-container .view-as-mindmap  {\n  display: none !important;\n}\n\n\n.editor-main .root-container h1 .block-content.list-ul.editor-checkbox {\n  padding-left: 47px;\n}\n.editor-main .root-container h2 .block-content.list-ul.editor-checkbox {\n  padding-left: 43px;\n}\n.editor-main .root-container h3 .block-content.list-ul.editor-checkbox {\n  padding-left: 39.5px;\n}\n.editor-main .root-container h4 .block-content.list-ul.editor-checkbox {\n  padding-left: 36px;\n}\n.editor-main .root-container h5 .block-content.list-ul.editor-checkbox {\n  padding-left: 32px;\n}\n\n/* Math */\n.editor-main .root-container .box-math {\n  /* display: inline-flex; */\n  /* vertical-align: middle; */\n  /* padding: 4px 8px; */\n  color: var(--editor-color);\n  /* background-color: var(--editor-math-box-bg-color); */\n  border-radius: var(--editor-border-radius);\n}\n.editor-main .root-container .box-math.error {\n  color: var(--editor-error-color);\n}\n\n.editor-main .root-container .box-math span.fill,\n.editor-main .root-container .box-math span.fill {\n  display: inline-block;\n  width: 4px;\n  /* background-color: red; */\n}\n\n/*\n-------------------------- Marker -------------------------\n*/\n.editor-main .marker-container {\n  position: absolute;\n  top: -68px;\n  bottom: -24px;\n  left: -12px;\n  right: -12px;\n  z-index: var(--wiz-editor-z-marker-container);\n}\n\n.editor-marker-mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: var(--wiz-editor-z-marker-mask);\n  background-color: var(--editor-dialog-masking-bg-color);\n  backdrop-filter: blur(1px);\n}\n\n.editor-main .root-container img.editor-block-marker-image {\n  position: absolute;\n  top: -24px;\n  left: -12px;\n  z-index: 5;\n  pointer-events: none;\n  max-width: unset;\n  width: unset;\n}\n\n.editor-main .editor-block-edit-marker-image .block-content {\n  position: absolute !important;\n  z-index: var(--wiz-editor-z-marker-image-block-content);\n}\n.editor-main .editor-block-edit-marker-image .block-content,\n.editor-main .editor-block-show-marker-image .block-content,\n.editor-main .editor-block-show-marker-image.editor-block-marker-expired.editor-block-show-marker-expired .block-content{\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.editor-main .editor-block-show-marker-image.editor-block-marker-expired .block-content {\n  position: initial;\n}\n\n.editor-main .editor-block-edit-marker-image .block-tools > * {\n  display: none !important;\n}\n.editor-main .editor-block-edit-marker-image .block-tools > .marker-container {\n  display: block !important;\n}\n.editor-main .editor-block-marker-expired .editor-block-marker-image {\n  display: none;\n}\n\n.editor-main .editor-block-marker-expired.editor-block-show-marker-expired .editor-block-marker-image {\n  display: block;\n}\n\n.editor-main #sketchpad {top: 44px; background-color: var(--editor-sketchpad-bg-color); box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);}\n\n/*\n-------------------------- Code -------------------------\n*/\n\n.editor-main .root-container .editor-block.code-block .editor-code-config {\n  height: 32px;\n  width: 100%;\n  background-color: var(--editor-code-bg-color);\n  padding-left: 8px;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  user-select: none;\n  -webkit-user-select: none;\n  display: flex;\n  align-items: center;\n  padding-right: 8px;\n}\n\n.editor-main .root-container .editor-block.code-block .editor-code-config > * {\n  opacity: 0;\n  transition: opacity 0.3s ease-in;\n}\n\n.editor-main .root-container .editor-block.code-block:hover .editor-code-config > * {\n  opacity: 1;\n}\n\n.editor-main .root-container .editor-block.code-block .editor-code-config .editor-code-language {\n  background: transparent;\n  border: 0;\n  font-size: 14px;\n  height: 100%;\n  color: var(--editor-code-title-color);\n  outline: none;\n  padding-left: 8px;\n}\n.editor-main:not(.mac) .root-container .editor-block.code-block .editor-code-config .editor-code-language option {\n  background-color: var(--popover-menu-bg-color);\n  color: var(--popover-menu-color)\n}\n\n.editor-main.readonly .root-container .editor-block.code-block .editor-code-config .editor-code-language {\n  pointer-events: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  text-indent: 1px;\n  text-overflow: '';\n}\n\n.editor-main .root-container .editor-block.code-block .editor-code-config .editor-code-config-spacer {\n  flex-grow: 1;\n}\n\n.editor-main .root-container .editor-block.code-block .editor-code-config .editor-text-button {\n  width: 32px;\n  height: 24px;\n  padding: 1px 4px;\n}\n\n.editor-main .root-container .editor-block.code-block .block-content .editor-code-config .editor-code-wrap-button {\n  color: var(--text-button-color-hover);\n}\n\n.editor-main.readonly .root-container .editor-block.code-block .block-content .editor-code-config .editor-code-wrap-button {\n  display: none;\n}\n\n.editor-main .root-container .editor-block.code-block .block-content.editor-code-no-wrap .editor-code-config .editor-code-wrap-button {\n  color: var(--text-button-color);\n}\n\n.editor-main:not(.mobile) .root-container .editor-block.code-block .block-content.editor-code-no-wrap .editor-code-config .editor-code-wrap-button:hover {\n  color: var(--text-button-color-hover);\n}\n\n.editor-main .root-container .editor-block.code-block .editor-container {\n  padding: 6px 16px 24px 16px;\n  background-color: var(--editor-code-bg-color);\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n.editor-main .root-container .editor-block.code-block .editor-block {\n  margin: 0 0 4px;\n}\n\n.editor-main .root-container .code-line-block.editor-block * {\n  font-family: var(--editor-font-family-code);\n  font-size: 13px;\n}\n\n.editor-main .root-container .code-line-block.editor-block > * {\n  word-break: break-all;\n  white-space: pre-wrap;\n}\n\n.editor-main .root-container .editor-block.code-block .block-content.editor-code-no-wrap .editor-container.sub-container {\n  overflow-x: auto;\n}\n\n.editor-main .root-container .editor-block.code-block .block-content.editor-code-no-wrap .editor-container.sub-container .editor-block.code-line-block .block-content.text-element {\n  word-break: unset;\n  white-space: pre;\n}\n\n.editor-main .root-container .editor-block.code-block .block-content.editor-code-no-wrap .editor-container.sub-container .editor-block.code-line-block:not(.empty-block) .block-content.text-element:after {\n  content: ' ';\n  margin-right: 16px;\n}\n\n/**\n * prism.js default theme for JavaScript, CSS and HTML\n * Based on dabblet (http://dabblet.com)\n * @author Lea Verou\n */\n\n .style-token.style-comment,\n .style-token.style-prolog,\n .style-token.style-doctype,\n .style-token.style-cdata {\n   color: slategray;\n }\n\n .style-token.style-punctuation {\n   color: #999;\n }\n\n .style-token.style-namespace {\n   opacity: .7;\n }\n\n .style-token.style-property,\n .style-token.style-tag,\n .style-token.style-boolean,\n .style-token.style-number,\n .style-token.style-constant,\n .style-token.style-symbol,\n .style-token.style-deleted {\n   color: #905;\n }\n\n .style-token.style-selector,\n .style-token.style-attr-name,\n .style-token.style-string,\n .style-token.style-char,\n .style-token.style-builtin,\n .style-token.style-inserted {\n   color: #690;\n }\n\n .style-token.style-operator,\n .style-token.style-entity,\n .style-token.style-url,\n .language-css .style-token.style-string,\n .style .style-token.style-string {\n   color: #9a6e3a;\n   /* This background color was intended by the author of this theme. */\n   /* background: hsla(0, 0%, 100%, .5); */\n }\n\n .style-token.style-atrule,\n .style-token.style-attr-value,\n .style-token.style-keyword {\n   color: #07a;\n }\n\n .style-token.style-function,\n .style-token.style-class-name {\n   color: #DD4A68;\n }\n\n .style-token.style-regex,\n .style-token.style-important,\n .style-token.style-variable {\n   color: #e90;\n }\n\n .style-token.style-important,\n .style-token.style-bold {\n   font-weight: bold;\n }\n .style-token.style-italic {\n   font-style: italic;\n }\n\n .style-token.style-entity {\n   cursor: help;\n }\n\n.block-tools-button-container {\n  position: absolute;\n  right: 0;\n  top: var(--editor-first-line-center-top);\n  margin-top: -12px;\n}\nh1 .block-tools-button-container {\n  top: var(--editor-first-line-center-top-h1);\n}\nh2 .block-tools-button-container {\n  top: var(--editor-first-line-center-top-h2);\n}\nh3 .block-tools-button-container {\n  top: var(--editor-first-line-center-top-h3);\n}\nh4 .block-tools-button-container {\n  top: var(--editor-first-line-center-top-h4);\n}\nh5 .block-tools-button-container {\n  top: var(--editor-first-line-center-top-h5);\n}\n\n.editor-main .root-container .list-block .block-tools .block-tools-button-container .view-as-mindmap {\n  display: none;\n}\n\n.editor-main .root-container .list-block.hover:not(.list-text-only):not(.block-entire-hover) .block-tools .block-tools-button-container .view-as-mindmap {\n  display: flex;\n}\n\n.editor-main .root-container .list-block.hover .block-tools .block-tools-button-container .editor-add-mention-button:hover,\n.editor-main .root-container .list-block.hover .block-tools .block-tools-button-container .editor-add-reminder-button:hover,\n.editor-main .root-container .list-block.hover .block-tools .block-tools-button-container .view-as-mindmap:hover {\n  background: var(--comment-button-bg-color);\n  border-radius: var(--editor-border-radius);\n}\n\n\n.editor-main .root-container .list-block.hover .block-tools .block-tools-button-container .editor-add-mention-button:active:hover,\n.editor-main .root-container .list-block.hover .block-tools .block-tools-button-container .editor-add-reminder-button:active:hover,\n.editor-main .root-container .list-block.hover .block-tools .block-tools-button-container .view-as-mindmap:active:hover {\n  background: var(--comment-button-bg-color-active);\n}\n\n.editor-main .root-container .list-block .block-tools .block-tools-button-container .editor-add-reminder-button {\n  margin-left: 0;\n}\n\n/*\n-------------------------- Table -------------------------\n*/\n\n.editor-main .root-container .table-selection-mask {\n  position: absolute;\n  z-index: var(--wiz-editor-z-table-selection-mask);\n  pointer-events: none;\n  background-color: transparent;\n  margin-left: var(--editor-block-content-padding-left);\n}\n.editor-main .root-container table td.table-selected-cell {\n  background-color: var(--editor-table-selection-bg-color);\n  caret-color: transparent;\n}\n\n.editor-main .root-container .table-selection-mask.table-selection-delete-tag,\n.editor-main .root-container .table-block.editor-entire-selected.table-selection-delete-tag table {\n  background-color: var(--editor-table-selection-delete-mask-bg-color);\n}\n\n.table-creator {\n  padding: 4px;\n}\n\n.table-creator-row {\n  display: flex;\n}\n\n.table-creator-cell {\n  width: 16px;\n  height: 16px;\n  margin: 3px;\n  border: solid 1px var(--editor-border-table-color);\n}\n\n.table-creator-cell.active {\n  background-color: var(--table-active-color);\n}\n\n.table-toolbar {\n  display: none;\n}\n.table-toolbar-active .table-toolbar {\n  display: block;\n}\n.table-toolbar .table-block-menu-button-bg {\n  background: transparent;\n  transform: translateX(calc(-100% + 6px)) translateY(calc(-100% + 4px));\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 52px;\n  height: 44px;\n  opacity: 0;\n}\n.table-col-bar {\n  position: absolute;\n  top: -20px;\n  left: var(--editor-block-content-padding-left);\n  z-index: var(--wiz-editor-z-table-col-bar);\n  height: 20px;\n  /* max-width: calc(100% - var(--editor-block-content-padding-left) + 1px); */\n  overflow-x: hidden;\n  /* transform: translateY(-100%); */\n}\n.table-row-bar {\n  position: absolute;\n  top: 0;\n  left: var(--editor-block-content-padding-left);\n  z-index: var(--wiz-editor-z-table-row-bar);\n  width: 32px;\n  transform: translateX(-100%);\n}\n.table-col-bar-container {\n  display: flex;\n  padding-top: 14px;\n  position: relative;\n  height: 100%;\n}\n\n.table-row-bar-container {\n  width: 100%;\n  padding-left: 26px;\n  position: relative;\n  margin-top: 1px;\n}\n\n.table-col-bar-item {\n  height: 100%;\n  background-color: var(--editor-table-bar-bg-color);\n  flex-shrink: 0;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  display: block;\n}\n\n.table-row-bar-item {\n  width: 100%;\n  background-color: var(--editor-table-bar-bg-color);\n  margin: 0;\n  padding: 0;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  display: block;\n}\n\n.table-col-bar-item:hover,\n.table-row-bar-item:hover {\n  background-color: var(--editor-table-bar-bg-color-hover);\n}\n\n.table-col-bar-item.active,\n.table-row-bar-item.active {\n  background-color: var(--editor-table-bar-bg-color-active);\n}\n\n.table-col-bar-item.active.table-selection-delete-tag,\n.table-row-bar-item.active.table-selection-delete-tag,\n.editor-main .root-container .table-block.editor-entire-selected.table-selection-delete-tag .table-col-bar-item,\n.editor-main .root-container .table-block.editor-entire-selected.table-selection-delete-tag .table-row-bar-item {\n  background-color: var(--editor-table-delete-bar-bg-color-active);\n}\n\n.table-col-bar-btn {\n  position: absolute;\n  top: -6px;\n  left: var(--editor-block-content-padding-left);\n  right: 0;\n  height: 22px;\n  /* max-width: calc(100% + 24px); */\n  overflow-x: hidden;\n  transform: translateY(-100%);\n  margin-left: -12px;\n  margin-right: -12px;\n  pointer-events: none;\n  z-index: var(--wiz-editor-z-table-col-row-bar-button);\n}\n\n.table-row-bar-btn {\n  position: absolute;\n  top: 0;\n  left: calc(var(--editor-block-content-padding-left) - 10px);\n  width: 22px;\n  transform: translateX(-100%);\n  margin-top: -12px;\n  margin-bottom: -12px;\n  pointer-events: none;\n  z-index: var(--wiz-editor-z-table-col-row-bar-button);\n}\n\n.table-col-bar-btn-container {\n  margin-left: 12px;\n  margin-right: 12px;\n  height: 100%;\n}\n\n.table-bar-point-container {\n  height: 100%;\n}\n\n.table-col-bar-btn-container .table-bar-point-container {\n  display: flex;\n}\n\n.table-row-bar-btn-container {\n  margin-top: 12px;\n  margin-bottom: 12px;\n}\n\n.table-col-bar-btn-container .table-bar-point-container .table-bar-point {\n  position: relative;\n  height: 100%;\n  flex-shrink: 0;\n}\n\n.table-row-bar-btn-container .table-bar-point-container .table-bar-point {\n  position: relative;\n  width: 100%;\n  height: 1px;\n  flex-shrink: 0;\n}\n\n\n.table-col-bar-point-item{\n  width: 4px;\n  height: 4px;\n  position: absolute;\n  left: 0;\n  top: 12px;\n  transform: translate(-50%, -50%);\n  border-radius: 2px;\n  background-color: var(--editor-table-bar-bg-color);\n  cursor: pointer;\n  pointer-events: auto;\n}\n\n.table-row-bar-point-item {\n  width: 4px;\n  height: 4px;\n  position: absolute;\n  left: 15px;\n  top: 0;\n  transform: translate(-50%, -50%);\n  border-radius: 2px;\n  background-color: var(--editor-table-bar-bg-color);\n  cursor: pointer;\n  pointer-events: auto;\n}\n.table-bar-delete-button {\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 2px;\n  border: none;\n  outline: none;\n  background-color: var(--popover-toolbar-bg-color);\n  color: var(--popover-toolbar-color);\n  cursor: pointer;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  pointer-events: auto;\n  z-index: var(--wiz-editor-z-table-tool-bar-button);\n}\n\n.table-col-bar-container .table-bar-delete-button {\n  transform: translateX(-50%);\n}\n.table-row-bar-container .table-bar-delete-button {\n  transform: translateY(-50%);\n}\n\n.table-bar-button {\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  /* border-radius: 10px 10px 0px 10px; */\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 2px;\n  border: none;\n  outline: none;\n  opacity: 0;\n  background-color: var(--popover-toolbar-bg-color);\n  pointer-events: auto;\n  padding: 0;\n  cursor: pointer;\n  z-index: var(--wiz-editor-z-table-tool-bar-button);\n}\n.table-bar-button[data-type=\"col\"] {\n  transform: translateX(-50%) scale(0);\n}\n.table-bar-button[data-type=\"row\"] {\n  transform: translateY(-50%) scale(0);\n}\n.table-bar-button.active {\n  opacity: 1;\n  transition: opacity .2s ease-in, transform .2s ease-in;\n}\n.table-bar-button.hover {\n  background-color: var(--popover-toolbar-button-color-active);\n}\n\n.table-bar-button.active[data-type=\"col\"] {\n  transform: translateX(-50%) scale(1);\n}\n.table-bar-button.active[data-type=\"row\"] {\n  transform: translateY(-50%) scale(1);\n}\n\n.table-bar-button::before {\n  content: '';\n  display: block;\n  width: 1px;\n  height: 10px;\n  background-color: var(--popover-toolbar-color);\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.table-bar-button::after {\n  content: '';\n  display: block;\n  width: 10px;\n  height: 1px;\n  background-color: var(--popover-toolbar-color);\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.table-bar-button.hover::before,\n.table-bar-button.hover::after {\n  background-color: #fff;\n}\n.table-bar-line {\n  position: absolute;\n  background-color: var(--table-active-color);\n  display: none;\n  margin-left: var(--editor-block-content-padding-left);\n}\n\n.table-bar-line[data-type=\"col\"] {\n  width: 1px;\n  top: 0;\n  transform: translateX(-50%);\n}\n.table-bar-line[data-type=\"row\"] {\n  height: 1px;\n  left: 0;\n  transform: translateY(-50%);\n}\n.table-bar-line.hover[data-type=\"col\"] {\n  width: 2px;\n}\n.table-bar-line.hover[data-type=\"row\"] {\n  height: 2px;\n}\n\n.table-resize-tool {\n  top: 0;\n  width: 16px;\n  position: absolute;\n  display: none;\n  margin-left: var(--editor-block-content-padding-left);\n  transform: translateX(-50%);\n  pointer-events: auto;\n  cursor: col-resize;\n}\n.table-resize-tool::after {\n  content: '';\n  position: absolute;\n  width: 2px;\n  background-color: var(--table-active-color);\n  left: 50%;\n  top: 0;\n  bottom: 0;\n  transform: translateX(-50%);\n}\n.table-resize-tool.active {\n  display: block;\n}\n\n.editor-block-scrollbar {\n  visibility: hidden;\n  pointer-events: none;\n  overflow-x: auto;\n  overflow-y: hidden;\n  position: absolute;\n  bottom: -18px;\n  left: var(--editor-block-content-padding-left);\n  z-index: var(--wiz-editor-z-block-scrollbar);\n}\n.editor-main.mobile .editor-block-scrollbar {\n  display: none !important;\n}\n.editor-main.custom-table-scrollbar .editor-block-scrollbar,\n.editor-block-scrollbar.active {\n  visibility: visible;\n  pointer-events: all;\n}\n.editor-main.custom-table-scrollbar .editor-block-scrollbar.table-layout-scrollbar {\n  visibility: hidden;\n}\n.editor-main:not(.readonly) .root-container .editor-block.hover .editor-block-scrollbar.table-layout-scrollbar,\n.editor-main:not(.readonly) .root-container .editor-block.focused .editor-block-scrollbar.table-layout-scrollbar {\n  visibility: visible;\n}\n.editor-main .root-container .table-block .table-border-shadow.table-layout-border-shadow {\n  opacity: 0;\n}\n.editor-main:not(.readonly) .root-container .editor-block.hover .table-border-shadow.table-layout-border-shadow.active,\n.editor-main:not(.readonly) .root-container .editor-block.focused .table-border-shadow.table-layout-border-shadow.active {\n  opacity: 1;\n}\n\n.editor-block-scrollbar.fixed {\n  position: fixed;\n  bottom: 4px;\n}\n\n.editor-main.mac .editor-block-scrollbar {\n  bottom: -12px;\n  opacity: 0.6;\n  transition: opacity 100ms ease-in-out;\n}\n.editor-main.mac .editor-block-scrollbar.fixed {\n  bottom: 4px;\n}\n.editor-main.mac .editor-block-scrollbar:hover {\n  opacity: 1;\n}\n.editor-block-scrollbar div {\n  height: 1px;\n}\n\n.block-menu-style-commands {\n  max-width: 180px;\n  margin: 0 10px;\n}\n\n.editor-preview-no-support {\n  margin: auto;\n  font-size: 14px;\n  color: var(--style-color-6);\n}\n\n.drag-snapshot-container .editor-preview-no-support,\n.drag-snapshot-container .editor-preview-loading {\n  display: none;\n}\n\n.drag-snapshot-container .editor-preview-iframe,\n.editor-main .editor-preview-iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n  overflow: hidden;\n}\n\n.editor-main .editor-preview-iframe-loading {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: 1px solid var(--editor-block-entire-selected-embed-border-color);\n}\n\n.editor-main .editor-embed-iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n  overflow: hidden;\n}\n\n.editor-main .embed-block .editor-preview-iframe-container {\n  flex: 1;\n}\n\n.editor-main .embed-block .editor-preview-drag-wall {\n  display: none;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: var(--wiz-editor-z-preview-drag-wall);\n}\n\n.editor-main .embed-block .editor-preview-loading {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 41px;\n  font-size: 12px;\n  color: #5587F0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  display: none;\n\n  background-color: #ffffff;\n  border-radius: var(--editor-border-radius);\n}\n\n.editor-main .embed-block .editor-preview-drag {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  bottom: -4px;\n  width: 50px;\n  height: 5px;\n  background-color: var(--office-preview-border-color);\n  border-radius: 0 0 3px 3px;\n  cursor: ns-resize;\n}\n\n.editor-main.readonly .embed-block .editor-preview-drag {\n  display: none;\n}\n\n.editor-main .embed-block .editor-preview-info,\n.drag-snapshot-container .editor-preview-info {\n  display: flex;\n  padding: 0 12px;\n  height: 40px;\n  background: var(--office-preview-info-bg-color);\n  border-top: 1px solid var(--office-preview-border-color);\n  font-size: 12px;\n  line-height: 1;\n  color: var(--office-preview-info-text-color);\n  align-items: center;\n  border-radius: 0 0 var(--editor-border-radius) var(--editor-border-radius);\n  white-space: nowrap;\n  fill: var(--office-preview-info-text-color);\n}\n.drag-snapshot-container .editor-preview-info {\n  background: var(--office-preview-border-color);\n}\n\n.editor-main .embed-block .editor-preview-info svg,\n.drag-snapshot-container .editor-preview-info svg {\n  min-width: 18px;\n}\n\n.editor-preview-info .editor-preview-filename-front {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 800px;\n}\n\n.editor-main .editor-preview-info .office-handle-download {\n  color: #333333;\n  cursor: pointer;\n}\n\n.editor-main:not(.mobile) .editor-preview-info .office-handle-download:hover {\n  color: #006eff;\n}\n\n.editor-main .embed-block .embed-container-office {\n  /* width: 100%;\n  height: 600px;\n  max-height: 600px;\n  overflow: hidden; */\n}\n\n.drag-snapshot-container .editor-embed[data-embed-type=office],\n.editor-main .editor-embed[data-embed-type=office] {\n  width: 100%;\n  height: 100%;\n}\n\n.editor-main .editor-embed[data-embed-type=chartjs] {\n  display: flex !important;\n  align-items: center;\n}\n\n.drag-snapshot-container .embed-container-webpage,\n.editor-main .root-container .embed-block .embed-container-webpage {\n  width: 100%;\n  overflow: hidden;\n  padding-top: 4px;\n}\n.drag-snapshot-container .embed-container-webpage .editor-embed {\n  max-width: 310px;\n  max-height: 190px;\n}\n\n.drag-snapshot-container .embed-container-webpage .editor-embed[data-embed-type=webpage],\n.editor-main .root-container .embed-block .embed-container-webpage .editor-embed {\n  height: 400px;\n  width: 100%;\n  max-width: 100%;\n}\n\n.editor-main.mobile .root-container .embed-block.webpage-embed {\n  padding: 0;\n}\n\n.editor-main.mobile .root-container .embed-block .embed-container-webpage .editor-embed {\n  height: unset;\n}\n\n.editor-main.mobile .root-container .embed-block .embed-container-webpage .editor-embed .editor-webpage-mobile-link {\n  text-align: left;\n  width: 100%;\n  display: block;\n}\n\n.editor-main .root-container .embed-block.editor-entire-selected .embed-container-webpage .editor-embed {\n  outline: 1px solid var(--editor-block-entire-selected-embed-border-color);\n}\n.drag-snapshot-container .editor-embed[data-embed-type=webpage],\n.editor-main .editor-embed[data-embed-type=webpage] {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n.drag-snapshot-container .editor-embed[data-preview-type=card],\n.editor-main .editor-embed[data-preview-type=card] {\n  width: auto;\n  height: auto;\n  color: var(--editor-color);\n  display: inline-block;\n  padding: 4px 0;\n}\n\n.drag-snapshot-container .editor-embed[data-preview-type=preview],\n.editor-main .embed-container .editor-embed[data-preview-type=preview],\n.editor-main .container-on-uploading .editor-embed[data-embed-type=video],\n.editor-main .block-tools .editor-embed[data-embed-type=video],\n.editor-main .container-on-uploading .editor-embed[data-embed-type=audio],\n.editor-main .block-tools .editor-embed[data-embed-type=audio] {\n  position: relative;\n  display: flex;\n  flex-direction: column-reverse;\n  border: 1px solid var(--office-preview-border-color);\n  border-radius: var(--editor-border-radius);\n  width: 100%;\n  height: 460px;\n  max-height: 600px;\n  min-height: 240px;\n  color: var(--editor-color);\n  padding: 0;\n}\n\n.editor-main .container-on-uploading .editor-embed[data-embed-type=audio],\n.editor-main .block-tools .editor-embed[data-embed-type=audio] {\n  height: 120px;\n  min-height: auto;\n}\n.drag-snapshot-container .editor-embed[data-preview-type=preview] {\n  width: 100%;\n  height: 100%;\n  max-height: none;\n  min-height: none;\n  background: var(--office-preview-info-bg-color);\n}\n\n.editor-main .block-entire-hover .embed-container .editor-embed[data-preview-type=preview] {\n  border-color: var(--editor-block-entire-hover-embed-border-color);\n}\n\n.embed-office-card-fixed {\n  position: fixed;\n  text-align: left;\n  background-color: var(--office-card-bg-color);\n  cursor: pointer;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  transform: translate(-50%, -50%) scale(0.7);\n  pointer-events: none;\n  z-index: var(--wiz-editor-z-embed-office-card);\n}\n\n.drag-snapshot-container .embed-office-card,\n.editor-main .embed-office-card {\n  text-align: left;\n  background-color: var(--office-card-bg-color);\n  cursor: pointer;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  /* max-width: 360px; */\n  min-width: 360px;\n}\n\n.drag-snapshot-container .editor-block.embed-block.office-embed,\n.editor-main .editor-block.embed-block.office-embed {\n  text-align: left;\n}\n\n.embed-office-card .office-card-icon {\n  display: flex;\n  width: 36px;\n  height: 36px;\n  margin: 6px 6px 6px 12px;\n}\n\n.embed-office-card .office-card-icon svg {\n  width: auto;\n  height: auto;\n}\n\n.embed-office-card .office-card-info {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n}\n\n.editor-main.mobile .editor-block.embed-block.office-embed {\n  padding: 0;\n}\n\n.editor-main.mobile .embed-container.embed-container-office.embed-container-card.block-content,\n.editor-main.mobile .embed-container.embed-container-office.embed-container-card.block-content .editor-embed,\n.editor-main.mobile .embed-container.embed-container-office.embed-container-card.block-content .editor-embed .embed-office-card {\n  max-width: 100%;\n}\n\n.editor-main.mobile .embed-container.embed-container-office.embed-container-card.block-content .editor-embed .embed-office-card {\n  min-width: 300px;\n  max-width: 300px;\n  width: 300px;\n}\n\n.editor-main.mobile .embed-office-card .office-card-info {\n  overflow: hidden;\n  padding-right: 12px;\n}\n\n.embed-office-card .office-card-handle {\n  display: flex;\n  padding-right: 4px;\n  min-width: 104px;\n  flex-direction: row-reverse;\n  flex-shrink: 0;\n  padding-left: 8px;\n}\n\n.embed-office-card .office-handle-button {\n  width: 34px;\n  height: 34px;\n  background-color: var(--office-card-button-bg-color);\n  border: 1px solid var(--office-card-button-border-color);\n  border-radius: 50%;\n  margin: 0 4px;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.editor-main.readonly .embed-office-card .office-handle-button.editor-edit-office,\n.editor-main.readonly .editor-block.locked-readonly .embed-office-card .office-handle-button.editor-edit-office {\n  display: none;\n}\n\n.editor-main .embed-office-card .office-handle-button svg {\n  color: var(--office-card-name);\n  fill: currentColor;\n}\n\n.editor-main:not(.mobile) .embed-office-card .office-handle-button:hover svg {\n  color: #006EFF;\n}\n\n.editor-main .embed-office-card .office-handle-button.office-handle-preview {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExLjk4OSAxNi42MWMyLjM1NSAwIDQuNTM1LTEuNDg1IDYuNTU2LTQuNjk2LTEuOTY5LTMuMi00LjE0NC00LjY3OS02LjU1Ni00LjY3OS0yLjQxMSAwLTQuNTc5IDEuNDc4LTYuNTM0IDQuNjc5IDIuMDA3IDMuMjEyIDQuMTggNC42OTcgNi41MzQgNC42OTd6TTQgMTEuOTI1YzIuMTg1LTQuMDg3IDQuODQ4LTYuMTMxIDcuOTg4LTYuMTMxIDMuMTQgMCA1LjgxMSAyLjA0NCA4LjAxMiA2LjEzMS0yLjI2MiA0LjA4Ni00LjkzMiA2LjEzLTguMDEyIDYuMTNTNi4yNDYgMTYuMDEgNCAxMS45MjN6bTggMi44ODRjMS42MDcgMCAyLjkxLTEuMjkyIDIuOTEtMi44ODUgMC0xLjU5My0xLjMwMy0yLjg4NS0yLjkxLTIuODg1LTEuNjA3IDAtMi45MSAxLjI5Mi0yLjkxIDIuODg1IDAgMS41OTMgMS4zMDMgMi44ODUgMi45MSAyLjg4NXptMC0xLjQ0M2ExLjQ0OSAxLjQ0OSAwIDAgMS0xLjQ1NS0xLjQ0MmMwLS43OTYuNjUyLTEuNDQyIDEuNDU1LTEuNDQyczEuNDU1LjY0NiAxLjQ1NSAxLjQ0MmMwIC43OTctLjY1MiAxLjQ0Mi0xLjQ1NSAxLjQ0MnoiIGZpbGw9IiMxRjIzMjkiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==);\n}\n\n.editor-main:not(.mobile) .embed-office-card .office-handle-button.office-handle-preview:hover {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExLjk4OSAxNi42MWMyLjM1NSAwIDQuNTM1LTEuNDg1IDYuNTU2LTQuNjk2LTEuOTY5LTMuMi00LjE0NC00LjY3OS02LjU1Ni00LjY3OS0yLjQxMSAwLTQuNTc5IDEuNDc4LTYuNTM0IDQuNjc5IDIuMDA3IDMuMjEyIDQuMTggNC42OTcgNi41MzQgNC42OTd6TTQgMTEuOTI1YzIuMTg1LTQuMDg3IDQuODQ4LTYuMTMxIDcuOTg4LTYuMTMxIDMuMTQgMCA1LjgxMSAyLjA0NCA4LjAxMiA2LjEzMS0yLjI2MiA0LjA4Ni00LjkzMiA2LjEzLTguMDEyIDYuMTNTNi4yNDYgMTYuMDEgNCAxMS45MjN6bTggMi44ODRjMS42MDcgMCAyLjkxLTEuMjkyIDIuOTEtMi44ODUgMC0xLjU5My0xLjMwMy0yLjg4NS0yLjkxLTIuODg1LTEuNjA3IDAtMi45MSAxLjI5Mi0yLjkxIDIuODg1IDAgMS41OTMgMS4zMDMgMi44ODUgMi45MSAyLjg4NXptMC0xLjQ0M2ExLjQ0OSAxLjQ0OSAwIDAgMS0xLjQ1NS0xLjQ0MmMwLS43OTYuNjUyLTEuNDQyIDEuNDU1LTEuNDQyczEuNDU1LjY0NiAxLjQ1NSAxLjQ0MmMwIC43OTctLjY1MiAxLjQ0Mi0xLjQ1NSAxLjQ0MnoiIGZpbGw9IiMwN0YiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==);\n}\n\n.editor-main .embed-office-card .office-handle-button.office-handle-download {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0iIzJCMkYzNiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuNSAxNi44N3YxLjg3YzAgLjQxLS4zNC43NS0uNzUuNzVINS4yNWEuNzUuNzUgMCAwIDEtLjc1LS43NXYtMS44OGMwLS4yLjE3LS4zNy4zOC0uMzdoLjc1Yy4yIDAgLjM3LjE3LjM3LjM4djEuMTJoMTJ2LTEuMTNjMC0uMi4xNy0uMzcuMzgtLjM3aC43NWMuMiAwIC4zNy4xNy4zNy4zOHptLTYuNzQtMy4zNWwyLjE2LTIuMTZhLjM4LjM4IDAgMCAxIC41MyAwbC41My41M2MuMTQuMTQuMTQuMzggMCAuNTNsLTMuNzEgMy43MWEuMzcuMzcgMCAwIDEtLjU0IDBsLTMuNy0zLjcxYS4zNy4zNyAwIDAgMSAwLS41M2wuNTItLjUzYS4zOC4zOCAwIDAgMSAuNTMgMGwyLjE4IDIuMTdWNC44OGMwLS4yMS4xNi0uMzguMzctLjM4aC43NWMuMiAwIC4zOC4xNy4zOC4zOHY4LjY0eiIvPjwvc3ZnPg==);\n}\n\n.editor-main:not(.mobile) .embed-office-card .office-handle-button.office-handle-download:hover {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMCAwaDI0djI0SDB6Ii8+PHBhdGggZD0iTTE5LjUgMTYuMzc1djEuODc1YS43NS43NSAwIDAgMS0uNzUuNzVINS4yNWEuNzUuNzUgMCAwIDEtLjc1LS43NXYtMS44NzVjMC0uMjA3LjE2OC0uMzc1LjM3NS0uMzc1aC43NWMuMjA3IDAgLjM3NS4xNjguMzc1LjM3NVYxNy41aDEydi0xLjEyNWMwLS4yMDcuMTY4LS4zNzUuMzc1LS4zNzVoLjc1Yy4yMDcgMCAuMzc1LjE2OC4zNzUuMzc1em0tNi43NDMtMy4zNDhsMi4xNi0yLjE2YS4zNzUuMzc1IDAgMCAxIC41MyAwbC41My41M2EuMzc1LjM3NSAwIDAgMSAwIC41M2wtMy43MTIgMy43MTNhLjM3NC4zNzQgMCAwIDEtLjUzIDBsLTMuNzEyLTMuNzEzYS4zNzUuMzc1IDAgMCAxIDAtLjUzbC41My0uNTNhLjM3NS4zNzUgMCAwIDEgLjUzIDBsMi4xNzQgMi4xNzNWNC4zODdjMC0uMjA3LjE2OC0uMzc1LjM3NS0uMzc1aC43NWMuMjA3IDAgLjM3NS4xNjguMzc1LjM3NXY4LjY0eiIgZmlsbD0iIzA3RiIvPjwvZz48L3N2Zz4=);\n}\n\n.editor-main .embed-office-card .office-card-name {\n  max-width: 185px;\n  font-size: 14px;\n  line-height: 22px;\n  margin-top: 6px;\n  color: var(--office-card-name);\n  white-space: nowrap;\n  overflow: hidden;\n  display: flex;\n}\n\n.editor-main .embed-office-card .office-card-name .office-card-filename-front {\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.editor-main .embed-office-card .office-card-size {\n  white-space: nowrap;\n  font-size: 12px;\n  margin-bottom: 6px;\n  line-height: 14px;\n  color: var(--office-card-size);\n}\n\n.editor-main .editor-quote-block .block-content {\n  border-left: 4px solid var(--editor-quoted-border-color);\n  padding-left: var(--editor-quote-block-padding-left);\n  color: var(--editor-quoted-color);\n}\n\n.editor-main .editor-quote-block .block-content svg {\n  color: var(--editor-quoted-color);\n}\n\n.editor-main .root-container .editor-quote-block {\n  margin-bottom: 0;\n}\n\n.editor-main .root-container .editor-block.editor-quote-block + .editor-quote-block {\n  margin-top: -4px;\n}\n\n.editor-main .editor-menu-container {\n  min-width: 120px;\n}\n\n.editor-drawio-content {\n  /* min-width: 300px; */\n  /* min-height: 150px; */\n  color: inherit;\n}\n\n.editor-drawio-iframe-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: var(--wiz-editor-z-draw-io);\n  background-color: #f7f6f3;\n}\n\n.editor-drawio-iframe-container.loading:before {\n  content: attr(data-placeholder);\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #f7f6f3;\n  z-index: 2;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor-drawio-iframe {\n  width: 100%;\n  height: 100%;\n}\n\n.editor-drawio-iframe-container.loading .editor-drawio-iframe {\n  visibility: hidden;\n}\n\n\n.editor-main .editor-block .block-content .editor-drawio-content.editor-embed {\n  padding: 4px;\n}\n\n.editor-main .editor-block.embed-block.drawio-embed.has-draft {\n  border: red 1px solid;\n  padding-bottom: 24px;\n}\n\n.editor-main .editor-block.embed-block.drawio-embed.has-draft:after {\n  content: attr(data-draft-text);\n  color: red;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 4px;\n  z-index: 1;\n}\n\n.editor-main .editor-block .block-content .editor-empty-drawio.editor-drawio-content.editor-embed {\n  width: 240px;\n  height: 80px;\n  display: inline-block;\n  /* background-color: var(--editor-quoted-border-color); */\n  /* border-radius: 4px; */\n}\n\n.editor-main .editor-block .block-content .editor-empty-drawio.editor-drawio-content.editor-embed::before {\n  background-image: var(--editor-drawio-empty-svg);\n  position: absolute;\n  content: ' ';\n  color: var(--editor-quoted-color);\n  top: 8px;\n  left: calc(50% - 24px);\n  width: 48px;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor-main .editor-block .block-content .editor-empty-drawio.editor-drawio-content.editor-embed::after {\n  position: absolute;\n  content: attr(date-empty-drawio-content);\n  color: var(--editor-quoted-color);\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  top: 50%;\n}\n\n.editor-mermaid-container {\n  display: none;\n}\n\n.editor-main .editor-block.embed-block .empty-embed {\n  width: 100%;\n  min-height: 106px;\n  background-color: var(--editor-code-bg-color);\n}\n\n.editor-main .editor-block.embed-block .empty-embed::after {\n  content: attr(data-empty-text);\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  display:flex;\n  flex-direction:row;\n  align-items: center;\n  justify-content: center;\n  color: var(--editor-color);\n  white-space: nowrap;\n}\n\n\n.editor-main .editor-block.embed-block .editor-invalid-code:not(.empty-embed) {\n  width: 200px;\n  height: 100px;\n}\n\n.editor-main .editor-block.embed-block .editor-invalid-code:not(.empty-embed) svg {\n  display: none;\n}\n\n.editor-main .editor-block.embed-block .editor-invalid-code:not(.empty-embed)::after {\n  content: attr(data-invalid-text);\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  outline: 1px solid red;\n  display:flex;\n  flex-direction:row;\n  align-items: center;\n  justify-content: center;\n  color: red;\n}\n\n.editor-main .editor-block.embed-block.focused .editor-invalid-code:not(.empty-embed)::after {\n  outline: none;\n}\n\n.editor-quick-editable {\n  cursor: pointer;\n}\n\n.editor-block.locked-readonly.focused {\n  outline:1px solid #448aff;\n}\n\n\n.editor-main .root-container .embed-block .embed-container-plantuml,\n.editor-main .root-container .embed-block .embed-container-math,\n.editor-main .root-container .embed-block .embed-container-flowchart,\n.editor-main .root-container .embed-block .embed-container-mermaid {\n  width: 100%;\n}\n\n.editor-main .root-container .embed-block .embed-container-mermaid svg * {\n  font-family: inherit;\n  font-size: 15px;\n  line-height: 1.2;\n  box-sizing: inherit;\n}\n\n.editor-main .root-container .embed-block .editor-embed[data-embed-type=mermaid] {\n  width: 100%;\n}\n\n.embed-container.embed-container-video {\n  max-width: 100%;\n  padding: 4px !important;\n}\n\n.editor-main video {\n  max-width: 100%;\n  display: block !important;\n}\n\n.embed-container.embed-container-audio {\n  max-width: 100%;\n  padding: 4px !important;\n}\n\n.editor-main audio {\n  max-width: 100%;\n  display: block !important;\n}\n\n.embed-container.embed-container-image {\n  max-width: 100%;\n  width: 100%;\n  padding: 4px !important;\n}\n\n.embed-container.embed-container-image:has(div.editor-image-upload-error-placeholder),\n.embed-container.embed-container-image:has(div.editor-image-error) {\n  width: 100%;\n}\n\n.embed-container.embed-container-image .editor-images-container:has(div.editor-image-upload-error-placeholder),\n.embed-container.embed-container-image .editor-images-container:has(div.editor-image-error) {\n  width: 100%;\n}\n\n.image-drag-container {\n  position: fixed;\n  transform: translate(-50%, -50%);\n  pointer-events: none;\n  display: block;\n  z-index: var(--wiz-editor-z-image-drag-container);\n}\n\n.editor-main .editor-container.sub-container .image-embed {\n  text-align: inherit;\n}\n\n.on-dragging>.block-content {\n  opacity: 0.2;\n}\n\n.image-embed img.on-dragging {\n  opacity: 0.2;\n}\n\n.image-embed .image-resize-tool {\n  position: absolute;\n  padding: 0;\n  z-index: var(--wiz-editor-z-image-resize-tool);\n}\n\n.drag-snapshot-container .editor-images-container img,\n.editor-main .root-container .editor-images-container img {\n  margin-left: 2px;\n  flex-shrink: 0;\n}\n\n.drag-snapshot-container .editor-images-container img:first-child,\n.editor-main .root-container .editor-images-container img:first-child {\n  margin-left: 0;\n}\n\n.image-resize-tool .image-resize-container {\n  outline: 2px solid var(--editor-block-resize-toolbar-color);\n  transform: translate(-1px, -1px);\n}\n\n.editor-main .root-container .image-resize-tool .image-clone {\n  max-width: none;\n  opacity: 0;\n  display: block !important;\n}\n\n.image-resize-tool .image-circular {\n  position: absolute;\n  width: 14px;\n  height: 14px;\n  background-color: var(--editor-block-resize-toolbar-color);\n  border-radius: 50px;\n  border: 2px solid #ffffff;\n  z-index: var(--wiz-editor-z-image-resize-circular);\n}\n\n.image-resize-wall {\n  display: none;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: var(--wiz-editor-z-image-resize-wall);\n  background-color: transparent;\n}\n\n.image-resize-tool .image-circular.image-circular-left-top {\n  top: -7px;\n  left: -7px;\n  cursor: nwse-resize;\n}\n\n.image-resize-tool .image-circular.image-circular-right-top {\n  top: -7px;\n  right: -7px;\n  cursor: nesw-resize;\n}\n\n.image-resize-tool .image-circular.image-circular-left-bottom {\n  bottom: -7px;\n  left: -7px;\n  cursor: nesw-resize;\n}\n\n.image-resize-tool .image-circular.image-circular-right-bottom {\n  bottom: -7px;\n  right: -7px;\n  cursor: nwse-resize;\n}\n\n.editor-main image {\n  max-width: 100%;\n}\n\n/* resize tool */\n.embed-resize-tool {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: var(--wiz-editor-z-embed-resize-tool);\n}\n.embed-resize-tool:not(.moving):hover {\n  pointer-events: none;\n}\n.embed-resize-tool.moving {\n  width: 100%;\n  height: 100%;\n}\n.resize-slider-top,\n.resize-slider-top-readonly,\n.resize-slider-bottom,\n.resize-slider-bottom-readonly,\n.resize-slider-left,\n.resize-slider-left-readonly,\n.resize-slider-right,\n.resize-slider-right-readonly {\n  position: absolute;\n  background-color: var(--editor-block-resize-toolbar-color);\n}\n.resize-slider-top,\n.resize-slider-top-readonly,\n.resize-slider-bottom,\n.resize-slider-bottom-readonly {\n  height: 2px;\n  transform: translateY(-50%);\n  cursor: ns-resize;\n}\n\n.resize-slider-top-readonly,\n.resize-slider-bottom-readonly,\n.resize-slider-left-readonly,\n.resize-slider-right-readonly {\n  cursor: none;\n}\n\n.resize-slider-left,\n.resize-slider-left-readonly,\n.resize-slider-right, \n.resize-slider-right-readonly {\n  width: 2px;\n  transform: translateX(-50%);\n  cursor: ew-resize;\n}\n\n.resize-slider-top::after,\n.resize-slider-bottom::after,\n.resize-slider-left::after,\n.resize-slider-right::after {\n  pointer-events: all;\n  content: '';\n  display: block;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  background-color: var(--editor-block-resize-toolbar-color);\n  transform: translate(-50%, -50%);\n  width: 16px;\n  height: 16px;\n  border-radius: 8px;\n  border: 2px solid var(--editor-bg-color);\n  box-sizing: border-box;\n}\n\n.resize-slider-top::after,\n.resize-slider-bottom::after {\n  cursor: ns-resize;\n}\n\n.resize-slider-left::after,\n.resize-slider-right::after {\n  cursor: ew-resize;\n}\n\n.resize-slider-top-left,\n.resize-slider-bottom-left,\n.resize-slider-top-right,\n.resize-slider-bottom-right {\n  pointer-events: all;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  background-color: var(--editor-block-resize-toolbar-color);\n  transform: translate(-50%, -50%);\n  width: 16px;\n  height: 16px;\n  border-radius: 8px;\n  border: 2px solid var(--editor-bg-color);\n  box-sizing: border-box;\n}\n.resize-slider-top-left,\n.resize-slider-bottom-right {\n  cursor: nwse-resize;\n}\n.resize-slider-bottom-left,\n.resize-slider-top-right  {\n  cursor: nesw-resize;\n}\n\n.editor-main .root-container .editor-block.image-embed .embed-container.embed-container-image.editor-empty-image-container.block-content {\n  width: 100%;\n  background-color: var(--editor-code-bg-color);\n  display: inline-block;\n  align-items: center;\n  height: 48px;\n  border-radius: 4px;\n}\n\n.editor-main .root-container .editor-block.image-embed .embed-container.embed-container-image.editor-empty-image-container.block-content .editor-images-container.editor-embed {\n  width: 100%;\n  height: 100%;\n  margin-left: 8px;\n  align-items: center;\n}\n\n.editor-main .root-container .editor-block.image-embed .embed-container.embed-container-image.editor-empty-image-container.block-content .editor-images-container.editor-embed .image-empty-container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  color: var(--editor-color)\n}\n\n.editor-main .root-container .editor-block.image-embed .embed-container.embed-container-image.editor-empty-image-container.block-content .editor-images-container.editor-embed .image-empty-container .image-empty-icon {\n  height: 24px;\n  width: 24px;\n}\n\n.editor-main .root-container .editor-block.image-embed .embed-container.embed-container-image.editor-empty-image-container.block-content .editor-images-container.editor-embed .image-empty-container .image-empty-button {\n  margin-left: 8px;\n  color: #7084A4;\n}\n\n/* Drag & Drop Block*/\n.editor-main .root-container .editor-block.dragging {\n  opacity: .3;\n}\n.editor-block.gu-mirror {\n  position: absolute;\n  background-color: var(--editor-placeholder-color);\n  opacity: .7;\n}\n.editor-block.gu-mirror ol {\n  margin: 0;\n}\n.editor-block.gu-mirror .block-tools {\n  display: none;\n}\n\n.editor-loader {\n  display: none;\n}\n\n.editor-loader-ring {\n  display: inline-block;\n  width: 64px;\n  height: 64px;\n  position: absolute;\n  top: 40px;\n  left: 50%;\n  margin-left: -32px;\n  z-index: var(--wiz-editor-z-loader-ring);\n}\n\n.editor-loader-ring:after {\n  content: \" \";\n  display: block;\n  margin: 8px;\n  width: 44px;\n  height: 44px;\n  border-radius: 50%;\n  border: 6px solid #ccc;\n  border-color: #ccc transparent #ccc transparent;\n  animation: editor-loader-ring 1.2s linear infinite;\n}\n\n@keyframes editor-loader-ring {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.title-block-button {\n  display: none;\n}\n\n.show_full_screen_iframe {\n  overflow: hidden;\n}\n\n.editor-mindmap-svg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: var(--editor-locked-bg-color);\n  z-index: var(--wiz-editor-z-mindmap-svg);\n  font-size: 12px;\n  letter-spacing: 0;\n}\n\n.editor-block.focused svg.editor-mindmap-svg {\n  outline: 1px solid #448aff;\n  cursor: grab;\n}\n\n.editor-in-mindmap-first {\n  height: 600px;\n  min-width: 150px;\n}\n\n.block-tools:fullscreen .editor-mindmap-svg {\n  position: relative;\n  width: 100%;\n  height: 100;\n}\n\n.editor-main .root-container .editor-block.editor-hidden {\n  /* display: none; */\n  position: absolute;\n  top: -100000px;\n  z-index: var(--wiz-editor-z-editor-hidden);\n  visibility: hidden;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n}\n\n.mindmap-toolbar {\n  position: absolute;\n  right: 8px;\n  top: 8px;\n  display: flex;\n  height: 24px;\n  z-index: var(--wiz-editor-z-mindmap-button); \n}\n\n.editor-main .mindmap-toolbar .editor-text-button {\n  padding: 0;\n  margin: 0 2px;\n}\n\n.editor-mindmap-close-icon,\n.editor-mindmap-fullscreen-icon,\n.editor-mindmap-fit-icon {\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor-main .root-container .box-wiki-link {\n  padding-left: 4px;\n  padding-right: 4px;\n  cursor: pointer;\n}\n\n.editor-main .root-container .box-wiki-link:hover {\n  color: #448aff;\n}\n\n.editor-main .root-container .box-wiki-link-secondary-name {\n  color: var(--editor-placeholder-color);\n}\n\n.editor-main .root-container.editor-typewriter-mode {\n  padding-bottom: 50vh;\n}\n\n.editor-main .root-container.editor-focus-mode .editor-block {\n  opacity: 0.3;\n}\n\n.editor-main .root-container.editor-focus-mode .editor-block.focused {\n  opacity: 1;\n}\n\n.editor-mindmap-node {\n  max-width: 200px;\n  /* word-wrap: break-word; */\n  white-space: normal !important;\n}\n.editor-embed > svg .loopText, .editor-embed > svg .loopText > tspan  {\n  fill: red;\n}\n\n.editor-align-left {\n  text-align: left;\n}\n\n.editor-align-right {\n  text-align: right;\n}\n\n.editor-align-center {\n  text-align: center;\n}\n\n.editor-align-justify {\n  text-align: justify;\n}\n/*\nth,td .sub-container {\n  padding: 8px 12px;\n} */\n\n.editor-color-transparent {\n  color: transparent !important;\n}\n\n.editor-table-chart {\n  padding-top: 16px;\n}\n\n/* .embed-container.embed-container-image.block-align-left.block-content {\n  display: flex;\n  flex-direction: row;\n} */\n\n/* .embed-container.embed-container-image.block-align-right.block-content {\n  display: flex;\n  flex-direction: row-reverse;\n} */\n\n.editor-main .root-container .editor-block-padding-1 {\n  padding-left: 24px;\n}\n\n.editor-main .root-container .editor-block-padding-2 {\n  padding-left: 48px;\n}\n\n.editor-main .root-container .editor-block-padding-3 {\n  padding-left: 72px;\n}\n\n.editor-main .root-container .editor-block-padding-4 {\n  padding-left: 96px;\n}\n\n.editor-main .root-container .editor-block-padding-5 {\n  padding-left: 120px;\n}\n\n.editor-main .root-container .editor-block-padding-6 {\n  padding-left: 144px;\n}\n\n.editor-main .root-container .editor-block-padding-7 {\n  padding-left: 168px;\n}\n\n.editor-main .root-container .editor-block-padding-8 {\n  padding-left: 192px;\n}\n\n.editor-main .root-container .editor-block-padding-9 {\n  padding-left: 216px;\n}\n\n.editor-main .root-container .editor-block-padding-10 {\n  padding-left: 240px;\n}\n\n.editor-main .root-container .editor-block-padding-11 {\n  padding-left: 272px;\n}\n\n.editor-main .root-container .editor-block-padding-12 {\n  padding-left: 296px;\n}\n\n.editor-main .root-container .box-file {\n  margin-right: 8px;\n}\n\n.drag-snapshot-container .box-file img,\n.editor-main .root-container .box-file img {\n  width: 20px;\n  vertical-align: middle;\n  margin-right: 4px;\n  padding-bottom: 2px;\n}\n\n.editor-main .root-container .embed-block .embed-container-office {\n  user-select: none;\n  -webkit-user-select: none;\n}\n.editor-main .root-container .editor-block.heading-collapsed-child {\n  display: none;\n}\n\n.editor-main .root-container .list-ul.block-content li:before {\n  font-size: 1em;\n  display: inline-block;\n  transform: scale(1.25);\n  font-weight: 700;\n}\n\n.editor-main .root-container .embed-block .editor-embed.editor-images-container {\n  overflow: hidden;\n}\n\n/* content */\n.editor-main .root-container .list-ul.block-content.level1 li:before,\n.editor-main .root-container .list-ul.block-content.level4 li:before,\n.editor-main .root-container .list-ul.block-content.level7 li:before,\n.drag-snapshot-container .list-ul.block-content.level1 li:before,\n.drag-snapshot-container .list-ul.block-content.level4 li:before,\n.drag-snapshot-container .list-ul.block-content.level7 li:before {\n  content: '\\2022';\n  transform: scale(1);\n}\n\n.editor-main .root-container .list-ul.block-content.level2 li:before,\n.editor-main .root-container .list-ul.block-content.level5 li:before,\n.editor-main .root-container .list-ul.block-content.level8 li:before,\n.drag-snapshot-container .list-ul.block-content.level2 li:before,\n.drag-snapshot-container .list-ul.block-content.level5 li:before,\n.drag-snapshot-container .list-ul.block-content.level8 li:before {\n  content: '\\25E6';\n  transform: scale(1);\n}\n\n.editor-main .root-container .list-ul.block-content.level3 li:before,\n.editor-main .root-container .list-ul.block-content.level6 li:before,\n.drag-snapshot-container .list-ul.block-content.level3 li:before,\n.drag-snapshot-container .list-ul.block-content.level6 li:before {\n  content: '\\25AA';\n  transform: scale(1);\n}\n\n.editor-main .root-container .list-ul.block-content li:before,\n.drag-snapshot-container .list-ul.block-content li:before {\n  font-family: PingFangSC-Regular,PingFang SC;\n}\n\n.editor-main.ios .root-container .list-ul.block-content.level3 li:before,\n.editor-main.ios .root-container .list-ul.block-content.level6 li:before,\n.drag-snapshot-container.ios .list-ul.block-content.level3 li:before,\n.drag-snapshot-container.ios .list-ul.block-content.level6 li:before {\n  font-family: -webkit-standard;\n}\n\n/* .editor-main .root-container .list-ul.block-content.level1 li:before {\n  transform: scale(1.8);\n}\n.editor-main .root-container .list-ul.block-content.level2 li:before {\n  transform: scale(1.5);\n}\n.editor-main .root-container .list-ul.block-content.level3 li:before {\n  transform: scale(1.3);\n} */\n\n/* heading */\n.editor-main .root-container .editor-block.editor-heading-1 .list-ul.block-content li:before,\n.drag-snapshot-container .editor-block.editor-heading-1 .list-ul.block-content li:before {\n  transform: scale(0.8);\n  margin-left: -26.5px;\n}\n.editor-main .root-container .editor-block.editor-heading-2 .list-ul.block-content li:before,\n.drag-snapshot-container .editor-block.editor-heading-2 .list-ul.block-content li:before {\n  transform: scale(0.6);\n  margin-left: -25px;\n}\n.editor-main .root-container .editor-block.editor-heading-3 .list-ul.block-content li:before,\n.drag-snapshot-container .editor-block.editor-heading-3 .list-ul.block-content li:before {\n  transform: scale(0.7);\n  margin-left: -24px;\n}\n.editor-main .root-container .editor-block.editor-heading-4 .list-ul.block-content li:before,\n.drag-snapshot-container .editor-block.editor-heading-4 .list-ul.block-content li:before {\n  transform: scale(0.8);\n  margin-left: -23px;\n}\n.editor-main .root-container .editor-block.editor-heading-5 .list-ul.block-content li:before,\n.drag-snapshot-container .editor-block.editor-heading-5 .list-ul.block-content li:before {\n  transform: scale(0.9);\n  margin-left: -22.5px;\n}\n\n/* .editor-main .root-container .editor-block.editor-heading-4 .list-ul.block-content li:before,\n.editor-main .root-container .editor-block.editor-heading-5 .list-ul.block-content li:before,\n.editor-main .root-container .editor-block.editor-heading-6 .list-ul.block-content li:before，\n.drag-snapshot-container .editor-block.editor-heading-4 .list-ul.block-content li:before,\n.drag-snapshot-container .editor-block.editor-heading-5 .list-ul.block-content li:before,\n.drag-snapshot-container .editor-block.editor-heading-6 .list-ul.block-content li:before {\n  font-size: 1em;\n}\n\n.editor-main .root-container .editor-block.editor-heading-7 .list-ul.block-content li:before,\n.editor-main .root-container .editor-block.editor-heading-8 .list-ul.block-content li:before，\n.drag-snapshot-container .editor-block.editor-heading-7 .list-ul.block-content li:before,\n.drag-snapshot-container .editor-block.editor-heading-8 .list-ul.block-content li:before {\n  font-size: 1.25em;\n} */\n\n.embed-block.image-embed .block-content img {\n  border: 1px solid transparent;\n}\n\n.editor-main .table-block .embed-block .embed-container-card {\n  width: 100%;\n}\n\n.editor-main .table-block .editor-embed[data-preview-type=card] {\n  width: 100%;\n}\n.drag-snapshot-container table .embed-office-card,\n.editor-main .table-block .embed-office-card {\n  min-width: 280px;\n}\n.drag-snapshot-container table .embed-block .embed-container-webpage .editor-embed,\n.editor-main .table-block .embed-block .embed-container-webpage .editor-embed {\n  width: 420px;\n}\n.drag-snapshot-container table .embed-office-card .office-card-icon,\n.editor-main .table-block .embed-office-card .office-card-icon {\n  width: unset;\n  height: unset;\n  min-width: 25px;\n}\n\n.drag-snapshot-container table .embed-office-card .office-card-icon svg,\n.editor-main .table-block .embed-office-card .office-card-icon svg {\n  width: 100%;\n  height: auto;\n}\n\n.drag-snapshot-container table .embed-office-card .office-card-name,\n.editor-main .table-block .embed-office-card .office-card-name {\n  max-width: 136px;\n}\n\n.drag-snapshot-container table .embed-office-card .office-card-handle,\n.editor-main .table-block .embed-office-card .office-card-handle {\n  min-width: unset;\n  flex: 1;\n  max-width: 104px;\n}\n\n.drag-snapshot-container table .embed-office-card .office-handle-button,\n.editor-main .table-block .embed-office-card .office-handle-button {\n  margin: 8px;\n}\n\n.drag-snapshot-container table .embed-office-card .office-handle-button svg,\n.editor-main .table-block .embed-office-card .office-handle-button svg {\n  width: 50%;\n  height: auto;\n}\n\n.editor-main .table-block .embed-container audio {\n  min-width: 300px;\n}\n\n.editor-main .table-block .embed-container video{\n  min-width: 430px;\n}\n\n.editor-main .table-block .embed-container .editor-embed[data-preview-type=preview] {\n  min-width: 430px;\n  max-width: 720px;\n}\n\n.table-block .upload-loading .upload-loading-office {\n  width: 100%;\n}\n\n.table-block .upload-loading .upload-loading-wall {\n  max-width: 360px;\n}\n\n.editor-main .root-container .table-block .image-embed img {\n  min-width: 16px;\n}\n\n.editor-main .comment-item .comment-root {\n  display: none;\n}\n\n.editor-main .editor-block.editor-block-blink {\n  animation: blink-animation 0.7s steps(5, start) infinite;\n  -webkit-animation: blink-animation 0.7s steps(5, start) infinite;\n  background-color: #bacefd;\n}\n@keyframes blink-animation {\n  to {\n    opacity: 0.3;\n  }\n}\n@-webkit-keyframes blink-animation {\n  to {\n    opacity: 0.3;\n  }\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  color: var(--editor-find-dialog-input-placeholder-color);\n  opacity: 1; /* Firefox */\n}\n\n\n.editor-main .inline-plugin.editor-ignore.fake-caret {\n  visibility: hidden;\n  height: 1em;\n  vertical-align: middle;\n}\n\n.editor-main .block-tools .editor-remote-caret {\n  position: absolute;\n  width: 2px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  /* opacity: 0.8; */\n  height: 1.4em;\n  margin-left: -1px;\n  margin-top: -0.4em;\n  z-index: var(--wiz-editor-z-remote-caret);\n}\n\n.editor-main .block-tools .editor-remote-caret::before,\n.editor-main .block-tools .editor-remote-caret[data-remote-caret-type=end]::before {\n  position: absolute;\n  display: inline-block;\n  background-color: var(--caret-color);\n  top: -2px;\n  left: -2px;\n  width: 6px;\n  height: 6px;\n  content: ' ';\n}\n\n.editor-main .block-tools .editor-remote-caret.active::before,\n.editor-main .block-tools .editor-remote-caret[data-remote-caret-type=end].active::before {\n  content: attr(data-user-name);\n  transform: scale(.8);\n  background-color: var(--caret-color);\n  color: var(--editor-fake-caret-user-color);\n  top: -9px;\n  left: -7px;\n  font-size: 12px;\n  display: inline-flex;\n  align-items: center;\n  padding-left: 8px;\n  padding-right: 8px;\n  padding-top: 1px;\n  padding-bottom: 1px;\n  width: unset;\n  line-height: 1.2;\n  white-space: nowrap;\n  height: 15px;\n}\n\n.editor-main .block-tools .editor-remote-caret[data-remote-caret-type=start] {\n  display: none;\n}\n\n/* .editor-main .block-tools .editor-remote-caret[data-remote-caret-type=end] {\n  display: none;\n} */\n\n.editor-main .block-tools .editor-remote-caret-mask {\n  position: absolute;\n  pointer-events: none;\n  opacity: var(--editor-remote-caret-mask-opacity);\n}\n\n/* .editor-main .editor-highlight .editor-highlight-readonly {\n\n} */\n\n.editor-main.hide-block-menu .block-menu-button.for-empty .add {\n  display: none;\n}\n\n.style-history-new {\n  /* background-color: green; */\n  position: relative;\n}\n\n.editor-block.text-block .text-element>span.style-history-deleted,\n.editor-block.list-block .text-element>span.style-history-deleted {\n  position: relative;\n}\n\n.editor-block.code-line-block span.style-history-deleted.inline-plugin,\n.editor-block.text-block span.style-history-deleted.inline-plugin,\n.editor-block.text-block .style-history-deleted span,\n.editor-block.list-block .style-history-deleted span,\n.editor-block.text-block .style-history-deleted a,\n.editor-block.list-block .style-history-deleted a,\n.editor-block.text-block.history-deleted span,\n.editor-block.list-block.history-deleted span,\n.editor-block.text-block.history-deleted a,\n.editor-block.list-block.history-deleted a {\n  text-decoration: line-through;\n  color: var(--op-color);\n}\n\n.editor-block.text-block span.style-history-deleted.inline-plugin a {\n  color: var(--op-color);\n}\n\n.editor-main .editor-block.editor-block-remote-selected {\n  background-color: var(--remote-caret-color);\n}\n\n.editor-main .block-tools .editor-remote-whole-caret {\n  position: absolute;\n  width: 2px;\n  height: 100%;\n  z-index: var(--wiz-editor-z-remote-caret);\n}\n\n.editor-main .block-tools .editor-remote-whole-caret:before {\n  position: absolute;\n  display: inline-block;\n  background-color: var(--caret-color);\n  top: -2px;\n  left: -2px;\n  width: 6px;\n  height: 6px;\n  content: ' ';\n}\n.editor-main .block-tools .editor-remote-whole-caret.active::before {\n  position: absolute;\n  content: attr(data-user-name);\n  font-size: 12px;\n  background-color: var(--caret-color);\n  color: var(--editor-fake-caret-user-color);\n  top: -20px;\n  font-size: 12px;\n  display: inline-flex;\n  align-items: center;\n  padding-left: 8px;\n  padding-right: 8px;\n  padding-top: 1px;\n  padding-bottom: 1px;\n  width: unset;\n  height: 20px;\n  white-space: nowrap;\n}\n\n.editor-block.embed-block.history-new .embed-container.block-content {\n  border-color: var(--op-color);\n  border-width: 1px;\n  border-style: solid;\n}\n\n.editor-block.history-new:not(.text-block):not(.list-block)>.block-content>table,\n.editor-block.history-new:not(.text-block):not(.list-block):not(.table-block)>.block-content {\n  border-color: var(--op-selected-color);\n  border-width: 4px;\n  border-style: solid;\n}\n\n.editor-block.history-new.code-block .editor-block.history-new.code-line-block>.block-content {\n  border: none;\n}\n\n\n.editor-block.history-deleted:not(.text-block):not(.list-block)>.block-content>table,\n.editor-block.history-deleted:not(.text-block):not(.list-block):not(.table-block)>.block-content {\n  border: 0;\n}\n\n\n.editor-block.embed-block.hr-embed.history-new .embed-container.embed-container-hr.block-content hr {\n  margin-left: 0;\n}\n\n.editor-block.history-new.force:not(.empty-block) .text-element>span {\n  background-color: var(--op-selected-color);\n}\n\n.editor-block.history-new:not(.text-block):not(.list-block)>.block-content>table,\n.editor-block.history-new:not(.text-block):not(.list-block):not(.table-block)>.block-content,\n.editor-block.history-deleted:not(.text-block):not(.list-block)>.block-content,\n.editor-block.history-new.force:not(.text-block):not(.list-block)>.block-content {\n  padding: 0 !important;\n  margin: 0 !important;\n}\n\n.editor-block.history-new:not(.text-block):not(.list-block)>.block-content .editor-images-container.editor-embed,\n.editor-block.history-deleted:not(.text-block):not(.list-block)>.block-content .editor-images-container.editor-embed {\n  display: flex;\n}\n\n.editor-block.history-new:not(.text-block):not(.list-block)>.block-content.embed-container-video.embed-container,\n.editor-block.history-deleted:not(.text-block):not(.list-block)>.block-content.embed-container-video.embed-container,\n.editor-block.history-new:not(.text-block):not(.list-block)>.block-content.embed-container-audio.embed-container,\n.editor-block.history-deleted:not(.text-block):not(.list-block)>.block-content.embed-container-audio.embed-container {\n  display: inline-flex;\n}\n\n.editor-block.history-new:not(.text-block):not(.list-block)>.block-content img,\n.editor-block.history-deleted:not(.text-block):not(.list-block)>.block-content img {\n  padding: 0 !important;\n  margin: 0 !important;\n  border: none;\n}\n\n.editor-block.embed-block.history-deleted>.embed-container.block-content>.editor-embed {\n  /* opacity: 0.3; */\n}\n\n.editor-block.history-deleted.table-block .block-tools .editor-delete-marker,\n.editor-block.history-deleted.code-block .block-tools .editor-delete-marker {\n  position: absolute;\n  display: flex;\n  z-index: var(--wiz-editor-z-history-delete-marker);\n  color: var(--op-color);\n  justify-items: center;\n  align-items: center;\n  justify-content: center;\n  align-content: center;\n  pointer-events: none;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-color: silver;\n  opacity: 0.3;\n  overflow: visible;\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.editor-block.history-deleted.embed-block .block-content .editor-embed {\n  /* border: 4px solid var(--op-color); */\n}\n\n.editor-block.history-deleted.code-block > .block-content > *,\n.editor-block.history-deleted.table-block .block-content table > *,\n.editor-block.history-deleted.embed-block .block-content .editor-embed > * {\n  opacity: 0.3;\n}\n\n/* display X on embed, complex block */\n\n.editor-block.history-deleted.table-block .block-content table {\n  position: relative;\n}\n\n.editor-block.history-deleted.code-block > .block-content::before,\n.editor-block.history-deleted.code-block > .block-content::after,\n.editor-block.history-deleted.table-block .block-content table::before,\n.editor-block.history-deleted.table-block .block-content table::after,\n.editor-block.history-deleted.embed-block .block-content .editor-embed::before,\n.editor-block.history-deleted.embed-block .block-content .editor-embed::after  {\n  content: ' ';\n  position: absolute;\n  display: flex;\n  z-index: var(--wiz-editor-z-history-delete-marker);\n  color: var(--op-color);\n  justify-items: center;\n  align-items: center;\n  justify-content: center;\n  align-content: center;\n  pointer-events: none;\n  overflow: visible;\n  max-width: 100%;\n  max-height: 100%;\n  /* border: 4px solid var(--op-color); */\n  left: calc(50% - 16px);\n  top: calc(50% - 2px);\n  width: 32px;\n  height: 4px;\n  background-color: var(--op-color);\n  transform: rotate(45deg);\n  opacity: 1;\n}\n\n.editor-block.history-deleted.code-block > .block-content::after,\n.editor-block.history-deleted.table-block .block-content table::after,\n.editor-block.history-deleted.embed-block .block-content .editor-embed::after {\n  transform: rotate(135deg);\n}\n\n.editor-block.text-block.empty-block.history-new .block-content.text-element,\n.editor-block.list-block.empty-block.history-new .block-content,\n.editor-block.history-deleted.empty-block.text-block>.block-content,\n.editor-block.history-deleted.empty-block.list-block>.block-content {\n  border-left: 4px solid var(--op-selected-color);\n  margin-left: 4px;\n  width: 8px;\n}\n\n.editor-block.list-block.empty-block.history-new .block-content {\n  margin-left: -4px;\n}\n\n.editor-block.code-line-block:not(.history-deleted)>.block-content.text-element .style-history-deleted:hover::after,\n.editor-block.code-line-block:not(.history-deleted)>.block-content.text-element .style-history-deleted:active::after,\n.editor-block.text-block.empty-block.history-new .block-content.text-element:hover::after,\n.editor-block.text-block.empty-block.history-new .block-content.text-element:active::after,\n.editor-block.text-block:not(.history-deleted)>.block-content.text-element .style-history-new:hover::after,\n.editor-block.text-block:not(.history-deleted)>.block-content.text-element .style-history-deleted:hover::after,\n.editor-block.text-block:not(.history-deleted)>.block-content.text-element .style-history-new.active::after,\n.editor-block.text-block:not(.history-deleted)>.block-content.text-element .style-history-deleted.active::after,\n.editor-block.list-block:not(.history-deleted)>.block-content>.text-element .style-history-new:hover::after,\n.editor-block.list-block:not(.history-deleted)>.block-content>.text-element .style-history-deleted:hover::after,\n.editor-block.list-block:not(.history-deleted)>.block-content>.text-element .style-history-new.active::after,\n.editor-block.list-block>.block-content>.text-element .style-history-deleted.active::after,\n.editor-block.history-new:not(.text-block):not(.list-block).active>.block-content::after,\n.editor-block.history-new:not(.text-block):not(.list-block).hover>.block-content::after,\n.editor-block.history-new.force.active>.block-content::after,\n.editor-block.history-new.force.hover>.block-content::after,\n.editor-block.history-deleted:not(.code-block).active>.block-content::after,\n.editor-block.history-deleted:not(.code-block).hover>.block-content::after,\n.editor-block.history-deleted.code-block.active::after,\n.editor-block.history-deleted.code-block.hover::after {\n  content: attr(data-op-description);\n  position: absolute;\n  top: -26px;\n  /* left: var(--op-offset); */\n  left: 0;\n  display: block;\n  background-color: var(--op-color);\n  height: 24px;\n  min-width: 20px;\n  opacity: 1;\n  color: white;\n  padding-left: 8px;\n  padding-right: 8px;\n  z-index: var(--wiz-editor-z-history-op-description);\n  font-size: 14px;\n  font-weight: normal;\n  white-space: nowrap;\n  border-radius: 3px;\n}\n\n.editor-block.history-new.code-block .editor-block.history-new.code-line-block.hover>.block-content::after,\n.editor-block.history-new.code-block .editor-block.history-new.code-line-block.active>.block-content::after {\n  display: none;\n}\n\n.editor-block.history-new.table-block .editor-block.history-new-child.text-block .text-element span.style-history-new {\n  background-color: transparent !important;\n}\n\n.editor-block.history-new.table-block .editor-block.history-new-child.text-block .text-element span.style-history-new:hover::after {\n  display: none;\n}\n\n.editor-block.history-new:not(.text-block):not(.list-block).active>.block-content::after,\n.editor-block.history-new:not(.text-block):not(.list-block).hover>.block-content::after,\n.editor-block.history-new.force.active>.block-content::after,\n.editor-block.history-new.force.hover>.block-content::after,\n.editor-block.history-deleted:not(.code-block).active:not(.text-block):not(.list-block)>.block-content::after,\n.editor-block.history-deleted:not(.code-block).hover:not(.text-block):not(.list-block)>.block-content::after {\n  left: -2px;\n}\n\n.editor-block.history-new.force.active.text-block>.block-content::after,\n.editor-block.history-new.force.hover.text-block>.block-content::after,\n.editor-block.history-new.force.active.list-block>.block-content::after,\n.editor-block.history-new.force.hover.list-block>.block-content::after {\n  left: 4px;\n}\n\n.editor-block.history-new.embed-block.webpage-embed.active>.block-content::after,\n.editor-block.history-new.embed-block.webpage-embed.hover>.block-content::after,\n.editor-block.history-deleted.embed-block.webpage-embed.active>.block-content::after,\n.editor-block.history-deleted.embed-block.webpage-embed.hover>.block-content::after,\n.editor-block.history-new.table-block.active>.block-content>table::after,\n.editor-block.history-deleted.table-block.active>.block-content>table::after {\n  top: 0;\n}\n\n.editor-main.history .root-container .editor-block.table-block {\n  margin-top: 0;\n}\n\n.editor-main.history .root-container .editor-block.table-block>.block-content {\n  padding-top: 24px !important;\n}\n\n.editor-block.history-new:not(.text-block):not(.list-block).table-block.active>.block-content::after,\n.editor-block.history-new:not(.text-block):not(.list-block).table-block.hover>.block-content::after,\n.editor-block.history-deleted:not(.text-block):not(.list-block).table-block.active>.block-content::after,\n.editor-block.history-deleted:not(.text-block):not(.list-block).table-block.hover>.block-content::after {\n  top: 0;\n}\n\n.editor-block.history-deleted:not(.text-block):not(.list-block).table-block.hover>.block-content::after,\n.editor-block.history-deleted:not(.text-block):not(.list-block).table-block.active>.block-content::after {\n  margin-left: 6px;\n}\n\n.editor-block.table-block.empty-block.history-deleted .editor-block.text-block .text-element span.inline-plugin.style-history-deleted {\n  background-color: transparent;\n}\n\n.editor-block.table-block.empty-block.history-deleted .editor-block.text-block .text-element span.inline-plugin.style-history-deleted:hover::after {\n  display: none;\n}\n\n.editor-main.history .root-container .editor-block .text-element span,\n.editor-main.history .root-container .editor-block .text-element a {\n  display: inline-block;\n}\n\n.editor-main.history .root-container .editor-block .text-element .inline-plugin span {\n  display: inline;\n}\n\n.editor-main.history .root-container .editor-block .text-element .inline-plugin.style-history-deleted {\n  display: inline-block;\n}\n\n/* BLOCK ENTIRE HOVER & SELECTED */\n.editor-main .root-container .table-block.block-entire-hover table,\n.editor-main .root-container .table-block.editor-entire-selected table {\n  background-color: var(--editor-table-selection-bg-color);\n}\n\n.table-block.block-entire-hover .table-col-bar-item,\n.table-block.block-entire-hover .table-row-bar-item,\n.table-block.editor-entire-selected .table-col-bar-item,\n.table-block.editor-entire-selected .table-row-bar-item {\n  background-color: var(--editor-table-bar-bg-color-active);\n}\n.editor-main .root-container .table-block.block-entire-hover .table-selection-mask,\n.editor-main .root-container .table-block.editor-entire-selected .table-selection-mask {\n  display: none;\n}\n\n.editor-main .root-container .text-block:not(.empty-block).block-entire-hover,\n.editor-main .root-container .list-block:not(.empty-block).block-entire-hover,\n.editor-main .root-container .hr-embed:not(.empty-block).block-entire-hover{\n  background-color: var(--editor-block-entire-hover-text-bg-color);\n}\n\n.editor-main .root-container .text-block.editor-entire-selected,\n.editor-main .root-container .hr-embed.editor-entire-selected,\n.editor-main .root-container .list-block.editor-entire-selected {\n  background-color: var(--editor-block-entire-selected-bg-color);\n}\n\n.editor-main .root-container .editor-block.embed-block.office-embed.block-entire-hover .embed-office-card,\n.editor-main .root-container .editor-block.embed-block.audio-embed.block-entire-hover .embed-container-audio,\n.editor-main .root-container .editor-block.embed-block.video-embed.block-entire-hover .embed-container-video {\n  outline:1px solid var(--editor-block-entire-hover-embed-border-color);\n}\n.embed-block.image-embed.block-entire-hover .block-content img {\n  border: 1px solid var(--editor-block-entire-hover-embed-border-color);\n}\n.editor-main .root-container .editor-block.embed-block.office-embed.editor-entire-selected .embed-office-card,\n.editor-main .root-container .editor-block.embed-block.audio-embed.editor-entire-selected .embed-container-audio,\n.editor-main .root-container .editor-block.embed-block.video-embed.editor-entire-selected .embed-container-video {\n  outline:1px solid var(--editor-block-entire-selected-embed-border-color);\n}\n.embed-block.image-embed.editor-entire-selected .block-content img {\n  border: 1px solid var(--editor-block-entire-selected-embed-border-color);\n}\n\n\n.editor-main .root-container .editor-block.editor-entire-selected {\n  caret-color: transparent;\n}\n\n.iframe-mask {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: var(--wiz-editor-z-iframe-mask);\n}\n\n@media (max-width: 512px) {\n  .editor-main .root-container .block-content.list-ul.editor-checkbox {\n    padding-right: 0;\n  }\n  .editor-main .root-container .list-block .block-tools .block-tools-button-container .editor-add-reminder-button,\n  .editor-main .root-container .list-block .block-tools .block-tools-button-container .editor-add-mention-button,\n  .editor-main .root-container .list-block .block-tools .block-tools-button-container .view-as-mindmap {\n    display: none !important;\n  }\n}\n\n@media only screen and (max-device-width : 640px) {\n  .editor-main .editor-container.root-container {\n    padding-left: 24px;\n    padding-right: 24px;\n  }\n  .editor-main.readonly:not(.line-number) .root-container .editor-block {\n    margin-left: 0;\n  }\n  .editor-main .editor-container.root-container {\n    max-width: 100%;\n  }\n  .editor-main .root-container .embed-block .editor-embed.editor-images-container {\n    flex-direction: column;\n  }\n  .editor-main .root-container .editor-images-container img {\n    margin-left: 0px;\n    margin-top: 2px;\n  }\n  .editor-main .root-container .editor-images-container img:first-child {\n    margin-top: 0px;\n  }\n}\n\n/* Mac Scrollbar */\n\n/* total width */\n.editor-main.mac .editor-block-scrollbar::-webkit-scrollbar,\n.editor-main.mac .block-content::-webkit-scrollbar\n{\n  /* width: 8px; */\n  height: 8px;\n}\n\n/* background of the scrollbar except button or resizer */\n.editor-main.mac .editor-block-scrollbar::-webkit-scrollbar-track,\n.editor-main.mac .block-content::-webkit-scrollbar-track {\n  background-color: transparent;\n}\n\n/* scrollbar itself */\n.editor-main.mac .editor-block-scrollbar::-webkit-scrollbar-thumb,\n.editor-main.mac .block-content::-webkit-scrollbar-thumb {\n  background-color: rgba(100, 106, 115, .8);\n  border-radius: 8px;\n  /* border: 4px solid #fff; */\n}\n\n/* set button(top and bottom of the scrollbar) */\n.editor-main.mac .editor-block-scrollbar::-webkit-scrollbar-button,\n.editor-main.mac .block-content::-webkit-scrollbar-button {\n  display:none;\n}\n\n.editor-main.markdown .table-block  table td {\n  min-width: 100px;\n}\n\n.editor-main.markdown .root-container .block-content.list-ul.editor-checkbox {\n  padding-right: 0;\n}\n\n\n/* table Scrollbar */\n.editor-main.custom-table-scrollbar .table-block > .block-content {\n  /* firefox */\n  scrollbar-width: none;\n}\n.editor-main.custom-table-scrollbar .table-block > .block-content::-webkit-scrollbar {\n  height: 0;\n  opacity: 0;\n}\n\n#editor-reveal-root {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1000000;\n  background-color: black;\n  display: 'none';\n}\n\n#editor-reveal-root .slides > section {\n  max-height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n#editor-reveal-root.reveal .slides div[data-block-type=\"code-line\"] {\n  text-align: left;\n}\n\n.embed-block.image-embed .block-content img.error {\n  position: relative;\n  width: 120px;\n  height: 96px;\n}\n\n.editor-main .embed-block.image-embed .block-content .uploading-image {\n  position:relative;\n  /* safari */\n  color: var(--editor-placeholder-color);\n}\n\n  /* chrome */\n  .editor-main .embed-block.image-embed .block-content .uploading-image:before {\n  position: absolute;\n  display: flex;\n  content: attr(data-placeholder);\n  align-items: center;\n  justify-content: center;\n  top: 0;\n  left: 0;\n  width: calc(100% - 2px);\n  height: calc(100% - 2px);\n  z-index: 3;\n  color: var(--editor-placeholder-color);\n  background-color: var(--editor-code-bg-color);\n  background-image: none;\n}\n\n.embed-block.image-embed .block-content img[alt].uploading-image:after {\n  background-image: none;\n}\n\n.embed-block.image-embed .block-content img[alt]:after {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: var(--editor-bg-color);\n  background-position: center;\n  background-image: url(\"data:image/svg+xml,%3Csvg width='120' height='96' viewBox='0 0 120 96' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath opacity='0.2' d='M103.639 96C109.075 96 113.16 94.6142 115.896 91.8427C118.632 89.0712 120 84.9687 120 79.535V16.465C120 11.0313 118.632 6.9288 115.896 4.15729C113.16 1.38578 109.075 0 103.639 0H16.3612C10.9611 0 6.88422 1.37667 4.13053 4.12994C1.37684 6.88322 0 10.9949 0 16.465V79.535C0 85.0051 1.37684 89.1168 4.13053 91.8701C6.88422 94.6233 10.9611 96 16.3612 96H103.639ZM38.945 49.9724C36.6205 49.9724 34.5016 49.4001 32.5883 48.2557C30.675 47.1113 29.1551 45.5825 28.0286 43.6693C26.9021 41.756 26.3388 39.6549 26.3388 37.3661C26.3388 35.0774 26.9021 32.9764 28.0286 31.0631C29.1551 29.1498 30.675 27.621 32.5883 26.4766C34.5016 25.3322 36.6205 24.76 38.945 24.76C41.2338 24.76 43.3259 25.3322 45.2213 26.4766C47.1167 27.621 48.6276 29.1498 49.7541 31.0631C50.8806 32.9764 51.4439 35.0774 51.4439 37.3661C51.4439 39.6549 50.8806 41.756 49.7541 43.6693C48.6276 45.5825 47.1167 47.1113 45.2213 48.2557C43.3259 49.4001 41.2338 49.9724 38.945 49.9724ZM103.21 86.7751H16.844C14.4837 86.7751 12.6241 86.0957 11.2651 84.7367C9.90612 83.3777 9.22664 81.4824 9.22664 79.0505V75.5101L24.0858 62.4748C25.1945 61.5092 26.3299 60.7761 27.4922 60.2754C28.6544 59.7747 29.8257 59.5244 31.0058 59.5244C33.5807 59.5244 35.9946 60.5436 38.2477 62.582L47.9034 71.2723L71.9893 49.8686C74.4569 47.7229 77.1569 46.65 80.0894 46.65C81.4841 46.65 82.8699 46.9182 84.2468 47.4547C85.6236 47.9911 86.92 48.8136 88.1359 49.9222L110.773 70.8967V79.1578C110.773 81.5181 110.085 83.3777 108.708 84.7367C107.331 86.0957 105.498 86.7751 103.21 86.7751Z' fill='%237084A4'/%3E%3C/svg%3E%0A\");\n  content: ' ';\n}\n\n.editor-main .root-container[contenteditable=true] .embed-block.image-embed.embed-selected .block-content img[alt]:after {\n  outline: 1px solid var(--editor-block-resize-toolbar-color);\n}\n\n.editor-image-error-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 600px;\n  height: 400px;\n}\n\n@media screen and (max-device-width: 600px) {\n  .editor-image-error-content {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 230px;\n    height: 400px;\n  }\n}\n\n.editor-main .inline-plugin.editor-box-input.editor-box-input-text .editor-input-text {\n  outline: 0;\n  border: 0;\n  border-bottom: 1px solid;\n  font-family: inherit;\n  font-size: inherit;\n  font-weight: inherit;\n  cursor: pointer;\n  padding-left: 8px;\n  padding-right: 8px;\n}\n\n.editor-main .inline-plugin.editor-box-input.editor-box-input-text .editor-input-text.editor-input-placeholder {\n  color: var(--editor-placeholder-color);\n}\n\n.drag-snapshot-container .editor-block .text-element .editor-box-br img,\n.editor-main .root-container .editor-block .text-element .editor-box-br img {\n  width: 18px;\n  height: 18px;\n  vertical-align: middle;\n}\n\n.drag-snapshot-container .editor-block .text-element .editor-box-anchor img,\n.editor-main .root-container .editor-block .text-element .editor-box-anchor img {\n  width: 18px;\n  height: 18px;\n  vertical-align: middle;\n}\n\n@media print {\n  .editor-main .root-container .editor-block .text-element .editor-box-br img {\n    opacity: 0;\n  }\n}\n\n.editor-main .root-container .editor-block.table-block.locked-by-user.locked-readonly .table-toolbar {\n  display: none;\n}\n\n.editor-main .root-container > .code-block {\n  counter-reset: line;\n}\n\n.editor-main .root-container > .code-block .editor-block.code-line-block {\n  margin-left: 16px;\n}\n\n.editor-main .root-container > .code-block .editor-block.code-line-block:before {\n  content: counter(line);\n  counter-increment: line;\n  position: absolute;\n  left: -48px;\n  top: 10px;\n  z-index: var(--wiz-editor-z-block-counter);\n  margin-top: -6px;\n  display: block;\n  width: 48px;\n  padding-right: 8px;\n  text-align: right;\n  color: var(--editor-line-number-color);\n  box-sizing: border-box;\n  font-size: 12px;\n  font-weight: normal;\n  line-height: 12px;\n  letter-spacing: 0;\n  white-space: nowrap;\n  opacity: 1;\n}\n\n.editor-main .root-container .embed-block.image-embed .block-content img.loading {\n  background-color: var(--editor-code-bg-color);\n}\n\n.editor-main .root-container .editor-block.embed-block.toc-embed .embed-container.embed-container-toc.block-content {\n  width: 100%;\n  text-align: left;\n}\n\n.editor-main .root-container .editor-block.embed-block.toc-embed .embed-container.embed-container-toc.block-content .editor-auto-toc-container {\n  width: 100%;\n  background-color: var(--editor-code-bg-color);\n  padding: 16px;\n}\n\n.editor-main .root-container .editor-block.embed-block.toc-embed .embed-container.embed-container-toc.block-content .editor-auto-toc-container ol {\n  padding-left: 16px;\n}\n\n.editor-main .root-container .editor-block.embed-block.toc-embed .embed-container.embed-container-toc.block-content .editor-auto-toc-container ol li a {\n  text-decoration: none;\n}\n\n.editor-main .root-container .editor-block.embed-block.embed-selected {\n  caret-color: transparent;\n}\n\n.editor-main:not(.readonly) .root-container .editor-block.embed-block.embed-selected:not(.retry):not(.image-embed):not(.office-embed):not(.webpage-embed) .embed-container.block-content {\n  outline: 1px solid #448aff;\n  caret-color: transparent;\n}\n\n/* 图片选中状态，由图片自己决定 */\n.editor-main .root-container .editor-block.embed-block.embed-selected.image-embed .embed-container.block-content:not(.editor-empty-image-container) {\n  outline: none;\n}\n\n/* 图片选中状态，由图片自己决定 */\n.editor-main .root-container .editor-block.embed-block.embed-selected.image-embed .embed-container.block-content:not(.editor-empty-image-container) .editor-embed.empty {\n  outline: 1px solid #448aff;\n}\n\n/* office选中状态，由office自己决定 */\n.editor-main .root-container .editor-block.embed-block.embed-selected.office-embed .embed-container.block-content {\n  outline: none;\n}\n\n/* 网页选中状态，由网页自己决定 */\n.editor-main .root-container .editor-block.embed-block.embed-selected.webpage-embed:hover .embed-container.block-content {\n  outline: none;\n}\n\n/* hr选中状态，由hr自己决定 */\n.editor-main .root-container .editor-block.embed-block.embed-selected.hr-embed .embed-container.block-content {\n  outline: none;\n}\n\n/* 正在加载的图片 */\n.editor-main .root-container .editor-block.embed-block.image-embed .embed-container.block-content img.loading {\n  min-width: 40px;\n  min-height: 40px;\n}\n\n.editor-main .root-container .editor-block.embed-block.image-embed .embed-container .editor-images-container .editor-image-upload-error-tips {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  z-index: var(--wiz-editor-z-image-tooltips);\n  color: #333333;\n  transition: opacity linear 200ms;\n}\n\n.editor-main .root-container .editor-block.embed-block.image-embed .embed-container .editor-images-container .editor-image-upload-error-tips.on-dragging {\n  opacity: 0.2;\n}\n\n.editor-main .root-container .editor-block.embed-block.image-embed .embed-container .editor-images-container .editor-image-upload-error-tips:hover {\n  color: #333333;\n}\n\n.editor-main .root-container .editor-block.embed-block.image-embed .embed-container .editor-images-container .editor-image-upload-error-tips > svg {\n  fill: transparent;\n}\n\n.editor-main .root-container .editor-block.embed-block.image-embed .embed-container .editor-images-container .editor-image-upload-error-placeholder {\n  width: 100%;\n  height: 400px;\n  color: #606060;\n  background: #F8F8F8;\n  border: 1px solid #DEDEDE;\n  border-radius: 3px;\n  padding: 34px 0 27px 0;\n  font-size: 14px;\n  line-height: 22px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.editor-main .root-container .editor-block.embed-block.image-embed .embed-container .editor-images-container .editor-image-upload-error-placeholder * {\n  user-select: none;\n}\n\n.editor-main .root-container .editor-block.embed-block.image-embed .embed-container .editor-images-container .editor-image-upload-error-placeholder .editor-image-upload-error-icon {\n  color: transparent;\n}\n\n.editor-main .root-container .editor-block.embed-block.image-embed .embed-container .editor-images-container .editor-image-error {\n  width: 100%;\n  /* height: 400px; */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #DEDEDE;\n  border-radius: 3px;\n  margin-right: 10px;\n  background-color: #F8F8F8;\n  overflow: hidden;\n  min-height: 85px;\n}\n\n.editor-main .root-container .editor-block.embed-block.image-embed .embed-container .editor-images-container .editor-image-error-placeholder {\n  width: 100%;\n  height: 400px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #DEDEDE;\n  border-radius: 3px;\n  overflow: hidden;\n  min-height: 70px;\n}\n\n.editor-main .root-container .editor-block.embed-block.image-embed .embed-container:has(div.editor-images-container > div.editor-image-error-placeholder),\n.editor-main .root-container .editor-block.embed-block.image-embed .embed-container:has(div.editor-images-container > div.editor-image-error-placeholder) .editor-images-container {\n  width: 100%;\n}\n\n.editor-image-upload-error-subject {\n  font-weight: 500;\n  color: #303030;\n  font-size: 18px;\n  line-height: 26px;\n  margin-top: 25px;\n  margin-bottom: 5px;\n  user-select: none;\n}\n.editor-image-upload-error-detail {\n  font-size: 14px;\n  line-height: 22px;\n  color: #606060;\n  user-select: none;\n} \n\n.editor-image-upload-error-retry {\n  color: #338FE5;\n  margin-left: 5px;\n}\n.editor-image-error-link:hover,\n.editor-image-upload-error-retry:hover {\n  color: #2872B7;\n  cursor: pointer;\n  text-decoration: underline;\n}\n\n.editor-image-upload-error-detail span svg,\n.editor-image-error-link svg {\n  fill: transparent !important;\n  margin-left: 3px;\n}\n\n.editor-image-error-link {\n  font-size: 14px;\n  line-height: 22px;\n  color: #338FE5;\n  display: inline-flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n}\n\n\n.editor-main .root-container[contenteditable=true] .embed-block.image-embed.embed-selected .block-content img.loading {\n  outline: 1px solid var(--editor-block-resize-toolbar-color)\n}\n\n.editor-link-button {\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 4px 8px;\n  margin-right: 16px;\n  outline: none;\n}\n\n.editor-standard-button {\n  padding: 4px 8px;\n  font-size: 14px;\n  background-color: var(--editor-standard-button-bg-color);\n  color: var(--editor-standard-button-color);\n  display: inline-flex;\n  align-items: center;\n  border-radius: 4px;\n  min-height: 32px;\n  cursor: pointer;\n  border: none;\n  outline: none;\n}\n\n.editor-standard-button:hover {\n  background-color: var(--editor-standard-button-bg-color-hover);\n  color: var(--editor-standard-button-color-hover);\n}\n\n.editor-standard-button[disabled=true],\n.editor-standard-button:disabled,\n.editor-standard-button:disabled:hover {\n  background-color: var(--editor-standard-button-bg-color-disabled);\n  color: var(--editor-standard-button-color-disabled);\n  cursor: 'not-allowed';\n  pointer-events: 'unset';\n}\n\n.editor-add-image-dialog-root {\n  min-width: 320px;\n  min-height: 130px;\n  background-color: var(--editor-bg-color);\n  display: flex;\n  flex-direction: column;\n  padding: 8px 16px;\n}\n\n.editor-add-image-dialog-root .editor-link-button.active {\n  color: var(--editor-link-color);\n}\n\n.editor-add-image-dialog-root .editor-add-image-dialog-tab-container {\n  display: flex;\n  margin-bottom: 16px;\n}\n\n.editor-add-image-dialog-root .editor-add-image-dialog-pane-container {\n  display: flex;\n  width: 100%;\n  flex-grow: 1;\n  flex-direction: column;\n}\n\n.editor-add-image-dialog-root .editor-add-image-dialog-pane-container .editor-add-image-dialog-local-pane {\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.editor-add-image-dialog-root .editor-add-image-dialog-pane-container .editor-add-image-dialog-remote-pane {\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  height: 100%;;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 0px 8px;\n}\n\n.editor-add-image-dialog-root .editor-add-image-dialog-pane-container .editor-add-image-dialog-local-pane .editor-add-image-dialog-file-input {\n  display: none;\n}\n\n.editor-add-image-dialog-root .editor-add-image-dialog-pane-container .editor-add-image-dialog-remote-pane .editor-add-image-dialog-url-edit {\n  width: 100%;\n  padding: 4px;\n  margin-bottom: 16px;\n}\n\n/* 全局组件 */\n.editor-main button.editor-button,\n.tippy-box button.editor-button,\n#editor-dialog-background .dialog-tools button {\n  min-width: 64px;\n  min-height: 32px;\n  font-size: 14px;\n  outline: none;\n  background-color: var(--editor-button-bg-color);\n  color: var(--editor-button-color);\n  border: 0;\n  padding: 4px 8px;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 8px;\n}\n.editor-main button.editor-button.editor-button-cancel,\n.tippy-box button.editor-button.editor-button-cancel {\n  background-color: var(--editor-cancel-button-bg-color);\n  color: var(--editor-cancel-button-color);\n}\n.editor-main button.editor-button:last-child,\n.tippy-box button.editor-button:last-child {\n  margin-right: 0;\n}\n\n#editor-dialog-background .dialog-tools button.dialog-button-cancel {\n  background: #EEF3F8;\n  color: var(--editor-dialog-text-color);\n}\n.editor-main button.editor-button:disabled,\n.editor-main.comment-readonly button.editor-button.comment-btn-reply,\n.editor-main.comment-readonly button.editor-button.comment-btn-send,\n.tippy-box button.editor-button:disabled,\n#editor-dialog-background .dialog-tools button:disabled {\n  color: var(--editor-button-disabled-color);\n  background-color: var(--editor-button-disabled-bg);\n  cursor: default;\n}\n\n.editor-main .editor-block.table-block table.empty-table {\n  width: 300px;\n  height: 40px;\n  background-color: var(--editor-code-bg-color);\n}\n\n.editor-main .editor-block.table-block table.empty-table::before {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  content: ' ';\n}\n\n.editor-main .editor-block.embed-block.math-embed .editor-mathjax-svg {\n  color: var(--editor-color);\n}\n\n.code-editor-container {\n  min-width: 400px;\n  min-height: 128px;\n  display: flex;\n  flex-direction: column;\n  padding: 2px 8px;\n}\n\n.code-editor-container .code-editor {\n  width: 100%;\n  height: 100%;\n  min-width: 300px;\n  max-width: 50vw;\n  min-height: 50px;\n  max-height: 400px;\n  border: 0;\n  background-color: transparent;\n  color: var(--editor-math-input-text-color);\n  outline: none;\n  flex-grow: 1;\n}\n\n.editor-menu-container .editor-menu-scroll-container .menu-item.clickable-item.editor-command-item .menu-checked-icon {\n  width: 24px;\n  height: 24px;\n}\n\n\n.editor-main.mobile .editor-block.table-block col {\n  width: 100px;\n }\n\n .editor-main .editor-block .box-wiki-link-name {\n   border-bottom: 1px dashed #B2BCCD;\n }\n\n .editor-main .editor-block .box-wiki-link-name:hover {\n  border-bottom: 1px dashed #448AFF;\n}\n\n.editor-main .root-container > .editor-block.embed-block.snapshot-embed {\n  background-color: var(--editor-locked-bg-color);\n  border-radius: 8px;\n}\n\n.editor-tooltip-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor-tooltip-container .editor-tooltip-icon {\n  height: 24px;\n  padding-right: 4px;\n  color: var(--tooltip-color);\n}\n\n.editor-tooltip-container .editor-tooltip-icon svg {\n  fill: currentColor;\n}\n\n.editor-tooltip-container .editor-tooltip-info {\n  display: block;\n  font-size: 12px;\n  opacity: 0.5;\n}\n\n.editor-main .root-container > .editor-block.embed-block.snapshot-embed .editor-snapshot-info {\n  display: flex;\n  align-items: center;\n  color: var(--editor-line-number-color);\n  margin-top: 8px;\n}\n\n.editor-main .root-container > .editor-block.embed-block.snapshot-embed .editor-snapshot-info .editor-snapshot-icon {\n  height: 24px;\n  padding-right: 4px;\n  cursor: pointer;\n}\n\n.editor-main .root-container > .editor-block.embed-block.snapshot-embed .editor-snapshot-info .editor-snapshot-title {\n  height: 24px;\n  padding-right: 4px;\n  cursor: pointer;\n}\n\n.editor-main.readonly.block-icon > .root-container-extend > .root-container > .editor-block.embed-block.snapshot-embed:hover:before, /* doc snapshot*/\n.editor-main.block-icon > .root-container-extend > .root-container > .editor-block.embed-block.snapshot-embed:not(.hover):before, /* doc snapshot*/\n.editor-main.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-1.title-block:before, /* title block*/\n.editor-main.readonly.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-1.title-block:before, /* title block*/\n.editor-main.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-1:not(.hover):not(.focused):not(.heading-collapsed):not(.title-block):not(.editor-hide-line-number):before,\n.editor-main.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-2:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):before,\n.editor-main.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-3:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):before,\n.editor-main.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-4:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):before,\n.editor-main.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-6:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):before,\n.editor-main.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-5:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):before,\n.editor-main.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-7:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):before,\n.editor-main.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-8:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):before,\n.editor-main.readonly.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-1:not(.hover):not(.heading-collapsed):not(.title-block):before,\n.editor-main.readonly.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-2:not(.hover):not(.heading-collapsed):before,\n.editor-main.readonly.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-3:not(.hover):not(.heading-collapsed):before,\n.editor-main.readonly.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-4:not(.hover):not(.heading-collapsed):before,\n.editor-main.readonly.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-5:not(.hover):not(.heading-collapsed):before,\n.editor-main.readonly.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-6:not(.hover):not(.heading-collapsed):before,\n.editor-main.readonly.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-7:not(.hover):not(.heading-collapsed):before,\n.editor-main.readonly.block-icon > .root-container-extend > .root-container > .editor-block.text-block.editor-heading-8:not(.hover):not(.heading-collapsed):before {\n  content: ' ';\n  position: absolute;\n  left: -30px;\n  height: 24px;\n  top: var(--editor-first-line-center-top);\n  z-index: var(--wiz-editor-z-block-counter);\n  margin-top: -12px;\n  display: block;\n  width: 48px;\n  padding-right: 14px;\n  text-align: right;\n  color: var(--editor-line-number-color);\n  box-sizing: border-box;\n  background-repeat: no-repeat;\n  opacity: 1;\n}\n\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.embed-block.snapshot-embed:hover:before,\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.embed-block.snapshot-embed:not(.hover):before {\n  left: -28px;\n  background-image: url(data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTUuMzAzIDE1LjMwNzFDMTQuODM4MyAxNS43NjkgMTQuMTQ0MyAxNiAxMy4yMjEgMTZIMi43NzkwNEMxLjg2MTgxIDE2IDEuMTY5MzIgMTUuNzcwNiAwLjcwMTU5NSAxNS4zMTE3QzAuMjMzODY1IDE0Ljg1MjggMCAxNC4xNjc1IDAgMTMuMjU1OFYyLjc0NDE2QzAgMS44MzI0OCAwLjIzMzg2NSAxLjE0NzIgMC43MDE1OTUgMC42ODgzMTlDMS4xNjkzMiAwLjIyOTQ0IDEuODYxODEgMCAyLjc3OTA0IDBIMTMuMjIxQzE0LjE0NDMgMCAxNC44MzgzIDAuMjMwOTU5IDE1LjMwMyAwLjY5Mjg3N0MxNS43Njc3IDEuMTU0OCAxNiAxLjgzODU2IDE2IDIuNzQ0MTZWMTMuMjU1OEMxNiAxNC4xNjE0IDE1Ljc2NzcgMTQuODQ1MiAxNS4zMDMgMTUuMzA3MVpNNS4zMzcyIDYuMTM0NDZDNS4zMzcyIDYuODY3NDEgNC43NTg4NSA3LjM0MjY5IDQuMDY1OTggNy4zNDI2OUMzLjIyOTk2IDcuMzQyNjkgMi41NzcxOCA2LjcwMTM1IDIuNTc3MTggNS43MTY0NUMyLjU3NzE4IDQuMzM2NDQgMy42NTk0MyAzLjMgNC44NzkxIDMuM0M1LjE1Mzk2IDMuMyA1LjM2MDEgMy40Mzc0MyA1LjM2MDEgMy42ODM2NUM1LjM2MDEgMy44ODk4IDUuMjA1NDkgNC4wNDQ0IDQuOTkzNjMgNC4wNTU4NkM0LjIwOTE0IDQuMDk1OTQgMy42MzA3OSA0LjU4ODM5IDMuNDY0NzMgNS4zNDk5N0MzLjYzMDc5IDUuMDk4MDIgMy44ODg0NyA0Ljk3MjA1IDQuMjE0ODYgNC45NzIwNUM0Ljg2MTkyIDQuOTcyMDUgNS4zMzcyIDUuNDMwMTQgNS4zMzcyIDYuMTM0NDZaTTguNjc1NTYgNi4xMzQ0NkM4LjY3NTU2IDYuODY3NDEgOC4xMDI5NCA3LjM0MjY5IDcuMzk4NjIgNy4zNDI2OUM2LjU2ODMzIDcuMzQyNjkgNS45MTU1NCA2LjcwMTM1IDUuOTE1NTQgNS43MTY0NUM1LjkxNTU0IDQuMzM2NDQgNy4wMDM1MiAzLjMgOC4yMjMxOSAzLjNDOC40OTgwNSAzLjMgOC43MDQxOSAzLjQzNzQzIDguNzA0MTkgMy42ODM2NUM4LjcwNDE5IDMuODg5OCA4LjU0Mzg2IDQuMDQ0NCA4LjMzMTk5IDQuMDU1ODZDNy41NTMyMyA0LjA5MDIxIDYuOTc0ODkgNC41ODgzOSA2LjgwODgzIDUuMzQ0MjVDNi45NjkxNiA1LjA5ODAyIDcuMjI2ODQgNC45NzIwNSA3LjU1MzIzIDQuOTcyMDVDOC4yMDAyOSA0Ljk3MjA1IDguNjc1NTYgNS40MzAxNCA4LjY3NTU2IDYuMTM0NDZaTTEzLjExOTEgNC4xNjQ2NUgxMC4wNzI4QzkuODMyMjUgNC4xNjQ2NSA5LjY0MzI5IDMuOTc1NjkgOS42NDMyOSAzLjczNTE5QzkuNjQzMjkgMy40OTQ2OSA5LjgzMjI1IDMuMzA1NzMgMTAuMDcyOCAzLjMwNTczSDEzLjExOTFDMTMuMzY1MyAzLjMwNTczIDEzLjU2IDMuNDk0NjkgMTMuNTYgMy43MzUxOUMxMy41NiAzLjk3NTY5IDEzLjM2NTMgNC4xNjQ2NSAxMy4xMTkxIDQuMTY0NjVaTTEzLjExOTEgNy4wMDQ4NEgxMC4wNzI4QzkuODMyMjUgNy4wMDQ4NCA5LjY0MzI5IDYuODE1ODggOS42NDMyOSA2LjU2OTY1QzkuNjQzMjkgNi4zMjkxNSA5LjgzMjI1IDYuMTQwMTkgMTAuMDcyOCA2LjE0MDE5SDEzLjExOTFDMTMuMzY1MyA2LjE0MDE5IDEzLjU2IDYuMzI5MTUgMTMuNTYgNi41Njk2NUMxMy41NiA2LjgxNTg4IDEzLjM2NTMgNy4wMDQ4NCAxMy4xMTkxIDcuMDA0ODRaTTEzLjExOTEgOS44MzkzSDIuOTk1MTlDMi43NDg5NiA5LjgzOTMgMi41NiA5LjY1MDM0IDIuNTYgOS40MDk4NEMyLjU2IDkuMTY5MzQgMi43NDg5NiA4Ljk4MDM4IDIuOTk1MTkgOC45ODAzOEgxMy4xMTkxQzEzLjM2NTMgOC45ODAzOCAxMy41NiA5LjE2OTM0IDEzLjU2IDkuNDA5ODRDMTMuNTYgOS42NTAzNCAxMy4zNjUzIDkuODM5MyAxMy4xMTkxIDkuODM5M1pNMTMuMTE5MSAxMi42Nzk1SDIuOTk1MTlDMi43NDg5NiAxMi42Nzk1IDIuNTYgMTIuNDkwNSAyLjU2IDEyLjI1QzIuNTYgMTIuMDAzOCAyLjc0ODk2IDExLjgxNDggMi45OTUxOSAxMS44MTQ4SDEzLjExOTFDMTMuMzY1MyAxMS44MTQ4IDEzLjU2IDEyLjAwMzggMTMuNTYgMTIuMjVDMTMuNTYgMTIuNDkwNSAxMy4zNjUzIDEyLjY3OTUgMTMuMTE5MSAxMi42Nzk1WiIgZmlsbD0iI0IyQkNDRCIvPgo8L3N2Zz4K);\n}\n\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-1.title-block:before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-1.title-block:before,\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-1:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):not(.title-block):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-1:not(.hover):not(.heading-collapsed):before {\n  top: var(--editor-first-line-center-top-h1);\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljc1IDZDNS4zMzU3OSA2IDUgNi4zMzU3OSA1IDYuNzVWMTcuMjVDNSAxNy42NjQyIDUuMzM1NzkgMTggNS43NSAxOEM2LjE2NDIxIDE4IDYuNSAxNy42NjQyIDYuNSAxNy4yNVYxMi42MzMzSDExLjIyMjJWMTcuMjVDMTEuMjIyMiAxNy42NjQyIDExLjU1OCAxOCAxMS45NzIyIDE4QzEyLjM4NjQgMTggMTIuNzIyMiAxNy42NjQyIDEyLjcyMjIgMTcuMjVWNi43NUMxMi43MjIyIDYuMzM1NzkgMTIuMzg2NCA2IDExLjk3MjIgNkMxMS41NTggNiAxMS4yMjIyIDYuMzM1NzkgMTEuMjIyMiA2Ljc1VjExLjEzMzNINi41VjYuNzVDNi41IDYuMzM1NzkgNi4xNjQyMSA2IDUuNzUgNlpNMTcuMzEwNSAxNy4yNDA4QzE3LjMxMDUgMTcuNzQ2OSAxNy41NDg5IDE4IDE4LjAyNTcgMThDMTguNTA5OCAxOCAxOC43NTE4IDE3Ljc0NjkgMTguNzUxOCAxNy4yNDA4VjkuODM2MTlDMTguNzUxOCA5LjU4NjggMTguNjc0OCA5LjM4NTA5IDE4LjUyMDggOS4yMzEwNUMxOC4zNzQxIDkuMDc3MDIgMTguMTc2IDkgMTcuOTI2NyA5QzE3Ljc0MzMgOSAxNy41ODE5IDkuMDI5MzQgMTcuNDQyNSA5LjA4ODAyQzE3LjMwMzIgOS4xNDY3IDE3LjEzNDUgOS4yNDU3MiAxNi45MzY0IDkuMzg1MDlMMTUuMzg1MSAxMC40NzQzQzE1LjEyODQgMTAuNjcyNCAxNSAxMC45MDM0IDE1IDExLjE2NzVDMTUgMTEuMzUwOSAxNS4wNjYgMTEuNTA4NiAxNS4xOTggMTEuNjQwNkMxNS4zMzAxIDExLjc2NTMgMTUuNDc2OCAxMS44Mjc2IDE1LjYzODEgMTEuODI3NkMxNS43MjYyIDExLjgyNzYgMTUuODEwNSAxMS44MTY2IDE1Ljg5MTIgMTEuNzk0NkMxNS45NzE5IDExLjc3MjYgMTYuMDcwOSAxMS43MTM5IDE2LjE4ODMgMTEuNjE4NkwxNy4yNTU1IDEwLjgwNDRIMTcuMzEwNVYxNy4yNDA4WiIgZmlsbD0iI0IyQkNDRCIvPgo8L3N2Zz4K);\n}\n\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-2:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-2:not(.hover):not(.heading-collapsed):before {\n  top: var(--editor-first-line-center-top-h2);\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljc1IDZDNS4zMzU3OSA2IDUgNi4zMzU3OSA1IDYuNzVWMTcuMjVDNSAxNy42NjQyIDUuMzM1NzkgMTggNS43NSAxOEM2LjE2NDIxIDE4IDYuNSAxNy42NjQyIDYuNSAxNy4yNVYxMi42MzMzSDExLjIyMjJWMTcuMjVDMTEuMjIyMiAxNy42NjQyIDExLjU1OCAxOCAxMS45NzIyIDE4QzEyLjM4NjQgMTggMTIuNzIyMiAxNy42NjQyIDEyLjcyMjIgMTcuMjVWNi43NUMxMi43MjIyIDYuMzM1NzkgMTIuMzg2NCA2IDExLjk3MjIgNkMxMS41NTggNiAxMS4yMjIyIDYuMzM1NzkgMTEuMjIyMiA2Ljc1VjExLjEzMzNINi41VjYuNzVDNi41IDYuMzM1NzkgNi4xNjQyMSA2IDUuNzUgNlpNMTQuMjY2IDE3LjgyMjdDMTQuMzkxNiAxNy45NDA5IDE0LjU1NzkgMTggMTQuNzY0OCAxOEgxOS4xMDk2QzE5LjI5NDMgMTggMTkuNDQ5NSAxNy45NDA5IDE5LjU3NTEgMTcuODIyN0MxOS43MDA3IDE3LjY5NyAxOS43NjM1IDE3LjUzMDggMTkuNzYzNSAxNy4zMjM5QzE5Ljc2MzUgMTcuMTA5NiAxOS43MDA3IDE2Ljk0MzMgMTkuNTc1MSAxNi44MjUxQzE5LjQ0OTUgMTYuNzA2OSAxOS4yOTQzIDE2LjY0NzggMTkuMTA5NiAxNi42NDc4SDE2LjE1MDJWMTYuNTgxM0wxOC4xNTY0IDE0LjI0MjZDMTguNTU1NCAxMy43NzcxIDE4Ljg4MDUgMTMuMzMgMTkuMTMxOCAxMi45MDE1QzE5LjM5MDQgMTIuNDcyOSAxOS41MTk3IDExLjk5NjMgMTkuNTE5NyAxMS40NzE3QzE5LjUxOTcgMTAuNzE4IDE5LjI2ODUgMTAuMTE5NSAxOC43NjYgOS42NzYxMUMxOC4yNjM1IDkuMjI1MzcgMTcuNTkxMSA5IDE2Ljc0ODggOUMxNi4xMTMzIDkgMTUuNTQwNiA5LjE4MTAzIDE1LjAzMDggOS41NDMxQzE0LjUyMDkgOS45MDUxNyAxNC4xOTIxIDEwLjM2MzMgMTQuMDQ0MyAxMC45MTc1QzE0LjAzNjkgMTAuOTg0IDE0LjAyNTkgMTEuMDUwNSAxNC4wMTExIDExLjExN0MxNC4wMDM3IDExLjE4MzUgMTQgMTEuMjUgMTQgMTEuMzE2NUMxNCAxMS41MjM0IDE0LjA1NTQgMTEuNjg5NyAxNC4xNjYzIDExLjgxNTNDMTQuMjg0NSAxMS45MzM1IDE0LjQ0MzMgMTEuOTkyNiAxNC42NDI5IDExLjk5MjZDMTQuODA1NCAxMS45OTI2IDE0LjkzNDcgMTEuOTQ4MyAxNS4wMzA4IDExLjg1OTZDMTUuMTM0MiAxMS43NjM1IDE1LjIyMjkgMTEuNjM3OSAxNS4yOTY4IDExLjQ4MjhDMTUuNDIyNCAxMS4wOTg1IDE1LjYxMDggMTAuODEwMyAxNS44NjIxIDEwLjYxODJDMTYuMTIwNyAxMC40MjYxIDE2LjQzMSAxMC4zMyAxNi43OTMxIDEwLjMzQzE3LjIwNjkgMTAuMzMgMTcuNTM1NyAxMC40NDgzIDE3Ljc3OTYgMTAuNjg0N0MxOC4wMjM0IDEwLjkxMzggMTguMTQ1MyAxMS4yMTY3IDE4LjE0NTMgMTEuNTkzNkMxOC4xNDUzIDExLjkzMzUgMTguMDMwOCAxMi4yNTQ5IDE3LjgwMTcgMTIuNTU3OUMxNy41OCAxMi44NTM0IDE3LjM0NzMgMTMuMTUyNyAxNy4xMDM0IDEzLjQ1NTdMMTQuMzY1OCAxNi42N0MxNC4xODEgMTYuODY5NSAxNC4wODg3IDE3LjA4NzQgMTQuMDg4NyAxNy4zMjM5QzE0LjA4ODcgMTcuNTMwOCAxNC4xNDc4IDE3LjY5NyAxNC4yNjYgMTcuODIyN1oiIGZpbGw9IiNCMkJDQ0QiLz4KPC9zdmc+Cg==);\n}\n\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-3:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-3:not(.hover):not(.heading-collapsed):before {\n  top: var(--editor-first-line-center-top-h3);\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljc1IDZDNS4zMzU3OSA2IDUgNi4zMzU3OSA1IDYuNzVWMTcuMjVDNSAxNy42NjQyIDUuMzM1NzkgMTggNS43NSAxOEM2LjE2NDIxIDE4IDYuNSAxNy42NjQyIDYuNSAxNy4yNVYxMi42MzMzSDExLjIyMjJWMTcuMjVDMTEuMjIyMiAxNy42NjQyIDExLjU1OCAxOCAxMS45NzIyIDE4QzEyLjM4NjQgMTggMTIuNzIyMiAxNy42NjQyIDEyLjcyMjIgMTcuMjVWNi43NUMxMi43MjIyIDYuMzM1NzkgMTIuMzg2NCA2IDExLjk3MjIgNkMxMS41NTggNiAxMS4yMjIyIDYuMzM1NzkgMTEuMjIyMiA2Ljc1VjExLjEzMzNINi41VjYuNzVDNi41IDYuMzM1NzkgNi4xNjQyMSA2IDUuNzUgNlpNMTUuMDIyNyAxNy40NTFDMTUuNTM5NSAxNy44MTcgMTYuMTUzMSAxOCAxNi44NjM2IDE4QzE3Ljc1MzYgMTggMTguNDc4NSAxNy43NTk2IDE5LjAzODMgMTcuMjc4N0MxOS41OTgxIDE2Ljc5MDcgMTkuODc4IDE2LjE2OTkgMTkuODc4IDE1LjQxNjNDMTkuODc4IDE0Ljg2MzYgMTkuNzA5MyAxNC4zOSAxOS4zNzIgMTMuOTk1MkMxOS4wMzQ3IDEzLjYwMDUgMTguNjA0MSAxMy4zNzQ0IDE4LjA4MDEgMTMuMzE3VjEzLjI1MjRDMTguNTEwOCAxMy4xODc4IDE4Ljg3MzIgMTIuOTY1MyAxOS4xNjc1IDEyLjU4NDlDMTkuNDYxNyAxMi4xOTc0IDE5LjYwODkgMTEuNzYzMiAxOS42MDg5IDExLjI4MjNDMTkuNjA4OSAxMC42MTQ4IDE5LjM1NzcgMTAuMDY5NCAxOC44NTUzIDkuNjQ1OTNDMTguMzYgOS4yMTUzMSAxNy43MTQxIDkgMTYuOTE3NSA5QzE2LjIxNDEgOSAxNS42MTg0IDkuMTc5NDMgMTUuMTMwNCA5LjUzODI4QzE0LjY0OTUgOS44ODk5NSAxNC4zNDA5IDEwLjMxMzQgMTQuMjA0NSAxMC44MDg2QzE0LjE4MyAxMC45MTYzIDE0LjE3MjIgMTEuMDUyNiAxNC4xNzIyIDExLjIxNzdDMTQuMTcyMiAxMS40MTE1IDE0LjIyOTcgMTEuNTY5NCAxNC4zNDQ1IDExLjY5MTRDMTQuNDU5MyAxMS44MTM0IDE0LjYxIDExLjg3NDQgMTQuNzk2NyAxMS44NzQ0QzE0Ljk2MTcgMTEuODc0NCAxNS4wOTA5IDExLjgzNDkgMTUuMTg0MiAxMS43NTZDMTUuMjc3NSAxMS42Njk5IDE1LjM1MjkgMTEuNTQ0MyAxNS40MTAzIDExLjM3OTJDMTUuNTMyMyAxMS4wMjc1IDE1LjcxNTMgMTAuNzYyIDE1Ljk1OTMgMTAuNTgyNUMxNi4yMDMzIDEwLjM5NTkgMTYuNTEyIDEwLjMwMjYgMTYuODg1MiAxMC4zMDI2QzE3LjI4NzEgMTAuMzAyNiAxNy42MSAxMC40MTAzIDE3Ljg1NDEgMTAuNjI1NkMxOC4wOTgxIDEwLjg0MDkgMTguMjIwMSAxMS4xMjA4IDE4LjIyMDEgMTEuNDY1M0MxOC4yMjAxIDExLjgyNDIgMTguMDk4MSAxMi4xMjIgMTcuODU0MSAxMi4zNTg5QzE3LjYxIDEyLjU5NTcgMTcuMjg3MSAxMi43MTQxIDE2Ljg4NTIgMTIuNzE0MUgxNi4zNjg0QzE2LjE4OSAxMi43MTQxIDE2LjA0MTkgMTIuNzc1MSAxNS45MjcgMTIuODk3MUMxNS44MTIyIDEzLjAxMiAxNS43NTQ4IDEzLjE3MzQgMTUuNzU0OCAxMy4zODE2QzE1Ljc1NDggMTMuNTYxIDE1LjgwODYgMTMuNzE1MyAxNS45MTYzIDEzLjg0NDVDMTYuMDMxMSAxMy45NjY1IDE2LjE4MTggMTQuMDI3NSAxNi4zNjg0IDE0LjAyNzVIMTYuOTI4MkMxNy40MDE5IDE0LjAyNzUgMTcuNzc1MSAxNC4xNDk1IDE4LjA0NzggMTQuMzkzNUMxOC4zMjc4IDE0LjYzMDQgMTguNDY3NyAxNC45NDk4IDE4LjQ2NzcgMTUuMzUxN0MxOC40Njc3IDE1LjczMjEgMTguMzIwNiAxNi4wNTE0IDE4LjAyNjMgMTYuMzA5OEMxNy43MzIxIDE2LjU2ODIgMTcuMzQ4MSAxNi42OTc0IDE2Ljg3NDQgMTYuNjk3NEMxNi40ODY4IDE2LjY5NzQgMTYuMTU2NyAxNi42MDQxIDE1Ljg4NCAxNi40MTc1QzE1LjYxMTIgMTYuMjMwOSAxNS40MDY3IDE1Ljk2MTcgMTUuMjcwMyAxNS42MUMxNS4xMzQgMTUuMjc5OSAxNC45MjU4IDE1LjExNDggMTQuNjQ1OSAxNS4xMTQ4QzE0LjQ1OTMgMTUuMTE0OCAxNC4zMDUgMTUuMTc1OCAxNC4xODMgMTUuMjk3OEMxNC4wNjEgMTUuNDE5OSAxNCAxNS41ODEzIDE0IDE1Ljc4MjNDMTQgMTUuODU0MSAxNC4wMDM2IDE1LjkyMjIgMTQuMDEwOCAxNS45ODY4QzE0LjAyNTEgMTYuMDQ0MyAxNC4wNDMxIDE2LjEwNTMgMTQuMDY0NiAxNi4xNjk5QzE0LjE5MzggMTYuNjUwNyAxNC41MTMyIDE3LjA3NzggMTUuMDIyNyAxNy40NTFaIiBmaWxsPSIjQjJCQ0NEIi8+Cjwvc3ZnPg==);\n}\n\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-4:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-4:not(.hover):not(.heading-collapsed):before {\n  top: var(--editor-first-line-center-top-h4);\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljc1IDZDNS4zMzU3OSA2IDUgNi4zMzU3OSA1IDYuNzVWMTcuMjVDNSAxNy42NjQyIDUuMzM1NzkgMTggNS43NSAxOEM2LjE2NDIxIDE4IDYuNSAxNy42NjQyIDYuNSAxNy4yNVYxMi42MzMzSDExLjIyMjJWMTcuMjVDMTEuMjIyMiAxNy42NjQyIDExLjU1OCAxOCAxMS45NzIyIDE4QzEyLjM4NjQgMTggMTIuNzIyMiAxNy42NjQyIDEyLjcyMjIgMTcuMjVWNi43NUMxMi43MjIyIDYuMzM1NzkgMTIuMzg2NCA2IDExLjk3MjIgNkMxMS41NTggNiAxMS4yMjIyIDYuMzM1NzkgMTEuMjIyMiA2Ljc1VjExLjEzMzNINi41VjYuNzVDNi41IDYuMzM1NzkgNi4xNjQyMSA2IDUuNzUgNlpNMTguMDQ2OCAxNy43OTVDMTguMTYxOSAxNy45MzE3IDE4LjMyNzMgMTggMTguNTQzMiAxOEMxOC43NjYyIDE4IDE4LjkzNTMgMTcuOTMxNyAxOS4wNTA0IDE3Ljc5NUMxOS4xNzI3IDE3LjY1ODMgMTkuMjMzOCAxNy40ODIgMTkuMjMzOCAxNy4yNjYyVjE2LjA3OTFIMTkuNzUxOEMyMC4xNjE5IDE2LjA3OTEgMjAuMzY2OSAxNS44Nzc3IDIwLjM2NjkgMTUuNDc0OEMyMC4zNjY5IDE1LjI3MzQgMjAuMzA5NCAxNS4xMTg3IDIwLjE5NDIgMTUuMDEwOEMyMC4wODYzIDE0LjkwMjkgMTkuOTM4OCAxNC44NDg5IDE5Ljc1MTggMTQuODQ4OUgxOS4yMzM4VjEwLjA3OTFDMTkuMjMzOCA5Ljc1NTQgMTkuMTI5NSA5LjQ5NjQgMTguOTIwOSA5LjMwMjE2QzE4LjcxOTQgOS4xMDA3MiAxOC40NTMyIDkgMTguMTIyMyA5QzE3LjgwNTggOSAxNy41Mzk2IDkuMDY4MzUgMTcuMzIzNyA5LjIwNTA0QzE3LjEwNzkgOS4zNDE3MyAxNi45MTM3IDkuNTYxMTUgMTYuNzQxIDkuODYzMzFDMTYuNTI1MiAxMC4yMTU4IDE2LjMwNTggMTAuNTg2MyAxNi4wODI3IDEwLjk3NDhMMTUuNDEzNyAxMi4xNDAzQzE1LjE5NzggMTIuNTI4OCAxNC45ODU2IDEyLjkwMjkgMTQuNzc3IDEzLjI2MjZDMTQuNTc1NSAxMy42MjIzIDE0LjM5MjEgMTMuOTUzMiAxNC4yMjY2IDE0LjI1NTRDMTQuMTQ3NSAxNC40MjA5IDE0LjA4OTkgMTQuNTc1NSAxNC4wNTQgMTQuNzE5NEMxNC4wMTggMTQuODU2MSAxNCAxNSAxNCAxNS4xNTExQzE0IDE1LjQ0NiAxNC4wODI3IDE1LjY3NjMgMTQuMjQ4MiAxNS44NDE3QzE0LjQyMDkgMTYuMDA3MiAxNC42NTQ3IDE2LjA4OTkgMTQuOTQ5NiAxNi4wODk5SDE3Ljg4NDlWMTcuMjY2MkMxNy44ODQ5IDE3LjQ3NDggMTcuOTM4OCAxNy42NTExIDE4LjA0NjggMTcuNzk1Wk0xNy44ODQ5IDEwLjVWMTQuODQ4OUgxNS40MzUzVjE0LjgwNThDMTUuNTU3NiAxNC41NzU1IDE1LjY5MDYgMTQuMzIzNyAxNS44MzQ1IDE0LjA1MDRDMTUuOTg1NiAxMy43NzcgMTYuMTQzOSAxMy40ODkyIDE2LjMwOTQgMTMuMTg3MUMxNi40NzQ4IDEyLjg4NDkgMTYuNjQzOSAxMi41NzkxIDE2LjgxNjUgMTIuMjY5OEMxNi45ODkyIDExLjk2MDQgMTcuMTYxOSAxMS42NTQ3IDE3LjMzNDUgMTEuMzUyNUMxNy41MDcyIDExLjA1MDQgMTcuNjcyNyAxMC43NjYyIDE3LjgzMDkgMTAuNUgxNy44ODQ5WiIgZmlsbD0iI0IyQkNDRCIvPgo8L3N2Zz4=);\n}\n\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-5:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-5:not(.hover):not(.heading-collapsed):before {\n  top: var(--editor-first-line-center-top-h5);\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01IDYuNzVDNSA2LjMzNTc5IDUuMzM1NzkgNiA1Ljc1IDZDNi4xNjQyMSA2IDYuNSA2LjMzNTc5IDYuNSA2Ljc1VjExLjEzMzNIMTEuMjIyMlY2Ljc1QzExLjIyMjIgNi4zMzU3OSAxMS41NTggNiAxMS45NzIyIDZDMTIuMzg2NCA2IDEyLjcyMjIgNi4zMzU3OSAxMi43MjIyIDYuNzVWMTcuMjVDMTIuNzIyMiAxNy42NjQyIDEyLjM4NjQgMTggMTEuOTcyMiAxOEMxMS41NTggMTggMTEuMjIyMiAxNy42NjQyIDExLjIyMjIgMTcuMjVWMTIuNjMzM0g2LjVWMTcuMjVDNi41IDE3LjY2NDIgNi4xNjQyMSAxOCA1Ljc1IDE4QzUuMzM1NzkgMTggNSAxNy42NjQyIDUgMTcuMjVWNi43NVoiIGZpbGw9IiNCMkJDQ0QiLz4KPHBhdGggZD0iTTE2LjgwNDkgMThDMTYuMTI3NiAxOCAxNS41NDYgMTcuODQ1NCAxNS4wNjAxIDE3LjUzNjJDMTQuNTc0MiAxNy4yMTk2IDE0LjI1NCAxNi44NDQyIDE0LjA5OTQgMTYuNDA5OEMxNC4wNjI2IDE2LjM0MzYgMTQuMDM2OCAxNi4yNjYzIDE0LjAyMjEgMTYuMTc3OUMxNC4wMDc0IDE2LjA4OTYgMTQgMTYuMDAxMiAxNCAxNS45MTI5QzE0IDE1LjcyMTUgMTQuMDU4OSAxNS41NjMyIDE0LjE3NjcgMTUuNDM4QzE0LjI5NDUgMTUuMzEyOSAxNC40NDkxIDE1LjI1MDMgMTQuNjQwNSAxNS4yNTAzQzE0Ljc3MyAxNS4yNTAzIDE0Ljg5MDggMTUuMjkwOCAxNC45OTM5IDE1LjM3MThDMTUuMTA0MyAxNS40NTI4IDE1LjIgMTUuNTcwNiAxNS4yODEgMTUuNzI1MkMxNS40MzU2IDE2LjAxOTYgMTUuNjUyOCAxNi4yNTUyIDE1LjkzMjUgMTYuNDMxOUMxNi4yMTIzIDE2LjYwODYgMTYuNTI1MiAxNi42OTY5IDE2Ljg3MTIgMTYuNjk2OUMxNy4zNjQ0IDE2LjY5NjkgMTcuNzY1NiAxNi41NDYgMTguMDc0OCAxNi4yNDQyQzE4LjM4NCAxNS45MzUgMTguNTM4NyAxNS41MTE3IDE4LjUzODcgMTQuOTc0MkMxOC41Mzg3IDE0LjUwMzEgMTguMzk4OCAxNC4xMDkyIDE4LjExOSAxMy43OTI2QzE3LjgzOTMgMTMuNDc2MSAxNy40NzQ4IDEzLjMxNzggMTcuMDI1OCAxMy4zMTc4QzE2Ljc5NzUgMTMuMzE3OCAxNi41OTE0IDEzLjM1ODMgMTYuNDA3NCAxMy40MzkzQzE2LjIzMDcgMTMuNTIwMiAxNi4wMzU2IDEzLjY1MjggMTUuODIyMSAxMy44MzY4QzE1LjY2MDEgMTMuOTY5MyAxNS41MTI5IDE0LjA2NSAxNS4zODA0IDE0LjEyMzlDMTUuMjU1MiAxNC4xNzU1IDE1LjEwNDMgMTQuMjAxMiAxNC45Mjc2IDE0LjIwMTJDMTQuNjY5OSAxNC4yMDEyIDE0LjQ2NzUgMTQuMTEyOSAxNC4zMjAyIDEzLjkzNjJDMTQuMTgwNCAxMy43NTk1IDE0LjExNzggMTMuNTI3NiAxNC4xMzI1IDEzLjI0MDVMMTQuMzg2NSA5Ljk0OTY5QzE0LjQyMzMgOS4zMTY1NiAxNC43NTQ2IDkgMTUuMzgwNCA5SDE5LjAyNDVDMTkuMjAxMiA5IDE5LjM0MTEgOS4wNTg5IDE5LjQ0NDIgOS4xNzY2OUMxOS41NTQ2IDkuMjk0NDggMTkuNjA5OCA5LjQ0NTQgMTkuNjA5OCA5LjYyOTQ1QzE5LjYwOTggOS44MjA4NiAxOS41NTQ2IDkuOTc5MTQgMTkuNDQ0MiAxMC4xMDQzQzE5LjMzMzcgMTAuMjIyMSAxOS4xOTM5IDEwLjI4MSAxOS4wMjQ1IDEwLjI4MUgxNS41OTAyTDE1LjM4MDQgMTIuOTMxM0gxNS40MjQ1QzE1LjU4NjUgMTIuNjg4MyAxNS44MzMxIDEyLjQ4OTYgMTYuMTY0NCAxMi4zMzVDMTYuNTAzMSAxMi4xODA0IDE2Ljg0OTEgMTIuMTAzMSAxNy4yMDI1IDEyLjEwMzFDMTguMDE5NiAxMi4xMDMxIDE4LjY4MjIgMTIuMzY4MSAxOS4xOTAyIDEyLjg5ODJDMTkuNjk4MiAxMy40MjgyIDE5Ljk1MjEgMTQuMTA5MiAxOS45NTIxIDE0Ljk0MTFDMTkuOTUyMSAxNS44ODM0IDE5LjY2NSAxNi42MzA3IDE5LjA5MDggMTcuMTgyOEMxOC41MTY2IDE3LjcyNzYgMTcuNzU0NiAxOCAxNi44MDQ5IDE4WiIgZmlsbD0iI0IyQkNDRCIvPgo8L3N2Zz4K);\n}\n\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-6:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-6:not(.hover):not(.heading-collapsed):before {\n  top: var(--editor-first-line-center-top-h6);\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljc1IDZDNS4zMzU3OSA2IDUgNi4zMzU3OSA1IDYuNzVWMTcuMjVDNSAxNy42NjQyIDUuMzM1NzkgMTggNS43NSAxOEM2LjE2NDIxIDE4IDYuNSAxNy42NjQyIDYuNSAxNy4yNVYxMi42MzMzSDExLjIyMjJWMTcuMjVDMTEuMjIyMiAxNy42NjQyIDExLjU1OCAxOCAxMS45NzIyIDE4QzEyLjM4NjQgMTggMTIuNzIyMiAxNy42NjQyIDEyLjcyMjIgMTcuMjVWNi43NUMxMi43MjIyIDYuMzM1NzkgMTIuMzg2NCA2IDExLjk3MjIgNkMxMS41NTggNiAxMS4yMjIyIDYuMzM1NzkgMTEuMjIyMiA2Ljc1VjExLjEzMzNINi41VjYuNzVDNi41IDYuMzM1NzkgNi4xNjQyMSA2IDUuNzUgNlpNMTUuNjA0MSAxNy42NjYzQzE2LjA0MTkgMTcuODg4OCAxNi41Mjk5IDE4IDE3LjA2ODIgMThDMTcuOTE1MSAxOCAxOC42MDc3IDE3LjczNDQgMTkuMTQ1OSAxNy4yMDMzQzE5LjY5MTQgMTYuNjY1MSAxOS45NjQxIDE1LjkxNTEgMTkuOTY0MSAxNC45NTMzQzE5Ljk2NDEgMTQuMDYzNCAxOS43MDU3IDEzLjM4MTYgMTkuMTg5IDEyLjkwNzlDMTguNjcyMiAxMi40MzQyIDE4LjA4MDEgMTIuMTk3NCAxNy40MTI3IDEyLjE5NzRDMTYuODc0NCAxMi4xOTc0IDE2LjQzNjYgMTIuMzI2NiAxNi4wOTkzIDEyLjU4NDlDMTUuNzYyIDEyLjg0MzMgMTUuNTI4NyAxMy4xNDExIDE1LjM5OTUgMTMuNDc4NUgxNS4zMjQyVjEzLjQyNDZWMTMuMzM4NUMxNS4zMjQyIDEyLjQwNTUgMTUuNDk2NCAxMS42NjYzIDE1Ljg0MDkgMTEuMTIwOEMxNi4xOTI2IDEwLjU2ODIgMTYuNjQ4MyAxMC4yOTE5IDE3LjIwODEgMTAuMjkxOUMxNy40OTUyIDEwLjI5MTkgMTcuNzM5MiAxMC4zNTY1IDE3Ljk0MDIgMTAuNDg1NkMxOC4xNDExIDEwLjYwNzcgMTguMzA5OCAxMC43NjIgMTguNDQ2MiAxMC45NDg2QzE4LjUzOTUgMTEuMDc3OCAxOC42MzI4IDExLjE3NDYgMTguNzI2MSAxMS4yMzkyQzE4LjgxOTQgMTEuMzAzOCAxOC45Mzc4IDExLjMzNjEgMTkuMDgxMyAxMS4zMzYxQzE5LjIzOTIgMTEuMzM2MSAxOS4zNzIgMTEuMjgyMyAxOS40Nzk3IDExLjE3NDZDMTkuNTg3MyAxMS4wNTk4IDE5LjY0MTEgMTAuOTEyNyAxOS42NDExIDEwLjczMzNDMTkuNjQxMSAxMC41ODk3IDE5LjYxMjQgMTAuNDQ2MiAxOS41NTUgMTAuMzAyNkMxOS40NjE3IDEwLjA3MyAxOS4zMTEgOS44NjEyNCAxOS4xMDI5IDkuNjY3NDZDMTguODk0NyA5LjQ2NjUxIDE4LjYzNjQgOS4zMDUwMiAxOC4zMjc4IDkuMTgzMDFDMTguMDE5MSA5LjA2MSAxNy42NjM5IDkgMTcuMjYyIDlDMTYuMjY0NCA5IDE1LjQ3MTMgOS4zOTQ3NCAxNC44ODI4IDEwLjE4NDJDMTQuMjk0MyAxMC45NjY1IDE0IDEyLjE0MzUgMTQgMTMuNzE1M0MxNCAxNC4zNDY5IDE0LjA1MDIgMTQuODk5NSAxNC4xNTA3IDE1LjM3MzJDMTQuMjUxMiAxNS44Mzk3IDE0LjM4NzYgMTYuMjM4IDE0LjU1OTggMTYuNTY4MkMxNC44MjU0IDE3LjA3NzggMTUuMTczNCAxNy40NDM4IDE1LjYwNDEgMTcuNjY2M1pNMTguMTM0IDE2LjMwOThDMTcuODU0MSAxNi42MjU2IDE3LjQ3NzMgMTYuNzgzNSAxNy4wMDM2IDE2Ljc4MzVDMTYuNTQ0MyAxNi43ODM1IDE2LjE2NzUgMTYuNjE4NCAxNS44NzMyIDE2LjI4ODNDMTUuNTc4OSAxNS45NTgxIDE1LjQzMTggMTUuNTM4MyAxNS40MzE4IDE1LjAyODdDMTUuNDMxOCAxNC41MzM1IDE1LjU3NTQgMTQuMTI4IDE1Ljg2MjQgMTMuODEyMkMxNi4xNTY3IDEzLjQ5NjQgMTYuNTM3MSAxMy4zMzg1IDE3LjAwMzYgMTMuMzM4NUMxNy40NzAxIDEzLjMzODUgMTcuODQ2OSAxMy40OTY0IDE4LjEzNCAxMy44MTIyQzE4LjQyMTEgMTQuMTI4IDE4LjU2NDYgMTQuNTM3MSAxOC41NjQ2IDE1LjAzOTVDMTguNTY0NiAxNS41NzA2IDE4LjQyMTEgMTUuOTk0IDE4LjEzNCAxNi4zMDk4WiIgZmlsbD0iI0IyQkNDRCIvPgo8L3N2Zz4=);\n}\n\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-7:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-7:not(.hover):not(.heading-collapsed):before {\n  top: var(--editor-first-line-center-top-h7);\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljc1IDZDNS4zMzU3OSA2IDUgNi4zMzU3OSA1IDYuNzVWMTcuMjVDNSAxNy42NjQyIDUuMzM1NzkgMTggNS43NSAxOEM2LjE2NDIxIDE4IDYuNSAxNy42NjQyIDYuNSAxNy4yNVYxMi42MzMzSDExLjIyMjJWMTcuMjVDMTEuMjIyMiAxNy42NjQyIDExLjU1OCAxOCAxMS45NzIyIDE4QzEyLjM4NjQgMTggMTIuNzIyMiAxNy42NjQyIDEyLjcyMjIgMTcuMjVWNi43NUMxMi43MjIyIDYuMzM1NzkgMTIuMzg2NCA2IDExLjk3MjIgNkMxMS41NTggNiAxMS4yMjIyIDYuMzM1NzkgMTEuMjIyMiA2Ljc1VjExLjEzMzNINi41VjYuNzVDNi41IDYuMzM1NzkgNi4xNjQyMSA2IDUuNzUgNlpNMTUuMTczOSAxNy43ODc2QzE1LjMzMDQgMTcuOTI5MiAxNS41MTY4IDE4IDE1LjczMjkgMThDMTUuODk2OSAxOCAxNi4wMzg1IDE3Ljk1NTMgMTYuMTU3OCAxNy44NjU4QzE2LjI3NyAxNy43NzY0IDE2LjM4ODggMTcuNjMxMSAxNi40OTMyIDE3LjQyOThMMTkuNzY4OSAxMC43ODg4QzE5Ljg1MDkgMTAuNjE3NCAxOS45MDY4IDEwLjQ3MiAxOS45MzY2IDEwLjM1MjhDMTkuOTY2NSAxMC4yMzM1IDE5Ljk4MTQgMTAuMTE0MyAxOS45ODE0IDkuOTk1MDNDMTkuOTgxNCA5LjcxOTI1IDE5Ljg4ODIgOS40ODQ0NyAxOS43MDE5IDkuMjkwNjhDMTkuNTIzIDkuMDk2ODkgMTkuMjczMyA5IDE4Ljk1MjggOUgxNC42ODJDMTQuNDgwNyA5IDE0LjMxNjggOS4wNjMzNSAxNC4xOTAxIDkuMTkwMDZDMTQuMDYzNCA5LjMwOTMyIDE0IDkuNDY5NTcgMTQgOS42NzA4MUMxNCA5Ljg2NDYgMTQuMDYzNCAxMC4wMjExIDE0LjE5MDEgMTAuMTQwNEMxNC4zMTY4IDEwLjI1OTYgMTQuNDgwNyAxMC4zMTkzIDE0LjY4MiAxMC4zMTkzSDE4LjMzNzlWMTAuMzk3NUwxNS4wODQ1IDE2LjcxNDNDMTQuOTk1IDE2Ljg2MzQgMTQuOTUwMyAxNy4wMzg1IDE0Ljk1MDMgMTcuMjM5OEMxNC45NTAzIDE3LjQ2MzQgMTUuMDI0OCAxNy42NDYgMTUuMTczOSAxNy43ODc2WiIgZmlsbD0iI0IyQkNDRCIvPgo8L3N2Zz4=);\n}\n\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-8:not(.hover):not(.focused):not(.heading-collapsed):not(.editor-hide-line-number):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-8:not(.hover):not(.heading-collapsed):before {\n  top: var(--editor-first-line-center-top-h8);\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljc1IDZDNS4zMzU3OSA2IDUgNi4zMzU3OSA1IDYuNzVWMTcuMjVDNSAxNy42NjQyIDUuMzM1NzkgMTggNS43NSAxOEM2LjE2NDIxIDE4IDYuNSAxNy42NjQyIDYuNSAxNy4yNVYxMi42MzMzSDExLjIyMjJWMTcuMjVDMTEuMjIyMiAxNy42NjQyIDExLjU1OCAxOCAxMS45NzIyIDE4QzEyLjM4NjQgMTggMTIuNzIyMiAxNy42NjQyIDEyLjcyMjIgMTcuMjVWNi43NUMxMi43MjIyIDYuMzM1NzkgMTIuMzg2NCA2IDExLjk3MjIgNkMxMS41NTggNiAxMS4yMjIyIDYuMzM1NzkgMTEuMjIyMiA2Ljc1VjExLjEzMzNINi41VjYuNzVDNi41IDYuMzM1NzkgNi4xNjQyMSA2IDUuNzUgNlpNMTQuODI5OSAxNy4yOTk0QzE1LjM5MDQgMTcuNzY2NSAxNi4xMTk4IDE4IDE3LjAxOCAxOEMxNy45Mzc3IDE4IDE4LjY3NzggMTcuNzY2NSAxOS4yMzgzIDE3LjI5OTRDMTkuODA2IDE2LjgyNTEgMjAuMDg5OCAxNi4yMDcyIDIwLjA4OTggMTUuNDQ1NUMyMC4wODk4IDE0LjkxMzggMTkuOTM1MyAxNC40NTAzIDE5LjYyNjMgMTQuMDU1MUMxOS4zMTc0IDEzLjY1MjcgMTguODgyNiAxMy4zOTc2IDE4LjMyMjIgMTMuMjg5OFYxMy4yMjUxQzE4Ljc4OTIgMTMuMDk1OCAxOS4xNDg1IDEyLjg1ODcgMTkuNCAxMi41MTM4QzE5LjY1MTUgMTIuMTY4OSAxOS43NzcyIDExLjc2MjkgMTkuNzc3MiAxMS4yOTU4QzE5Ljc3NzIgMTAuNjI3NSAxOS41MjIyIDEwLjA3NzggMTkuMDEyIDkuNjQ2NzFDMTguNTAxOCA5LjIxNTU3IDE3Ljg0NDMgOSAxNy4wMzk1IDlDMTYuMjM0NyA5IDE1LjU3NzIgOS4yMTU1NyAxNS4wNjcxIDkuNjQ2NzFDMTQuNTY0MSAxMC4wNzc4IDE0LjMxMjYgMTAuNjI3NSAxNC4zMTI2IDExLjI5NThDMTQuMzEyNiAxMS43NjI5IDE0LjQzNDcgMTIuMTY4OSAxNC42NzkgMTIuNTEzOEMxNC45MjM0IDEyLjg1MTUgMTUuMjgyNiAxMy4wODg2IDE1Ljc1NjkgMTMuMjI1MVYxMy4yODk4QzE1LjIwMzYgMTMuMzk3NiAxNC43NzI1IDEzLjY1MjcgMTQuNDYzNSAxNC4wNTUxQzE0LjE1NDUgMTQuNDUwMyAxNCAxNC45MTM4IDE0IDE1LjQ0NTVDMTQgMTYuMjE0NCAxNC4yNzY2IDE2LjgzMjMgMTQuODI5OSAxNy4yOTk0Wk0xOC4yMTQ0IDE2LjQyNjNDMTcuOTA1NCAxNi43MDY2IDE3LjUxNzQgMTYuODQ2NyAxNy4wNTAzIDE2Ljg0NjdDMTYuNTgzMiAxNi44NDY3IDE2LjE5NTIgMTYuNzA2NiAxNS44ODYyIDE2LjQyNjNDMTUuNTg0NCAxNi4xNDYxIDE1LjQzMzUgMTUuNzg2OCAxNS40MzM1IDE1LjM0ODVDMTUuNDMzNSAxNC45MjQ2IDE1LjU4NDQgMTQuNTcyNSAxNS44ODYyIDE0LjI5MjJDMTYuMTk1MiAxNC4wMDQ4IDE2LjU4MzIgMTMuODYxMSAxNy4wNTAzIDEzLjg2MTFDMTcuNTMxNyAxMy44NjExIDE3LjkyMzQgMTQuMDAxMiAxOC4yMjUxIDE0LjI4MTRDMTguNTI2OSAxNC41NjE3IDE4LjY3NzggMTQuOTE3NCAxOC42Nzc4IDE1LjM0ODVDMTguNjc3OCAxNS43ODY4IDE4LjUyMzQgMTYuMTQ2MSAxOC4yMTQ0IDE2LjQyNjNaTTE3Ljk4OCAxMi4zOTUyQzE3Ljc0MzcgMTIuNjQ2NyAxNy40Mjc1IDEyLjc3MjUgMTcuMDM5NSAxMi43NzI1QzE2LjY1MTUgMTIuNzcyNSAxNi4zMzUzIDEyLjY0NjcgMTYuMDkxIDEyLjM5NTJDMTUuODQ2NyAxMi4xNDM3IDE1LjcyNDYgMTEuODI3NSAxNS43MjQ2IDExLjQ0NjdDMTUuNzI0NiAxMS4wNzMxIDE1Ljg0NjcgMTAuNzY3NyAxNi4wOTEgMTAuNTMwNUMxNi4zMzUzIDEwLjI4NjIgMTYuNjUxNSAxMC4xNjQxIDE3LjAzOTUgMTAuMTY0MUMxNy40Mjc1IDEwLjE2NDEgMTcuNzQzNyAxMC4yODYyIDE3Ljk4OCAxMC41MzA1QzE4LjIzOTUgMTAuNzY3NyAxOC4zNjUzIDExLjA3MzEgMTguMzY1MyAxMS40NDY3QzE4LjM2NTMgMTEuODI3NSAxOC4yMzk1IDEyLjE0MzcgMTcuOTg4IDEyLjM5NTJaIiBmaWxsPSIjQjJCQ0NEIi8+Cjwvc3ZnPg==);\n}\n\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-1.title-block:before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-1.title-block:before {\n  display: none;\n}\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-1:not(.hover):not(.focused):not(.heading-collapsed):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-1:not(.hover):not(.heading-collapsed):before,\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-2:not(.hover):not(.focused):not(.heading-collapsed):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-2:not(.hover):not(.heading-collapsed):before,\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-3:not(.hover):not(.focused):not(.heading-collapsed):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-3:not(.hover):not(.heading-collapsed):before,\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-4:not(.hover):not(.focused):not(.heading-collapsed):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-4:not(.hover):not(.heading-collapsed):before,\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-5:not(.hover):not(.focused):not(.heading-collapsed):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-5:not(.hover):not(.heading-collapsed):before,\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-6:not(.hover):not(.focused):not(.heading-collapsed):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-6:not(.hover):not(.heading-collapsed):before,\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-7:not(.hover):not(.focused):not(.heading-collapsed):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-7:not(.hover):not(.heading-collapsed):before,\n.editor-main.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-8:not(.hover):not(.focused):not(.heading-collapsed):before,\n.editor-main.readonly.block-icon .root-container-extend .root-container > .editor-block.text-block.editor-heading-8:not(.hover):not(.heading-collapsed):before {\n  background-size: 16px 16px;\n  background-position-x: 4px;\n  background-position-y: 4px;\n}\n\n.editor-main .editor-block.embed-block.retry .block-content .editor-embed {\n  position: relative;\n  width: 120px;\n  height: 96px;\n  min-height: unset;\n  background-color: var(--editor-locked-bg-color);\n  background-image: url(data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMiA1VjFMNyA2bDUgNVY3YzMuMzEgMCA2IDIuNjkgNiA2cy0yLjY5IDYtNiA2LTYtMi42OS02LTZINGMwIDQuNDIgMy41OCA4IDggOHM4LTMuNTggOC04LTMuNTgtOC04LTh6Ij48L3BhdGg+Cjwvc3ZnPgo=);\n  background-repeat: no-repeat;\n  background-position: center;\n  border-radius: 4px;\n  cursor: pointer;\n  background-position-y: 25px;\n  margin: auto;\n}\n\n/* 图片选中状态，由图片自己决定 */\n.editor-main .root-container .editor-block.embed-block.embed-selected.retry .editor-embed {\n  outline: 1px solid #448aff;\n}\n\n.editor-main .editor-block.embed-block.retry .block-content .editor-embed .editor-preview-info {\n  display: none;\n  margin: auto;\n}\n\n.editor-main .editor-block.embed-block.retry .block-content .editor-embed:after {\n  content: attr(data-retry-text);\n  position: absolute;\n  color: var(--editor-color);\n  left: 0;\n  right: 0;\n  top: 50%;\n}\n\n.editor-main .editor-block.embed-block.retry .block-content .editor-image {\n  display: none;\n}\n.editor-main .editor-block.embed-block.retry .block-tools .upload-loading {\n  display: none;\n}\n\n.editor-main .editor-block.embed-block.image-embed .block-content .editor-embed:empty,\n.editor-main .editor-block.embed-block.audio-embed .block-content .editor-embed:empty,\n.editor-main .editor-block.embed-block.video-embed .block-content .editor-embed:empty {\n  width: 120px;\n  height: 96px;\n  border-radius: 4px;\n  background-color: var(--editor-locked-bg-color);\n}\n\n.editor-main.history .editor-block.code-block .editor-block.code-line-block.history-deleted .text-element span {\n  text-decoration: line-through;\n  color: var(--op-color);\n}\n\n.editor-main .root-container .list-block .view-as-mindmap {\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  background-color: transparent;\n  cursor: pointer;\n  z-index: 1;\n  color: var(--editor-color);\n}\n\n.editor-main.readonly .root-container .list-block .editor-mindmap-close-button {\n  display: none;\n}\n\n.editor-main .root-container .list-block .view-as-mindmap svg {\n  width: 16px;\n  height: 16px;\n}\n\n.editor-main .root-container .list-block .block-content {\n  transition: background-color .25s linear;;\n}\n\n.editor-main:not(.readonly):not(.mobile) .root-container .list-block:not(.list-text-only):not(.block-entire-hover).to-mindmap-highlight .block-content {\n  background-color: var(--editor-list-content-to-mindmap-bg-color);\n}\n\n.editor-main:not(.readonly):not(.mobile) .root-container .list-block:not(.list-text-only):not(.block-entire-hover).to-mindmap-highlight:hover .block-content {\n  background-color: var(--editor-list-content-to-mindmap-bg-color);\n}\n\n.editor-main:not(.readonly) .root-container .list-block:not(.list-text-only) {\n  padding-right: 32px;\n}\n\n.editor-main:not(.readonly) .root-container .list-block.editor-list-checkbox:not(.list-text-only) {\n  padding-right: 60px;\n}\n\n.editor-main:not(.readonly) .root-container .list-block.editor-list-checkbox.editor-list-disable-calendar:not(.list-text-only) {\n  padding-right: 32px;\n}\n\n\n.editor-main:not(.readonly):not(.mobile) .root-container .list-block:not(.list-text-only):hover:not(.block-entire-hover) .block-content {\n  background-color: var(--editor-list-content-hover-bg-color);\n}\n\n.editor-main:not(.readonly) .root-container .list-block.editor-list-checkbox .editor-button-container.block-tools-button-container .toolbar-button:last-child {\n  margin-right: 0;\n}",""])},4954:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,"\n@media (prefers-color-scheme: dark) {\n  .editor-main.mobile .root-container .editor-images-container img {\n    filter: brightness(var(--editor-img-brightness));\n    -webkit-filter: brightness(var(--editor-img-brightness));\n  }\n}\n.dark-mode .editor-main.mobile .root-container .editor-images-container img {\n  filter: brightness(var(--editor-img-brightness));\n  -webkit-filter: brightness(var(--editor-img-brightness));\n}",""])},1537:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,".editor-main:fullscreen {\n  zoom: 1.5;\n  overflow-y: auto;\n  max-width: 1024px;\n  background-color: #fbfbfb;\n  \n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  padding: 24px;\n}\n\n.editor-main:fullscreen .editor-container.root-container {\n  border: var(--editor-popover-border);\n  box-shadow: var(--editor-box-shadow);\n}\n\n.editor-main:fullscreen .comment-head {\n  position: fixed;\n  padding-top: 24px;\n}",""])},9538:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,".editor-find-dialog {\n  /* position: fixed;\n  top: 100px;\n  right: 32px; */\n  /* z-index: var(--wiz-editor-z-find-dialog); */\n  /* box-shadow: var(--editor-box-shadow); */\n  /* background-color: var(--editor-dialog-bg-color); */\n  width: 400px;\n  background-color: var(--editor-find-dialog-bg-color);\n  border: var(--editor-find-dialog-border);\n  border-radius: var(--editor-border-radius-big);\n  display: flex;\n  padding: 8px 8px 0 16px;\n  align-items: flex-start;\n  font-size: 14px;\n}\n\n.editor-find-content {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n}\n\n.editor-find-dialog-row {\n  display: flex;\n  margin-bottom: 8px;\n  align-items: center;\n}\n\n.editor-find-dialog-label{\n  width: 80px;\n  flex-grow: 0;\n  flex-shrink: 0;\n  align-self: center;\n}\n\n.editor-find-dialog-input-container {\n  border: var(--popover-input-border);\n  border-color: var(--editor-find-dialog-input-container-border-color);\n  background-color: var(--editor-find-dialog-input-container-bg-color);\n  border-radius:  var(--editor-border-radius-big);\n  flex-grow: 1;\n  display: flex;\n  padding: 2px;\n  align-items: center;\n  height: 32px;\n}\n.editor-find-dialog-input-container.focused {\n  border: var(--popover-input-focused-border);\n  background: var(--popover-input-focused-bg);\n  padding: 1px;\n}\n\n.editor-find-dialog-input {\n  border: none;\n  flex-grow: 1;\n  width: 80px;\n  outline: none;\n  background-color: transparent;\n  color: var(--editor-color);\n}\n.editor-find-dialog-input::placeholder {\n  color: var(--editor-find-dialog-input-placeholder-color);\n}\n\n\n.editor-find-dialog-prev {\n  width: 24px;\n}\n\n.editor-find-dialog-curr {\n  flex-grow: 0;\n  text-align: center;\n  flex-shrink: 1;\n  display: flex;\n  align-items: center;\n  margin-bottom: 2px;\n}\n\n.editor-find-dialog-next {\n  width: 24px;\n}\n\n.editor-find-dialog-icon-button {\n  cursor: pointer;\n  border-radius: 4px;\n  color: var(--editor-find-dialog-icon-button-color);\n  background-color: var(--editor-find-dialog-button-border-bg-color);\n  border: none;\n  display: flex;\n}\n\n.editor-find-dialog-button {\n  padding: 6px 16px;\n  cursor: pointer;\n  border-radius: 4px;\n  color: var(--editor-find-dialog-button-color);\n  background-color: var(--editor-find-dialog-button-border-bg-color);\n  margin: 0 4px;\n  border: none;\n}\n\n.editor-find-dialog-button.icon-button {\n  width: 32px;\n  height: 32px;\n}\n\n.editor-find-dialog-button.active,\n.editor-find-dialog-button:hover {\n  background-color: var(--editor-find-dialog-button-hover-color);\n}\n\n.editor-find-dialog-button:disabled {\n  color: var(--editor-find-dialog-button-disabled-color);\n  cursor: default;\n  \n}\n.editor-find-dialog-button:disabled:hover {\n  background-color: transparent;\n}\n\n.editor-find-dialog-button svg {\n  fill: currentColor;\n}\n\n.editor-find-dialog-space {\n  flex-grow: 1;\n}\n\n.editor-find-dialog-icon-button-border {\n  margin: 0 0 0 8px;\n  cursor: pointer;\n  border-radius: 4px;\n  color: var(--button-black-text-color);\n  background-color: var(--editor-find-dialog-button-border-bg-color);\n  border: none;\n  padding: 0;\n  width: 32px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.editor-find-dialog-button-close {\n  margin: 0 0 0 8px;\n  cursor: pointer;\n  border-radius: 4px;\n  color: var(--button-black-text-color);\n  background-color: var(--editor-find-dialog-button-border-bg-color);\n  border: none;\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.editor-find-dialog-icon-button-border svg,\n.editor-find-dialog-button-close svg {\n  fill: currentColor;\n}\n\n.editor-highlight {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.editor-highlight .editor-highlight-child {\n  position: absolute;\n  background-color: bisque;\n}\n\n.editor-highlight.active .editor-highlight-child {\n  position: absolute;\n  background-color: tomato;\n}\n\n.editor-search-result-highlight {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.editor-search-result-highlight .editor-highlight-child {\n  position: absolute;\n  background-color: turquoise;\n}\n\n.editor-find-dialog-status {\n  display: flex;\n}",""])},7829:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,"\n.link-mask-container .link-mask-item {\n  position: absolute;\n  opacity: 0.5;\n  background-color: #d7d7d7;\n}\n\n.tippy-box[data-theme~='editor-popover'] .editor-link-input-container {\n  padding: 10px 16px;\n}\n\n.tippy-box[data-theme~='editor-popover'] .editor-link-input-container .editor-link-input-row {\n  white-space: nowrap;\n  margin-bottom: 8px;\n  display: flex;\n  flex-direction: column;\n}\n.editor-link-input-container .editor-link-input-row:not(:first-child) {\n  margin-top: 20px;\n}\n\n.tippy-box[data-theme~='editor-popover'] .editor-link-input-container .editor-link-input-row.editor-link-button-row {\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-top: 16px;\n  margin-bottom: 0;\n}\n\n.tippy-box[data-theme~='editor-popover'] .editor-link-input-container input.editor-popover-input {\n  height: 32px;\n  width: 330px;\n  margin: 8px 0 0;\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .editor-link-input-container .dialog-input-container.link-input-focused {\n  border: var(--popover-input-focused-border);\n  background: var(--popover-input-focused-bg);\n  padding: 3px;\n}\n",""])},7031:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,'.editor-box-loading {\n  display: inline-block;\n  min-width: 24px;\n  height: 24px;\n  padding-right: 24px;\n  position: relative;\n  font-style: italic;\n  color: var(--editor-locked-color);\n}\n\n.editor-box-loading:after {\n  content: " ";\n  display: block;\n  width: 12px;\n  height: 12px;\n  margin: 0;\n  border-radius: 50%;\n  border: 2px solid #fff;\n  border-color: #ccc transparent #ccc transparent;\n  animation: editor-box-loading 1.2s linear infinite;\n  position: absolute;\n  right: 4px;\n  top: 4px;\n}\n\n@keyframes editor-box-loading {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n',""])},2366:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,".mathjax-container {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n}\n\n.mathjax-editor {\n  width: 100%;\n  height: 100%;\n}\n\n.mathjax-container-popover {\n  width: auto;\n  height: auto;\n  display: flex;\n  padding: 8px;\n  border-radius: var(--editor-border-radius);\n}\n.mathjax-container-popover textarea {\n  min-width: 300px;\n  max-width: 50vw;\n  min-height: 50px;\n  max-height: 128px;\n  width: 400px;\n  height: 128px;\n  border: 0;\n  background-color: transparent;\n  color: var(--editor-math-input-text-color);\n  outline: none;\n}\n",""])},1171:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,"body.show-mobile-comments {\n  overflow: hidden;\n  height: 100% !important;\n  min-height: 100% !important;\n  max-height: 100% !important;\n  width: 100% !important;\n  min-width: 100% !important;\n  max-width: 100% !important;\n}\n\n.comment-mobile-root {\n  display: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: var(--wiz-editor-z-comment-mobile-root);\n}\n\n.comment-mobile-root.active {\n  display: block;\n}\n\n.comment-mobile-root .mobile-comments-mask {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: var(--wiz-editor-z-comment-mobile-mask);\n  background-color: rgba(0, 0, 0, .45);\n}\n\n.comment-mobile-root .mobile-comment-pull-info-container {\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 100px;\n  z-index: var(--wiz-editor-z-comment-mobile-pull-info-container);\n  text-align: center;\n  display: none;\n}\n.comment-mobile-root .mobile-comment-pull-info-container.active {\n  display: block;\n}\n\n.comment-mobile-root .mobile-comment-pull-info {\n  display: inline-block;\n  padding: 12px;\n  border-radius: 36px;\n  margin: 0 auto;\n  background-color: rgba(0, 0, 0, .8);\n  color: #fff;\n  font-size: 12px;\n  opacity: 0;\n  transition: opacity 250ms cubic-bezier(0.65, 0.05, 0.36, 1);\n}\n\n.comment-mobile-root .mobile-comment-pull-info.active {\n  opacity: 1;\n}\n\n.comment-mobile-root .mobile-comment-groups-container {\n  margin: 0 auto;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0px;\n  z-index: var(--wiz-editor-z-comment-mobile-groups-container);\n  width: calc(100% - 24px);\n  /* max-width: 600px; */\n  /* background-color: cadetblue; */\n  overflow: hidden;\n}\n\n.comment-mobile-root .mobile-comment-groups-scroll-container {\n  width: 100%;\n  /* background-color: darkseagreen; */\n}\n\n.comment-mobile-root .mobile-comment-group-container {\n  margin: 0 auto;\n  width: 100%;\n  height: 100vh;\n  /* background-color: burlywood; */\n  /* border-top: 5px solid; */\n  overflow: hidden;\n}\n\n.comment-mobile-root .mobile-comment-group-scroll-container {\n  width: 100%;\n  min-height: calc(100vh + 1px);\n  padding-bottom: 50px;\n  /* background-color: khaki; */\n}\n\n.comment-mobile-root .mobile-comment-group-space {\n  width: 100%;\n  height: 50vh;\n}\n.comment-mobile-root .mobile-comment-group-abstract {\n  background-color: var(--editor-comment-layer-bg-color);\n  padding: 12px;\n  color: #999999;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.comment-mobile-root .comment-item-head {\n  padding: 12px;\n  display: flex;\n  align-items: center;\n}\n\n.comment-mobile-root .comment-item-head img {\n  width: 32px;\n  height: 32px;\n  flex-grow: 0;\n}\n\n.comment-mobile-root .comment-item-head .comment-username {\n  margin-left: 12px;\n}\n\n.comment-mobile-root .comment-item-head .comment-modified {\n  margin-left: 12px;\n  color: #999;\n}\n\n.comment-mobile-root .comment-item {\n  margin-top: 4px;\n  background-color: var(--editor-comment-layer-bg-color);\n  padding-bottom: 20px;\n  color: var(--editor-comment-username-color);\n \n}\n\n.comment-mobile-root .editor-main {\n  margin: 0;\n}\n.comment-mobile-root .editor-main .root-container {\n  padding: 0 12px 0 0;\n  font-size: 14px;\n  border: 1px solid transparent;\n}\n.comment-mobile-root .editor-main .root-container[contenteditable=false] {\n  position: relative;\n  margin: 0 12px;\n  top: -6px;\n}\n\n.comment-mobile-root .reply-comment-container {\n  display: none;\n  position: absolute;\n  bottom: 16px;\n  left: 12px;\n  right: 12px;\n  background-color: var(--editor-comment-layer-bg-color);\n  z-index: var(--wiz-editor-z-comment-mobile-reply-container);\n  /* display: flex; */\n}\n\n.comment-mobile-root .reply-comment-container .reply-editor-container {\n  display: flex;\n  flex-grow: 1;\n}\n\n.comment-mobile-root .reply-comment-container .reply-editor-container .reply-comment-editor {\n  flex-grow: 1;\n  padding: 12px;\n  border: 0;\n  outline: none;\n  resize: none;\n}\n\n.comment-mobile-root .reply-comment-container .reply-button-container {\n  display: flex;\n  flex-grow: 0;\n}\n\n.reply-comment-button {\n  display: flex;\n  flex-grow: 0;\n  padding: 12px;\n  color: var(--editor-link-color);\n}\n",""])},1530:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,"#editor-popover-mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: var(--wiz-editor-z-popover-mask);\n  /* background-color: rgba(255, 255, 255, .75);\n  backdrop-filter: blur(1px); */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n#editor-text-toolbar-popover-target {\n  position: absolute;\n  pointer-events: none;\n  top: 0;\n  min-height: 1.5em;\n}\n\n.editor-menu-container {\n  display: flex;\n  flex-direction: column;\n}\n\n.tippy-box[data-theme~='editor-popover'] {\n  border: var(--editor-popover-border);\n  box-shadow: var(--editor-box-shadow);\n  /* min-width: 200px; */\n  outline: none;\n  padding: 6px 0;\n  border-radius: var(--editor-border-radius-big);\n  font-size: 14px;\n  transition-duration: 100ms !important;\n}\n\n.tippy-box[data-theme~='editor-popover'][data-theme~='drag-snapshot'] {\n  padding: 0;\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content {\n  padding-left: 0;\n  padding-right: 0;\n  user-select: none;\n  -webkit-user-select: none;\n}\n.tippy-box[data-theme~='editor-popover'] .tippy-content .editor-menu-scroll-container {\n  max-height: 85vh;\n  overflow: auto;\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item {\n  position: relative;\n  padding: 4px 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  margin: 4px 8px;\n  /* border-radius: var(--editor-border-radius); */\n}\n.tippy-box[data-theme~='editor-popover'] .tippy-content .clickable-item.editor-button-container {\n  padding: 4px 8px;\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item.sub-items-active,\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item:hover {\n  background-color: var(--popover-menu-item-hover-bg-color);\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item.menu-group-title {\n  cursor: default;\n  color: var(--popover-menu-group-title-color);\n  font-size: 12px;\n}\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item.disabled {\n  cursor: default;\n}\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item.disabled .menu-text {\n  color: var(--popover-menu-item-disable-color);\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item.menu-group-title:hover,\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item.disabled:hover {\n  background-color: var(--popover-menu-bg-color);\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item .menu-text {\n  flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #303030;\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item.menu-group-title .menu-text {\n  color: #909090;\n}\n\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item .menu-shortcut {\n  font-size: 12px;\n  color: var(--popover-menu-item-disable-color);\n  font-family: \"Open Sans\",-apple-system,system-ui,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",\"Microsoft Yahei\",Arial,sans-serif;\n  padding-left: 32px;\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item.menu-split {\n  margin: 4px 0;\n  padding: 0;\n  height: 1px;\n  background-color: rgba(0, 0, 0, 0.04);\n  cursor: default;\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item .menu-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  padding: 2px;\n  margin-left: -2px;\n  margin-right: 8px;\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item svg {\n  /* fill: currentColor; */\n  /* width: 100%; */\n  /* width: 16px;\n  height: 16px; */\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item .menu-sub-arrow {\n  color: var(--popover-menu-arrow);\n  opacity: .7;\n  display: flex;\n  align-items: center;\n}\n.tippy-box[data-theme~='editor-popover'] .tippy-content .menu-item .menu-sub-arrow svg {\n  width: 20px;\n  height: 20px;\n}\n\n.tippy-box[data-theme~='editor-popover'],\n.tippy-box[data-theme~='editor-popover'] .tippy-box[data-theme~='editor-popover'] {\n  background-color: var(--popover-menu-bg-color);\n  color: var(--popover-menu-color);\n}\n\n.tippy-box[data-theme~='editor-popover'] .editor-button-container .toolbar-button {\n  color: var(--popover-menu-color);\n  background-color: var(--popover-toolbar-button-bg-color);\n}\n.tippy-box[data-theme~='editor-popover'] .editor-button-container .toolbar-button:hover {\n  background-color: var(--popover-toolbar-button-bg-color-hover);\n}\n.tippy-box[data-theme~='editor-popover'] .editor-button-container .toolbar-button.active {\n  color: var(--button-color-active);\n}\n.tippy-box[data-theme~='editor-popover'] .editor-button-container .toolbar-button.no-click {\n  color: var(--popover-menu-color);\n}\n.tippy-box[data-theme~='editor-popover'] .editor-button-container .toolbar-button.disabled {\n  color: var(--button-color-disabled);\n}\n.tippy-box[data-theme~='editor-popover'] .editor-button-container .toolbar-button.no-click:hover,\n.tippy-box[data-theme~='editor-popover'] .editor-button-container .toolbar-button.disabled:hover {\n  color: var(--popover-menu-color);\n  background-color: var(--popover-toolbar-button-bg-color);\n}\n\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'],\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .tippy-box[data-theme~='editor-popover'] {\n  background-color: var(--popover-toolbar-bg-color);\n  color: var(--popover-toolbar-color);\n}\n\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-sub-toolbar'] {\n  box-shadow: 0 6px 24px rgba(31,35,41,.1);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-sub-toolbar'] .tippy-arrow {\n  color: var(--popover-toolbar-bg-color);\n  width: 16px;\n  height: 16px;\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-sub-toolbar'] .tippy-arrow:before {\n  content: \"\";\n  position: absolute;\n  border-color: transparent;\n  border-style: solid;\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-sub-toolbar'][data-placement^=top] > .tippy-arrow {\n  bottom: 0;\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-sub-toolbar'][data-placement^=top] > .tippy-arrow:before {\n  bottom: -7px;\n  left: 0px;\n  border-width: 8px 8px 0;\n  border-top-color: initial;\n  transform-origin: center top;\n}\n\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-sub-toolbar'][data-placement^=bottom] > .tippy-arrow {\n  top: 0;\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-sub-toolbar'][data-placement^=bottom] > .tippy-arrow:before {\n  top: -7px;\n  left: 0px;\n  border-width: 0 8px 8px;\n  border-bottom-color: initial;\n  transform-origin: center bottom;\n}\n\n\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button {\n  color: var(--popover-toolbar-color);\n  background-color: var(--popover-toolbar-button-bg-color);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button:hover {\n  color: var(--popover-toolbar-button-color-hover);\n  background-color: var(--popover-toolbar-button-bg-color-hover);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.active {\n  color: var(--popover-toolbar-button-color-active);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.no-click {\n  cursor: default;\n  color: var(--popover-toolbar-color);\n  background-color: var(--popover-toolbar-button-bg-color);\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.disabled {\n  cursor: default;\n  color: var(--button-color-disabled);\n  background-color: var(--popover-toolbar-button-bg-color);\n}\n\n\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.link-text {\n  max-width: calc(350px - 68px);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: block;\n}\n.tippy-box[data-theme~='editor-popover'][data-theme~='popover-toolbar'] .editor-button-container .toolbar-button.link-text:hover {\n  background-color: transparent;\n  text-decoration: underline;\n}\n.menu-item-input {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: var(--wiz-editor-z-menu-item-input);\n  border: none;\n  color: transparent;\n  opacity: 0;\n  /* https://stackoverflow.com/questions/1537223/change-cursor-type-on-input-type-file */\n  cursor: inherit;\n  font-size: 0;\n}\n\n.menu-item-input::file-selector-button {\n  cursor: inherit;\n  font-size: revert;\n}\n\n/* 增加外围边缘，避免移动鼠标时 tippy 自动隐藏 */\n.tippy-box[data-theme~='popover-toolbar']:before {\n  content: \" \";\n  position: absolute;\n  left: -8px;\n  right: -8px;\n  top: -8px;\n  bottom: -8px;\n  background-color: transparent;\n}\n\n/* popover input & button 通用样式 */\n.tippy-box[data-theme~='editor-popover'] input.editor-popover-input {\n  margin: 0 8px;\n  border: var(--popover-input-border);\n  height: 24px;\n  border-radius: var(--editor-border-radius);\n  padding: var(--popover-input-padding);\n  outline: none;\n  color: var(--popover-input-color);\n  background: var(--popover-input-bg);\n}\n.tippy-box[data-theme~='editor-popover'] input.editor-popover-input:focus {\n  border: var(--popover-input-focused-border);\n  background: var(--popover-input-focused-bg);\n  padding: var(--popover-input-focused-padding);\n}\n.tippy-box[data-theme~='editor-popover'] button.editor-popover-button {\n  min-width: 64px;\n  font-size: 14px;\n}\n\n/* 编写序号输入框样式 */\n.tippy-box[data-theme~='editor-popover'] .editor-list-number-input-container {\n  padding: 0 16px;\n}\n.tippy-box[data-theme~='editor-popover'] .editor-list-number-input-container .editor-popover-button {\n  min-width: 40px;\n  font-size: 12px;\n}\n.tippy-box[data-theme~='editor-popover'] .editor-list-number-input-container input.editor-popover-input {\n  width: 64px;\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .dialog-input-description.dialog-input-required::before {\n  content: '*';\n  color: var(--editor-error-color);\n  position: absolute;\n  left: -8px;\n  top: 3px;\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .dialog-input-content.error .dialog-input-container {\n  border: 1px solid var(--editor-error-color);\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .dialog-input-container {\n  margin-top: 8px;\n  display: flex;\n  border: var(--popover-input-border);\n  border-radius: 4px;\n  padding: 4px;\n  background-color: var(--popover-input-bg);\n}\n.tippy-box[data-theme~='editor-popover'] .tippy-content .dialog-input-container.focused {\n  background: var(--popover-input-focused-bg);\n  border: var(--popover-input-focused-border);\n  padding: 3px;\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .dialog-input-container input.editor-popover-input {\n  border: none;\n  margin-top: 0px;\n  height: 22px;\n  border-radius: var(--editor-border-radius);\n  padding: var(--popover-input-padding);\n  outline: none;\n  color: var(--popover-input-color);\n  background: var(--popover-input-bg);\n}\n.tippy-box[data-theme~='editor-popover'] .tippy-content .dialog-input-container input.editor-popover-input:focus {\n  background: var(--popover-input-focused-bg);\n  padding: var(--popover-input-focused-padding);\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .dialog-input-error {\n  margin-top: 8px;\n  color: red;\n  display: none;\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .dialog-input-content.error .dialog-input-error {\n  display: block;\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-content .dialog-input-description {\n  position: relative;\n}\n\n.tippy-box[data-theme~='editor-popover'].tippy-box[data-placement^='top'] > .tippy-arrow {\n  bottom: 0;\n}\n\n.tippy-box[data-theme~='editor-popover'].tippy-box[data-placement^='top'] > .tippy-arrow:before {\n  bottom: -7px;\n  left: 0;\n  border-width: 8px 8px 0;\n  border-top-color: initial;\n  transform-origin: center top;\n}\n\n.tippy-box[data-theme~='editor-popover'].tippy-box[data-placement^='bottom'] > .tippy-arrow {\n  top: 0;\n}\n\n.tippy-box[data-theme~='editor-popover'].tippy-box[data-placement^='bottom'] > .tippy-arrow:before {\n  top: -7px;\n  left: 0;\n  border-width: 0 8px 8px;\n  border-bottom-color: initial;\n  transform-origin: center bottom;\n}\n\n.tippy-box[data-theme~='editor-popover'].tippy-box[data-placement^='left'] > .tippy-arrow {\n  right: 0;\n}\n\n.tippy-box[data-theme~='editor-popover'].tippy-box[data-placement^='left'] > .tippy-arrow:before {\n  border-width: 8px 0 8px 8px;\n  border-left-color: initial;\n  right: -7px;\n  transform-origin: center left;\n}\n.tippy-box[data-theme~='editor-popover'].tippy-box[data-placement^='right'] > .tippy-arrow {\n  left: 0;\n}\n.tippy-box[data-theme~='editor-popover'].tippy-box[data-placement^='right'] > .tippy-arrow:before {\n  left: -7px;\n  border-width: 8px 8px 8px 0;\n  border-right-color: initial;\n  transform-origin: center right;\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-arrow {\n  width: 16px;\n  height: 16px;\n  color: var(--popover-menu-bg-color);\n}\n\n.tippy-box[data-theme~='editor-popover'] .tippy-arrow:before {\n  content: '';\n  position: absolute;\n  border-color: transparent;\n  border-style: solid;\n}",""])},5426:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,".tippy-box[data-theme~='editor-tooltip'] {\n  position: relative;\n  background-color: var(--tooltip-bg-color);\n  color: var(--tooltip-color);\n  border-radius: var(--editor-border-radius);\n  font-size: 12px;\n  line-height: 20px;\n  outline: 0;\n  opacity: 0.8;\n  transition-property: transform,visibility,opacity;\n\n}\n\n.tippy-box[data-theme~='editor-tooltip'] .tippy-content {\n  position: relative;\n  padding: 4px 10px;\n  z-index: var(--wiz-editor-z-tooltip-tippy-content);\n  /* padding-left: 0;\n  padding-right: 0; */\n  user-select: none;\n  -webkit-user-select: none;\n  font-size: 12px;\n  font-weight: 500;\n}\n/* .tippy-box[data-theme~='editor-tooltip'] .tippy-content .editor-menu-scroll-container {\n  max-height: 85vh;\n  overflow: auto;\n} */\n\n.tippy-box[data-theme~='editor-tooltip'] .tippy-arrow {\n  color: var(--tooltip-bg-color);\n  width: 16px;\n  height: 16px;\n}\n.tippy-box[data-theme~='editor-tooltip'] .tippy-arrow:before {\n  content: \"\";\n  position: absolute;\n  border-color: transparent;\n  border-style: solid;\n}\n\n.tippy-box[data-theme~='editor-tooltip'][data-placement^=top] > .tippy-arrow {\n  bottom: 0;\n}\n.tippy-box[data-theme~='editor-tooltip'][data-placement^=top] > .tippy-arrow:before {\n  bottom: -7px;\n  left: 0px;\n  border-width: 8px 8px 0;\n  border-top-color: initial;\n  transform-origin: center top;\n}\n\n.tippy-box[data-theme~='editor-tooltip'][data-placement^=bottom] > .tippy-arrow {\n  top: 0;\n}\n.tippy-box[data-theme~='editor-tooltip'][data-placement^=bottom] > .tippy-arrow:before {\n  top: -7px;\n  left: 0px;\n  border-width: 0 8px 8px;\n  border-bottom-color: initial;\n  transform-origin: center bottom;\n}\n\n.reference-hidden .tippy-box[data-reference-hidden] {\n  opacity: 0;\n  pointer-events: none;\n  transition: none;\n}",""])},5594:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,"body {\n  --wiz-editor-z-editor-hidden: -1;\n  --wiz-editor-z-comment-count-arrow: -1;\n  --wiz-editor-z-auto-suggest-target-flag: -1;\n  --wiz-editor-z-comment-item-before: 0;\n  --wiz-editor-z-block-content: 1;\n  --wiz-editor-z-table-border-shadow: 1;\n  --wiz-editor-z-table-col-bar: 1;\n  --wiz-editor-z-table-row-bar: 1;\n  --wiz-editor-z-table-selection-mask: 1;\n  --wiz-editor-z-list-bullet-mask: 1;\n  --wiz-editor-z-mindmap-svg: 1;\n  --wiz-editor-z-mindmap-button: 2;\n  --wiz-editor-z-remote-caret: 1;\n  --wiz-editor-z-tooltip-tippy-content: 1;\n  --wiz-editor-z-menu-item-input: 1;\n  --wiz-editor-z-block-counter: 2;\n  --wiz-editor-z-embed-code-editor-mask: 2;\n  --wiz-editor-z-command-item: 2;\n  --wiz-editor-z-upload-loading-wall: 2;\n  --wiz-editor-z-preview-drag-wall: 2;\n  --wiz-editor-z-image-resize-circular: 2;\n  --wiz-editor-z-history-op-description: 2;\n  --wiz-editor-z-iframe-mask: 2;\n  --wiz-editor-z-comment-item-tools: 5;\n  --wiz-editor-z-comment-switch-container: 9;\n  --wiz-editor-z-image-resize-tool: 9;\n  --wiz-editor-z-embed-resize-tool: 9;\n  --wiz-editor-z-embed-encrypt-text-tool: 9;\n  --wiz-editor-z-image-tooltips: 10;\n  --wiz-editor-z-history-delete-marker: 15;\n  --wiz-editor-z-comment-group-active-top-before: 29;\n  --wiz-editor-z-comment-head: 50;\n  --wiz-editor-z-comment-root-right-border: 51;\n  --wiz-editor-z-table-tool-bar-button: 99;\n  --wiz-editor-z-embed-office-card: 99;\n  --wiz-editor-z-sliding-tool-view-window: 300;\n  --wiz-editor-z-block-scrollbar: 1000;\n  --wiz-editor-z-marker-mask: 1000;\n  --wiz-editor-z-marker-image-block-content: 1090;\n  --wiz-editor-z-table-col-row-bar-button: 1099;\n  --wiz-editor-z-heading-expand-button: 1100;\n  --wiz-editor-z-marker-container: 1100;\n  --wiz-editor-z-drag-cursor-layer: 1300;\n  --wiz-editor-z-block-position-marking-line: 1399;\n  --wiz-editor-z-image-drag-container: 1500;\n  --wiz-editor-z-comment-root: 1600;\n  --wiz-editor-z-popover-mask: 1610;\n  --wiz-editor-z-block-menu-button: 1620;\n  --wiz-editor-z-find-dialog: 1630;\n  --wiz-editor-z-dialog: 1650;\n  --wiz-editor-z-image-resize-wall: 1660;\n  --wiz-editor-z-comment-mobile-root: 1700;\n  --wiz-editor-z-comment-mobile-mask: 1701;\n  --wiz-editor-z-comment-mobile-groups-container: 1711;\n  --wiz-editor-z-comment-mobile-reply-container: 1715;\n  --wiz-editor-z-comment-mobile-pull-info-container: 1721;\n  --wiz-editor-z-draw-io: 1910;\n  --wiz-editor-z-loader-ring: 2000;\n}\n\n.tippy-box,\n.gu-mirror,\n#editor-dialog-background,\n.embed-office-card-fixed,\n.comment-mobile-root,\n.editor-main {\n  --style-color-0: #d83931;\n  --style-color-1: #de7802;\n  --style-color-2: #dc9b04;\n  --style-color-3: #2ea121;\n  --style-color-4: #245bdb;\n  --style-color-5: #6425d0;\n  --style-color-6: #8f959e;\n\n  --style-bg-color-0: rgb(251, 191, 188);\n  --style-bg-color-1: rgba(254, 212, 164, 0.8);\n  --style-bg-color-2: rgba(255, 246, 122, 0.8);\n  --style-bg-color-3: rgba(183, 237, 177, 0.8);\n  --style-bg-color-4: rgba(186, 206, 253, 0.7);\n  --style-bg-color-5: rgba(205, 178, 250, 0.7);\n  --style-bg-color-6: rgba(222, 224, 227, 0.8);\n  --style-bg-color-7: rgb(247, 105, 100);\n  --style-bg-color-8: rgb(255, 165, 61);\n  --style-bg-color-9: rgb(255, 233, 40);\n  --style-bg-color-10: rgb(98, 210, 86);\n  --style-bg-color-11: rgba(78, 131, 253, 0.55);\n  --style-bg-color-12: rgba(147, 90, 246, 0.55);\n  --style-bg-color-13: rgb(187, 191, 196);\n\n  /* common */\n  --editor-font-family: -apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif;\n  --editor-font-family-code: Menlo, Monaco, Consolas, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, -apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif;\n  --editor-font-size-h1: 28px;\n  --editor-font-size-h2: 26px;\n  --editor-font-size-h3: 24px;\n  --editor-font-size-h4: 22px;\n  --editor-font-size-h5: 20px;\n  --editor-font-size-h6: 18px;\n  --editor-font-size-h7: 16px;\n  --editor-font-size-h8: 14px;\n  --editor-font-size: 15px;\n  --editor-line-height: 1.6;\n  --editor-line-height-h1: 1.5;\n  --editor-line-height-h2: 1.5;\n  --editor-line-height-h3: 1.5;\n  --editor-line-height-h4: 1.5;\n  --editor-line-height-h5: 1.6;\n  --editor-line-height-h6: 1.6;\n  --editor-line-height-h7: 1.6;\n  --editor-line-height-h8: 1.6;\n  --editor-block-content-padding-left: 4px;\n  --editor-quote-block-padding-left: 8px;\n  --editor-border-radius: 4px;\n  --editor-border-radius-big: 8px;\n  --editor-box-shadow: 0px 3px 20px rgba(0, 0, 0, 0.15);\n  --editor-popover-border: none;\n  --editor-find-dialog-border: none;\n  --editor-first-line-center-top: calc(0.5 * var(--editor-font-size) * var(--editor-line-height));\n  --editor-first-line-center-top-h1: calc(0.5 * var(--editor-font-size-h1) * var(--editor-line-height-h1));\n  --editor-first-line-center-top-h2: calc(0.5 * var(--editor-font-size-h2) * var(--editor-line-height-h2));\n  --editor-first-line-center-top-h3: calc(0.5 * var(--editor-font-size-h3) * var(--editor-line-height-h3));\n  --editor-first-line-center-top-h4: calc(0.5 * var(--editor-font-size-h4) * var(--editor-line-height-h4));\n  --editor-first-line-center-top-h5: calc(0.5 * var(--editor-font-size-h5) * var(--editor-line-height-h5));\n  --editor-first-line-center-top-h6: calc(0.5 * var(--editor-font-size-h6) * var(--editor-line-height-h6));\n  --editor-first-line-center-top-h7: calc(0.5 * var(--editor-font-size-h7) * var(--editor-line-height-h7));\n  --editor-first-line-center-top-h8: calc(0.5 * var(--editor-font-size-h8) * var(--editor-line-height-h8));\n\n  --editor-color: #07142A;\n  --editor-error-color: #e82100;\n  --editor-warning-color: #ff8000;\n  --editor-bg-color: #ffffff;\n  --editor-selection-bg-color: #448aff66;\n  --editor-img-brightness: 1;\n  --editor-locked-bg-color: #f0f2f4;\n  --editor-locked-color: #7084A4;\n  --editor-line-number-color: #aaaaaa;\n  --editor-border-color: #b9bfc8;\n  --editor-border-table-color: #B9BFC8;\n  --editor-placeholder-color: #b9bfc8;\n  --editor-checkbox-layer-bg-color: rgba(240, 242, 244, 0.5);\n  --editor-checkbox-color: #b9bfc8;\n  --editor-checkbox-checked-color: #07142A;\n  --editor-link-color: #448AFF;\n  --editor-comment-active-color: #FFC328;\n  --editor-comment-mini-text-color: #ffffff;\n  --editor-comment-text-border-color: #f8e6ab;\n  --editor-comment-text-border-color-active: #ffc60a;\n  --editor-comment-text-bg-color: #faf1d1;\n  --editor-comment-editor-bg-color: #ffffff;\n  --editor-comment-layer-bg-color: #ffffff;\n  --editor-comment-layer-border-color: transparent;\n  --editor-comment-layer-active-border-color: #cecece;\n  --editor-comment-username-color: #07142A;\n  --comment-root-border-color: #eaeaea;\n  --editor-quoted-color: #7084A4;\n  --editor-quoted-border-color: #E0E6EE;\n  --editor-fake-caret-color: red;\n  /* --editor-fake-caret-user-color: #f8ac09; */\n  --editor-fake-caret-user-color: white;\n  --editor-fake-caret-user-bg-color: #faf8f3;\n  --editor-mention-bg-color: transparent;\n  --editor-mention-color: #006eff;\n  --editor-mention-self-bg-color: #8256e7;\n  --editor-mention-self-color: #ffffff;\n  --editor-code-bg-color: #cdcdcd40;\n  --editor-code-title-bg-color: rgb(220, 223, 227);\n  --editor-code-title-color: #07142A;\n  --editor-calendar-selected-color: #ffffff;\n  --editor-calendar-selected-bg-color: #006eff;\n  --editor-calendar-hover-bg-color: rgba(150, 150, 150, 0.15);\n  --editor-calendar-control-bg-color: #f0f2f4;\n  --editor-calendar-disabled-color: #adadad;\n  --editor-calendar-disabled-bg-color: #eeeeee;\n  --editor-button-color: #fff;\n  --editor-button-bg-color: #07142A;\n  \n  /* button-container */\n  --button-bg-color: transparent;\n  --button-bg-color-hover: transparent;\n  --button-color: #969696;\n  --button-color-hover: #006eff;\n  --button-color-active: #006eff;\n  --button-color-disabled: rgba(51, 51, 51, .3);\n  --button-black-bg-color: rgba(255, 255, 255, 0.56);\n  --button-black-text-color: #333;\n  --text-button-color: #c1c1c1;\n  --text-button-color-hover: #5587F0;\n  --text-button-bg-color: transparent;\n  --text-button-bg-color-hover: transparent;\n  --text-button-color-alert: #969696;\n  --text-button-color-alert-hover: #e82100;\n  \n  \n  /* popover */\n  --popover-menu-bg-color: #fff;\n  --popover-menu-color: #07142A;\n  --popover-menu-sub-color: #B2BCCD;\n  --popover-menu-group-title-color: #969696;\n  --popover-menu-item-disable-color: #07142a33;\n  --popover-menu-item-disable-bg-color: transparent;\n  --popover-menu-item-active-bg-color: #EBF3FA;\n  --popover-menu-item-hover-bg-color: #F8F8F8;\n  --popover-toolbar-bg-color: #fff;\n  --popover-toolbar-color: #333333;\n  --popover-toolbar-button-bg-color: transparent;\n  --popover-toolbar-button-bg-color-hover: #F8F8F8;\n  --popover-toolbar-button-color-hover: #333333;\n  --popover-toolbar-button-color-active: #006eff;\n  --popover-menu-arrow: #333;\n  --popover-input-color: inherit;\n  --popover-input-bg: #fff;\n  --popover-input-focused-bg: #EBF3FA;\n  --popover-input-border: 1px solid #CFD6E1;\n  --popover-input-focused-border: 2px solid #448AFF;\n  --popover-input-padding: 1px 0 1px 8px;\n  --popover-input-focused-padding: 0 0 0 8px;\n\n  --tooltip-color: #fff;\n  --tooltip-bg-color: #000;\n\n  --comment-button-bg-color: #eaeaea;\n  --comment-button-bg-color-active: #DEDEDE;\n  \n  /* table */\n  --editor-table-bg-color: transparent;\n  --table-active-color: #006eff;\n  --editor-table-bar-bg-color: #eff0f1;\n  --editor-table-bar-bg-color-hover: #dee0e3;\n  --editor-table-bar-bg-color-active: #4e83fd;\n  --editor-table-selection-mask-bg-color: rgba(204, 229, 255, 0.3);\n  --editor-table-selection-delete-mask-bg-color: rgba(244,109,109, 0.3);\n  --editor-table-selection-bg-color: #EEF3FD;\n  --editor-table-delete-bar-bg-color-active: #F46D6D;\n  --editor-table-singular-row-bg-color: #F5F8FB;\n  --editor-table-title-bg-color: #F5F8FB;\n\n  /* color-palette */\n  --palette-title-color: #969696;\n  --palette-svg-border-color: #dddddd;\n  --palette-svg-hover-border-color: rgba(150, 150, 150, 0.15);\n  --palette-svg-active-border-color: #006eff;\n  --palette-bg-svg-color: transparent;\n  --palette-bg-svg-active-color: #333333;\n  --palette-clear-button-bg-color: #ffffff;\n  --palette-clear-button-color-hover: #ffffff;\n  --palette-clear-button-bg-color-hover: #333333;\n\n  /* math */\n  --editor-math-input-bg-color: #ffffff;\n  --editor-math-input-text-color: #333333;\n\n  /* dialog */\n  --editor-dialog-masking-bg-color: rgba(255, 255, 255, .75);\n  --editor-dialog-bg-color: #ffffff;\n  --editor-dialog-text-color: #333;\n  --editor-dialog-input-bg-color: #fff;\n  --editor-dialog-input-text-color: #000;\n  --editor-dialog-cancel-button-hover-bg-color: #e6e9ed;\n  --editor-sketchpad-bg-color: transparent;\n\n  --editor-tag-box-bg-color: #ccc;\n\n  --editor-block-tools-color: #333;\n\n  --editor-math-box-bg-color: transparent;\n  --editor-find-dialog-bg-color: transparent;\n  --editor-find-dialog-input-container-bg-color: transparent;\n  --editor-find-dialog-input-container-border-color: #CFD6E1;\n  --editor-find-dialog-input-placeholder-color: #B2BCCD;\n  --editor-find-dialog-button-border-bg-color: rgba(255, 255, 255, 0.56);\n  --editor-find-dialog-button-color: #333;\n  --editor-find-dialog-icon-button-color: #333;\n  --editor-find-dialog-button-hover-color: rgba(150, 150, 150, 0.2);\n  --editor-find-dialog-button-disabled-color: #ccc !important;\n\n\n  --editor-marking-line-color: #006eff;\n  /* office */\n  --office-card-name: #1f2329;\n  --office-card-size: #646a73;\n  --office-card-button-bg-color: #ffffff;\n  --office-card-button-border-color: #dee0e3;\n  --office-card-bg-color: #f5f6f7;\n  --office-preview-border-color: #eaeaea;\n  --office-preview-info-bg-color: #f5f5f5;\n  --office-preview-info-text-color: #464646;\n\n  --editor-block-entire-hover-text-bg-color: #dde7fc;\n  --editor-block-entire-hover-embed-border-color: #dde7fc;\n  --editor-block-entire-selected-bg-color: #E2EAFD;\n  --editor-block-entire-selected-embed-border-color: #3f74f6;\n\n\n  --editor-block-resize-toolbar-color: #3f74f6;\n\n  --editor-remote-caret-mask-opacity: 1;\n\n  /* svg */\n  --editor-drawio-empty-svg: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zOC43MjAzIDI4LjcwOTdIMjUuOTIzM0MyNS4yMTY1IDI4LjcwOTcgMjQuNjQzNSAyOC4xNDgxIDI0LjY0MzUgMjcuNDU1MlYyNS43MzMzSDIwLjUyODNDMjAuNDk4NiAyNS43Njk2IDIwLjQ2NjkgMjUuODA0MiAyMC40MzMzIDI1LjgzN0wxNS45MTkyIDMwLjI2MjFWMzQuNzU1NkgyNC42NDM1VjMzLjcyNzZDMjQuNjQzNSAzMy4wMzQ4IDI1LjIxNjUgMzIuNDczMiAyNS45MjMzIDMyLjQ3MzJIMzguNzIwM0MzOS40MjcgMzIuNDczMiA0MCAzMy4wMzQ4IDQwIDMzLjcyNzZWMzguNzQ1NUM0MCAzOS40MzgzIDM5LjQyNyA0MCAzOC43MjAzIDQwSDI1LjkyMzNDMjUuMjE2NSA0MCAyNC42NDM1IDM5LjQzODMgMjQuNjQzNSAzOC43NDU1VjM3LjMzMzNIMTQuNjI2M0MxMy45MTIyIDM3LjMzMzMgMTMuMzMzMyAzNi43NTYyIDEzLjMzMzMgMzYuMDQ0NFYzMC42OTQxTDguMzc4NTIgMjUuODM3QzguMTM2MjYgMjUuNjAxNCA4IDI1LjI4MDggOCAyNC45NDYzQzggMjQuNjExOCA4LjEzNjI2IDI0LjI5MTEgOC4zNzg1MiAyNC4wNTU2TDEzLjMzMzMgMTkuMTk4NVYxNS43NzJDMTEuNzc5OCAxNS4yMjI5IDEwLjY2NjcgMTMuNzQxNiAxMC42NjY3IDEyQzEwLjY2NjcgOS43OTA4NSAxMi40NTc1IDggMTQuNjY2NyA4QzE2Ljg3NTggOCAxOC42NjY2IDkuNzkwODUgMTguNjY2NiAxMkMxOC42NjY2IDEzLjcyNjUgMTcuNTU4OCAxNS4yNTgxIDE1LjkxOTEgMTUuNzk4OFYxOS4yODg4QzE1LjkxOTEgMTkuMzkxOCAxNS45MDY4IDE5LjQ5NDMgMTUuODgyMyAxOS41OTQzTDE5LjUxNTEgMjMuMTU1NUgyNC42NDM1VjIyLjQzNzNDMjQuNjQzNSAyMS43NDQ1IDI1LjIxNjUgMjEuMTgyOSAyNS45MjMzIDIxLjE4MjlIMzguNzIwM0MzOS40MjcgMjEuMTgyOSA0MCAyMS43NDQ1IDQwIDIyLjQzNzNWMjcuNDU1MkM0MCAyOC4xNDgxIDM5LjQyNyAyOC43MDk3IDM4LjcyMDMgMjguNzA5N1pNMjcuMjAzIDM3LjQ5MUgzNy40NDA2VjM0Ljk4MjFIMjcuMjAzVjM3LjQ5MVpNMTQuNDA1OSAyOC4xOTU0TDExLjA5MTUgMjQuOTQ2M0wxNC40MDU5IDIxLjY5NzJMMTcuNzIwNCAyNC45NDYzTDE0LjQwNTkgMjguMTk1NFpNMjcuMjAzIDI2LjIwMDhIMzcuNDQwNlYyMy42OTE4SDI3LjIwM1YyNi4yMDA4WiIgZmlsbD0iIzA3MTQyQSIvPgo8L3N2Zz4K');\n  --editor-checkbox-checked-svg: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNyIgaGVpZ2h0PSI3IiB2aWV3Qm94PSIwIDAgNyA3IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMi42NjI4NyA2LjgyMDUxQzIuOTMzOTQgNi44MjA1MSAzLjE0OTIgNi42OTU1NCAzLjMwODY2IDYuNDQ1NThMNi43MzY5IDEuMDkyODhDNi43Nzk0MiAxLjAxMzExIDYuODIwNjEgMC45MzA2NzQgNi44NjA0OCAwLjg0NTU4NEM2LjkwMDM0IDAuNzYwNDk0IDYuOTIwMjcgMC42NzU0MDQgNi45MjAyNyAwLjU5MDMxM0M2LjkyMDI3IDAuNDE0ODE1IDYuODUyNTEgMC4yNzI1NTUgNi43MTY5NyAwLjE2MzUzM0M2LjU4MTQzIDAuMDU0NTEwOSA2LjQzMTI4IDAgNi4yNjY1MSAwQzYuMDQzMjggMCA1Ljg1NDU5IDAuMTIyMzE3IDUuNzAwNDYgMC4zNjY5NTJMMi42Mzg5NSA1LjI2NDk2TDEuMjAzODcgMy40MTQyNUMxLjExMzUyIDMuMzAyNTYgMS4wMjE4MyAzLjIyNDEyIDAuOTI4ODE1IDMuMTc4OTJDMC44MzU4MDEgMy4xMzM3MSAwLjczNjE0MyAzLjExMTExIDAuNjI5ODQgMy4xMTExMUMwLjQ0OTEyNyAzLjExMTExIDAuMjk4OTc1IDMuMTczNiAwLjE3OTM4NSAzLjI5ODU4QzAuMDU5Nzk1IDMuNDIzNTUgMCAzLjU3Mzc5IDAgMy43NDkyOUMwIDMuOTE0MTUgMC4wNjM3ODEzIDQuMDc5MDEgMC4xOTEzNDQgNC4yNDM4N0wxLjk5MzE3IDYuNDQ1NThDMi4wOTQxNSA2LjU3ODU0IDIuMTk3OCA2LjY3NDI2IDIuMzA0MSA2LjczMjc2QzIuNDEwNCA2Ljc5MTI2IDIuNTI5OTkgNi44MjA1MSAyLjY2Mjg3IDYuODIwNTFaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4KCg==');\n\n  --editor-standard-button-bg-color: #07142A;\n  --editor-standard-button-color: #ffffff;\n\n  --editor-standard-button-bg-color-hover: #07142A;\n  --editor-standard-button-color-hover: #ffffff;\n\n  --editor-standard-button-bg-color-disabled: #CFD6E1;\n  --editor-standard-button-color-disabled: #7084A4;\n\n  --editor-cancel-button-bg-color: #EEF3F8;\n  --editor-cancel-button-color: #07142A;\n\n  --editor-cancel-button-bg-color-hover: #EEF3F8;\n  --editor-cancel-button-color-hover: #07142A ;\n\n  --editor-version-list-bg-color: #F5F8FB;\n  --editor-version-button-disable-border: rgba(0, 0, 0, 0.23);\n  --editor-version-button-border: rgba(192, 210, 235, 1);\n  --editor-version-button-color: rgba(112, 132, 164, 1);\n  --editor-version-select-bg-color: #DAE6F2;\n\n  --editor-block-margin-top: 16px;\n  --editor-block-margin-bottom: 8px;\n  --editor-table-block-margin-top: 24px;\n  --editor-block-title-margin-bottom: 24px;\n  --editor-block-list-margin-bottom: 4px;\n  --editor-block-h1-margin-top: 24px;\n  --editor-block-h1-margin-bottom: 8px;\n  --editor-block-h2-margin-top: 24px;\n  --editor-block-h2-margin-bottom: 8px;\n  --editor-block-h3-margin-top: 20px;\n  --editor-block-h3-margin-bottom: 8px;\n  --editor-block-h4-margin-top: 20px;\n  --editor-block-h4-margin-bottom: 8px;\n  --editor-block-h5-margin-top: 16px;\n  --editor-block-h5-margin-bottom: 8px;\n  --editor-block-table-sub-block-margin-top: 5.33px;\n  --editor-block-table-sub-block-margin-bottom: 5.33px;\n\n  /* comments */\n  --editor-comment-avatar-width: 25px;\n  --editor-comment-switch-button-disabled-color: #B2BCCD;\n  --editor-comment-switch-button-color: #07142A;\n  --editor-comment-switch-button-width: 12px;\n  --editor-comment-username-font-size: 14px;\n  --editor-comment-more-menu-font-size: 14px;\n  --editor-comment-modified-color: #7084A4;\n  --editor-comment-quote-color: #7084A4;\n  --editor-comment-quote-before-bg-color: #E8ECF3;\n  --editor-comment-quick-reply-color: #7084A4;\n  --comment-delete-button-bg-color-active: #FDF4F4;\n\n  --editor-list-content-hover-bg-color: #F4F4F4;\n  --editor-list-content-to-mindmap-bg-color: #EAF3FC;\n\n  --editor-button-disabled-color: #7084A4;\n  --editor-button-disabled-bg: #CFD6E1;\n  --editor-scrollbar-thumb-bg: #07142A33;\n}\n\n.editor-main.mobile {\n  --editor-font-size: 18px;\n}\n\n.dark-mode .tippy-box,\n.dark-mode .gu-mirror,\n.dark-mode #editor-dialog-background,\n.dark-mode .embed-office-card-fixed,\n.dark-mode .comment-mobile-root,\n.dark-mode .editor-main {\n  --editor-color: #f0f0f0;\n  --editor-bg-color: #333;\n  --editor-img-brightness: 0.8;\n  --button-black-bg-color: rgba(0, 0, 0, 0.56);\n  --button-black-text-color: #ccc;\n\n  --popover-menu-bg-color: #404040;\n  --popover-menu-color: #d8d8d8;\n  --editor-border-color: #404040;\n\n  --editor-button-color: #121212;\n  --editor-button-bg-color: #F0F0F0;\n  \n  --editor-code-title-bg-color: #000;\n  --editor-code-bg-color: #96969640;\n  --editor-code-title-color: #f0f0f0;\n\n  --editor-placeholder-color: #555555;\n\n  --editor-math-input-bg-color: rgb(39, 40, 34);\n  --editor-math-input-text-color: #f8f8f2;\n  --editor-quoted-color: #969696;\n  --editor-quoted-border-color: #555;\n\n\n  --editor-table-bar-bg-color: rgba(64, 73, 89, 0.3);\n  --editor-table-bar-bg-color-hover: #97A3B8;\n  --editor-table-bar-bg-color-active: rgba(68, 138, 255, 0.3);\n  --editor-table-bg-color: #2a2a2a;\n  --editor-table-singular-row-bg-color: rgba(85, 85, 85, 0.2);\n  --editor-table-title-bg-color: rgba(85, 85, 85, 0.2);\n  \n  --editor-calendar-disabled-color: #969696;\n  --editor-calendar-disabled-bg-color: rgba(150, 150, 150, 0.15);\n\n  --editor-checkbox-layer-bg-color: #2A2A2A;\n\n  --editor-dialog-masking-bg-color: rgba(0, 0, 0, .75);\n  --editor-dialog-bg-color: #404040;\n\n  --editor-popover-border: solid 1px #333;\n  --popover-menu-arrow: #ccc;\n\n  --editor-border-color: #bfbfbf;\n  --editor-border-table-color: #555555;\n  --editor-dialog-text-color: #ccc;\n  --editor-dialog-input-bg-color: #333;\n  --editor-dialog-input-text-color: #fff;\n\n  --editor-locked-bg-color: #0f0d0b;\n  --editor-locked-color: #969696;\n  --popover-toolbar-bg-color: #000;\n  --popover-toolbar-color: #ccc;\n  --popover-toolbar-button-bg-color-hover: rgba(105, 105, 105, 0.15);\n  --popover-toolbar-button-color-hover: #ccc;\n  --popover-menu-item-disable-color: #f0f0f033;\n  --popover-menu-item-active-bg-color: #448aff1a;\n  --popover-menu-item-hover-bg-color: #96969633;\n  --popover-input-bg: #333333;\n  --popover-input-focused-bg: linear-gradient(0deg, rgba(68, 138, 255, 0.1), rgba(68, 138, 255, 0.1)), #333333;\n  --popover-input-border: 1px solid #555555;\n  --popover-input-focused-border: 2px solid #448AFF;\n  --popover-input-padding: 1px 0 1px 8px;\n  --popover-input-focused-padding: 0 0 0 8px;\n\n  --tooltip-color: #fff;\n  --tooltip-bg-color: #969696;\n\n  --editor-sketchpad-bg-color: transparent;\n\n  --editor-dialog-cancel-button-hover-bg-color: #181713;\n\n  --editor-comment-editor-bg-color: #333333;\n\n  --editor-block-tools-color: #ccc;\n\n  --palette-clear-button-bg-color: #000;\n  --palette-clear-button-color-hover: #000;\n  --palette-clear-button-bg-color-hover: #ccc;\n\n  --editor-tag-box-bg-color: #444;\n\n  --editor-math-box-bg-color: #272822;\n  --editor-find-dialog-bg-color: #404040;\n  --editor-find-dialog-input-container-bg-color: #333;\n  --editor-find-dialog-input-container-border-color: #555;\n  --editor-find-dialog-input-placeholder-color: #555555;\n  --editor-find-dialog-button-border-bg-color: transparent;\n  --editor-find-dialog-button-color: #fff;\n  --editor-find-dialog-icon-button-color: #f0f0f0;\n  --editor-find-dialog-button-hover-color: #448aff;\n  --editor-find-dialog-button-disabled-color: rgba(240, 240, 240, 0.2) !important;\n\n  --button-color-disabled: #666;\n  --editor-calendar-control-bg-color: #0f0d0b;\n  --editor-table-selection-mask-bg-color: rgba(68, 138, 255, 0.3);\n  --editor-comment-layer-bg-color: #404040;\n  --editor-comment-layer-border-color: #555555;\n  --editor-comment-layer-active-border-color: #555555;\n  --editor-comment-username-color: #ffffff;\n\n  /* office */\n  --office-card-name: #f0f0f0;\n  --office-card-size: #969696;\n  --office-card-button-bg-color: #333333;\n  --office-card-button-border-color: #404040;\n  --office-card-bg-color: #404040;\n  --office-preview-border-color: #404040;\n  --office-preview-info-bg-color: #555555;\n  --office-preview-info-text-color: #f0f0f0;\n\n  --editor-block-entire-hover-bg-color: rgba(68, 138, 255, 0.3);\n\n  --editor-block-entire-hover-text-bg-color: #404040;\n  --editor-block-entire-hover-embed-border-color: #dde7fc;\n  --editor-block-entire-selected-bg-color: #404040;\n  --editor-block-entire-selected-embed-border-color: #3f74f6;\n\n  --editor-comment-text-bg-color: rgba(255, 192, 0, 0.3);\n  --editor-comment-text-border-color-active: #FFC000;\n  --editor-table-selection-bg-color: rgba(0, 110, 255, 0.1);\n\n  --editor-remote-caret-mask-opacity: 0.5;\n\n  /* svg */\n  --editor-drawio-empty-svg: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zOC43MjAzIDI4LjcwOTdIMjUuOTIzM0MyNS4yMTY1IDI4LjcwOTcgMjQuNjQzNSAyOC4xNDgxIDI0LjY0MzUgMjcuNDU1MlYyNS43MzMzSDIwLjUyODNDMjAuNDk4NiAyNS43Njk2IDIwLjQ2NjkgMjUuODA0MiAyMC40MzMzIDI1LjgzN0wxNS45MTkyIDMwLjI2MjFWMzQuNzU1NkgyNC42NDM1VjMzLjcyNzZDMjQuNjQzNSAzMy4wMzQ4IDI1LjIxNjUgMzIuNDczMiAyNS45MjMzIDMyLjQ3MzJIMzguNzIwM0MzOS40MjcgMzIuNDczMiA0MCAzMy4wMzQ4IDQwIDMzLjcyNzZWMzguNzQ1NUM0MCAzOS40MzgzIDM5LjQyNyA0MCAzOC43MjAzIDQwSDI1LjkyMzNDMjUuMjE2NSA0MCAyNC42NDM1IDM5LjQzODMgMjQuNjQzNSAzOC43NDU1VjM3LjMzMzNIMTQuNjI2M0MxMy45MTIyIDM3LjMzMzMgMTMuMzMzMyAzNi43NTYyIDEzLjMzMzMgMzYuMDQ0NFYzMC42OTQxTDguMzc4NTIgMjUuODM3QzguMTM2MjYgMjUuNjAxNCA4IDI1LjI4MDggOCAyNC45NDYzQzggMjQuNjExOCA4LjEzNjI2IDI0LjI5MTEgOC4zNzg1MiAyNC4wNTU2TDEzLjMzMzMgMTkuMTk4NVYxNS43NzJDMTEuNzc5OCAxNS4yMjI5IDEwLjY2NjcgMTMuNzQxNiAxMC42NjY3IDEyQzEwLjY2NjcgOS43OTA4NSAxMi40NTc1IDggMTQuNjY2NyA4QzE2Ljg3NTggOCAxOC42NjY2IDkuNzkwODUgMTguNjY2NiAxMkMxOC42NjY2IDEzLjcyNjUgMTcuNTU4OCAxNS4yNTgxIDE1LjkxOTEgMTUuNzk4OFYxOS4yODg4QzE1LjkxOTEgMTkuMzkxOCAxNS45MDY4IDE5LjQ5NDMgMTUuODgyMyAxOS41OTQzTDE5LjUxNTEgMjMuMTU1NUgyNC42NDM1VjIyLjQzNzNDMjQuNjQzNSAyMS43NDQ1IDI1LjIxNjUgMjEuMTgyOSAyNS45MjMzIDIxLjE4MjlIMzguNzIwM0MzOS40MjcgMjEuMTgyOSA0MCAyMS43NDQ1IDQwIDIyLjQzNzNWMjcuNDU1MkM0MCAyOC4xNDgxIDM5LjQyNyAyOC43MDk3IDM4LjcyMDMgMjguNzA5N1pNMjcuMjAzIDM3LjQ5MUgzNy40NDA2VjM0Ljk4MjFIMjcuMjAzVjM3LjQ5MVpNMTQuNDA1OSAyOC4xOTU0TDExLjA5MTUgMjQuOTQ2M0wxNC40MDU5IDIxLjY5NzJMMTcuNzIwNCAyNC45NDYzTDE0LjQwNTkgMjguMTk1NFpNMjcuMjAzIDI2LjIwMDhIMzcuNDQwNlYyMy42OTE4SDI3LjIwM1YyNi4yMDA4WiIgZmlsbD0iI2YwZjBmMCIvPgo8L3N2Zz4K');\n  --editor-checkbox-checked-svg: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNyIgaGVpZ2h0PSI3IiB2aWV3Qm94PSIwIDAgNyA3IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMi42NjI4NyA2LjgyMDUxQzIuOTMzOTQgNi44MjA1MSAzLjE0OTIgNi42OTU1NCAzLjMwODY2IDYuNDQ1NThMNi43MzY5IDEuMDkyODhDNi43Nzk0MiAxLjAxMzExIDYuODIwNjEgMC45MzA2NzQgNi44NjA0OCAwLjg0NTU4NEM2LjkwMDM0IDAuNzYwNDk0IDYuOTIwMjcgMC42NzU0MDQgNi45MjAyNyAwLjU5MDMxM0M2LjkyMDI3IDAuNDE0ODE1IDYuODUyNTEgMC4yNzI1NTUgNi43MTY5NyAwLjE2MzUzM0M2LjU4MTQzIDAuMDU0NTEwOSA2LjQzMTI4IDAgNi4yNjY1MSAwQzYuMDQzMjggMCA1Ljg1NDU5IDAuMTIyMzE3IDUuNzAwNDYgMC4zNjY5NTJMMi42Mzg5NSA1LjI2NDk2TDEuMjAzODcgMy40MTQyNUMxLjExMzUyIDMuMzAyNTYgMS4wMjE4MyAzLjIyNDEyIDAuOTI4ODE1IDMuMTc4OTJDMC44MzU4MDEgMy4xMzM3MSAwLjczNjE0MyAzLjExMTExIDAuNjI5ODQgMy4xMTExMUMwLjQ0OTEyNyAzLjExMTExIDAuMjk4OTc1IDMuMTczNiAwLjE3OTM4NSAzLjI5ODU4QzAuMDU5Nzk1IDMuNDIzNTUgMCAzLjU3Mzc5IDAgMy43NDkyOUMwIDMuOTE0MTUgMC4wNjM3ODEzIDQuMDc5MDEgMC4xOTEzNDQgNC4yNDM4N0wxLjk5MzE3IDYuNDQ1NThDMi4wOTQxNSA2LjU3ODU0IDIuMTk3OCA2LjY3NDI2IDIuMzA0MSA2LjczMjc2QzIuNDEwNCA2Ljc5MTI2IDIuNTI5OTkgNi44MjA1MSAyLjY2Mjg3IDYuODIwNTFaIiBmaWxsPSIjMzMzMzMzIi8+Cjwvc3ZnPgo=');\n\n  --editor-standard-button-bg-color: #f0f0f0;\n  --editor-standard-button-color: #121212;\n\n  --editor-standard-button-bg-color-hover: #f0f0f0;\n  --editor-standard-button-color-hover: #121212;\n\n  --editor-cancel-button-bg-color: #555;\n  --editor-cancel-button-color: #d8d8d8;\n\n  --editor-cancel-button-bg-color-hover: #555;\n  --editor-cancel-button-color-hover: #d8d8d8 ;\n\n  --editor-version-list-bg-color: #2a2a2a;\n  --editor-version-button-disable-border: rgba(255, 255, 255, 0.23);\n  --editor-version-button-border: rgba(85, 85, 85, 1);\n  --editor-version-button-color: rgba(150, 150, 150, 1);\n  --editor-version-select-bg-color: rgba(150, 150, 150, .2);\n\n  --editor-list-content-hover-bg-color: #2A2A2A;\n  --editor-list-content-to-mindmap-bg-color: #2A2A2A;\n\n  --comment-button-bg-color: rgba(150, 150, 150, .2);\n  --comment-button-bg-color-active: rgba(150, 150, 150, .2);\n\n  --editor-button-disabled-color: #969696;\n  --editor-button-disabled-bg: #555555;\n  --editor-checkbox-checked-color: #F0F0F0;\n  --editor-scrollbar-thumb-bg: #FFFFFF33;\n}\n\n@media (prefers-color-scheme: dark) {\n  .auto-dark-mode .tippy-box,\n  .auto-dark-mode .gu-mirror,\n  .auto-dark-mode #editor-dialog-background,\n  .auto-dark-mode .embed-office-card-fixed,\n  .auto-dark-mode .comment-mobile-root,\n  .auto-dark-mode .editor-main {\n    --editor-color: #f0f0f0;\n    --editor-bg-color: #333;\n    --editor-img-brightness: 0.8;\n    --button-black-bg-color: rgba(0, 0, 0, 0.56);\n    --button-black-text-color: #ccc;\n\n    --popover-menu-bg-color: #404040;\n    --popover-menu-color: #D8D8D8;\n    --editor-border-color: #404040;\n\n    --editor-button-color: #121212;\n    --editor-button-bg-color: #F0F0F0;\n    \n    --editor-code-title-bg-color: #000;\n    --editor-code-bg-color: #96969640;\n    --editor-code-title-color: #f0f0f0;\n\n    --editor-placeholder-color: #555555;\n\n    --editor-math-input-bg-color: rgb(39, 40, 34);\n    --editor-math-input-text-color: #f8f8f2;\n    --editor-quoted-color: #969696;\n    --editor-quoted-border-color: #555;\n\n    --editor-table-bar-bg-color: rgba(64, 73, 89, 0.3);\n    --editor-table-bar-bg-color-hover: #97A3B8;\n    --editor-table-bar-bg-color-active: rgba(68, 138, 255, 0.3);\n    --editor-table-bg-color: #2a2a2a;\n    --editor-table-singular-row-bg-color: rgba(85, 85, 85, 0.2);\n    --editor-table-title-bg-color: rgba(85, 85, 85, 0.2);\n    \n    --editor-checkbox-layer-bg-color: #2A2A2A;\n\n    --editor-dialog-masking-bg-color: rgba(0, 0, 0, .75);\n    --editor-dialog-bg-color: #404040;\n\n    --editor-popover-border: solid 1px #333;\n    --popover-menu-arrow: #ccc;\n\n    --editor-border-color: #bfbfbf;\n    --editor-border-table-color: #555555;\n    --editor-dialog-text-color: #ccc;\n    --editor-dialog-input-bg-color: #333;\n    --editor-dialog-input-text-color: #fff;\n\n    --editor-locked-bg-color: #0f0d0b;\n    --editor-locked-color: #969696;\n    --popover-toolbar-bg-color: #000;\n    --popover-toolbar-color: #ccc;\n    --popover-toolbar-button-bg-color-hover: rgba(105, 105, 105, 0.15);\n    --popover-toolbar-button-color-hover: #ccc;\n    --popover-menu-item-disable-color: #f0f0f033;\n    --popover-menu-item-active-bg-color: #448aff1a;\n    --popover-menu-item-hover-bg-color: #96969633;\n    --popover-input-bg: #333333;\n    --popover-input-focused-bg: linear-gradient(0deg, rgba(68, 138, 255, 0.1), rgba(68, 138, 255, 0.1)), #333333;\n    --popover-input-border: 1px solid #555555;\n    --popover-input-focused-border: 2px solid #448AFF;\n    --popover-input-padding: 1px 0 1px 8px;\n    --popover-input-focused-padding: 0 0 0 8px;\n\n    --tooltip-color: #fff;\n    --tooltip-bg-color: #969696;\n\n    --editor-sketchpad-bg-color: transparent;\n\n    --editor-dialog-cancel-button-hover-bg-color: #181713;\n\n    --editor-comment-editor-bg-color: #333333;\n\n    --editor-block-tools-color: #ccc;\n\n    --palette-clear-button-bg-color: #000;\n    --palette-clear-button-color-hover: #000;\n    --palette-clear-button-bg-color-hover: #ccc;\n\n    --editor-tag-box-bg-color: #444;\n\n    --editor-math-box-bg-color: #272822;\n    --editor-find-dialog-bg-color: #404040;\n    --editor-find-dialog-input-container-bg-color: #333;\n    --editor-find-dialog-input-container-border-color: #555;\n    --editor-find-dialog-input-placeholder-color: #555555;\n    --editor-find-dialog-button-border-bg-color: transparent;\n    --editor-find-dialog-button-color: #fff;\n    --editor-find-dialog-icon-button-color: #f0f0f0;\n    --editor-find-dialog-button-hover-color: #448aff;\n    --editor-find-dialog-button-disabled-color: rgba(240, 240, 240, 0.2) !important;\n\n    --button-color-disabled: #666;\n    --editor-calendar-control-bg-color: #0f0d0b;\n    --editor-table-selection-mask-bg-color: rgba(68, 138, 255, 0.3);\n    --editor-comment-layer-bg-color: #404040;\n    --editor-comment-layer-border-color: #555555;\n    --editor-comment-layer-active-border-color: #555555;\n    --editor-comment-username-color: #ffffff;\n\n    /* office */\n    --office-card-name: #f0f0f0;\n    --office-card-size: #969696;\n    --office-card-button-bg-color: #333333;\n    --office-card-button-border-color: #404040;\n    --office-card-bg-color: #404040;\n    --office-preview-border-color: #404040;\n    --office-preview-info-bg-color: #555555;\n    --office-preview-info-text-color: #f0f0f0;\n\n    --editor-block-entire-hover-bg-color: rgba(68, 138, 255, 0.3);\n\n    --editor-block-entire-hover-text-bg-color: #404040;\n    --editor-block-entire-hover-embed-border-color: #dde7fc;\n    --editor-block-entire-selected-bg-color: #404040;\n    --editor-block-entire-selected-embed-border-color: #3f74f6;\n\n    --editor-comment-text-bg-color: rgba(255, 192, 0, 0.3);\n    --editor-comment-text-border-color-active: #FFC000;\n    --editor-table-selection-bg-color: rgba(0, 110, 255, 0.1);\n\n    --editor-remote-caret-mask-opacity: 0.5;\n\n    /* svg */\n    --editor-drawio-empty-svg: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zOC43MjAzIDI4LjcwOTdIMjUuOTIzM0MyNS4yMTY1IDI4LjcwOTcgMjQuNjQzNSAyOC4xNDgxIDI0LjY0MzUgMjcuNDU1MlYyNS43MzMzSDIwLjUyODNDMjAuNDk4NiAyNS43Njk2IDIwLjQ2NjkgMjUuODA0MiAyMC40MzMzIDI1LjgzN0wxNS45MTkyIDMwLjI2MjFWMzQuNzU1NkgyNC42NDM1VjMzLjcyNzZDMjQuNjQzNSAzMy4wMzQ4IDI1LjIxNjUgMzIuNDczMiAyNS45MjMzIDMyLjQ3MzJIMzguNzIwM0MzOS40MjcgMzIuNDczMiA0MCAzMy4wMzQ4IDQwIDMzLjcyNzZWMzguNzQ1NUM0MCAzOS40MzgzIDM5LjQyNyA0MCAzOC43MjAzIDQwSDI1LjkyMzNDMjUuMjE2NSA0MCAyNC42NDM1IDM5LjQzODMgMjQuNjQzNSAzOC43NDU1VjM3LjMzMzNIMTQuNjI2M0MxMy45MTIyIDM3LjMzMzMgMTMuMzMzMyAzNi43NTYyIDEzLjMzMzMgMzYuMDQ0NFYzMC42OTQxTDguMzc4NTIgMjUuODM3QzguMTM2MjYgMjUuNjAxNCA4IDI1LjI4MDggOCAyNC45NDYzQzggMjQuNjExOCA4LjEzNjI2IDI0LjI5MTEgOC4zNzg1MiAyNC4wNTU2TDEzLjMzMzMgMTkuMTk4NVYxNS43NzJDMTEuNzc5OCAxNS4yMjI5IDEwLjY2NjcgMTMuNzQxNiAxMC42NjY3IDEyQzEwLjY2NjcgOS43OTA4NSAxMi40NTc1IDggMTQuNjY2NyA4QzE2Ljg3NTggOCAxOC42NjY2IDkuNzkwODUgMTguNjY2NiAxMkMxOC42NjY2IDEzLjcyNjUgMTcuNTU4OCAxNS4yNTgxIDE1LjkxOTEgMTUuNzk4OFYxOS4yODg4QzE1LjkxOTEgMTkuMzkxOCAxNS45MDY4IDE5LjQ5NDMgMTUuODgyMyAxOS41OTQzTDE5LjUxNTEgMjMuMTU1NUgyNC42NDM1VjIyLjQzNzNDMjQuNjQzNSAyMS43NDQ1IDI1LjIxNjUgMjEuMTgyOSAyNS45MjMzIDIxLjE4MjlIMzguNzIwM0MzOS40MjcgMjEuMTgyOSA0MCAyMS43NDQ1IDQwIDIyLjQzNzNWMjcuNDU1MkM0MCAyOC4xNDgxIDM5LjQyNyAyOC43MDk3IDM4LjcyMDMgMjguNzA5N1pNMjcuMjAzIDM3LjQ5MUgzNy40NDA2VjM0Ljk4MjFIMjcuMjAzVjM3LjQ5MVpNMTQuNDA1OSAyOC4xOTU0TDExLjA5MTUgMjQuOTQ2M0wxNC40MDU5IDIxLjY5NzJMMTcuNzIwNCAyNC45NDYzTDE0LjQwNTkgMjguMTk1NFpNMjcuMjAzIDI2LjIwMDhIMzcuNDQwNlYyMy42OTE4SDI3LjIwM1YyNi4yMDA4WiIgZmlsbD0iI2YwZjBmMCIvPgo8L3N2Zz4K');\n    --editor-checkbox-checked-svg: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNyIgaGVpZ2h0PSI3IiB2aWV3Qm94PSIwIDAgNyA3IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMi42NjI4NyA2LjgyMDUxQzIuOTMzOTQgNi44MjA1MSAzLjE0OTIgNi42OTU1NCAzLjMwODY2IDYuNDQ1NThMNi43MzY5IDEuMDkyODhDNi43Nzk0MiAxLjAxMzExIDYuODIwNjEgMC45MzA2NzQgNi44NjA0OCAwLjg0NTU4NEM2LjkwMDM0IDAuNzYwNDk0IDYuOTIwMjcgMC42NzU0MDQgNi45MjAyNyAwLjU5MDMxM0M2LjkyMDI3IDAuNDE0ODE1IDYuODUyNTEgMC4yNzI1NTUgNi43MTY5NyAwLjE2MzUzM0M2LjU4MTQzIDAuMDU0NTEwOSA2LjQzMTI4IDAgNi4yNjY1MSAwQzYuMDQzMjggMCA1Ljg1NDU5IDAuMTIyMzE3IDUuNzAwNDYgMC4zNjY5NTJMMi42Mzg5NSA1LjI2NDk2TDEuMjAzODcgMy40MTQyNUMxLjExMzUyIDMuMzAyNTYgMS4wMjE4MyAzLjIyNDEyIDAuOTI4ODE1IDMuMTc4OTJDMC44MzU4MDEgMy4xMzM3MSAwLjczNjE0MyAzLjExMTExIDAuNjI5ODQgMy4xMTExMUMwLjQ0OTEyNyAzLjExMTExIDAuMjk4OTc1IDMuMTczNiAwLjE3OTM4NSAzLjI5ODU4QzAuMDU5Nzk1IDMuNDIzNTUgMCAzLjU3Mzc5IDAgMy43NDkyOUMwIDMuOTE0MTUgMC4wNjM3ODEzIDQuMDc5MDEgMC4xOTEzNDQgNC4yNDM4N0wxLjk5MzE3IDYuNDQ1NThDMi4wOTQxNSA2LjU3ODU0IDIuMTk3OCA2LjY3NDI2IDIuMzA0MSA2LjczMjc2QzIuNDEwNCA2Ljc5MTI2IDIuNTI5OTkgNi44MjA1MSAyLjY2Mjg3IDYuODIwNTFaIiBmaWxsPSIjMzMzMzMzIi8+Cjwvc3ZnPgo=');\n\n    --editor-standard-button-bg-color: #f0f0f0;\n    --editor-standard-button-color: #121212;\n  \n    --editor-standard-button-bg-color-hover: #f0f0f0;\n    --editor-standard-button-color-hover: #121212;\n  \n    --editor-cancel-button-bg-color: #555;\n    --editor-cancel-button-color: #d8d8d8;\n\n    --editor-cancel-button-bg-color-hover: #555;\n    --editor-cancel-button-color-hover: #d8d8d8 ;\n\n    --editor-version-list-bg-color: #2a2a2a;\n    --editor-version-button-disable-border: rgba(255, 255, 255, 0.23);\n    --editor-version-button-border: rgba(85, 85, 85, 1);\n    --editor-version-button-color: rgba(150, 150, 150, 1);\n    --editor-version-select-bg-color: rgba(150, 150, 150, .2);\n\n    --editor-list-content-hover-bg-color: #2A2A2A;\n    --editor-list-content-to-mindmap-bg-color: #2A2A2A;\n\n    --comment-button-bg-color: rgba(150, 150, 150, .2);\n    --comment-button-bg-color-active: rgba(150, 150, 150, .2);\n\n    --editor-button-disabled-color: #969696;\n    --editor-button-disabled-bg: #555555;\n    --editor-checkbox-checked-color: #F0F0F0;\n    --editor-scrollbar-thumb-bg: #FFFFFF33;\n  }\n}\n",""])},9505:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,".version-dialog {\n  display: flex;\n  background-color: var(--editor-bg-color);\n  width: 100%;\n  height: 100%;\n  color: var(--editor-color);\n}\n.version-dialog-note-viewer {\n  flex: 1;\n  padding: 32px;\n  display: flex;\n  flex-direction: column;\n  width: 0;\n  padding-top: 16px;\n  padding-left: 16px;\n}\n\n.version-dialog-note-viewer .dialog-button-text {\n  margin-top: 1px;\n  margin-left: -4px;\n}\n\n.version-dialog-note-viewer .version-dialog-editor::-webkit-scrollbar {\n  /* display: none; */\n}\n.version-dialog-action-container {\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 16px;\n  box-sizing: border-box;\n}\n\n.version-dialog-note-viewer .dialog-text-button {\n  outline: none;\n  background: transparent;\n  border: none;\n  display: flex;\n  align-items: center;\n  color: var(--editor-color);\n  font-size: 16px;\n  font-weight: 500;\n  padding: 4px 0px;\n  cursor: pointer;\n}\n.dialog-text-button .dialog-button-icon {\n  margin-right: 0;\n  width: 24px;\n  height: 24px;\n}\n\n.dialog-text-button .dialog-button-icon svg {\n  fill: currentColor;\n}\n.dialog-version-button {\n  background: transparent;\n  min-width: 88px;\n  height: 32px;\n  color: var(--editor-color);\n  font-weight: 500;\n  padding: 4px 0;\n  border-radius: 4px;\n  font-size: 16px;\n  cursor: pointer;\n}\n\n.dialog-version-button[disabled] {\n  outline: none;\n  color: #7084A4;\n  cursor: not-allowed;\n  pointer-events: unset;\n  background-color: #CFD6E1;\n  border: 1px solid var(--editor-version-button-disable-border);\n}\n\n.dialog-version-button.version-play {\n  display: flex;\n  align-items: center;\n  outline: none;\n  background: transparent;\n  border: none;\n  color: #448aff;\n}\n\n.dialog-version-button.version-play[disabled] {\n  display: none;\n}\n\n.dialog-version-button.version-play .dialog-button-icon {\n  display: flex;\n}\n\n.dialog-version-button.version-play .dialog-button-text {\n  margin-left: 0;\n}\n\n.version-revert {\n  border: 1px solid var(--editor-version-button-border);\n  color: var(--editor-version-button-color);\n}\n\n.version-dialog-versions-list {\n  width: 320px;\n  background: var(--editor-version-list-bg-color);\n  overflow-y: auto;\n  padding: 32px 8px;\n}\n.version-dialog-list-header {\n  padding: 0 12px;\n  font-size: 16px;\n  display: flex;\n  align-items: center;\n  margin-top: 16px;\n  margin-bottom: 12px;\n}\n.dialog-version-list-item {\n  padding: 4px 12px;\n  border-radius: 8px;\n  cursor: pointer;\n}\n.dialog-version-list-item.child {\n  padding-left: 32px;\n}\n.dialog-version-list-item.active {\n  background-color: var(--editor-version-select-bg-color);\n}\n.dialog-version-list-item:not(.active):hover {\n  background: rgba(112, 132, 164, .1);\n}\n\n.dialog-version-list-item-title {\n  display: flex;\n  align-items: center;\n  margin-top: 16px;\n  margin-bottom: 12px;\n}\n\n.dialog-version-list-item-title .dialog-version-list-item-date {\n  font-size: 14px;\n}\n.dialog-version-list-item-now-ver {\n  border-radius: 3px;\n  background: #909090;\n  color: #fff;\n  padding: 3px 4px;\n  font-size: 12px;\n  line-height: 14px;\n  margin-left: 8px;\n}\n\n.dialog-version-list-item-authors {\n  list-style: none;\n  margin: 0;\n  padding-left: 0;\n  font-size: 14px;\n}\n.dialog-version-list-item-author {\n  /* height: 32px; */\n  display: flex;\n  align-items: center;\n  margin-right: 8px;\n  margin-top: 8px;\n  margin-bottom: 12px;\n}\n.dialog-version-list-item-mark-author {\n  width: 10px;\n  height: 10px;\n  border-radius: 5px;\n  margin-right: 8px;\n  margin-top: 1px;\n}\n\n.version-dialog-editor {\n  flex-grow: 1;\n  overflow-y: auto;\n}\n\n.editor-main.history .root-container .editor-block .text-element .inline-plugin.editor-box-loading {\n  display: none;\n}\n\n.version-dialog .dialog-version-item-from-container {\n  color: #909090;\n  font-size: 12px;\n  line-height: 1.5em;\n  margin-bottom: 4px;\n}\n",""])},7487:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,'/* ------------------------ sketchpad ---------------------------------*/\n#sketchpad {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 50;\n  white-space: nowrap;\n  margin: 0;\n  padding: 0;\n}\n\n#sketchpad .wiz-svg-page {\n  width: 100%;\n  height: 100%;\n  display: none;\n  position: relative;\n  margin: 0;\n}\n\n#sketchpad .wiz-svg-page-container.active .wiz-svg-page {\n  display: block;\n}\n\n#sketchpad .wiz-svg-container {\n  padding: 0;\n  position: relative;\n  cursor: default;\n}\n\n#sketchpad .wiz-svg-container svg {\n  width: 100%;\n  height: auto;\n  margin: 0;\n  display: block;\n}\n\n\n/* ============== 临时样式 ============== */\n#wiz-painter-root .hide {\n  display: none !important;\n}\n\n/* ------------------------ sketchpad ---------------------------------*/\n#sketchpad .wiz-svg-container .wiz-svg-mask-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 80;\n}\n\n#sketchpad .wiz-shape-asst-button svg {\n  width: 100%;\n  height: auto;\n}\n\n#sketchpad .wiz-shape-asst-container {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  z-index: 90;\n}\n\n#sketchpad .wiz-shape-asst-button {\n  padding: 5px;\n  opacity: .85;\n  background: silver;\n  color: white;\n  margin-right: 4px;\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  border-radius: 100%;\n  cursor: pointer;\n}\n\n/* ------------------------ tools info ---------------------------------*/\n.wiz-painter-info {\n  padding: 12px;\n  border-radius: 5px;\n  background: rgba(0, 0, 0, 0.5);\n  color: #FFFFFF;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  z-index: 0;\n  opacity: 0;\n  transition: opacity 0.6s, z-index 0.2s 0.8s;\n}\n.wiz-painter-info.active {\n  opacity: 1;\n  z-index: 50;\n  transition: opacity 0.6s 0.5s, z-index 0.2s;\n}\n\n\n/* ------------------------ input UI ---------------------------------*/\n.toolbar-layer input {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  position: relative;\n  width: 26px;\n  height: 17px;\n  border: 1px solid #DFDFDF;\n  outline: 0;\n  border-radius: 10px;\n  box-sizing: border-box;\n  background-color: #DFDFDF;\n  -webkit-transition: background-color 0.1s, border 0.1s;\n  transition: background-color 0.1s, border 0.1s;\n  -webkit-appearance: none;\n  appearance: none;\n  margin: 0;\n  padding: 0;\n\n}\n\n.toolbar-layer input:before {\n  content: " ";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 25px;\n  height: 15px;\n  border-radius: 8px;\n  background-color: #FDFDFD;\n  -webkit-transition: -webkit-transform 0.35s cubic-bezier(0.45, 1, 0.4, 1);\n  transition: -webkit-transform 0.35s cubic-bezier(0.45, 1, 0.4, 1);\n  transition: transform 0.35s cubic-bezier(0.45, 1, 0.4, 1);\n  transition: transform 0.35s cubic-bezier(0.45, 1, 0.4, 1), -webkit-transform 0.35s cubic-bezier(0.45, 1, 0.4, 1);\n}\n\n.toolbar-layer input:after {\n  content: " ";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 15px;\n  height: 15px;\n  border-radius: 8px;\n  background-color: #FFFFFF;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);\n  -webkit-transition: -webkit-transform 0.35s cubic-bezier(0.4, 0.4, 0.25, 1.35);\n  transition: -webkit-transform 0.35s cubic-bezier(0.4, 0.4, 0.25, 1.35);\n  transition: transform 0.35s cubic-bezier(0.4, 0.4, 0.25, 1.35);\n  transition: transform 0.35s cubic-bezier(0.4, 0.4, 0.25, 1.35), -webkit-transform 0.35s cubic-bezier(0.4, 0.4, 0.25, 1.35);\n}\n\n.toolbar-layer input:checked {\n  border-color: #1AAD19;\n  background-color: #1AAD19;\n}\n\n.toolbar-layer input:checked:before {\n  -webkit-transform: scale(0);\n  transform: scale(0);\n}\n\n.toolbar-layer input:checked:after {\n  -webkit-transform: translateX(10px);\n  transform: translateX(10px);\n}\n\n/* ------------------------ toolbar ---------------------------------*/\n.toolbar-layer.wiz {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 44px;\n  z-index: 100;\n  display: flex;\n  justify-content: center;\n}\n\n.toolbar-layer.wiz .toolbar-container {\n  display: flex;\n  align-items: center;\n  max-width: 640px;\n  height: 44px;\n  padding: 0 24px;\n  background-color: var(--popover-toolbar-bg-color);\n  color: var(--popover-toolbar-color);\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\n}\n.toolbar-layer.wiz .toolbar-container.small {\n  padding: 0 10px;\n}\n\n.toolbar-layer.wiz .toolbar-btn {\n  flex-shrink: 0;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  margin-left: 8px;\n  position: relative;\n  overflow: hidden;\n  transition: opacity 100ms ease-in;\n}\n.toolbar-layer.wiz .toolbar-btn:first-child {\n  margin-left: 0;\n}\n\n.toolbar-layer.wiz .toolbar-btn.disabled {\n  cursor: default;\n  opacity: 0.5;\n}\n\n.toolbar-layer.wiz .toolbar-btn svg {\n  fill: currentcolor;\n  width: 24px;\n  height: 24px;\n  color: #333333;\n}\n\n.toolbar-layer.wiz .toolbar-btn svg.toolbar-btn-icon-area {\n  opacity: 0;\n  transition: opacity 100ms ease-in;\n}\n\n.toolbar-layer.wiz .toolbar-btn.active svg.toolbar-btn-icon-area,\n.toolbar-layer.wiz .toolbar-btn.hover svg.toolbar-btn-icon-area {\n  opacity: 1;\n}\n\n.toolbar-layer.wiz .toolbar-btn svg.toolbar-btn-icon-line {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.toolbar-layer.wiz .toolbar-btn-color {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -10px;\n  margin-left: -10px;\n  width: 20px;\n  height: 20px;\n  border-radius: 100%;\n}\n\n.toolbar-layer.wiz .toolbar-btn-color-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -12px;\n  margin-left: -12px;\n  opacity: 0;\n  width: 24px;\n  height: 24px;\n  color: #ffffff;\n  fill: currentcolor;\n  transition: opacity 100ms ease-in;\n}\n\n.toolbar-layer.wiz .toolbar-btn-color-bg {\n  width: 24px;\n  height: 24px;\n  opacity: 0;\n  border-radius: 100%;\n  transition: all 100ms ease-in;\n}\n\n.toolbar-layer.wiz .toolbar-btn.active .toolbar-btn-color-bg {\n  opacity: 0.4;\n}\n\n.toolbar-layer.wiz .toolbar-btn.active .toolbar-btn-color-icon {\n  opacity: 1;\n}\n\n.toolbar-layer.wiz .toolbar-btn-line svg {\n  stroke: currentcolor;\n}\n\n.toolbar-layer.wiz .toolbar-btn-eraser-clear.active svg {\n  color: #448aff;\n}\n\n.toolbar-layer.wiz .toolbar-btn-eraser {\n  border-radius: 100%;\n  box-sizing: border-box;\n  border: 2px solid #b0b0b0;\n  flex-shrink: 0;\n  background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyMzBGMTFENDM4MjA2ODExODNEMTgzMjFBMTNCMEQ3OSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowQTBFQTRGRTMxOTkxMUU5QTBCQTk3QkRCRTE3MzlGRCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowQTBFQTRGRDMxOTkxMUU5QTBCQTk3QkRCRTE3MzlGRCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzY3QzY0QjQzQTIwNjgxMTgyMkFGN0ExRkRFMDUzMUEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjMwRjExRDQzODIwNjgxMTgzRDE4MzIxQTEzQjBENzkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6vobedAAAAc0lEQVR42uzWsQ3AIAxFQchK3n8DeyanTrKAiY4SUVzxhd7u7vU8VfW6iYhRb6514IGG/ht6Z+bwv+L7xjygoSf8HtrDPKChtYd5QENrD+0BDa09tAc0tPbQHjYNDa09zAMaWnuYBzS09tAe0NBHnVuAAQBN/qJU86cskAAAAABJRU5ErkJggg==\');\n  background-repeat: no-repeat;\n  background-position: -1px -1px;\n  overflow: hidden;\n}\n.toolbar-layer.wiz .toolbar-btn.active .toolbar-btn-eraser,\n.toolbar-layer.wiz .toolbar-submenu-eraser-line-item.active .toolbar-btn-eraser {\n  border-color: #448aff;\n}\n.toolbar-layer.wiz .toolbar-btn-label {\n  margin-left: 4px;\n  font-size: 12px;\n}\n\n.toolbar-layer.wiz .toolbar-btn .toolbar-btn-saving-icon {\n  display: none;\n}\n.toolbar-layer.wiz .toolbar-btn .toolbar-btn-saved-icon {\n  display: none;\n}\n.toolbar-layer.wiz .toolbar-btn.doing .toolbar-btn-save-icon,\n.toolbar-layer.wiz .toolbar-btn.done .toolbar-btn-save-icon {\n  display: none;\n}\n.toolbar-layer.wiz .toolbar-btn.doing .toolbar-btn-saving-icon {\n  display: block;\n  -webkit-animation: wiz-saving 2s infinite linear;\n  -o-animation: wiz-saving 2s infinite linear;\n  animation: wiz-saving 2s infinite linear;\n}\n.toolbar-layer.wiz .toolbar-btn.done .toolbar-btn-saved-icon {\n  display: block;\n}\n\n@keyframes wiz-saving {\n  0%{\n    transform: rotate(0deg);\n    -webkit-transform: rotate(0deg);\n    -moz-transform: rotate(0deg);\n  }\n  100%{\n    transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n  }\n}\n\n.toolbar-layer.wiz .toolbar-submenu {\n  position: absolute;\n  display: none;\n  background-color: #F4F6F9;\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\n  width: auto;\n  padding: 0;\n  border: 1px solid #E0E0E0;\n  box-sizing: border-box;\n  font-size: 12px;\n}\n\n.toolbar-layer.wiz .toolbar-submenu .toolbar-submenu-arrow,\n.toolbar-layer.wiz .toolbar-submenu .toolbar-submenu-arrow-bg {\n  position: absolute;\n  /*content: " ";*/\n  border-style: solid;\n  border-color: transparent;\n  border-bottom-color: #E0E0E0;\n  top: -6px;\n  border-width: 0 5px 5px 5px;\n  z-index: 10;\n}\n\n.toolbar-layer.wiz .toolbar-submenu .toolbar-submenu-arrow {\n  border-bottom-color: #F4F6F9;\n  top: -4px;\n}\n\n.toolbar-layer.wiz .toolbar-submenu.active {\n  display: block;\n}\n\n.toolbar-layer.wiz .toolbar-submenu-color-item {\n  position: relative;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  margin: 4px 8px 4px 0;\n}\n\n.toolbar-layer.wiz .toolbar-submenu-color-item .toolbar-btn-color {\n  width: 16px;\n  height: 16px;\n  margin-top: -8px;\n  margin-left: -8px;\n}\n.toolbar-layer.wiz .toolbar-submenu-color-item .toolbar-btn-color-bg {\n  width: 20px;\n  height: 20px;\n}\n.toolbar-layer.wiz .toolbar-submenu-color-item.active .toolbar-btn-color-bg {\n  opacity: 0.4;\n}\n\n.toolbar-layer.wiz .toolbar-submenu .submenu_buttons_container {\n  padding: 4px 0 4px 8px;\n  display: flex;\n  align-items: center;\n  flex-flow: wrap;\n}\n.toolbar-layer.wiz .toolbar-submenu-item {\n  width: 100%;\n  list-style: none;\n  padding: 0;\n  margin: 8px 0;\n}\n.toolbar-layer.wiz .toolbar-submenu-item li {\n  cursor: pointer;\n  padding: 4px 12px;\n  margin: 4px 0;\n  /*border-radius: 3px;*/\n  display: flex;\n  align-items: center;\n}\n.toolbar-layer.wiz .toolbar-submenu-item li:hover {\n  background-color: #cccccc;\n}\n.toolbar-layer.wiz .toolbar-submenu-item li.hide {\n  display: none;\n}\n.toolbar-layer.wiz .toolbar-submenu-item li.disabled {\n  cursor: default;\n  opacity: 0.5;\n}\n.toolbar-layer.wiz .toolbar-submenu-item li.disabled:hover {\n  background-color: transparent;\n}\n\n.toolbar-layer.wiz .toolbar-submenu-icon,\n.toolbar-layer.wiz .toolbar-submenu-list-icon {\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  margin: 4px 8px 4px 0;\n  padding: 2px;\n  border-radius: 3px;\n  display: inline-block;\n}\n.toolbar-layer.wiz .toolbar-submenu-list-icon {\n  margin: 0 4px 0 0;\n}\n\n.toolbar-layer.wiz .toolbar-submenu-icon svg,\n.toolbar-layer.wiz .toolbar-submenu-list-icon svg {\ncolor: #333333;\nfill: currentColor;\nstroke: currentcolor;\nwidth: 100%;\nheight: auto;\n}\n\n.toolbar-layer.wiz .toolbar-submenu-line-item.active {\n  background-color: #cccccc;\n}\n\n.toolbar-layer.wiz .toolbar-submenu-eraser-line-item {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  margin: 4px 8px 4px 0;\n  padding: 2px;\n  cursor: pointer;\n  overflow: hidden;\n}\n\n#sketchpad {\n  top: 44px;\n  padding-top: 0px;\n}\n.toolbar-bottom #sketchpad {\n  top: 0px;\n  bottom: 44px;\n}\n',""])},9252:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},3258:e=>{var t={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:2*Math.PI},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:.001},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:.001,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}};e.exports=function(e,n,r,o){if(!t.hasOwnProperty(r))throw new Error("Cannot convert to "+r);if(!t[r].hasOwnProperty(n))throw new Error("Cannot convert from "+n+" to "+r);var i=t[r][n]*e;return!1!==o?(o=Math.pow(10,parseInt(o)||5),Math.round(i*o)/o):i}},7187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}A(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&A(e,"error",t,n)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var o,i,a,l;if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=u.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):h(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function A(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var l=c.length,u=h(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},i.prototype.addListener=function(e,t){return l(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return l(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},i.prototype.listenerCount=f,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},4063:e=>{"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty;e.exports=function e(o,i){if(o===i)return!0;if(o&&i&&"object"==typeof o&&"object"==typeof i){var a,s,c,l=t(o),u=t(i);if(l&&u){if((s=o.length)!=i.length)return!1;for(a=s;0!=a--;)if(!e(o[a],i[a]))return!1;return!0}if(l!=u)return!1;var d=o instanceof Date,p=i instanceof Date;if(d!=p)return!1;if(d&&p)return o.getTime()==i.getTime();var f=o instanceof RegExp,h=i instanceof RegExp;if(f!=h)return!1;if(f&&h)return o.toString()==i.toString();var A=n(o);if((s=A.length)!==n(i).length)return!1;for(a=s;0!=a--;)if(!r.call(i,A[a]))return!1;for(a=s;0!=a--;)if(!e(o[c=A[a]],i[c]))return!1;return!0}return o!=o&&i!=i}},7529:e=>{var t=-1;function n(e,s,c,l){if(e===s)return e?[[0,e]]:[];if(null!=c){var u=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,o="number"==typeof n?null:n.newRange,i=e.length,a=t.length;if(0===r.length&&(null===o||0===o.length)){var s=r.index,c=e.slice(0,s),l=e.slice(s),u=o?o.index:null,p=s+a-i;if((null===u||u===p)&&!(p<0||p>a)){var f=t.slice(0,p);if((m=t.slice(p))===l){var h=Math.min(s,p);if((v=c.slice(0,h))===(y=f.slice(0,h)))return d(v,c.slice(h),f.slice(h),l)}}if(null===u||u===s){var A=s,m=(f=t.slice(0,A),t.slice(A));if(f===c){var g=Math.min(i-A,a-A);if((b=l.slice(l.length-g))===(w=m.slice(m.length-g)))return d(c,l.slice(0,l.length-g),m.slice(0,m.length-g),b)}}}if(r.length>0&&o&&0===o.length){var v=e.slice(0,r.index),b=e.slice(r.index+r.length);if(!(a<(h=v.length)+(g=b.length))){var y=t.slice(0,h),w=t.slice(a-g);if(v===y&&b===w)return d(v,e.slice(h,i-g),t.slice(h,a-g),b)}}return null}(e,s,c);if(u)return u}var p=o(e,s),f=e.substring(0,p);p=i(e=e.substring(p),s=s.substring(p));var h=e.substring(e.length-p),A=function(e,a){var s;if(!e)return[[1,a]];if(!a)return[[t,e]];var c=e.length>a.length?e:a,l=e.length>a.length?a:e,u=c.indexOf(l);if(-1!==u)return s=[[1,c.substring(0,u)],[0,l],[1,c.substring(u+l.length)]],e.length>a.length&&(s[0][0]=s[2][0]=t),s;if(1===l.length)return[[t,e],[1,a]];var d=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function a(e,t,n){for(var r,a,s,c,l=e.substring(n,n+Math.floor(e.length/4)),u=-1,d="";-1!==(u=t.indexOf(l,u+1));){var p=o(e.substring(n),t.substring(u)),f=i(e.substring(0,n),t.substring(0,u));d.length<f+p&&(d=t.substring(u-f,u)+t.substring(u,u+p),r=e.substring(0,n-f),a=e.substring(n+p),s=t.substring(0,u-f),c=t.substring(u+p))}return 2*d.length>=e.length?[r,a,s,c,d]:null}var s,c,l,u,d,p=a(n,r,Math.ceil(n.length/4)),f=a(n,r,Math.ceil(n.length/2));if(!p&&!f)return null;s=f?p&&p[4].length>f[4].length?p:f:p;e.length>t.length?(c=s[0],l=s[1],u=s[2],d=s[3]):(u=s[0],d=s[1],c=s[2],l=s[3]);var h=s[4];return[c,l,u,d,h]}(e,a);if(d){var p=d[0],f=d[1],h=d[2],A=d[3],m=d[4],g=n(p,h),v=n(f,A);return g.concat([[0,m]],v)}return function(e,n){for(var o=e.length,i=n.length,a=Math.ceil((o+i)/2),s=a,c=2*a,l=new Array(c),u=new Array(c),d=0;d<c;d++)l[d]=-1,u[d]=-1;l[s+1]=0,u[s+1]=0;for(var p=o-i,f=p%2!=0,h=0,A=0,m=0,g=0,v=0;v<a;v++){for(var b=-v+h;b<=v-A;b+=2){for(var y=s+b,w=(B=b===-v||b!==v&&l[y-1]<l[y+1]?l[y+1]:l[y-1]+1)-b;B<o&&w<i&&e.charAt(B)===n.charAt(w);)B++,w++;if(l[y]=B,B>o)A+=2;else if(w>i)h+=2;else if(f){if((C=s+p-b)>=0&&C<c&&-1!==u[C])if(B>=(k=o-u[C]))return r(e,n,B,w)}}for(var x=-v+m;x<=v-g;x+=2){for(var k,C=s+x,E=(k=x===-v||x!==v&&u[C-1]<u[C+1]?u[C+1]:u[C-1]+1)-x;k<o&&E<i&&e.charAt(o-k-1)===n.charAt(i-E-1);)k++,E++;if(u[C]=k,k>o)g+=2;else if(E>i)m+=2;else if(!f){if((y=s+p-x)>=0&&y<c&&-1!==l[y]){var B;w=s+(B=l[y])-y;if(B>=(k=o-k))return r(e,n,B,w)}}}}return[[t,e],[1,n]]}(e,a)}(e=e.substring(0,e.length-p),s=s.substring(0,s.length-p));return f&&A.unshift([0,f]),h&&A.push([0,h]),a(A,l),A}function r(e,t,r,o){var i=e.substring(0,r),a=t.substring(0,o),s=e.substring(r),c=t.substring(o),l=n(i,a),u=n(s,c);return l.concat(u)}function o(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(i,o)==t.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return s(e.charCodeAt(o-1))&&o--,o}function i(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return c(e.charCodeAt(e.length-o))&&o--,o}function a(e,n){e.push([0,""]);for(var r,s=0,c=0,d=0,p="",f="";s<e.length;)if(s<e.length-1&&!e[s][1])e.splice(s,1);else switch(e[s][0]){case 1:d++,f+=e[s][1],s++;break;case t:c++,p+=e[s][1],s++;break;case 0:var h=s-d-c-1;if(n){if(h>=0&&u(e[h][1])){var A=e[h][1].slice(-1);if(e[h][1]=e[h][1].slice(0,-1),p=A+p,f=A+f,!e[h][1]){e.splice(h,1),s--;var m=h-1;e[m]&&1===e[m][0]&&(d++,f=e[m][1]+f,m--),e[m]&&e[m][0]===t&&(c++,p=e[m][1]+p,m--),h=m}}if(l(e[s][1])){A=e[s][1].charAt(0);e[s][1]=e[s][1].slice(1),p+=A,f+=A}}if(s<e.length-1&&!e[s][1]){e.splice(s,1);break}if(p.length>0||f.length>0){p.length>0&&f.length>0&&(0!==(r=o(f,p))&&(h>=0?e[h][1]+=f.substring(0,r):(e.splice(0,0,[0,f.substring(0,r)]),s++),f=f.substring(r),p=p.substring(r)),0!==(r=i(f,p))&&(e[s][1]=f.substring(f.length-r)+e[s][1],f=f.substring(0,f.length-r),p=p.substring(0,p.length-r)));var g=d+c;0===p.length&&0===f.length?(e.splice(s-g,g),s-=g):0===p.length?(e.splice(s-g,g,[1,f]),s=s-g+1):0===f.length?(e.splice(s-g,g,[t,p]),s=s-g+1):(e.splice(s-g,g,[t,p],[1,f]),s=s-g+2)}0!==s&&0===e[s-1][0]?(e[s-1][1]+=e[s][1],e.splice(s,1)):s++,d=0,c=0,p="",f=""}""===e[e.length-1][1]&&e.pop();var v=!1;for(s=1;s<e.length-1;)0===e[s-1][0]&&0===e[s+1][0]&&(e[s][1].substring(e[s][1].length-e[s-1][1].length)===e[s-1][1]?(e[s][1]=e[s-1][1]+e[s][1].substring(0,e[s][1].length-e[s-1][1].length),e[s+1][1]=e[s-1][1]+e[s+1][1],e.splice(s-1,1),v=!0):e[s][1].substring(0,e[s+1][1].length)==e[s+1][1]&&(e[s-1][1]+=e[s+1][1],e[s][1]=e[s][1].substring(e[s+1][1].length)+e[s+1][1],e.splice(s+1,1),v=!0)),s++;v&&a(e,n)}function s(e){return e>=55296&&e<=56319}function c(e){return e>=56320&&e<=57343}function l(e){return c(e.charCodeAt(0))}function u(e){return s(e.charCodeAt(e.length-1))}function d(e,n,r,o){return u(e)||l(o)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[t,n],[1,r],[0,o]])}function p(e,t,r){return n(e,t,r,!0)}p.INSERT=1,p.DELETE=t,p.EQUAL=0,e.exports=p},9133:function(e,t,n){var r;!function(t,o){var i={};!function(e){"use strict";e.__esModule=!0,e.digestLength=32,e.blockSize=64;var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function n(e,n,r,o,i){for(var a,s,c,l,u,d,p,f,h,A,m,g,v;i>=64;){for(a=n[0],s=n[1],c=n[2],l=n[3],u=n[4],d=n[5],p=n[6],f=n[7],A=0;A<16;A++)m=o+4*A,e[A]=(255&r[m])<<24|(255&r[m+1])<<16|(255&r[m+2])<<8|255&r[m+3];for(A=16;A<64;A++)g=((h=e[A-2])>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,v=((h=e[A-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,e[A]=(g+e[A-7]|0)+(v+e[A-16]|0);for(A=0;A<64;A++)g=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&d^~u&p)|0)+(f+(t[A]+e[A]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&s^a&c^s&c)|0,f=p,p=d,d=u,u=l+g|0,l=c,c=s,s=a,a=g+v|0;n[0]+=a,n[1]+=s,n[2]+=c,n[3]+=l,n[4]+=u,n[5]+=d,n[6]+=p,n[7]+=f,o+=64,i-=64}return o}var r=function(){function t(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return t.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},t.prototype.clean=function(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()},t.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[r++],t--;64===this.bufferLength&&(n(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(r=n(this.temp,this.state,e,r,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[r++],t--;return this},t.prototype.finish=function(e){if(!this.finished){var t=this.bytesHashed,r=this.bufferLength,o=t/536870912|0,i=t<<3,a=t%64<56?64:128;this.buffer[r]=128;for(var s=r+1;s<a-8;s++)this.buffer[s]=0;this.buffer[a-8]=o>>>24&255,this.buffer[a-7]=o>>>16&255,this.buffer[a-6]=o>>>8&255,this.buffer[a-5]=o>>>0&255,this.buffer[a-4]=i>>>24&255,this.buffer[a-3]=i>>>16&255,this.buffer[a-2]=i>>>8&255,this.buffer[a-1]=i>>>0&255,n(this.temp,this.state,this.buffer,0,a),this.finished=!0}for(s=0;s<8;s++)e[4*s+0]=this.state[s]>>>24&255,e[4*s+1]=this.state[s]>>>16&255,e[4*s+2]=this.state[s]>>>8&255,e[4*s+3]=this.state[s]>>>0&255;return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype._saveState=function(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]},t.prototype._restoreState=function(e,t){for(var n=0;n<this.state.length;n++)this.state[n]=e[n];this.bytesHashed=t,this.finished=!1,this.bufferLength=0},t}();e.Hash=r;var o=function(){function e(e){this.inner=new r,this.outer=new r,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var t=new Uint8Array(this.blockSize);if(e.length>this.blockSize)(new r).update(e).finish(t).clean();else for(var n=0;n<e.length;n++)t[n]=e[n];for(n=0;n<t.length;n++)t[n]^=54;this.inner.update(t);for(n=0;n<t.length;n++)t[n]^=106;this.outer.update(t),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(n=0;n<t.length;n++)t[n]=0}return e.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},e.prototype.clean=function(){for(var e=0;e<this.istate.length;e++)this.ostate[e]=this.istate[e]=0;this.inner.clean(),this.outer.clean()},e.prototype.update=function(e){return this.inner.update(e),this},e.prototype.finish=function(e){return this.outer.finished?this.outer.finish(e):(this.inner.finish(e),this.outer.update(e,this.digestLength).finish(e)),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e}();function i(e){var t=(new r).update(e),n=t.digest();return t.clean(),n}function a(e,t){var n=new o(e).update(t),r=n.digest();return n.clean(),r}function s(e,t,n,r){var o=r[0];if(0===o)throw new Error("hkdf: cannot expand more");t.reset(),o>1&&t.update(e),n&&t.update(n),t.update(r),t.finish(e),r[0]++}e.HMAC=o,e.hash=i,e.default=i,e.hmac=a;var c=new Uint8Array(e.digestLength);function l(e,t,n,r){void 0===t&&(t=c),void 0===r&&(r=32);for(var i=new Uint8Array([1]),l=a(t,e),u=new o(l),d=new Uint8Array(u.digestLength),p=d.length,f=new Uint8Array(r),h=0;h<r;h++)p===d.length&&(s(d,u,n,i),p=0),f[h]=d[p++];return u.clean(),d.fill(0),i.fill(0),f}function u(e,t,n,r){for(var i=new o(e),a=i.digestLength,s=new Uint8Array(4),c=new Uint8Array(a),l=new Uint8Array(a),u=new Uint8Array(r),d=0;d*a<r;d++){var p=d+1;s[0]=p>>>24&255,s[1]=p>>>16&255,s[2]=p>>>8&255,s[3]=p>>>0&255,i.reset(),i.update(t),i.update(s),i.finish(l);for(var f=0;f<a;f++)c[f]=l[f];for(f=2;f<=n;f++){i.reset(),i.update(l).finish(l);for(var h=0;h<a;h++)c[h]^=l[h]}for(f=0;f<a&&d*a+f<r;f++)u[d*a+f]=c[f]}for(d=0;d<a;d++)c[d]=l[d]=0;for(d=0;d<4;d++)s[d]=0;return i.clean(),u}e.hkdf=l,e.pbkdf2=u}(i);var a=i.default;for(var s in i)a[s]=i[s];"object"==typeof e.exports?e.exports=a:void 0===(r=function(){return a}.call(i,n,i,e))||(e.exports=r)}()},9144:(e,t,n)=>{var r,o=void 0!==n.g?n.g:"undefined"!=typeof window?window:{},i=n(5893);"undefined"!=typeof document?r=document:(r=o["__GLOBAL_DOCUMENT_CACHE@4"])||(r=o["__GLOBAL_DOCUMENT_CACHE@4"]=i),e.exports=r},542:e=>{var t=e.exports=function(e,n){if(n||(n=16),void 0===e&&(e=128),e<=0)return"0";for(var r=Math.log(Math.pow(2,e))/Math.log(n),o=2;r===1/0;o*=2)r=Math.log(Math.pow(2,e/o))/Math.log(n)*o;var i=r-Math.floor(r),a="";for(o=0;o<Math.floor(r);o++){a=Math.floor(Math.random()*n).toString(n)+a}if(i){var s=Math.pow(n,i);a=Math.floor(Math.random()*s).toString(n)+a}var c=parseInt(a,n);return c!==1/0&&c>=Math.pow(2,e)?t(e,n):a};t.rack=function(e,n,r){var o=function(o){var a=0;do{if(a++>10){if(!r)throw new Error("too many ID collisions, use more bits");e+=r}var s=t(e,n)}while(Object.hasOwnProperty.call(i,s));return i[s]=o,s},i=o.hats={};return o.get=function(e){return o.hats[e]},o.set=function(e,t){return o.hats[e]=t,o},o.bits=e||128,o.base=n||16,o}},1120:function(e){
/*!
 * html2canvas 1.0.0-rc.7 <https://html2canvas.hertzen.com>
 * Copyright (c) 2020 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
e.exports=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};function t(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}for(var i=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,o){return new e(this.left+t,this.top+n,this.width+r,this.height+o)},e.fromClientRect=function(t){return new e(t.left,t.top,t.width,t.height)},e}(),a=function(e){return i.fromClientRect(e.getBoundingClientRect())},s=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),o=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new i(0,0,r,o)},c=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t},l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],o=-1,i="";++o<n;){var a=e[o];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(o+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"==typeof Uint8Array?[]:new Uint8Array(256),p=0;p<u.length;p++)d[u.charCodeAt(p)]=p;var f,h=function(e){var t,n,r,o,i,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),u=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<s;t+=4)n=d[e.charCodeAt(t)],r=d[e.charCodeAt(t+1)],o=d[e.charCodeAt(t+2)],i=d[e.charCodeAt(t+3)],u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|o>>2,u[c++]=(3&o)<<6|63&i;return l},A=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},m=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},g=5,v=11,b=2,y=65536>>g,w=(1<<g)-1,x=y+(1024>>g)+32,k=65536>>v,C=(1<<v-g)-1,E=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},B=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},T=function(e){var t=h(e),n=Array.isArray(t)?m(t):new Uint32Array(t),r=Array.isArray(t)?A(t):new Uint16Array(t),o=24,i=E(r,o/2,n[4]/2),a=2===n[5]?E(r,(o+n[4])/2):B(n,Math.ceil((o+n[4])/4));return new M(n[0],n[1],n[2],n[3],i,a)},M=function(){function e(e,t,n,r,o,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=o,this.data=i}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>g])<<b)+(e&w),this.data[t];if(e<=65535)return t=((t=this.index[y+(e-55296>>g)])<<b)+(e&w),this.data[t];if(e<this.highStart)return t=x-k+(e>>v),t=this.index[t],t+=e>>g&C,t=((t=this.index[t])<<b)+(e&w),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),I=50,D=1,_=2,S=3,O=4,N=5,L=7,R=8,j=9,U=10,F=11,z=12,Q=13,P=14,H=15,V=16,K=17,G=18,W=19,Y=20,q=21,Z=22,X=23,J=24,$=25,ee=26,te=27,ne=28,re=29,oe=30,ie=31,ae=32,se=33,ce=34,le=35,ue=36,de=37,pe=38,fe=39,he=40,Ae=41,me=42,ge=43,ve="!",be="×",ye="÷",we=T("KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"),xe=[oe,ue],ke=[D,_,S,N],Ce=[U,R],Ee=[te,ee],Be=ke.concat(Ce),Te=[pe,fe,he,ce,le],Me=[H,Q],Ie=function(e,t){void 0===t&&(t="strict");var n=[],r=[],o=[];return e.forEach((function(e,i){var a=we.get(e);if(a>I?(o.push(!0),a-=I):o.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(i),n.push(V);if(a===O||a===F){if(0===i)return r.push(i),n.push(oe);var s=n[i-1];return-1===Be.indexOf(s)?(r.push(r[i-1]),n.push(s)):(r.push(i),n.push(oe))}return r.push(i),a===ie?n.push("strict"===t?q:de):a===me||a===re?n.push(oe):a===ge?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(de):n.push(oe):void n.push(a)})),[r,n,o]},De=function(e,t,n,r){var o=r[n];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var i=n;i<=r.length;){if((c=r[++i])===t)return!0;if(c!==U)break}if(o===U)for(i=n;i>0;){var a=r[--i];if(Array.isArray(e)?-1!==e.indexOf(a):e===a)for(var s=n;s<=r.length;){var c;if((c=r[++s])===t)return!0;if(c!==U)break}if(a!==U)break}return!1},_e=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==U)return r;n--}return 0},Se=function(e,t,n,r,o){if(0===n[r])return be;var i=r-1;if(Array.isArray(o)&&!0===o[i])return be;var a=i-1,s=i+1,c=t[i],l=a>=0?t[a]:0,u=t[s];if(c===_&&u===S)return be;if(-1!==ke.indexOf(c))return ve;if(-1!==ke.indexOf(u))return be;if(-1!==Ce.indexOf(u))return be;if(_e(i,t)===R)return ye;if(we.get(e[i])===F&&(u===de||u===ae||u===se))return be;if(c===L||u===L)return be;if(c===j)return be;if(-1===[U,Q,H].indexOf(c)&&u===j)return be;if(-1!==[K,G,W,J,ne].indexOf(u))return be;if(_e(i,t)===Z)return be;if(De(X,Z,i,t))return be;if(De([K,G],q,i,t))return be;if(De(z,z,i,t))return be;if(c===U)return ye;if(c===X||u===X)return be;if(u===V||c===V)return ye;if(-1!==[Q,H,q].indexOf(u)||c===P)return be;if(l===ue&&-1!==Me.indexOf(c))return be;if(c===ne&&u===ue)return be;if(u===Y&&-1!==xe.concat(Y,W,$,de,ae,se).indexOf(c))return be;if(-1!==xe.indexOf(u)&&c===$||-1!==xe.indexOf(c)&&u===$)return be;if(c===te&&-1!==[de,ae,se].indexOf(u)||-1!==[de,ae,se].indexOf(c)&&u===ee)return be;if(-1!==xe.indexOf(c)&&-1!==Ee.indexOf(u)||-1!==Ee.indexOf(c)&&-1!==xe.indexOf(u))return be;if(-1!==[te,ee].indexOf(c)&&(u===$||-1!==[Z,H].indexOf(u)&&t[s+1]===$)||-1!==[Z,H].indexOf(c)&&u===$||c===$&&-1!==[$,ne,J].indexOf(u))return be;if(-1!==[$,ne,J,K,G].indexOf(u))for(var d=i;d>=0;){if((p=t[d])===$)return be;if(-1===[ne,J].indexOf(p))break;d--}if(-1!==[te,ee].indexOf(u))for(d=-1!==[K,G].indexOf(c)?a:i;d>=0;){var p;if((p=t[d])===$)return be;if(-1===[ne,J].indexOf(p))break;d--}if(pe===c&&-1!==[pe,fe,ce,le].indexOf(u)||-1!==[fe,ce].indexOf(c)&&-1!==[fe,he].indexOf(u)||-1!==[he,le].indexOf(c)&&u===he)return be;if(-1!==Te.indexOf(c)&&-1!==[Y,ee].indexOf(u)||-1!==Te.indexOf(u)&&c===te)return be;if(-1!==xe.indexOf(c)&&-1!==xe.indexOf(u))return be;if(c===J&&-1!==xe.indexOf(u))return be;if(-1!==xe.concat($).indexOf(c)&&u===Z||-1!==xe.concat($).indexOf(u)&&c===G)return be;if(c===Ae&&u===Ae){for(var f=n[i],h=1;f>0&&t[--f]===Ae;)h++;if(h%2!=0)return be}return c===ae&&u===se?be:ye},Oe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Ie(e,t.lineBreak),r=n[0],o=n[1],i=n[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(o=o.map((function(e){return-1!==[$,oe,me].indexOf(e)?de:e}))),[r,o,"keep-all"===t.wordBreak?i.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0]},Ne=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===ve,this.start=n,this.end=r}return e.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Le=function(e,t){var n=c(e),r=Oe(n,t),o=r[0],i=r[1],a=r[2],s=n.length,l=0,u=0;return{next:function(){if(u>=s)return{done:!0,value:null};for(var e=be;u<s&&(e=Se(n,i,o,++u,a))===be;);if(e!==be||u===s){var t=new Ne(n,e,l,u);return l=u,{value:t,done:!1}}return{done:!0,value:null}}}};!function(e){e[e.STRING_TOKEN=0]="STRING_TOKEN",e[e.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",e[e.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",e[e.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",e[e.COMMA_TOKEN=4]="COMMA_TOKEN",e[e.HASH_TOKEN=5]="HASH_TOKEN",e[e.DELIM_TOKEN=6]="DELIM_TOKEN",e[e.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",e[e.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",e[e.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",e[e.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",e[e.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",e[e.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",e[e.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",e[e.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",e[e.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",e[e.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",e[e.NUMBER_TOKEN=17]="NUMBER_TOKEN",e[e.FUNCTION=18]="FUNCTION",e[e.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",e[e.IDENT_TOKEN=20]="IDENT_TOKEN",e[e.COLUMN_TOKEN=21]="COLUMN_TOKEN",e[e.URL_TOKEN=22]="URL_TOKEN",e[e.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",e[e.CDC_TOKEN=24]="CDC_TOKEN",e[e.CDO_TOKEN=25]="CDO_TOKEN",e[e.COLON_TOKEN=26]="COLON_TOKEN",e[e.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",e[e.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",e[e.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",e[e.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",e[e.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",e[e.EOF_TOKEN=32]="EOF_TOKEN"}(f||(f={}));var Re=1,je=2,Ue=4,Fe=8,ze=10,Qe=47,Pe=92,He=9,Ve=32,Ke=34,Ge=61,We=35,Ye=36,qe=37,Ze=39,Xe=40,Je=41,$e=95,et=45,tt=33,nt=60,rt=62,ot=64,it=91,at=93,st=61,ct=123,lt=63,ut=125,dt=124,pt=126,ft=128,ht=65533,At=42,mt=43,gt=44,vt=58,bt=59,yt=46,wt=0,xt=8,kt=11,Ct=14,Et=31,Bt=127,Tt=-1,Mt=48,It=97,Dt=101,_t=102,St=117,Ot=122,Nt=65,Lt=69,Rt=70,jt=85,Ut=90,Ft=function(e){return e>=Mt&&e<=57},zt=function(e){return e>=55296&&e<=57343},Qt=function(e){return Ft(e)||e>=Nt&&e<=Rt||e>=It&&e<=_t},Pt=function(e){return e>=It&&e<=Ot},Ht=function(e){return e>=Nt&&e<=Ut},Vt=function(e){return Pt(e)||Ht(e)},Kt=function(e){return e>=ft},Gt=function(e){return e===ze||e===He||e===Ve},Wt=function(e){return Vt(e)||Kt(e)||e===$e},Yt=function(e){return Wt(e)||Ft(e)||e===et},qt=function(e){return e>=wt&&e<=xt||e===kt||e>=Ct&&e<=Et||e===Bt},Zt=function(e,t){return e===Pe&&t!==ze},Xt=function(e,t,n){return e===et?Wt(t)||Zt(t,n):!!Wt(e)||!(e!==Pe||!Zt(e,t))},Jt=function(e,t,n){return e===mt||e===et?!!Ft(t)||t===yt&&Ft(n):Ft(e===yt?t:e)},$t=function(e){var t=0,n=1;e[t]!==mt&&e[t]!==et||(e[t]===et&&(n=-1),t++);for(var r=[];Ft(e[t]);)r.push(e[t++]);var o=r.length?parseInt(l.apply(void 0,r),10):0;e[t]===yt&&t++;for(var i=[];Ft(e[t]);)i.push(e[t++]);var a=i.length,s=a?parseInt(l.apply(void 0,i),10):0;e[t]!==Lt&&e[t]!==Dt||t++;var c=1;e[t]!==mt&&e[t]!==et||(e[t]===et&&(c=-1),t++);for(var u=[];Ft(e[t]);)u.push(e[t++]);var d=u.length?parseInt(l.apply(void 0,u),10):0;return n*(o+s*Math.pow(10,-a))*Math.pow(10,c*d)},en={type:f.LEFT_PARENTHESIS_TOKEN},tn={type:f.RIGHT_PARENTHESIS_TOKEN},nn={type:f.COMMA_TOKEN},rn={type:f.SUFFIX_MATCH_TOKEN},on={type:f.PREFIX_MATCH_TOKEN},an={type:f.COLUMN_TOKEN},sn={type:f.DASH_MATCH_TOKEN},cn={type:f.INCLUDE_MATCH_TOKEN},ln={type:f.LEFT_CURLY_BRACKET_TOKEN},un={type:f.RIGHT_CURLY_BRACKET_TOKEN},dn={type:f.SUBSTRING_MATCH_TOKEN},pn={type:f.BAD_URL_TOKEN},fn={type:f.BAD_STRING_TOKEN},hn={type:f.CDO_TOKEN},An={type:f.CDC_TOKEN},mn={type:f.COLON_TOKEN},gn={type:f.SEMICOLON_TOKEN},vn={type:f.LEFT_SQUARE_BRACKET_TOKEN},bn={type:f.RIGHT_SQUARE_BRACKET_TOKEN},yn={type:f.WHITESPACE_TOKEN},wn={type:f.EOF_TOKEN},xn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(c(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==wn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ke:return this.consumeStringToken(Ke);case We:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(Yt(t)||Zt(n,r)){var o=Xt(t,n,r)?je:Re,i=this.consumeName();return{type:f.HASH_TOKEN,value:i,flags:o}}break;case Ye:if(this.peekCodePoint(0)===Ge)return this.consumeCodePoint(),rn;break;case Ze:return this.consumeStringToken(Ze);case Xe:return en;case Je:return tn;case At:if(this.peekCodePoint(0)===Ge)return this.consumeCodePoint(),dn;break;case mt:if(Jt(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case gt:return nn;case et:var a=e,s=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Jt(a,s,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Xt(a,s,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(s===et&&c===rt)return this.consumeCodePoint(),this.consumeCodePoint(),An;break;case yt:if(Jt(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Qe:if(this.peekCodePoint(0)===At)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===At&&(u=this.consumeCodePoint())===Qe)return this.consumeToken();if(u===Tt)return this.consumeToken()}break;case vt:return mn;case bt:return gn;case nt:if(this.peekCodePoint(0)===tt&&this.peekCodePoint(1)===et&&this.peekCodePoint(2)===et)return this.consumeCodePoint(),this.consumeCodePoint(),hn;break;case ot:var d=this.peekCodePoint(0),p=this.peekCodePoint(1),h=this.peekCodePoint(2);if(Xt(d,p,h))return i=this.consumeName(),{type:f.AT_KEYWORD_TOKEN,value:i};break;case it:return vn;case Pe:if(Zt(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case at:return bn;case st:if(this.peekCodePoint(0)===Ge)return this.consumeCodePoint(),on;break;case ct:return ln;case ut:return un;case St:case jt:var A=this.peekCodePoint(0),m=this.peekCodePoint(1);return A!==mt||!Qt(m)&&m!==lt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case dt:if(this.peekCodePoint(0)===Ge)return this.consumeCodePoint(),sn;if(this.peekCodePoint(0)===dt)return this.consumeCodePoint(),an;break;case pt:if(this.peekCodePoint(0)===Ge)return this.consumeCodePoint(),cn;break;case Tt:return wn}return Gt(e)?(this.consumeWhiteSpace(),yn):Ft(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Wt(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:f.DELIM_TOKEN,value:l(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Qt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===lt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var r=parseInt(l.apply(void 0,e.map((function(e){return e===lt?Mt:e}))),16),o=parseInt(l.apply(void 0,e.map((function(e){return e===lt?Rt:e}))),16);return{type:f.UNICODE_RANGE_TOKEN,start:r,end:o}}var i=parseInt(l.apply(void 0,e),16);if(this.peekCodePoint(0)===et&&Qt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var a=[];Qt(t)&&a.length<6;)a.push(t),t=this.consumeCodePoint();return o=parseInt(l.apply(void 0,a),16),{type:f.UNICODE_RANGE_TOKEN,start:i,end:o}}return{type:f.UNICODE_RANGE_TOKEN,start:i,end:i}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===Xe?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Xe?(this.consumeCodePoint(),{type:f.FUNCTION_TOKEN,value:e}):{type:f.IDENT_TOKEN,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Tt)return{type:f.URL_TOKEN,value:""};var t=this.peekCodePoint(0);if(t===Ze||t===Ke){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===f.STRING_TOKEN&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Tt||this.peekCodePoint(0)===Je)?(this.consumeCodePoint(),{type:f.URL_TOKEN,value:n.value}):(this.consumeBadUrlRemnants(),pn)}for(;;){var r=this.consumeCodePoint();if(r===Tt||r===Je)return{type:f.URL_TOKEN,value:l.apply(void 0,e)};if(Gt(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Tt||this.peekCodePoint(0)===Je?(this.consumeCodePoint(),{type:f.URL_TOKEN,value:l.apply(void 0,e)}):(this.consumeBadUrlRemnants(),pn);if(r===Ke||r===Ze||r===Xe||qt(r))return this.consumeBadUrlRemnants(),pn;if(r===Pe){if(!Zt(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),pn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;Gt(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Je||e===Tt)return;Zt(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=6e4,n="";e>0;){var r=Math.min(t,e);n+=l.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Tt||void 0===r||r===e)return t+=this.consumeStringSlice(n),{type:f.STRING_TOKEN,value:t};if(r===ze)return this._value.splice(0,n),fn;if(r===Pe){var o=this._value[n+1];o!==Tt&&void 0!==o&&(o===ze?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):Zt(r,o)&&(t+=this.consumeStringSlice(n),t+=l(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=Ue,n=this.peekCodePoint(0);for(n!==mt&&n!==et||e.push(this.consumeCodePoint());Ft(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===yt&&Ft(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Fe;Ft(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((n===Lt||n===Dt)&&((r===mt||r===et)&&Ft(o)||Ft(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Fe;Ft(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[$t(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),o=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Xt(r,o,i)){var a=this.consumeName();return{type:f.DIMENSION_TOKEN,number:t,flags:n,unit:a}}return r===qe?(this.consumeCodePoint(),{type:f.PERCENTAGE_TOKEN,number:t,flags:n}):{type:f.NUMBER_TOKEN,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Qt(e)){for(var t=l(e);Qt(this.peekCodePoint(0))&&t.length<6;)t+=l(this.consumeCodePoint());Gt(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||zt(n)||n>1114111?ht:n}return e===Tt?ht:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(Yt(t))e+=l(t);else{if(!Zt(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=l(this.consumeEscapedCodePoint())}}},e}(),kn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new xn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===f.WHITESPACE_TOKEN;)e=this.consumeToken();if(e.type===f.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(e.type===f.WHITESPACE_TOKEN);if(e.type===f.EOF_TOKEN)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===f.EOF_TOKEN)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case f.LEFT_CURLY_BRACKET_TOKEN:case f.LEFT_SQUARE_BRACKET_TOKEN:case f.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(e.type);case f.FUNCTION_TOKEN:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===f.EOF_TOKEN||Sn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:f.FUNCTION};;){var n=this.consumeToken();if(n.type===f.EOF_TOKEN||n.type===f.RIGHT_PARENTHESIS_TOKEN)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?wn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Cn=function(e){return e.type===f.DIMENSION_TOKEN},En=function(e){return e.type===f.NUMBER_TOKEN},Bn=function(e){return e.type===f.IDENT_TOKEN},Tn=function(e){return e.type===f.STRING_TOKEN},Mn=function(e,t){return Bn(e)&&e.value===t},In=function(e){return e.type!==f.WHITESPACE_TOKEN},Dn=function(e){return e.type!==f.WHITESPACE_TOKEN&&e.type!==f.COMMA_TOKEN},_n=function(e){var t=[],n=[];return e.forEach((function(e){if(e.type===f.COMMA_TOKEN){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}e.type!==f.WHITESPACE_TOKEN&&n.push(e)})),n.length&&t.push(n),t},Sn=function(e,t){return t===f.LEFT_CURLY_BRACKET_TOKEN&&e.type===f.RIGHT_CURLY_BRACKET_TOKEN||t===f.LEFT_SQUARE_BRACKET_TOKEN&&e.type===f.RIGHT_SQUARE_BRACKET_TOKEN||t===f.LEFT_PARENTHESIS_TOKEN&&e.type===f.RIGHT_PARENTHESIS_TOKEN},On=function(e){return e.type===f.NUMBER_TOKEN||e.type===f.DIMENSION_TOKEN},Nn=function(e){return e.type===f.PERCENTAGE_TOKEN||On(e)},Ln=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Rn={type:f.NUMBER_TOKEN,number:0,flags:Ue},jn={type:f.PERCENTAGE_TOKEN,number:50,flags:Ue},Un={type:f.PERCENTAGE_TOKEN,number:100,flags:Ue},Fn=function(e,t,n){var r=e[0],o=e[1];return[zn(r,t),zn(void 0!==o?o:r,n)]},zn=function(e,t){if(e.type===f.PERCENTAGE_TOKEN)return e.number/100*t;if(Cn(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Qn="deg",Pn="grad",Hn="rad",Vn="turn",Kn={name:"angle",parse:function(e){if(e.type===f.DIMENSION_TOKEN)switch(e.unit){case Qn:return Math.PI*e.number/180;case Pn:return Math.PI/200*e.number;case Hn:return e.number;case Vn:return 2*Math.PI*e.number}throw new Error("Unsupported angle type")}},Gn=function(e){return e.type===f.DIMENSION_TOKEN&&(e.unit===Qn||e.unit===Pn||e.unit===Hn||e.unit===Vn)},Wn=function(e){switch(e.filter(Bn).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Rn,Rn];case"to top":case"bottom":return Yn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Rn,Un];case"to right":case"left":return Yn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Un,Un];case"to bottom":case"top":return Yn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Un,Rn];case"to left":case"right":return Yn(270)}return 0},Yn=function(e){return Math.PI*e/180},qn={name:"color",parse:function(e){if(e.type===f.FUNCTION){var t=ir[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(e.values)}if(e.type===f.HASH_TOKEN){if(3===e.value.length){var n=e.value.substring(0,1),r=e.value.substring(1,2),o=e.value.substring(2,3);return Jn(parseInt(n+n,16),parseInt(r+r,16),parseInt(o+o,16),1)}if(4===e.value.length){n=e.value.substring(0,1),r=e.value.substring(1,2),o=e.value.substring(2,3);var i=e.value.substring(3,4);return Jn(parseInt(n+n,16),parseInt(r+r,16),parseInt(o+o,16),parseInt(i+i,16)/255)}if(6===e.value.length)return n=e.value.substring(0,2),r=e.value.substring(2,4),o=e.value.substring(4,6),Jn(parseInt(n,16),parseInt(r,16),parseInt(o,16),1);if(8===e.value.length)return n=e.value.substring(0,2),r=e.value.substring(2,4),o=e.value.substring(4,6),i=e.value.substring(6,8),Jn(parseInt(n,16),parseInt(r,16),parseInt(o,16),parseInt(i,16)/255)}if(e.type===f.IDENT_TOKEN){var a=ar[e.value.toUpperCase()];if(void 0!==a)return a}return ar.TRANSPARENT}},Zn=function(e){return 0==(255&e)},Xn=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,o=255&e>>24;return t<255?"rgba("+o+","+r+","+n+","+t/255+")":"rgb("+o+","+r+","+n+")"},Jn=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r)<<0)>>>0},$n=function(e,t){if(e.type===f.NUMBER_TOKEN)return e.number;if(e.type===f.PERCENTAGE_TOKEN){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},er=function(e){var t=e.filter(Dn);if(3===t.length){var n=t.map($n),r=n[0],o=n[1],i=n[2];return Jn(r,o,i,1)}if(4===t.length){var a=t.map($n),s=(r=a[0],o=a[1],i=a[2],a[3]);return Jn(r,o,i,s)}return 0};function tr(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var nr,rr,or=function(e){var t=e.filter(Dn),n=t[0],r=t[1],o=t[2],i=t[3],a=(n.type===f.NUMBER_TOKEN?Yn(n.number):Kn.parse(n))/(2*Math.PI),s=Nn(r)?r.number/100:0,c=Nn(o)?o.number/100:0,l=void 0!==i&&Nn(i)?zn(i,1):1;if(0===s)return Jn(255*c,255*c,255*c,1);var u=c<=.5?c*(s+1):c+s-c*s,d=2*c-u,p=tr(d,u,a+1/3),h=tr(d,u,a),A=tr(d,u,a-1/3);return Jn(255*p,255*h,255*A,l)},ir={hsl:or,hsla:or,rgb:er,rgba:er},ar={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};(function(e){e[e.VALUE=0]="VALUE",e[e.LIST=1]="LIST",e[e.IDENT_VALUE=2]="IDENT_VALUE",e[e.TYPE_VALUE=3]="TYPE_VALUE",e[e.TOKEN_VALUE=4]="TOKEN_VALUE"})(nr||(nr={})),function(e){e[e.BORDER_BOX=0]="BORDER_BOX",e[e.PADDING_BOX=1]="PADDING_BOX",e[e.CONTENT_BOX=2]="CONTENT_BOX"}(rr||(rr={}));var sr,cr={name:"background-clip",initialValue:"border-box",prefix:!1,type:nr.LIST,parse:function(e){return e.map((function(e){if(Bn(e))switch(e.value){case"padding-box":return rr.PADDING_BOX;case"content-box":return rr.CONTENT_BOX}return rr.BORDER_BOX}))}},lr={name:"background-color",initialValue:"transparent",prefix:!1,type:nr.TYPE_VALUE,format:"color"},ur=function(e){var t=qn.parse(e[0]),n=e[1];return n&&Nn(n)?{color:t,stop:n}:{color:t,stop:null}},dr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Rn),null===r.stop&&(r.stop=Un);for(var o=[],i=0,a=0;a<e.length;a++){var s=e[a].stop;if(null!==s){var c=zn(s,t);c>i?o.push(c):o.push(i),i=c}else o.push(null)}var l=null;for(a=0;a<o.length;a++){var u=o[a];if(null===u)null===l&&(l=a);else if(null!==l){for(var d=a-l,p=(u-o[l-1])/(d+1),f=1;f<=d;f++)o[l+f-1]=p*f;l=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,o[n]/t),0)}}))},pr=function(e,t,n){var r=t/2,o=n/2,i=zn(e[0],t)-r,a=o-zn(e[1],n);return(Math.atan2(a,i)+2*Math.PI)%(2*Math.PI)},fr=function(e,t,n){var r="number"==typeof e?e:pr(e,t,n),o=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),i=t/2,a=n/2,s=o/2,c=Math.sin(r-Math.PI/2)*s,l=Math.cos(r-Math.PI/2)*s;return[o,i-l,i+l,a-c,a+c]},hr=function(e,t){return Math.sqrt(e*e+t*t)},Ar=function(e,t,n,r,o){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var i=t[0],a=t[1],s=hr(n-i,r-a);return(o?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e}),{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},mr=function(e,t,n,r,o){var i=0,a=0;switch(e.size){case Xr.CLOSEST_SIDE:e.shape===Zr.CIRCLE?i=a=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-o)):e.shape===Zr.ELLIPSE&&(i=Math.min(Math.abs(t),Math.abs(t-r)),a=Math.min(Math.abs(n),Math.abs(n-o)));break;case Xr.CLOSEST_CORNER:if(e.shape===Zr.CIRCLE)i=a=Math.min(hr(t,n),hr(t,n-o),hr(t-r,n),hr(t-r,n-o));else if(e.shape===Zr.ELLIPSE){var s=Math.min(Math.abs(n),Math.abs(n-o))/Math.min(Math.abs(t),Math.abs(t-r)),c=Ar(r,o,t,n,!0),l=c[0],u=c[1];a=s*(i=hr(l-t,(u-n)/s))}break;case Xr.FARTHEST_SIDE:e.shape===Zr.CIRCLE?i=a=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-o)):e.shape===Zr.ELLIPSE&&(i=Math.max(Math.abs(t),Math.abs(t-r)),a=Math.max(Math.abs(n),Math.abs(n-o)));break;case Xr.FARTHEST_CORNER:if(e.shape===Zr.CIRCLE)i=a=Math.max(hr(t,n),hr(t,n-o),hr(t-r,n),hr(t-r,n-o));else if(e.shape===Zr.ELLIPSE){s=Math.max(Math.abs(n),Math.abs(n-o))/Math.max(Math.abs(t),Math.abs(t-r));var d=Ar(r,o,t,n,!1);l=d[0],u=d[1],a=s*(i=hr(l-t,(u-n)/s))}}return Array.isArray(e.size)&&(i=zn(e.size[0],r),a=2===e.size.length?zn(e.size[1],o):i),[i,a]},gr=function(e){var t=Yn(180),n=[];return _n(e).forEach((function(e,r){if(0===r){var o=e[0];if(o.type===f.IDENT_TOKEN&&"to"===o.value)return void(t=Wn(e));if(Gn(o))return void(t=Kn.parse(o))}var i=ur(e);n.push(i)})),{angle:t,stops:n,type:sr.LINEAR_GRADIENT}},vr=function(e){var t=Yn(180),n=[];return _n(e).forEach((function(e,r){if(0===r){var o=e[0];if(o.type===f.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(o.value))return void(t=Wn(e));if(Gn(o))return void(t=(Kn.parse(o)+Yn(270))%Yn(360))}var i=ur(e);n.push(i)})),{angle:t,stops:n,type:sr.LINEAR_GRADIENT}},br=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var o=n.getBoundingClientRect(),i=Math.round(o.height);if(e.body.removeChild(r),i===t)return!0}}return!1},yr=function(){return void 0!==(new Image).crossOrigin},wr=function(){return"string"==typeof(new XMLHttpRequest).responseType},xr=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0},kr=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Cr=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var o=new Image,i=t.toDataURL();o.src=i;var a=Er(n,n,0,0,o);return r.fillStyle="red",r.fillRect(0,0,n,n),Br(a).then((function(t){r.drawImage(t,0,0);var o=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var a=e.createElement("div");return a.style.backgroundImage="url("+i+")",a.style.height=n+"px",kr(o)?Br(Er(n,n,0,0,a)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),kr(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},Er=function(e,t,n,r,o){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(o),a},Br=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Tr={get SUPPORT_RANGE_BOUNDS(){var e=br(document);return Object.defineProperty(Tr,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=xr(document);return Object.defineProperty(Tr,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?Cr(document):Promise.resolve(!1);return Object.defineProperty(Tr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=yr();return Object.defineProperty(Tr,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=wr();return Object.defineProperty(Tr,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Tr,"SUPPORT_CORS_XHR",{value:e}),e}},Mr=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.create=function(t){e.instances[t.id]=new e(t)},e.destroy=function(t){delete e.instances[t]},e.getInstance=function(t){var n=e.instances[t];if(void 0===n)throw new Error("No logger instance found with id "+t);return n},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e))},e.instances={},e}(),Ir=function(){function e(){}return e.create=function(t,n){return e._caches[t]=new Dr(t,n)},e.destroy=function(t){delete e._caches[t]},e.open=function(t){var n=e._caches[t];if(void 0!==n)return n;throw new Error('Cache with key "'+t+'" not found')},e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e.getInstance=function(){var t=e._current;if(null===t)throw new Error("No cache instance attached");return t},e.attachInstance=function(t){e._current=t},e.detachInstance=function(){e._current=null},e._caches={},e._origin="about:blank",e._current=null,e}(),Dr=function(){function e(e,t){this.id=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:jr(e)||Nr(e)?(this._cache[e]=this.loadImage(e),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,a=this;return o(this,(function(o){switch(o.label){case 0:return t=Ir.isSameOrigin(e),n=!Lr(e)&&!0===this._options.useCORS&&Tr.SUPPORT_CORS_IMAGES&&!t,r=!Lr(e)&&!t&&"string"==typeof this._options.proxy&&Tr.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||Lr(e)||r||n?(i=e,r?[4,this.proxy(i)]:[3,2]):[2];case 1:i=o.sent(),o.label=2;case 2:return Mr.getInstance(this.id).debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(Rr(i)||n)&&(r.crossOrigin="anonymous"),r.src=i,!0===r.complete&&setTimeout((function(){return e(r)}),500),a._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+a._options.imageTimeout+"ms) loading image")}),a._options.imageTimeout)}))];case 3:return[2,o.sent()]}}))}))},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(o,i){var a=Tr.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;if(s.onload=function(){if(200===s.status)if("text"===a)o(s.response);else{var e=new FileReader;e.addEventListener("load",(function(){return o(e.result)}),!1),e.addEventListener("error",(function(e){return i(e)}),!1),e.readAsDataURL(s.response)}else i("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=i,s.open("GET",n+"?url="+encodeURIComponent(e)+"&responseType="+a),"text"!==a&&s instanceof XMLHttpRequest&&(s.responseType=a),t._options.imageTimeout){var c=t._options.imageTimeout;s.timeout=c,s.ontimeout=function(){return i("Timed out ("+c+"ms) proxying "+r)}}s.send()}))},e}(),_r=/^data:image\/svg\+xml/i,Sr=/^data:image\/.*;base64,/i,Or=/^data:image\/.*/i,Nr=function(e){return Tr.SUPPORT_SVG_DRAWING||!Ur(e)},Lr=function(e){return Or.test(e)},Rr=function(e){return Sr.test(e)},jr=function(e){return"blob"===e.substr(0,4)},Ur=function(e){return"svg"===e.substr(-3).toLowerCase()||_r.test(e)},Fr=function(e){var t=Yn(180),n=[],r=sr.LINEAR_GRADIENT,o=Zr.CIRCLE,i=Xr.FARTHEST_CORNER,a=[];return _n(e).forEach((function(e,t){var o=e[0];if(0===t){if(Bn(o)&&"linear"===o.value)return void(r=sr.LINEAR_GRADIENT);if(Bn(o)&&"radial"===o.value)return void(r=sr.RADIAL_GRADIENT)}if(o.type===f.FUNCTION)if("from"===o.name){var i=qn.parse(o.values[0]);n.push({stop:Rn,color:i})}else if("to"===o.name)i=qn.parse(o.values[0]),n.push({stop:Un,color:i});else if("color-stop"===o.name){var a=o.values.filter(Dn);if(2===a.length){i=qn.parse(a[1]);var s=a[0];En(s)&&n.push({stop:{type:f.PERCENTAGE_TOKEN,number:100*s.number,flags:s.flags},color:i})}}})),r===sr.LINEAR_GRADIENT?{angle:(t+Yn(180))%Yn(360),stops:n,type:r}:{size:i,shape:o,stops:n,position:a,type:r}},zr="closest-side",Qr="farthest-side",Pr="closest-corner",Hr="farthest-corner",Vr="circle",Kr="ellipse",Gr="cover",Wr="contain",Yr=function(e){var t=Zr.CIRCLE,n=Xr.FARTHEST_CORNER,r=[],o=[];return _n(e).forEach((function(e,i){var a=!0;if(0===i){var s=!1;a=e.reduce((function(e,r){if(s)if(Bn(r))switch(r.value){case"center":return o.push(jn),e;case"top":case"left":return o.push(Rn),e;case"right":case"bottom":return o.push(Un),e}else(Nn(r)||On(r))&&o.push(r);else if(Bn(r))switch(r.value){case Vr:return t=Zr.CIRCLE,!1;case Kr:return t=Zr.ELLIPSE,!1;case"at":return s=!0,!1;case zr:return n=Xr.CLOSEST_SIDE,!1;case Gr:case Qr:return n=Xr.FARTHEST_SIDE,!1;case Wr:case Pr:return n=Xr.CLOSEST_CORNER,!1;case Hr:return n=Xr.FARTHEST_CORNER,!1}else if(On(r)||Nn(r))return Array.isArray(n)||(n=[]),n.push(r),!1;return e}),a)}if(a){var c=ur(e);r.push(c)}})),{size:n,shape:t,stops:r,position:o,type:sr.RADIAL_GRADIENT}},qr=function(e){var t=Zr.CIRCLE,n=Xr.FARTHEST_CORNER,r=[],o=[];return _n(e).forEach((function(e,i){var a=!0;if(0===i?a=e.reduce((function(e,t){if(Bn(t))switch(t.value){case"center":return o.push(jn),!1;case"top":case"left":return o.push(Rn),!1;case"right":case"bottom":return o.push(Un),!1}else if(Nn(t)||On(t))return o.push(t),!1;return e}),a):1===i&&(a=e.reduce((function(e,r){if(Bn(r))switch(r.value){case Vr:return t=Zr.CIRCLE,!1;case Kr:return t=Zr.ELLIPSE,!1;case Wr:case zr:return n=Xr.CLOSEST_SIDE,!1;case Qr:return n=Xr.FARTHEST_SIDE,!1;case Pr:return n=Xr.CLOSEST_CORNER,!1;case Gr:case Hr:return n=Xr.FARTHEST_CORNER,!1}else if(On(r)||Nn(r))return Array.isArray(n)||(n=[]),n.push(r),!1;return e}),a)),a){var s=ur(e);r.push(s)}})),{size:n,shape:t,stops:r,position:o,type:sr.RADIAL_GRADIENT}};!function(e){e[e.URL=0]="URL",e[e.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",e[e.RADIAL_GRADIENT=2]="RADIAL_GRADIENT"}(sr||(sr={}));var Zr,Xr,Jr=function(e){return e.type===sr.LINEAR_GRADIENT},$r=function(e){return e.type===sr.RADIAL_GRADIENT};(function(e){e[e.CIRCLE=0]="CIRCLE",e[e.ELLIPSE=1]="ELLIPSE"})(Zr||(Zr={})),function(e){e[e.CLOSEST_SIDE=0]="CLOSEST_SIDE",e[e.FARTHEST_SIDE=1]="FARTHEST_SIDE",e[e.CLOSEST_CORNER=2]="CLOSEST_CORNER",e[e.FARTHEST_CORNER=3]="FARTHEST_CORNER"}(Xr||(Xr={}));var eo={name:"image",parse:function(e){if(e.type===f.URL_TOKEN){var t={url:e.value,type:sr.URL};return Ir.getInstance().addImage(e.value),t}if(e.type===f.FUNCTION){var n=ro[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(e.values)}throw new Error("Unsupported image type")}};function to(e){return e.type!==f.FUNCTION||ro[e.name]}var no,ro={"linear-gradient":gr,"-moz-linear-gradient":vr,"-ms-linear-gradient":vr,"-o-linear-gradient":vr,"-webkit-linear-gradient":vr,"radial-gradient":Yr,"-moz-radial-gradient":qr,"-ms-radial-gradient":qr,"-o-radial-gradient":qr,"-webkit-radial-gradient":qr,"-webkit-gradient":Fr},oo={name:"background-image",initialValue:"none",type:nr.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===f.IDENT_TOKEN&&"none"===t.value?[]:e.filter((function(e){return Dn(e)&&to(e)})).map(eo.parse)}},io={name:"background-origin",initialValue:"border-box",prefix:!1,type:nr.LIST,parse:function(e){return e.map((function(e){if(Bn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},ao={name:"background-position",initialValue:"0% 0%",type:nr.LIST,prefix:!1,parse:function(e){return _n(e).map((function(e){return e.filter(Nn)})).map(Ln)}};!function(e){e[e.REPEAT=0]="REPEAT",e[e.NO_REPEAT=1]="NO_REPEAT",e[e.REPEAT_X=2]="REPEAT_X",e[e.REPEAT_Y=3]="REPEAT_Y"}(no||(no={}));var so,co={name:"background-repeat",initialValue:"repeat",prefix:!1,type:nr.LIST,parse:function(e){return _n(e).map((function(e){return e.filter(Bn).map((function(e){return e.value})).join(" ")})).map(lo)}},lo=function(e){switch(e){case"no-repeat":return no.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return no.REPEAT_X;case"repeat-y":case"no-repeat repeat":return no.REPEAT_Y;case"repeat":default:return no.REPEAT}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(so||(so={}));var uo,po={name:"background-size",initialValue:"0",prefix:!1,type:nr.LIST,parse:function(e){return _n(e).map((function(e){return e.filter(fo)}))}},fo=function(e){return Bn(e)||Nn(e)},ho=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:nr.TYPE_VALUE,format:"color"}},Ao=ho("top"),mo=ho("right"),go=ho("bottom"),vo=ho("left"),bo=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:nr.LIST,parse:function(e){return Ln(e.filter(Nn))}}},yo=bo("top-left"),wo=bo("top-right"),xo=bo("bottom-right"),ko=bo("bottom-left");!function(e){e[e.NONE=0]="NONE",e[e.SOLID=1]="SOLID"}(uo||(uo={}));var Co,Eo=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:nr.IDENT_VALUE,parse:function(e){switch(e){case"none":return uo.NONE}return uo.SOLID}}},Bo=Eo("top"),To=Eo("right"),Mo=Eo("bottom"),Io=Eo("left"),Do=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:nr.VALUE,prefix:!1,parse:function(e){return Cn(e)?e.number:0}}},_o=Do("top"),So=Do("right"),Oo=Do("bottom"),No=Do("left"),Lo={name:"color",initialValue:"transparent",prefix:!1,type:nr.TYPE_VALUE,format:"color"},Ro={name:"display",initialValue:"inline-block",prefix:!1,type:nr.LIST,parse:function(e){return e.filter(Bn).reduce((function(e,t){return e|jo(t.value)}),0)}},jo=function(e){switch(e){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};!function(e){e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.INLINE_START=3]="INLINE_START",e[e.INLINE_END=4]="INLINE_END"}(Co||(Co={}));var Uo,Fo={name:"float",initialValue:"none",prefix:!1,type:nr.IDENT_VALUE,parse:function(e){switch(e){case"left":return Co.LEFT;case"right":return Co.RIGHT;case"inline-start":return Co.INLINE_START;case"inline-end":return Co.INLINE_END}return Co.NONE}},zo={name:"letter-spacing",initialValue:"0",prefix:!1,type:nr.VALUE,parse:function(e){return e.type===f.IDENT_TOKEN&&"normal"===e.value?0:e.type===f.NUMBER_TOKEN||e.type===f.DIMENSION_TOKEN?e.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Uo||(Uo={}));var Qo,Po={name:"line-break",initialValue:"normal",prefix:!1,type:nr.IDENT_VALUE,parse:function(e){switch(e){case"strict":return Uo.STRICT;case"normal":default:return Uo.NORMAL}}},Ho={name:"line-height",initialValue:"normal",prefix:!1,type:nr.TOKEN_VALUE},Vo=function(e,t){return Bn(e)&&"normal"===e.value?1.2*t:e.type===f.NUMBER_TOKEN?t*e.number:Nn(e)?zn(e,t):t},Ko={name:"list-style-image",initialValue:"none",type:nr.VALUE,prefix:!1,parse:function(e){return e.type===f.IDENT_TOKEN&&"none"===e.value?null:eo.parse(e)}};!function(e){e[e.INSIDE=0]="INSIDE",e[e.OUTSIDE=1]="OUTSIDE"}(Qo||(Qo={}));var Go,Wo={name:"list-style-position",initialValue:"outside",prefix:!1,type:nr.IDENT_VALUE,parse:function(e){switch(e){case"inside":return Qo.INSIDE;case"outside":default:return Qo.OUTSIDE}}};!function(e){e[e.NONE=-1]="NONE",e[e.DISC=0]="DISC",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE",e[e.DECIMAL=3]="DECIMAL",e[e.CJK_DECIMAL=4]="CJK_DECIMAL",e[e.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",e[e.LOWER_ROMAN=6]="LOWER_ROMAN",e[e.UPPER_ROMAN=7]="UPPER_ROMAN",e[e.LOWER_GREEK=8]="LOWER_GREEK",e[e.LOWER_ALPHA=9]="LOWER_ALPHA",e[e.UPPER_ALPHA=10]="UPPER_ALPHA",e[e.ARABIC_INDIC=11]="ARABIC_INDIC",e[e.ARMENIAN=12]="ARMENIAN",e[e.BENGALI=13]="BENGALI",e[e.CAMBODIAN=14]="CAMBODIAN",e[e.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",e[e.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",e[e.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",e[e.DEVANAGARI=18]="DEVANAGARI",e[e.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",e[e.GEORGIAN=20]="GEORGIAN",e[e.GUJARATI=21]="GUJARATI",e[e.GURMUKHI=22]="GURMUKHI",e[e.HEBREW=22]="HEBREW",e[e.HIRAGANA=23]="HIRAGANA",e[e.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",e[e.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",e[e.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",e[e.KANNADA=27]="KANNADA",e[e.KATAKANA=28]="KATAKANA",e[e.KATAKANA_IROHA=29]="KATAKANA_IROHA",e[e.KHMER=30]="KHMER",e[e.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",e[e.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",e[e.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",e[e.LAO=34]="LAO",e[e.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",e[e.MALAYALAM=36]="MALAYALAM",e[e.MONGOLIAN=37]="MONGOLIAN",e[e.MYANMAR=38]="MYANMAR",e[e.ORIYA=39]="ORIYA",e[e.PERSIAN=40]="PERSIAN",e[e.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",e[e.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",e[e.TAMIL=43]="TAMIL",e[e.TELUGU=44]="TELUGU",e[e.THAI=45]="THAI",e[e.TIBETAN=46]="TIBETAN",e[e.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",e[e.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",e[e.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",e[e.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",e[e.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"}(Go||(Go={}));var Yo,qo={name:"list-style-type",initialValue:"none",prefix:!1,type:nr.IDENT_VALUE,parse:function(e){switch(e){case"disc":return Go.DISC;case"circle":return Go.CIRCLE;case"square":return Go.SQUARE;case"decimal":return Go.DECIMAL;case"cjk-decimal":return Go.CJK_DECIMAL;case"decimal-leading-zero":return Go.DECIMAL_LEADING_ZERO;case"lower-roman":return Go.LOWER_ROMAN;case"upper-roman":return Go.UPPER_ROMAN;case"lower-greek":return Go.LOWER_GREEK;case"lower-alpha":return Go.LOWER_ALPHA;case"upper-alpha":return Go.UPPER_ALPHA;case"arabic-indic":return Go.ARABIC_INDIC;case"armenian":return Go.ARMENIAN;case"bengali":return Go.BENGALI;case"cambodian":return Go.CAMBODIAN;case"cjk-earthly-branch":return Go.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return Go.CJK_HEAVENLY_STEM;case"cjk-ideographic":return Go.CJK_IDEOGRAPHIC;case"devanagari":return Go.DEVANAGARI;case"ethiopic-numeric":return Go.ETHIOPIC_NUMERIC;case"georgian":return Go.GEORGIAN;case"gujarati":return Go.GUJARATI;case"gurmukhi":return Go.GURMUKHI;case"hebrew":return Go.HEBREW;case"hiragana":return Go.HIRAGANA;case"hiragana-iroha":return Go.HIRAGANA_IROHA;case"japanese-formal":return Go.JAPANESE_FORMAL;case"japanese-informal":return Go.JAPANESE_INFORMAL;case"kannada":return Go.KANNADA;case"katakana":return Go.KATAKANA;case"katakana-iroha":return Go.KATAKANA_IROHA;case"khmer":return Go.KHMER;case"korean-hangul-formal":return Go.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return Go.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return Go.KOREAN_HANJA_INFORMAL;case"lao":return Go.LAO;case"lower-armenian":return Go.LOWER_ARMENIAN;case"malayalam":return Go.MALAYALAM;case"mongolian":return Go.MONGOLIAN;case"myanmar":return Go.MYANMAR;case"oriya":return Go.ORIYA;case"persian":return Go.PERSIAN;case"simp-chinese-formal":return Go.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return Go.SIMP_CHINESE_INFORMAL;case"tamil":return Go.TAMIL;case"telugu":return Go.TELUGU;case"thai":return Go.THAI;case"tibetan":return Go.TIBETAN;case"trad-chinese-formal":return Go.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return Go.TRAD_CHINESE_INFORMAL;case"upper-armenian":return Go.UPPER_ARMENIAN;case"disclosure-open":return Go.DISCLOSURE_OPEN;case"disclosure-closed":return Go.DISCLOSURE_CLOSED;case"none":default:return Go.NONE}}},Zo=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:nr.TOKEN_VALUE}},Xo=Zo("top"),Jo=Zo("right"),$o=Zo("bottom"),ei=Zo("left");!function(e){e[e.VISIBLE=0]="VISIBLE",e[e.HIDDEN=1]="HIDDEN",e[e.SCROLL=2]="SCROLL",e[e.AUTO=3]="AUTO"}(Yo||(Yo={}));var ti,ni={name:"overflow",initialValue:"visible",prefix:!1,type:nr.LIST,parse:function(e){return e.filter(Bn).map((function(e){switch(e.value){case"hidden":return Yo.HIDDEN;case"scroll":return Yo.SCROLL;case"auto":return Yo.AUTO;case"visible":default:return Yo.VISIBLE}}))}};!function(e){e.NORMAL="normal",e.BREAK_WORD="break-word"}(ti||(ti={}));var ri,oi={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:nr.IDENT_VALUE,parse:function(e){switch(e){case"break-word":return ti.BREAK_WORD;case"normal":default:return ti.NORMAL}}},ii=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:nr.TYPE_VALUE,format:"length-percentage"}},ai=ii("top"),si=ii("right"),ci=ii("bottom"),li=ii("left");!function(e){e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT"}(ri||(ri={}));var ui,di={name:"text-align",initialValue:"left",prefix:!1,type:nr.IDENT_VALUE,parse:function(e){switch(e){case"right":return ri.RIGHT;case"center":case"justify":return ri.CENTER;case"left":default:return ri.LEFT}}};!function(e){e[e.STATIC=0]="STATIC",e[e.RELATIVE=1]="RELATIVE",e[e.ABSOLUTE=2]="ABSOLUTE",e[e.FIXED=3]="FIXED",e[e.STICKY=4]="STICKY"}(ui||(ui={}));var pi,fi={name:"position",initialValue:"static",prefix:!1,type:nr.IDENT_VALUE,parse:function(e){switch(e){case"relative":return ui.RELATIVE;case"absolute":return ui.ABSOLUTE;case"fixed":return ui.FIXED;case"sticky":return ui.STICKY}return ui.STATIC}},hi={name:"text-shadow",initialValue:"none",type:nr.LIST,prefix:!1,parse:function(e){return 1===e.length&&Mn(e[0],"none")?[]:_n(e).map((function(e){for(var t={color:ar.TRANSPARENT,offsetX:Rn,offsetY:Rn,blur:Rn},n=0,r=0;r<e.length;r++){var o=e[r];On(o)?(0===n?t.offsetX=o:1===n?t.offsetY=o:t.blur=o,n++):t.color=qn.parse(o)}return t}))}};!function(e){e[e.NONE=0]="NONE",e[e.LOWERCASE=1]="LOWERCASE",e[e.UPPERCASE=2]="UPPERCASE",e[e.CAPITALIZE=3]="CAPITALIZE"}(pi||(pi={}));var Ai,mi={name:"text-transform",initialValue:"none",prefix:!1,type:nr.IDENT_VALUE,parse:function(e){switch(e){case"uppercase":return pi.UPPERCASE;case"lowercase":return pi.LOWERCASE;case"capitalize":return pi.CAPITALIZE}return pi.NONE}},gi={name:"transform",initialValue:"none",prefix:!0,type:nr.VALUE,parse:function(e){if(e.type===f.IDENT_TOKEN&&"none"===e.value)return null;if(e.type===f.FUNCTION){var t=vi[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},vi={matrix:function(e){var t=e.filter((function(e){return e.type===f.NUMBER_TOKEN})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return e.type===f.NUMBER_TOKEN})).map((function(e){return e.number})),n=t[0],r=t[1],o=(t[2],t[3],t[4]),i=t[5],a=(t[6],t[7],t[8],t[9],t[10],t[11],t[12]),s=t[13];return t[14],t[15],16===t.length?[n,r,o,i,a,s]:null}},bi={type:f.PERCENTAGE_TOKEN,number:50,flags:Ue},yi=[bi,bi],wi={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:nr.LIST,parse:function(e){var t=e.filter(Nn);return 2!==t.length?yi:[t[0],t[1]]}};!function(e){e[e.VISIBLE=0]="VISIBLE",e[e.HIDDEN=1]="HIDDEN",e[e.COLLAPSE=2]="COLLAPSE"}(Ai||(Ai={}));var xi,ki={name:"visible",initialValue:"none",prefix:!1,type:nr.IDENT_VALUE,parse:function(e){switch(e){case"hidden":return Ai.HIDDEN;case"collapse":return Ai.COLLAPSE;case"visible":default:return Ai.VISIBLE}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(xi||(xi={}));var Ci,Ei={name:"word-break",initialValue:"normal",prefix:!1,type:nr.IDENT_VALUE,parse:function(e){switch(e){case"break-all":return xi.BREAK_ALL;case"keep-all":return xi.KEEP_ALL;case"normal":default:return xi.NORMAL}}},Bi={name:"z-index",initialValue:"auto",prefix:!1,type:nr.VALUE,parse:function(e){if(e.type===f.IDENT_TOKEN)return{auto:!0,order:0};if(En(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Ti={name:"opacity",initialValue:"1",type:nr.VALUE,prefix:!1,parse:function(e){return En(e)?e.number:1}},Mi={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:nr.TYPE_VALUE,format:"color"},Ii={name:"text-decoration-line",initialValue:"none",prefix:!1,type:nr.LIST,parse:function(e){return e.filter(Bn).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},Di={name:"font-family",initialValue:"",prefix:!1,type:nr.LIST,parse:function(e){var t=[],n=[];return e.forEach((function(e){switch(e.type){case f.IDENT_TOKEN:case f.STRING_TOKEN:t.push(e.value);break;case f.NUMBER_TOKEN:t.push(e.number.toString());break;case f.COMMA_TOKEN:n.push(t.join(" ")),t.length=0}})),t.length&&n.push(t.join(" ")),n.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},_i={name:"font-size",initialValue:"0",prefix:!1,type:nr.TYPE_VALUE,format:"length"},Si={name:"font-weight",initialValue:"normal",type:nr.VALUE,prefix:!1,parse:function(e){if(En(e))return e.number;if(Bn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Oi={name:"font-variant",initialValue:"none",type:nr.LIST,prefix:!1,parse:function(e){return e.filter(Bn).map((function(e){return e.value}))}};!function(e){e.NORMAL="normal",e.ITALIC="italic",e.OBLIQUE="oblique"}(Ci||(Ci={}));var Ni,Li={name:"font-style",initialValue:"normal",prefix:!1,type:nr.IDENT_VALUE,parse:function(e){switch(e){case"oblique":return Ci.OBLIQUE;case"italic":return Ci.ITALIC;case"normal":default:return Ci.NORMAL}}},Ri=function(e,t){return 0!=(e&t)},ji={name:"content",initialValue:"none",type:nr.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===f.IDENT_TOKEN&&"none"===t.value?[]:e}},Ui={name:"counter-increment",initialValue:"none",prefix:!0,type:nr.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===f.IDENT_TOKEN&&"none"===t.value)return null;for(var n=[],r=e.filter(In),o=0;o<r.length;o++){var i=r[o],a=r[o+1];if(i.type===f.IDENT_TOKEN){var s=a&&En(a)?a.number:1;n.push({counter:i.value,increment:s})}}return n}},Fi={name:"counter-reset",initialValue:"none",prefix:!0,type:nr.LIST,parse:function(e){if(0===e.length)return[];for(var t=[],n=e.filter(In),r=0;r<n.length;r++){var o=n[r],i=n[r+1];if(Bn(o)&&"none"!==o.value){var a=i&&En(i)?i.number:0;t.push({counter:o.value,reset:a})}}return t}},zi={name:"quotes",initialValue:"none",prefix:!0,type:nr.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===f.IDENT_TOKEN&&"none"===t.value)return null;var n=[],r=e.filter(Tn);if(r.length%2!=0)return null;for(var o=0;o<r.length;o+=2){var i=r[o].value,a=r[o+1].value;n.push({open:i,close:a})}return n}},Qi=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},Pi={name:"box-shadow",initialValue:"none",type:nr.LIST,prefix:!1,parse:function(e){return 1===e.length&&Mn(e[0],"none")?[]:_n(e).map((function(e){for(var t={color:255,offsetX:Rn,offsetY:Rn,blur:Rn,spread:Rn,inset:!1},n=0,r=0;r<e.length;r++){var o=e[r];Mn(o,"inset")?t.inset=!0:On(o)?(0===n?t.offsetX=o:1===n?t.offsetY=o:2===n?t.blur=o:t.spread=o,n++):t.color=qn.parse(o)}return t}))}},Hi=function(){function e(e){this.backgroundClip=Gi(cr,e.backgroundClip),this.backgroundColor=Gi(lr,e.backgroundColor),this.backgroundImage=Gi(oo,e.backgroundImage),this.backgroundOrigin=Gi(io,e.backgroundOrigin),this.backgroundPosition=Gi(ao,e.backgroundPosition),this.backgroundRepeat=Gi(co,e.backgroundRepeat),this.backgroundSize=Gi(po,e.backgroundSize),this.borderTopColor=Gi(Ao,e.borderTopColor),this.borderRightColor=Gi(mo,e.borderRightColor),this.borderBottomColor=Gi(go,e.borderBottomColor),this.borderLeftColor=Gi(vo,e.borderLeftColor),this.borderTopLeftRadius=Gi(yo,e.borderTopLeftRadius),this.borderTopRightRadius=Gi(wo,e.borderTopRightRadius),this.borderBottomRightRadius=Gi(xo,e.borderBottomRightRadius),this.borderBottomLeftRadius=Gi(ko,e.borderBottomLeftRadius),this.borderTopStyle=Gi(Bo,e.borderTopStyle),this.borderRightStyle=Gi(To,e.borderRightStyle),this.borderBottomStyle=Gi(Mo,e.borderBottomStyle),this.borderLeftStyle=Gi(Io,e.borderLeftStyle),this.borderTopWidth=Gi(_o,e.borderTopWidth),this.borderRightWidth=Gi(So,e.borderRightWidth),this.borderBottomWidth=Gi(Oo,e.borderBottomWidth),this.borderLeftWidth=Gi(No,e.borderLeftWidth),this.boxShadow=Gi(Pi,e.boxShadow),this.color=Gi(Lo,e.color),this.display=Gi(Ro,e.display),this.float=Gi(Fo,e.cssFloat),this.fontFamily=Gi(Di,e.fontFamily),this.fontSize=Gi(_i,e.fontSize),this.fontStyle=Gi(Li,e.fontStyle),this.fontVariant=Gi(Oi,e.fontVariant),this.fontWeight=Gi(Si,e.fontWeight),this.letterSpacing=Gi(zo,e.letterSpacing),this.lineBreak=Gi(Po,e.lineBreak),this.lineHeight=Gi(Ho,e.lineHeight),this.listStyleImage=Gi(Ko,e.listStyleImage),this.listStylePosition=Gi(Wo,e.listStylePosition),this.listStyleType=Gi(qo,e.listStyleType),this.marginTop=Gi(Xo,e.marginTop),this.marginRight=Gi(Jo,e.marginRight),this.marginBottom=Gi($o,e.marginBottom),this.marginLeft=Gi(ei,e.marginLeft),this.opacity=Gi(Ti,e.opacity);var t=Gi(ni,e.overflow);this.overflowX=t[0],this.overflowY=t[t.length>1?1:0],this.overflowWrap=Gi(oi,e.overflowWrap),this.paddingTop=Gi(ai,e.paddingTop),this.paddingRight=Gi(si,e.paddingRight),this.paddingBottom=Gi(ci,e.paddingBottom),this.paddingLeft=Gi(li,e.paddingLeft),this.position=Gi(fi,e.position),this.textAlign=Gi(di,e.textAlign),this.textDecorationColor=Gi(Mi,e.textDecorationColor||e.color),this.textDecorationLine=Gi(Ii,e.textDecorationLine),this.textShadow=Gi(hi,e.textShadow),this.textTransform=Gi(mi,e.textTransform),this.transform=Gi(gi,e.transform),this.transformOrigin=Gi(wi,e.transformOrigin),this.visibility=Gi(ki,e.visibility),this.wordBreak=Gi(Ei,e.wordBreak),this.zIndex=Gi(Bi,e.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===Ai.VISIBLE},e.prototype.isTransparent=function(){return Zn(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return this.position!==ui.STATIC},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==Co.NONE},e.prototype.isInlineLevel=function(){return Ri(this.display,4)||Ri(this.display,33554432)||Ri(this.display,268435456)||Ri(this.display,536870912)||Ri(this.display,67108864)||Ri(this.display,134217728)},e}(),Vi=function(){function e(e){this.content=Gi(ji,e.content),this.quotes=Gi(zi,e.quotes)}return e}(),Ki=function(){function e(e){this.counterIncrement=Gi(Ui,e.counterIncrement),this.counterReset=Gi(Fi,e.counterReset)}return e}(),Gi=function(e,t){var n=new xn,r=null!=t?t.toString():e.initialValue;n.write(r);var o=new kn(n.read());switch(e.type){case nr.IDENT_VALUE:var i=o.parseComponentValue();return e.parse(Bn(i)?i.value:e.initialValue);case nr.VALUE:return e.parse(o.parseComponentValue());case nr.LIST:return e.parse(o.parseComponentValues());case nr.TOKEN_VALUE:return o.parseComponentValue();case nr.TYPE_VALUE:switch(e.format){case"angle":return Kn.parse(o.parseComponentValue());case"color":return qn.parse(o.parseComponentValue());case"image":return eo.parse(o.parseComponentValue());case"length":var a=o.parseComponentValue();return On(a)?a:Rn;case"length-percentage":var s=o.parseComponentValue();return Nn(s)?s:Rn}}throw new Error("Attempting to parse unsupported css format type "+e.format)},Wi=function(){function e(e){this.styles=new Hi(window.getComputedStyle(e,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&Da(e)&&(e.style.transform="none"),this.bounds=a(e),this.flags=0}return e}(),Yi=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),qi=function(e,t,n){var r=Ji(e,t),o=[],i=0;return r.forEach((function(e){if(t.textDecorationLine.length||e.trim().length>0)if(Tr.SUPPORT_RANGE_BOUNDS)o.push(new Yi(e,Xi(n,i,e.length)));else{var r=n.splitText(e.length);o.push(new Yi(e,Zi(n))),n=r}else Tr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(e.length));i+=e.length})),o},Zi=function(e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(n,e);var o=a(n);return n.firstChild&&r.replaceChild(n.firstChild,n),o}}return new i(0,0,0,0)},Xi=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var o=r.createRange();return o.setStart(e,t),o.setEnd(e,t+n),i.fromClientRect(o.getBoundingClientRect())},Ji=function(e,t){return 0!==t.letterSpacing?c(e).map((function(e){return l(e)})):$i(e,t)},$i=function(e,t){for(var n,r=Le(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap===ti.BREAK_WORD?"break-word":t.wordBreak}),o=[];!(n=r.next()).done;)n.value&&o.push(n.value.slice());return o},ea=function(){function e(e,t){this.text=ta(e.data,t.textTransform),this.textBounds=qi(this.text,t,e)}return e}(),ta=function(e,t){switch(t){case pi.LOWERCASE:return e.toLowerCase();case pi.CAPITALIZE:return e.replace(na,ra);case pi.UPPERCASE:return e.toUpperCase();default:return e}},na=/(^|\s|:|-|\(|\))([a-z])/g,ra=function(e,t,n){return e.length>0?t+n.toUpperCase():e},oa=function(e){function n(t){var n=e.call(this,t)||this;return n.src=t.currentSrc||t.src,n.intrinsicWidth=t.naturalWidth,n.intrinsicHeight=t.naturalHeight,Ir.getInstance().addImage(n.src),n}return t(n,e),n}(Wi),ia=function(e){function n(t){var n=e.call(this,t)||this;return n.canvas=t,n.intrinsicWidth=t.width,n.intrinsicHeight=t.height,n}return t(n,e),n}(Wi),aa=function(e){function n(t){var n=e.call(this,t)||this,r=new XMLSerializer;return n.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(t)),n.intrinsicWidth=t.width.baseVal.value,n.intrinsicHeight=t.height.baseVal.value,Ir.getInstance().addImage(n.svg),n}return t(n,e),n}(Wi),sa=function(e){function n(t){var n=e.call(this,t)||this;return n.value=t.value,n}return t(n,e),n}(Wi),ca=function(e){function n(t){var n=e.call(this,t)||this;return n.start=t.start,n.reversed="boolean"==typeof t.reversed&&!0===t.reversed,n}return t(n,e),n}(Wi),la=[{type:f.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],ua=[{type:f.PERCENTAGE_TOKEN,flags:0,number:50}],da=function(e){return e.width>e.height?new i(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new i(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},pa=function(e){var t=e.type===Aa?new Array(e.value.length+1).join("•"):e.value;return 0===t.length?e.placeholder||"":t},fa="checkbox",ha="radio",Aa="password",ma=707406591,ga=function(e){function n(t){var n=e.call(this,t)||this;switch(n.type=t.type.toLowerCase(),n.checked=t.checked,n.value=pa(t),n.type!==fa&&n.type!==ha||(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=uo.SOLID,n.styles.backgroundClip=[rr.BORDER_BOX],n.styles.backgroundOrigin=[0],n.bounds=da(n.bounds)),n.type){case fa:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=la;break;case ha:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=ua}return n}return t(n,e),n}(Wi),va=function(e){function n(t){var n=e.call(this,t)||this,r=t.options[t.selectedIndex||0];return n.value=r&&r.text||"",n}return t(n,e),n}(Wi),ba=function(e){function n(t){var n=e.call(this,t)||this;return n.value=t.value,n}return t(n,e),n}(Wi),ya=function(e){return qn.parse(kn.create(e).parseComponentValue())},wa=function(e){function n(t){var n=e.call(this,t)||this;n.src=t.src,n.width=parseInt(t.width,10)||0,n.height=parseInt(t.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.documentElement){n.tree=Ea(t.contentWindow.document.documentElement);var r=t.contentWindow.document.documentElement?ya(getComputedStyle(t.contentWindow.document.documentElement).backgroundColor):ar.TRANSPARENT,o=t.contentWindow.document.body?ya(getComputedStyle(t.contentWindow.document.body).backgroundColor):ar.TRANSPARENT;n.backgroundColor=Zn(r)?Zn(o)?n.styles.backgroundColor:o:r}}catch(e){}return n}return t(n,e),n}(Wi),xa=["OL","UL","MENU"],ka=function(e,t,n){for(var r=e.firstChild,o=void 0;r;r=o)if(o=r.nextSibling,Ma(r)&&r.data.trim().length>0)t.textNodes.push(new ea(r,t.styles));else if(Ia(r)){var i=Ca(r);i.styles.isVisible()&&(Ba(r,i,n)?i.flags|=4:Ta(i.styles)&&(i.flags|=2),-1!==xa.indexOf(r.tagName)&&(i.flags|=8),t.elements.push(i),Ha(r)||Ra(r)||Va(r)||ka(r,i,n))}},Ca=function(e){return Fa(e)?new oa(e):Ua(e)?new ia(e):Ra(e)?new aa(e):Sa(e)?new sa(e):Oa(e)?new ca(e):Na(e)?new ga(e):Va(e)?new va(e):Ha(e)?new ba(e):za(e)?new wa(e):new Wi(e)},Ea=function(e){var t=Ca(e);return t.flags|=4,ka(e,t,t),t},Ba=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ja(e)&&n.styles.isTransparent()},Ta=function(e){return e.isPositioned()||e.isFloating()},Ma=function(e){return e.nodeType===Node.TEXT_NODE},Ia=function(e){return e.nodeType===Node.ELEMENT_NODE},Da=function(e){return Ia(e)&&void 0!==e.style&&!_a(e)},_a=function(e){return"object"==typeof e.className},Sa=function(e){return"LI"===e.tagName},Oa=function(e){return"OL"===e.tagName},Na=function(e){return"INPUT"===e.tagName},La=function(e){return"HTML"===e.tagName},Ra=function(e){return"svg"===e.tagName},ja=function(e){return"BODY"===e.tagName},Ua=function(e){return"CANVAS"===e.tagName},Fa=function(e){return"IMG"===e.tagName},za=function(e){return"IFRAME"===e.tagName},Qa=function(e){return"STYLE"===e.tagName},Pa=function(e){return"SCRIPT"===e.tagName},Ha=function(e){return"TEXTAREA"===e.tagName},Va=function(e){return"SELECT"===e.tagName},Ka=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,o=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(o=!1,n[Math.max(0,n.length-1)]+=e.increment)}));var i=[];return o&&r.forEach((function(e){var n=t.counters[e.counter];i.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),i},e}(),Ga={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Wa={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Ya={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},qa={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Za=function(e,t,n,r,o,i){return e<t||e>n?ls(e,o,i.length>0):r.integers.reduce((function(t,n,o){for(;e>=n;)e-=n,t+=r.values[o];return t}),"")+i},Xa=function(e,t,n,r){var o="";do{n||e--,o=r(e)+o,e/=t}while(e*t>=t);return o},Ja=function(e,t,n,r,o){var i=n-t+1;return(e<0?"-":"")+(Xa(Math.abs(e),i,r,(function(e){return l(Math.floor(e%i)+t)}))+o)},$a=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Xa(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},es=1,ts=2,ns=4,rs=8,os=function(e,t,n,r,o,i){if(e<-9999||e>9999)return ls(e,Go.CJK_DECIMAL,o.length>0);var a=Math.abs(e),s=o;if(0===a)return t[0]+s;for(var c=0;a>0&&c<=4;c++){var l=a%10;0===l&&Ri(i,es)&&""!==s?s=t[l]+s:l>1||1===l&&0===c||1===l&&1===c&&Ri(i,ts)||1===l&&1===c&&Ri(i,ns)&&e>100||1===l&&c>1&&Ri(i,rs)?s=t[l]+(c>0?n[c-1]:"")+s:1===l&&c>0&&(s=n[c-1]+s),a=Math.floor(a/10)}return(e<0?r:"")+s},is="十百千萬",as="拾佰仟萬",ss="マイナス",cs="마이너스",ls=function(e,t,n){var r=n?". ":"",o=n?"、":"",i=n?", ":"",a=n?" ":"";switch(t){case Go.DISC:return"•"+a;case Go.CIRCLE:return"◦"+a;case Go.SQUARE:return"◾"+a;case Go.DECIMAL_LEADING_ZERO:var s=Ja(e,48,57,!0,r);return s.length<4?"0"+s:s;case Go.CJK_DECIMAL:return $a(e,"〇一二三四五六七八九",o);case Go.LOWER_ROMAN:return Za(e,1,3999,Ga,Go.DECIMAL,r).toLowerCase();case Go.UPPER_ROMAN:return Za(e,1,3999,Ga,Go.DECIMAL,r);case Go.LOWER_GREEK:return Ja(e,945,969,!1,r);case Go.LOWER_ALPHA:return Ja(e,97,122,!1,r);case Go.UPPER_ALPHA:return Ja(e,65,90,!1,r);case Go.ARABIC_INDIC:return Ja(e,1632,1641,!0,r);case Go.ARMENIAN:case Go.UPPER_ARMENIAN:return Za(e,1,9999,Wa,Go.DECIMAL,r);case Go.LOWER_ARMENIAN:return Za(e,1,9999,Wa,Go.DECIMAL,r).toLowerCase();case Go.BENGALI:return Ja(e,2534,2543,!0,r);case Go.CAMBODIAN:case Go.KHMER:return Ja(e,6112,6121,!0,r);case Go.CJK_EARTHLY_BRANCH:return $a(e,"子丑寅卯辰巳午未申酉戌亥",o);case Go.CJK_HEAVENLY_STEM:return $a(e,"甲乙丙丁戊己庚辛壬癸",o);case Go.CJK_IDEOGRAPHIC:case Go.TRAD_CHINESE_INFORMAL:return os(e,"零一二三四五六七八九",is,"負",o,ts|ns|rs);case Go.TRAD_CHINESE_FORMAL:return os(e,"零壹貳參肆伍陸柒捌玖",as,"負",o,es|ts|ns|rs);case Go.SIMP_CHINESE_INFORMAL:return os(e,"零一二三四五六七八九",is,"负",o,ts|ns|rs);case Go.SIMP_CHINESE_FORMAL:return os(e,"零壹贰叁肆伍陆柒捌玖",as,"负",o,es|ts|ns|rs);case Go.JAPANESE_INFORMAL:return os(e,"〇一二三四五六七八九","十百千万",ss,o,0);case Go.JAPANESE_FORMAL:return os(e,"零壱弐参四伍六七八九","拾百千万",ss,o,es|ts|ns);case Go.KOREAN_HANGUL_FORMAL:return os(e,"영일이삼사오육칠팔구","십백천만",cs,i,es|ts|ns);case Go.KOREAN_HANJA_INFORMAL:return os(e,"零一二三四五六七八九","十百千萬",cs,i,0);case Go.KOREAN_HANJA_FORMAL:return os(e,"零壹貳參四五六七八九","拾百千",cs,i,es|ts|ns);case Go.DEVANAGARI:return Ja(e,2406,2415,!0,r);case Go.GEORGIAN:return Za(e,1,19999,qa,Go.DECIMAL,r);case Go.GUJARATI:return Ja(e,2790,2799,!0,r);case Go.GURMUKHI:return Ja(e,2662,2671,!0,r);case Go.HEBREW:return Za(e,1,10999,Ya,Go.DECIMAL,r);case Go.HIRAGANA:return $a(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case Go.HIRAGANA_IROHA:return $a(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case Go.KANNADA:return Ja(e,3302,3311,!0,r);case Go.KATAKANA:return $a(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",o);case Go.KATAKANA_IROHA:return $a(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",o);case Go.LAO:return Ja(e,3792,3801,!0,r);case Go.MONGOLIAN:return Ja(e,6160,6169,!0,r);case Go.MYANMAR:return Ja(e,4160,4169,!0,r);case Go.ORIYA:return Ja(e,2918,2927,!0,r);case Go.PERSIAN:return Ja(e,1776,1785,!0,r);case Go.TAMIL:return Ja(e,3046,3055,!0,r);case Go.TELUGU:return Ja(e,3174,3183,!0,r);case Go.THAI:return Ja(e,3664,3673,!0,r);case Go.TIBETAN:return Ja(e,3872,3881,!0,r);case Go.DECIMAL:default:return Ja(e,48,57,!0,r)}},us="data-html2canvas-ignore",ds=function(){function e(e,t){if(this.options=t,this.scrolledElements=[],this.referenceElement=e,this.counters=new Ka,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement)}return e.prototype.toIFrame=function(e,t){var n=this,i=fs(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,c=i.contentWindow,l=c.document,u=hs(i).then((function(){return r(n,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return this.scrolledElements.forEach(vs),c&&(c.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||c.scrollY===t.top&&c.scrollX===t.left||(l.documentElement.style.top=-t.top+"px",l.documentElement.style.left=-t.left+"px",l.documentElement.style.position="absolute")),e=this.options.onclone,void 0===this.clonedReferenceElement?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return"function"==typeof e?[2,Promise.resolve().then((function(){return e(l)})).then((function(){return i}))]:[2,i]}}))}))}));return l.open(),l.write(ms(document.doctype)+"<html></html>"),gs(this.referenceElement.ownerDocument,a,s),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},e.prototype.createElementClone=function(e){if(Ua(e))return this.createCanvasClone(e);if(Qa(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Fa(t)&&"lazy"===t.loading&&(t.loading="eager"),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(e){if(Mr.getInstance(this.options.id).error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){if(this.options.inlineImages&&e.ownerDocument){var t=e.ownerDocument.createElement("img");try{return t.src=e.toDataURL(),t}catch(e){Mr.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var r=e.getContext("2d"),o=n.getContext("2d");return o&&(r?o.putImageData(r.getImageData(0,0,e.width,e.height),0,0):o.drawImage(e,0,0)),n}catch(e){}return n},e.prototype.cloneNode=function(e){if(Ma(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var t=e.ownerDocument.defaultView;if(t&&Ia(e)&&(Da(e)||_a(e))){var n=this.createElementClone(e),r=t.getComputedStyle(e),o=t.getComputedStyle(e,":before"),i=t.getComputedStyle(e,":after");this.referenceElement===e&&Da(n)&&(this.clonedReferenceElement=n),ja(n)&&Cs(n);for(var a=this.counters.parse(new Ki(r)),s=this.resolvePseudoContent(e,n,o,Ni.BEFORE),c=e.firstChild;c;c=c.nextSibling)Ia(c)&&(Pa(c)||c.hasAttribute(us)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(c))||this.options.copyStyles&&Ia(c)&&Qa(c)||n.appendChild(this.cloneNode(c));s&&n.insertBefore(s,n.firstChild);var l=this.resolvePseudoContent(e,n,i,Ni.AFTER);return l&&n.appendChild(l),this.counters.pop(a),r&&(this.options.copyStyles||_a(e))&&!za(e)&&As(r,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(Ha(e)||Va(e))&&(Ha(n)||Va(n))&&(n.value=e.value),n}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var o=this;if(n){var i=n.content,a=t.ownerDocument;if(a&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==n.display){this.counters.parse(new Ki(n));var s=new Vi(n),c=a.createElement("html2canvaspseudoelement");As(n,c),s.content.forEach((function(t){if(t.type===f.STRING_TOKEN)c.appendChild(a.createTextNode(t.value));else if(t.type===f.URL_TOKEN){var n=a.createElement("img");n.src=t.value,n.style.opacity="1",c.appendChild(n)}else if(t.type===f.FUNCTION){if("attr"===t.name){var r=t.values.filter(Bn);r.length&&c.appendChild(a.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var i=t.values.filter(Dn),l=i[0],u=i[1];if(l&&Bn(l)){var d=o.counters.getCounterValue(l.value),p=u&&Bn(u)?qo.parse(u.value):Go.DECIMAL;c.appendChild(a.createTextNode(ls(d,p,!1)))}}else if("counters"===t.name){var h=t.values.filter(Dn),A=(l=h[0],h[1]);if(u=h[2],l&&Bn(l)){var m=o.counters.getCounterValues(l.value),g=u&&Bn(u)?qo.parse(u.value):Go.DECIMAL,v=A&&A.type===f.STRING_TOKEN?A.value:"",b=m.map((function(e){return ls(e,g,!1)})).join(v);c.appendChild(a.createTextNode(b))}}}else if(t.type===f.IDENT_TOKEN)switch(t.value){case"open-quote":c.appendChild(a.createTextNode(Qi(s.quotes,o.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(Qi(s.quotes,--o.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(t.value))}})),c.className=ws+" "+xs;var l=r===Ni.BEFORE?" "+ws:" "+xs;return _a(t)?t.className.baseValue+=l:t.className+=l,c}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Ni||(Ni={}));var ps,fs=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(us,"true"),e.body.appendChild(n),n},hs=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var o=r.document;r.onload=e.onload=o.onreadystatechange=function(){r.onload=e.onload=o.onreadystatechange=null;var n=setInterval((function(){o.body.childNodes.length>0&&"complete"===o.readyState&&(clearInterval(n),t(e))}),50)}}))},As=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);"content"!==r&&t.style.setProperty(r,e.getPropertyValue(r))}return t},ms=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},gs=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},vs=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},bs=":before",ys=":after",ws="___html2canvas___pseudoelement_before",xs="___html2canvas___pseudoelement_after",ks='{\n    content: "" !important;\n    display: none !important;\n}',Cs=function(e){Es(e,"."+ws+bs+ks+"\n         ."+xs+ys+ks)},Es=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}};!function(e){e[e.VECTOR=0]="VECTOR",e[e.BEZIER_CURVE=1]="BEZIER_CURVE"}(ps||(ps={}));var Bs,Ts=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},Ms=function(e,t,n,r,o){return e.map((function(e,i){switch(i){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+o);case 3:return e.add(t,n+o)}return e}))},Is=function(){function e(e,t){this.type=ps.VECTOR,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Ds=function(e,t,n){return new Is(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},_s=function(){function e(e,t,n,r){this.type=ps.BEZIER_CURVE,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=Ds(this.start,this.startControl,t),o=Ds(this.startControl,this.endControl,t),i=Ds(this.endControl,this.end,t),a=Ds(r,o,t),s=Ds(o,i,t),c=Ds(a,s,t);return n?new e(this.start,r,a,c):new e(c,s,i,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Ss=function(e){return e.type===ps.BEZIER_CURVE},Os=function(){function e(e){var t=e.styles,n=e.bounds,r=Fn(t.borderTopLeftRadius,n.width,n.height),o=r[0],i=r[1],a=Fn(t.borderTopRightRadius,n.width,n.height),s=a[0],c=a[1],l=Fn(t.borderBottomRightRadius,n.width,n.height),u=l[0],d=l[1],p=Fn(t.borderBottomLeftRadius,n.width,n.height),f=p[0],h=p[1],A=[];A.push((o+s)/n.width),A.push((f+u)/n.width),A.push((i+h)/n.height),A.push((c+d)/n.height);var m=Math.max.apply(Math,A);m>1&&(o/=m,i/=m,s/=m,c/=m,u/=m,d/=m,f/=m,h/=m);var g=n.width-s,v=n.height-d,b=n.width-u,y=n.height-h,w=t.borderTopWidth,x=t.borderRightWidth,k=t.borderBottomWidth,C=t.borderLeftWidth,E=zn(t.paddingTop,e.bounds.width),B=zn(t.paddingRight,e.bounds.width),T=zn(t.paddingBottom,e.bounds.width),M=zn(t.paddingLeft,e.bounds.width);this.topLeftBorderBox=o>0||i>0?Ns(n.left,n.top,o,i,Bs.TOP_LEFT):new Is(n.left,n.top),this.topRightBorderBox=s>0||c>0?Ns(n.left+g,n.top,s,c,Bs.TOP_RIGHT):new Is(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||d>0?Ns(n.left+b,n.top+v,u,d,Bs.BOTTOM_RIGHT):new Is(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=f>0||h>0?Ns(n.left,n.top+y,f,h,Bs.BOTTOM_LEFT):new Is(n.left,n.top+n.height),this.topLeftPaddingBox=o>0||i>0?Ns(n.left+C,n.top+w,Math.max(0,o-C),Math.max(0,i-w),Bs.TOP_LEFT):new Is(n.left+C,n.top+w),this.topRightPaddingBox=s>0||c>0?Ns(n.left+Math.min(g,n.width+C),n.top+w,g>n.width+C?0:s-C,c-w,Bs.TOP_RIGHT):new Is(n.left+n.width-x,n.top+w),this.bottomRightPaddingBox=u>0||d>0?Ns(n.left+Math.min(b,n.width-C),n.top+Math.min(v,n.height+w),Math.max(0,u-x),d-k,Bs.BOTTOM_RIGHT):new Is(n.left+n.width-x,n.top+n.height-k),this.bottomLeftPaddingBox=f>0||h>0?Ns(n.left+C,n.top+y,Math.max(0,f-C),h-k,Bs.BOTTOM_LEFT):new Is(n.left+C,n.top+n.height-k),this.topLeftContentBox=o>0||i>0?Ns(n.left+C+M,n.top+w+E,Math.max(0,o-(C+M)),Math.max(0,i-(w+E)),Bs.TOP_LEFT):new Is(n.left+C+M,n.top+w+E),this.topRightContentBox=s>0||c>0?Ns(n.left+Math.min(g,n.width+C+M),n.top+w+E,g>n.width+C+M?0:s-C+M,c-(w+E),Bs.TOP_RIGHT):new Is(n.left+n.width-(x+B),n.top+w+E),this.bottomRightContentBox=u>0||d>0?Ns(n.left+Math.min(b,n.width-(C+M)),n.top+Math.min(v,n.height+w+E),Math.max(0,u-(x+B)),d-(k+T),Bs.BOTTOM_RIGHT):new Is(n.left+n.width-(x+B),n.top+n.height-(k+T)),this.bottomLeftContentBox=f>0||h>0?Ns(n.left+C+M,n.top+y,Math.max(0,f-(C+M)),h-(k+T),Bs.BOTTOM_LEFT):new Is(n.left+C+M,n.top+n.height-(k+T))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Bs||(Bs={}));var Ns=function(e,t,n,r,o){var i=(Math.sqrt(2)-1)/3*4,a=n*i,s=r*i,c=e+n,l=t+r;switch(o){case Bs.TOP_LEFT:return new _s(new Is(e,l),new Is(e,l-s),new Is(c-a,t),new Is(c,t));case Bs.TOP_RIGHT:return new _s(new Is(e,t),new Is(e+a,t),new Is(c,l-s),new Is(c,l));case Bs.BOTTOM_RIGHT:return new _s(new Is(c,t),new Is(c,t+s),new Is(e+a,l),new Is(e,l));case Bs.BOTTOM_LEFT:default:return new _s(new Is(c,l),new Is(c-a,l),new Is(e,t+s),new Is(e,t))}},Ls=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Rs=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},js=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Us=function(){function e(e,t,n){this.type=0,this.offsetX=e,this.offsetY=t,this.matrix=n,this.target=6}return e}(),Fs=function(){function e(e,t){this.type=1,this.target=t,this.path=e}return e}(),zs=function(e){return 0===e.type},Qs=function(e){return 1===e.type},Ps=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Hs=function(){function e(e,t){if(this.container=e,this.effects=t.slice(0),this.curves=new Os(e),null!==e.styles.transform){var n=e.bounds.left+e.styles.transformOrigin[0].number,r=e.bounds.top+e.styles.transformOrigin[1].number,o=e.styles.transform;this.effects.push(new Us(n,r,o))}if(e.styles.overflowX!==Yo.VISIBLE){var i=Ls(this.curves),a=js(this.curves);Ts(i,a)?this.effects.push(new Fs(i,6)):(this.effects.push(new Fs(i,2)),this.effects.push(new Fs(a,4)))}}return e.prototype.getParentEffects=function(){var e=this.effects.slice(0);if(this.container.styles.overflowX!==Yo.VISIBLE){var t=Ls(this.curves),n=js(this.curves);Ts(t,n)||e.push(new Fs(n,6))}return e},e}(),Vs=function(e,t,n,r){e.container.elements.forEach((function(o){var i=Ri(o.flags,4),a=Ri(o.flags,2),s=new Hs(o,e.getParentEffects());Ri(o.styles.display,2048)&&r.push(s);var c=Ri(o.flags,8)?[]:r;if(i||a){var l=i||o.styles.isPositioned()?n:t,u=new Ps(s);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var d=o.styles.zIndex.order;if(d<0){var p=0;l.negativeZIndex.some((function(e,t){return d>e.element.container.styles.zIndex.order?(p=t,!1):p>0})),l.negativeZIndex.splice(p,0,u)}else if(d>0){var f=0;l.positiveZIndex.some((function(e,t){return d>=e.element.container.styles.zIndex.order?(f=t+1,!1):f>0})),l.positiveZIndex.splice(f,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else o.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);Vs(s,u,i?u:n,c)}else o.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),Vs(s,t,n,c);Ri(o.flags,8)&&Ks(o,c)}))},Ks=function(e,t){for(var n=e instanceof ca?e.start:1,r=e instanceof ca&&e.reversed,o=0;o<t.length;o++){var i=t[o];i.container instanceof sa&&"number"==typeof i.container.value&&0!==i.container.value&&(n=i.container.value),i.listValue=ls(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},Gs=function(e){var t=new Hs(e,[]),n=new Ps(t),r=[];return Vs(t,n,n,r),Ks(t.container,r),n},Ws=function(e,t){switch(t){case 0:return Ys(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ys(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ys(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Ys(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Ys=function(e,t,n,r){var o=[];return Ss(e)?o.push(e.subdivide(.5,!1)):o.push(e),Ss(n)?o.push(n.subdivide(.5,!0)):o.push(n),Ss(r)?o.push(r.subdivide(.5,!0).reverse()):o.push(r),Ss(t)?o.push(t.subdivide(.5,!1).reverse()):o.push(t),o},qs=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Zs=function(e){var t=e.styles,n=e.bounds,r=zn(t.paddingLeft,n.width),o=zn(t.paddingRight,n.width),i=zn(t.paddingTop,n.width),a=zn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+o),-(t.borderTopWidth+t.borderBottomWidth+i+a))},Xs=function(e,t){return 0===e?t.bounds:2===e?Zs(t):qs(t)},Js=function(e,t){return e===rr.BORDER_BOX?t.bounds:e===rr.CONTENT_BOX?Zs(t):qs(t)},$s=function(e,t,n){var r=Xs(rc(e.styles.backgroundOrigin,t),e),o=Js(rc(e.styles.backgroundClip,t),e),i=nc(rc(e.styles.backgroundSize,t),n,r),a=i[0],s=i[1],c=Fn(rc(e.styles.backgroundPosition,t),r.width-a,r.height-s);return[oc(rc(e.styles.backgroundRepeat,t),c,i,r,o),Math.round(r.left+c[0]),Math.round(r.top+c[1]),a,s]},ec=function(e){return Bn(e)&&e.value===so.AUTO},tc=function(e){return"number"==typeof e},nc=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=e[0],s=e[1];if(Nn(a)&&s&&Nn(s))return[zn(a,n.width),zn(s,n.height)];var c=tc(i);if(Bn(a)&&(a.value===so.CONTAIN||a.value===so.COVER))return tc(i)?n.width/n.height<i!=(a.value===so.COVER)?[n.width,n.width/i]:[n.height*i,n.height]:[n.width,n.height];var l=tc(r),u=tc(o),d=l||u;if(ec(a)&&(!s||ec(s)))return l&&u?[r,o]:c||d?d&&c?[l?r:o*i,u?o:r/i]:[l?r:n.width,u?o:n.height]:[n.width,n.height];if(c){var p=0,f=0;return Nn(a)?p=zn(a,n.width):Nn(s)&&(f=zn(s,n.height)),ec(a)?p=f*i:s&&!ec(s)||(f=p/i),[p,f]}var h=null,A=null;if(Nn(a)?h=zn(a,n.width):s&&Nn(s)&&(A=zn(s,n.height)),null===h||s&&!ec(s)||(A=l&&u?h/r*o:n.height),null!==A&&ec(a)&&(h=l&&u?A/o*r:n.width),null!==h&&null!==A)return[h,A];throw new Error("Unable to calculate background-size for element")},rc=function(e,t){var n=e[t];return void 0===n?e[0]:n},oc=function(e,t,n,r,o){var i=t[0],a=t[1],s=n[0],c=n[1];switch(e){case no.REPEAT_X:return[new Is(Math.round(r.left),Math.round(r.top+a)),new Is(Math.round(r.left+r.width),Math.round(r.top+a)),new Is(Math.round(r.left+r.width),Math.round(c+r.top+a)),new Is(Math.round(r.left),Math.round(c+r.top+a))];case no.REPEAT_Y:return[new Is(Math.round(r.left+i),Math.round(r.top)),new Is(Math.round(r.left+i+s),Math.round(r.top)),new Is(Math.round(r.left+i+s),Math.round(r.height+r.top)),new Is(Math.round(r.left+i),Math.round(r.height+r.top))];case no.NO_REPEAT:return[new Is(Math.round(r.left+i),Math.round(r.top+a)),new Is(Math.round(r.left+i+s),Math.round(r.top+a)),new Is(Math.round(r.left+i+s),Math.round(r.top+a+c)),new Is(Math.round(r.left+i),Math.round(r.top+a+c))];default:return[new Is(Math.round(o.left),Math.round(o.top)),new Is(Math.round(o.left+o.width),Math.round(o.top)),new Is(Math.round(o.left+o.width),Math.round(o.height+o.top)),new Is(Math.round(o.left),Math.round(o.height+o.top))]}},ic="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ac="Hidden Text",sc=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),o=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",i.appendChild(n),r.src=ic,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(ac)),n.appendChild(o),n.appendChild(r);var a=r.offsetTop-o.offsetTop+2;n.removeChild(o),n.appendChild(this._document.createTextNode(ac)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:a,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),cc=1e4,lc=function(){function e(e){this._activeEffects=[],this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,e.canvas||(this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px"),this.fontMetrics=new sc(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],Mr.getInstance(e.id).debug("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}return e.prototype.applyEffects=function(e,t){for(var n=this;this._activeEffects.length;)this.popEffect();e.filter((function(e){return Ri(e.target,t)})).forEach((function(e){return n.applyEffect(e)}))},e.prototype.applyEffect=function(e){this.ctx.save(),zs(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Qs(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return(t=e.element.container.styles).isVisible()?(this.ctx.globalAlpha=t.opacity,[4,this.renderStackContent(e)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.renderTextWithLetterSpacing=function(e,t){var n=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height):c(e.text).map((function(e){return l(e)})).reduce((function(t,r){return n.ctx.fillText(r,t,e.bounds.top+e.bounds.height),t+n.ctx.measureText(r).width}),e.bounds.left)},e.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=e.fontFamily.join(", "),r=Cn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},e.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,i,a,s=this;return o(this,(function(o){return n=this.createFontStyle(t),r=n[0],i=n[1],a=n[2],this.ctx.font=r,e.textBounds.forEach((function(e){s.ctx.fillStyle=Xn(t.color),s.renderTextWithLetterSpacing(e,t.letterSpacing);var n=t.textShadow;n.length&&e.text.trim().length&&(n.slice(0).reverse().forEach((function(t){s.ctx.shadowColor=Xn(t.color),s.ctx.shadowOffsetX=t.offsetX.number*s.options.scale,s.ctx.shadowOffsetY=t.offsetY.number*s.options.scale,s.ctx.shadowBlur=t.blur.number,s.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height)})),s.ctx.shadowColor="",s.ctx.shadowOffsetX=0,s.ctx.shadowOffsetY=0,s.ctx.shadowBlur=0),t.textDecorationLine.length&&(s.ctx.fillStyle=Xn(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:var n=s.fontMetrics.getMetrics(i,a).baseline;s.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+n),e.bounds.width,1);break;case 2:s.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:var r=s.fontMetrics.getMetrics(i,a).middle;s.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+r),e.bounds.width,1)}})))})),[2]}))}))},e.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Zs(e),o=js(t);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return r(this,void 0,void 0,(function(){var n,r,a,s,c,l,u,d,p,f,h,A,m,g;return o(this,(function(o){switch(o.label){case 0:this.applyEffects(t.effects,4),n=t.container,r=t.curves,a=n.styles,s=0,c=n.textNodes,o.label=1;case 1:return s<c.length?(l=c[s],[4,this.renderTextNode(l,a)]):[3,4];case 2:o.sent(),o.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof oa))return[3,8];o.label=5;case 5:return o.trys.push([5,7,,8]),[4,this.options.cache.match(n.src)];case 6:return A=o.sent(),this.renderReplacedElement(n,r,A),[3,8];case 7:return o.sent(),Mr.getInstance(this.options.id).error("Error loading image "+n.src),[3,8];case 8:if(n instanceof ia&&this.renderReplacedElement(n,r,n.canvas),!(n instanceof aa))return[3,12];o.label=9;case 9:return o.trys.push([9,11,,12]),[4,this.options.cache.match(n.svg)];case 10:return A=o.sent(),this.renderReplacedElement(n,r,A),[3,12];case 11:return o.sent(),Mr.getInstance(this.options.id).error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof wa&&n.tree?[4,new e({id:this.options.id,scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:n.width,height:n.height,cache:this.options.cache,windowWidth:n.width,windowHeight:n.height}).render(n.tree)]:[3,14];case 13:u=o.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),o.label=14;case 14:if(n instanceof ga&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===fa?n.checked&&(this.ctx.save(),this.path([new Is(n.bounds.left+.39363*d,n.bounds.top+.79*d),new Is(n.bounds.left+.16*d,n.bounds.top+.5549*d),new Is(n.bounds.left+.27347*d,n.bounds.top+.44071*d),new Is(n.bounds.left+.39694*d,n.bounds.top+.5649*d),new Is(n.bounds.left+.72983*d,n.bounds.top+.23*d),new Is(n.bounds.left+.84*d,n.bounds.top+.34085*d),new Is(n.bounds.left+.39363*d,n.bounds.top+.79*d)]),this.ctx.fillStyle=Xn(ma),this.ctx.fill(),this.ctx.restore()):n.type===ha&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,2*Math.PI,!0),this.ctx.fillStyle=Xn(ma),this.ctx.fill(),this.ctx.restore())),uc(n)&&n.value.length){switch(this.ctx.font=this.createFontStyle(a)[0],this.ctx.fillStyle=Xn(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign=pc(n.styles.textAlign),g=Zs(n),p=0,n.styles.textAlign){case ri.CENTER:p+=g.width/2;break;case ri.RIGHT:p+=g.width}f=g.add(p,0,0,-g.height/2+1),this.ctx.save(),this.path([new Is(g.left,g.top),new Is(g.left+g.width,g.top),new Is(g.left+g.width,g.top+g.height),new Is(g.left,g.top+g.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Yi(n.value,f),a.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!Ri(n.styles.display,2048))return[3,20];if(null===n.styles.listStyleImage)return[3,19];if((h=n.styles.listStyleImage).type!==sr.URL)return[3,18];A=void 0,m=h.url,o.label=15;case 15:return o.trys.push([15,17,,18]),[4,this.options.cache.match(m)];case 16:return A=o.sent(),this.ctx.drawImage(A,n.bounds.left-(A.width+10),n.bounds.top),[3,18];case 17:return o.sent(),Mr.getInstance(this.options.id).error("Error loading list-style-image "+m),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==Go.NONE&&(this.ctx.font=this.createFontStyle(a)[0],this.ctx.fillStyle=Xn(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",g=new i(n.bounds.left,n.bounds.top+zn(n.styles.paddingTop,n.bounds.width),n.bounds.width,Vo(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Yi(t.listValue,g),a.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),o.label=20;case 20:return[2]}}))}))},e.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,a,s,c,l,u,d,p,f,h,A,m;return o(this,(function(o){switch(o.label){case 0:return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:o.sent(),t=0,n=e.negativeZIndex,o.label=2;case 2:return t<n.length?(m=n[t],[4,this.renderStack(m)]):[3,5];case 3:o.sent(),o.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:o.sent(),r=0,i=e.nonInlineLevel,o.label=7;case 7:return r<i.length?(m=i[r],[4,this.renderNode(m)]):[3,10];case 8:o.sent(),o.label=9;case 9:return r++,[3,7];case 10:a=0,s=e.nonPositionedFloats,o.label=11;case 11:return a<s.length?(m=s[a],[4,this.renderStack(m)]):[3,14];case 12:o.sent(),o.label=13;case 13:return a++,[3,11];case 14:c=0,l=e.nonPositionedInlineLevel,o.label=15;case 15:return c<l.length?(m=l[c],[4,this.renderStack(m)]):[3,18];case 16:o.sent(),o.label=17;case 17:return c++,[3,15];case 18:u=0,d=e.inlineLevel,o.label=19;case 19:return u<d.length?(m=d[u],[4,this.renderNode(m)]):[3,22];case 20:o.sent(),o.label=21;case 21:return u++,[3,19];case 22:p=0,f=e.zeroOrAutoZIndexOrTransformedOrOpacity,o.label=23;case 23:return p<f.length?(m=f[p],[4,this.renderStack(m)]):[3,26];case 24:o.sent(),o.label=25;case 25:return p++,[3,23];case 26:h=0,A=e.positiveZIndex,o.label=27;case 27:return h<A.length?(m=A[h],[4,this.renderStack(m)]):[3,30];case 28:o.sent(),o.label=29;case 29:return h++,[3,27];case 30:return[2]}}))}))},e.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},e.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=Ss(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),Ss(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},e.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},e.prototype.resizeImage=function(e,t,n){if(e.width===t&&e.height===n)return e;var r=this.canvas.ownerDocument.createElement("canvas");return r.width=t,r.height=n,r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),r},e.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,a,s;return o(this,(function(c){switch(c.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var i,a,s,c,l,u,d,p,f,h,A,m,g,v,b,y,w,x,k,C,E,B,T,M,I,D,_,S,O,N,L;return o(this,(function(o){switch(o.label){case 0:if(n.type!==sr.URL)return[3,5];i=void 0,a=n.url,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r.options.cache.match(a)];case 2:return i=o.sent(),[3,4];case 3:return o.sent(),Mr.getInstance(r.options.id).error("Error loading background-image "+a),[3,4];case 4:return i&&(s=$s(e,t,[i.width,i.height,i.width/i.height]),y=s[0],B=s[1],T=s[2],k=s[3],C=s[4],v=r.ctx.createPattern(r.resizeImage(i,k,C),"repeat"),r.renderRepeat(y,v,B,T)),[3,6];case 5:Jr(n)?(c=$s(e,t,[null,null,null]),y=c[0],B=c[1],T=c[2],k=c[3],C=c[4],l=fr(n.angle,k,C),u=l[0],d=l[1],p=l[2],f=l[3],h=l[4],(A=document.createElement("canvas")).width=k,A.height=C,m=A.getContext("2d"),g=m.createLinearGradient(d,f,p,h),dr(n.stops,u).forEach((function(e){return g.addColorStop(e.stop,Xn(e.color))})),m.fillStyle=g,m.fillRect(0,0,k,C),k>0&&C>0&&(v=r.ctx.createPattern(A,"repeat"),r.renderRepeat(y,v,B,T))):$r(n)&&(b=$s(e,t,[null,null,null]),y=b[0],w=b[1],x=b[2],k=b[3],C=b[4],E=0===n.position.length?[jn]:n.position,B=zn(E[0],k),T=zn(E[E.length-1],C),M=mr(n,B,T,k,C),I=M[0],D=M[1],I>0&&I>0&&(_=r.ctx.createRadialGradient(w+B,x+T,0,w+B,x+T,I),dr(n.stops,2*I).forEach((function(e){return _.addColorStop(e.stop,Xn(e.color))})),r.path(y),r.ctx.fillStyle=_,I!==D?(S=e.bounds.left+.5*e.bounds.width,O=e.bounds.top+.5*e.bounds.height,L=1/(N=D/I),r.ctx.save(),r.ctx.translate(S,O),r.ctx.transform(1,0,0,N,0,0),r.ctx.translate(-S,-O),r.ctx.fillRect(w,L*(x-O)+O,k,C*L),r.ctx.restore()):r.ctx.fill())),o.label=6;case 6:return t--,[2]}}))},r=this,i=0,a=e.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return i<a.length?(s=a[i],[5,n(s)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},e.prototype.renderBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return o(this,(function(r){return this.path(Ws(n,t)),this.ctx.fillStyle=Xn(e),this.ctx.fill(),[2]}))}))},e.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,a,s,c,l,u=this;return o(this,(function(o){switch(o.label){case 0:return this.applyEffects(e.effects,2),t=e.container.styles,n=!Zn(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor},{style:t.borderRightStyle,color:t.borderRightColor},{style:t.borderBottomStyle,color:t.borderBottomColor},{style:t.borderLeftStyle,color:t.borderLeftColor}],i=dc(rc(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),Zn(t.backgroundColor)||(this.ctx.fillStyle=Xn(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:o.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){u.ctx.save();var n=Ls(e.curves),r=t.inset?0:cc,o=Ms(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(u.path(n),u.ctx.clip(),u.mask(o)):(u.mask(n),u.ctx.clip(),u.path(o)),u.ctx.shadowOffsetX=t.offsetX.number+r,u.ctx.shadowOffsetY=t.offsetY.number,u.ctx.shadowColor=Xn(t.color),u.ctx.shadowBlur=t.blur.number,u.ctx.fillStyle=t.inset?Xn(t.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()})),o.label=2;case 2:a=0,s=0,c=r,o.label=3;case 3:return s<c.length?(l=c[s]).style===uo.NONE||Zn(l.color)?[3,5]:[4,this.renderBorder(l.color,a,e.curves)]:[3,7];case 4:o.sent(),o.label=5;case 5:a++,o.label=6;case 6:return s++,[3,3];case 7:return[2]}}))}))},e.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Xn(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),t=Gs(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([],2),[2,this.canvas]}}))}))},e}(),uc=function(e){return e instanceof ba||e instanceof va||e instanceof ga&&e.type!==ha&&e.type!==fa},dc=function(e,t){switch(e){case rr.BORDER_BOX:return Ls(t);case rr.CONTENT_BOX:return Rs(t);case rr.PADDING_BOX:default:return js(t)}},pc=function(e){switch(e){case ri.CENTER:return"center";case ri.RIGHT:return"right";case ri.LEFT:default:return"left"}},fc=function(){function e(e){this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),Mr.getInstance(e.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}return e.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return t=Er(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,e),[4,hc(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Xn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},e}(),hc=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Ac=void 0,mc=function(e){return qn.parse(kn.create(e).parseComponentValue())},gc=function(e,t){return void 0===t&&(t={}),vc(e,t)};"undefined"!=typeof window&&Ir.setContext(window);var vc=function(e,t){return r(Ac,void 0,void 0,(function(){var r,c,l,u,d,p,f,h,A,m,g,v,b,y,w,x,k,C,E,B,T,M,I;return o(this,(function(o){switch(o.label){case 0:if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(c=r.defaultView))throw new Error("Document is not attached to a Window");return l=(Math.round(1e3*Math.random())+Date.now()).toString(16),u=ja(e)||La(e)?s(r):a(e),d=u.width,p=u.height,f=u.left,h=u.top,A=n({},{allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},t),m={backgroundColor:"#ffffff",cache:t.cache?t.cache:Ir.create(l,A),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:c.devicePixelRatio||1,windowWidth:c.innerWidth,windowHeight:c.innerHeight,scrollX:c.pageXOffset,scrollY:c.pageYOffset,x:f,y:h,width:Math.ceil(d),height:Math.ceil(p),id:l},g=n({},m,A,t),v=new i(g.scrollX,g.scrollY,g.windowWidth,g.windowHeight),Mr.create({id:l,enabled:g.logging}),Mr.getInstance(l).debug("Starting document clone"),b=new ds(e,{id:l,onclone:g.onclone,ignoreElements:g.ignoreElements,inlineImages:g.foreignObjectRendering,copyStyles:g.foreignObjectRendering}),(y=b.clonedReferenceElement)?[4,b.toIFrame(r,v)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=o.sent(),x=r.documentElement?mc(getComputedStyle(r.documentElement).backgroundColor):ar.TRANSPARENT,k=r.body?mc(getComputedStyle(r.body).backgroundColor):ar.TRANSPARENT,C=t.backgroundColor,E="string"==typeof C?mc(C):null===C?ar.TRANSPARENT:4294967295,B=e===r.documentElement?Zn(x)?Zn(k)?E:k:x:E,T={id:l,cache:g.cache,canvas:g.canvas,backgroundColor:B,scale:g.scale,x:g.x,y:g.y,scrollX:g.scrollX,scrollY:g.scrollY,width:g.width,height:g.height,windowWidth:g.windowWidth,windowHeight:g.windowHeight},g.foreignObjectRendering?(Mr.getInstance(l).debug("Document cloned, using foreign object rendering"),[4,new fc(T).render(y)]):[3,3];case 2:return M=o.sent(),[3,5];case 3:return Mr.getInstance(l).debug("Document cloned, using computed rendering"),Ir.attachInstance(g.cache),Mr.getInstance(l).debug("Starting DOM parsing"),I=Ea(y),Ir.detachInstance(),B===I.styles.backgroundColor&&(I.styles.backgroundColor=ar.TRANSPARENT),Mr.getInstance(l).debug("Starting renderer"),[4,new lc(T).render(I)];case 4:M=o.sent(),o.label=5;case 5:return!0===g.removeContainer&&(ds.destroy(w)||Mr.getInstance(l).error("Cannot detach cloned iframe as it is not in the DOM anymore")),Mr.getInstance(l).debug("Finished rendering"),Mr.destroy(l),Ir.destroy(l),[2,M]}}))}))};return gc}()},645:(e,t)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?o-1:0,p=n?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=p,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===i)i=1-l;else{if(i===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),i-=l}return(f?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,l=8*i-o-1,u=(1<<l)-1,d=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,h=r?1:-1,A=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+f]=255&s,f+=h,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+f]=255&a,f+=h,a/=256,l-=8);e[n+f-h]|=128*A}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},6576:(e,t,n)=>{"use strict";(t=e.exports=n(634).default).default=t},634:(e,t)=>{"use strict";t.default=function(){function e(t,n,r,o){this.message=t,this.expected=n,this.found=r,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,r=arguments.length>1?arguments[1]:{},o={},i={start:De},a=De,s=function(e){return{type:"messageFormatPattern",elements:e,location:Ee()}},c=function(e){var t,n,r,o,i,a="";for(t=0,r=e.length;t<r;t+=1)for(n=0,i=(o=e[t]).length;n<i;n+=1)a+=o[n];return a},l=function(e){return{type:"messageTextElement",value:e,location:Ee()}},u=/^[^ \t\n\r,.+={}#]/,d={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},p="{",f={type:"literal",value:"{",description:'"{"'},h=",",A={type:"literal",value:",",description:'","'},m="}",g={type:"literal",value:"}",description:'"}"'},v=function(e,t){return{type:"argumentElement",id:e,format:t&&t[2],location:Ee()}},b="number",y={type:"literal",value:"number",description:'"number"'},w="date",x={type:"literal",value:"date",description:'"date"'},k="time",C={type:"literal",value:"time",description:'"time"'},E=function(e,t){return{type:e+"Format",style:t&&t[2],location:Ee()}},B="plural",T={type:"literal",value:"plural",description:'"plural"'},M=function(e){return{type:e.type,ordinal:!1,offset:e.offset||0,options:e.options,location:Ee()}},I="selectordinal",D={type:"literal",value:"selectordinal",description:'"selectordinal"'},_=function(e){return{type:e.type,ordinal:!0,offset:e.offset||0,options:e.options,location:Ee()}},S="select",O={type:"literal",value:"select",description:'"select"'},N=function(e){return{type:"selectFormat",options:e,location:Ee()}},L="=",R={type:"literal",value:"=",description:'"="'},j=function(e,t){return{type:"optionalFormatPattern",selector:e,value:t,location:Ee()}},U="offset:",F={type:"literal",value:"offset:",description:'"offset:"'},z=function(e){return e},Q=function(e,t){return{type:"pluralFormat",offset:e,options:t,location:Ee()}},P={type:"other",description:"whitespace"},H=/^[ \t\n\r]/,V={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},K={type:"other",description:"optionalWhitespace"},G=/^[0-9]/,W={type:"class",value:"[0-9]",description:"[0-9]"},Y=/^[0-9a-f]/i,q={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Z="0",X={type:"literal",value:"0",description:'"0"'},J=/^[1-9]/,$={type:"class",value:"[1-9]",description:"[1-9]"},ee=function(e){return parseInt(e,10)},te=/^[^{}\\\0-\x1F \t\n\r]/,ne={type:"class",value:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},re="\\\\",oe={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},ie=function(){return"\\"},ae="\\#",se={type:"literal",value:"\\#",description:'"\\\\#"'},ce=function(){return"\\#"},le="\\{",ue={type:"literal",value:"\\{",description:'"\\\\{"'},de=function(){return"{"},pe="\\}",fe={type:"literal",value:"\\}",description:'"\\\\}"'},he=function(){return"}"},Ae="\\u",me={type:"literal",value:"\\u",description:'"\\\\u"'},ge=function(e){return String.fromCharCode(parseInt(e,16))},ve=function(e){return e.join("")},be=0,ye=0,we=[{line:1,column:1,seenCR:!1}],xe=0,ke=[],Ce=0;if("startRule"in r){if(!(r.startRule in i))throw new Error("Can't start parsing from rule \""+r.startRule+'".');a=i[r.startRule]}function Ee(){return Te(ye,be)}function Be(e){var n,r,o=we[e];if(o)return o;for(n=e-1;!we[n];)n--;for(o={line:(o=we[n]).line,column:o.column,seenCR:o.seenCR};n<e;)"\n"===(r=t.charAt(n))?(o.seenCR||o.line++,o.column=1,o.seenCR=!1):"\r"===r||"\u2028"===r||"\u2029"===r?(o.line++,o.column=1,o.seenCR=!0):(o.column++,o.seenCR=!1),n++;return we[e]=o,o}function Te(e,t){var n=Be(e),r=Be(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function Me(e){be<xe||(be>xe&&(xe=be,ke=[]),ke.push(e))}function Ie(t,n,r,o){return null!==n&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(n),new e(null!==t?t:function(e,t){var n,r=new Array(e.length);for(n=0;n<e.length;n++)r[n]=e[n].description;return"Expected "+(e.length>1?r.slice(0,-1).join(", ")+" or "+r[e.length-1]:r[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0100-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1000-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(n,r),n,r,o)}function De(){return _e()}function _e(){var e,t,n;for(e=be,t=[],n=Se();n!==o;)t.push(n),n=Se();return t!==o&&(ye=e,t=s(t)),e=t}function Se(){var e;return(e=Ne())===o&&(e=Re()),e}function Oe(){var e,n,r,i,a,s;if(e=be,n=[],r=be,(i=We())!==o&&(a=Je())!==o&&(s=We())!==o?r=i=[i,a,s]:(be=r,r=o),r!==o)for(;r!==o;)n.push(r),r=be,(i=We())!==o&&(a=Je())!==o&&(s=We())!==o?r=i=[i,a,s]:(be=r,r=o);else n=o;return n!==o&&(ye=e,n=c(n)),(e=n)===o&&(e=be,e=(n=Ge())!==o?t.substring(e,be):n),e}function Ne(){var e,t;return e=be,(t=Oe())!==o&&(ye=e,t=l(t)),e=t}function Le(){var e,n,r;if((e=Ze())===o){if(e=be,n=[],u.test(t.charAt(be))?(r=t.charAt(be),be++):(r=o,0===Ce&&Me(d)),r!==o)for(;r!==o;)n.push(r),u.test(t.charAt(be))?(r=t.charAt(be),be++):(r=o,0===Ce&&Me(d));else n=o;e=n!==o?t.substring(e,be):n}return e}function Re(){var e,n,r,i,a,s,c;return e=be,123===t.charCodeAt(be)?(n=p,be++):(n=o,0===Ce&&Me(f)),n!==o&&We()!==o&&(r=Le())!==o&&We()!==o?(i=be,44===t.charCodeAt(be)?(a=h,be++):(a=o,0===Ce&&Me(A)),a!==o&&(s=We())!==o&&(c=je())!==o?i=a=[a,s,c]:(be=i,i=o),i===o&&(i=null),i!==o&&(a=We())!==o?(125===t.charCodeAt(be)?(s=m,be++):(s=o,0===Ce&&Me(g)),s!==o?(ye=e,e=n=v(r,i)):(be=e,e=o)):(be=e,e=o)):(be=e,e=o),e}function je(){var e;return(e=Ue())===o&&(e=Fe())===o&&(e=ze())===o&&(e=Qe()),e}function Ue(){var e,n,r,i,a,s;return e=be,t.substr(be,6)===b?(n=b,be+=6):(n=o,0===Ce&&Me(y)),n===o&&(t.substr(be,4)===w?(n=w,be+=4):(n=o,0===Ce&&Me(x)),n===o&&(t.substr(be,4)===k?(n=k,be+=4):(n=o,0===Ce&&Me(C)))),n!==o&&We()!==o?(r=be,44===t.charCodeAt(be)?(i=h,be++):(i=o,0===Ce&&Me(A)),i!==o&&(a=We())!==o&&(s=Je())!==o?r=i=[i,a,s]:(be=r,r=o),r===o&&(r=null),r!==o?(ye=e,e=n=E(n,r)):(be=e,e=o)):(be=e,e=o),e}function Fe(){var e,n,r,i;return e=be,t.substr(be,6)===B?(n=B,be+=6):(n=o,0===Ce&&Me(T)),n!==o&&We()!==o?(44===t.charCodeAt(be)?(r=h,be++):(r=o,0===Ce&&Me(A)),r!==o&&We()!==o&&(i=Ke())!==o?(ye=e,e=n=M(i)):(be=e,e=o)):(be=e,e=o),e}function ze(){var e,n,r,i;return e=be,t.substr(be,13)===I?(n=I,be+=13):(n=o,0===Ce&&Me(D)),n!==o&&We()!==o?(44===t.charCodeAt(be)?(r=h,be++):(r=o,0===Ce&&Me(A)),r!==o&&We()!==o&&(i=Ke())!==o?(ye=e,e=n=_(i)):(be=e,e=o)):(be=e,e=o),e}function Qe(){var e,n,r,i,a;if(e=be,t.substr(be,6)===S?(n=S,be+=6):(n=o,0===Ce&&Me(O)),n!==o)if(We()!==o)if(44===t.charCodeAt(be)?(r=h,be++):(r=o,0===Ce&&Me(A)),r!==o)if(We()!==o){if(i=[],(a=He())!==o)for(;a!==o;)i.push(a),a=He();else i=o;i!==o?(ye=e,e=n=N(i)):(be=e,e=o)}else be=e,e=o;else be=e,e=o;else be=e,e=o;else be=e,e=o;return e}function Pe(){var e,n,r,i;return e=be,n=be,61===t.charCodeAt(be)?(r=L,be++):(r=o,0===Ce&&Me(R)),r!==o&&(i=Ze())!==o?n=r=[r,i]:(be=n,n=o),(e=n!==o?t.substring(e,be):n)===o&&(e=Je()),e}function He(){var e,n,r,i,a;return e=be,We()!==o&&(n=Pe())!==o&&We()!==o?(123===t.charCodeAt(be)?(r=p,be++):(r=o,0===Ce&&Me(f)),r!==o&&We()!==o&&(i=_e())!==o&&We()!==o?(125===t.charCodeAt(be)?(a=m,be++):(a=o,0===Ce&&Me(g)),a!==o?(ye=e,e=j(n,i)):(be=e,e=o)):(be=e,e=o)):(be=e,e=o),e}function Ve(){var e,n,r;return e=be,t.substr(be,7)===U?(n=U,be+=7):(n=o,0===Ce&&Me(F)),n!==o&&We()!==o&&(r=Ze())!==o?(ye=e,e=n=z(r)):(be=e,e=o),e}function Ke(){var e,t,n,r;if(e=be,(t=Ve())===o&&(t=null),t!==o)if(We()!==o){if(n=[],(r=He())!==o)for(;r!==o;)n.push(r),r=He();else n=o;n!==o?(ye=e,e=t=Q(t,n)):(be=e,e=o)}else be=e,e=o;else be=e,e=o;return e}function Ge(){var e,n;if(Ce++,e=[],H.test(t.charAt(be))?(n=t.charAt(be),be++):(n=o,0===Ce&&Me(V)),n!==o)for(;n!==o;)e.push(n),H.test(t.charAt(be))?(n=t.charAt(be),be++):(n=o,0===Ce&&Me(V));else e=o;return Ce--,e===o&&(n=o,0===Ce&&Me(P)),e}function We(){var e,n,r;for(Ce++,e=be,n=[],r=Ge();r!==o;)n.push(r),r=Ge();return e=n!==o?t.substring(e,be):n,Ce--,e===o&&(n=o,0===Ce&&Me(K)),e}function Ye(){var e;return G.test(t.charAt(be))?(e=t.charAt(be),be++):(e=o,0===Ce&&Me(W)),e}function qe(){var e;return Y.test(t.charAt(be))?(e=t.charAt(be),be++):(e=o,0===Ce&&Me(q)),e}function Ze(){var e,n,r,i,a,s;if(e=be,48===t.charCodeAt(be)?(n=Z,be++):(n=o,0===Ce&&Me(X)),n===o){if(n=be,r=be,J.test(t.charAt(be))?(i=t.charAt(be),be++):(i=o,0===Ce&&Me($)),i!==o){for(a=[],s=Ye();s!==o;)a.push(s),s=Ye();a!==o?r=i=[i,a]:(be=r,r=o)}else be=r,r=o;n=r!==o?t.substring(n,be):r}return n!==o&&(ye=e,n=ee(n)),e=n}function Xe(){var e,n,r,i,a,s,c,l;return te.test(t.charAt(be))?(e=t.charAt(be),be++):(e=o,0===Ce&&Me(ne)),e===o&&(e=be,t.substr(be,2)===re?(n=re,be+=2):(n=o,0===Ce&&Me(oe)),n!==o&&(ye=e,n=ie()),(e=n)===o&&(e=be,t.substr(be,2)===ae?(n=ae,be+=2):(n=o,0===Ce&&Me(se)),n!==o&&(ye=e,n=ce()),(e=n)===o&&(e=be,t.substr(be,2)===le?(n=le,be+=2):(n=o,0===Ce&&Me(ue)),n!==o&&(ye=e,n=de()),(e=n)===o&&(e=be,t.substr(be,2)===pe?(n=pe,be+=2):(n=o,0===Ce&&Me(fe)),n!==o&&(ye=e,n=he()),(e=n)===o&&(e=be,t.substr(be,2)===Ae?(n=Ae,be+=2):(n=o,0===Ce&&Me(me)),n!==o?(r=be,i=be,(a=qe())!==o&&(s=qe())!==o&&(c=qe())!==o&&(l=qe())!==o?i=a=[a,s,c,l]:(be=i,i=o),(r=i!==o?t.substring(r,be):i)!==o?(ye=e,e=n=ge(r)):(be=e,e=o)):(be=e,e=o)))))),e}function Je(){var e,t,n;if(e=be,t=[],(n=Xe())!==o)for(;n!==o;)t.push(n),n=Xe();else t=o;return t!==o&&(ye=e,t=ve(t)),e=t}if((n=a())!==o&&be===t.length)return n;throw n!==o&&be<t.length&&Me({type:"end",description:"end of input"}),Ie(null,ke,xe<t.length?t.charAt(xe):null,xe<t.length?Te(xe,xe+1):Te(xe,xe))}}}()},5260:(e,t,n)=>{"use strict";var r=n(4574).Z;n(8374),(t=e.exports=r).default=t},2494:(e,t)=>{"use strict";function n(e,t,n){this.locales=e,this.formats=t,this.pluralFn=n}function r(e){this.id=e}function o(e,t,n,r,o){this.id=e,this.useOrdinal=t,this.offset=n,this.options=r,this.pluralFn=o}function i(e,t,n,r){this.id=e,this.offset=t,this.numberFormat=n,this.string=r}function a(e,t){this.id=e,this.options=t}t.default=n,n.prototype.compile=function(e){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(e)},n.prototype.compileMessage=function(e){if(!e||"messageFormatPattern"!==e.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var t,n,r,o=e.elements,i=[];for(t=0,n=o.length;t<n;t+=1)switch((r=o[t]).type){case"messageTextElement":i.push(this.compileMessageText(r));break;case"argumentElement":i.push(this.compileArgument(r));break;default:throw new Error("Message element does not have a valid type")}return i},n.prototype.compileMessageText=function(e){return this.currentPlural&&/(^|[^\\])#/g.test(e.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new i(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)):e.value.replace(/\\#/g,"#")},n.prototype.compileArgument=function(e){var t=e.format;if(!t)return new r(e.id);var n,i=this.formats,s=this.locales,c=this.pluralFn;switch(t.type){case"numberFormat":return n=i.number[t.style],{id:e.id,format:new Intl.NumberFormat(s,n).format};case"dateFormat":return n=i.date[t.style],{id:e.id,format:new Intl.DateTimeFormat(s,n).format};case"timeFormat":return n=i.time[t.style],{id:e.id,format:new Intl.DateTimeFormat(s,n).format};case"pluralFormat":return n=this.compileOptions(e),new o(e.id,t.ordinal,t.offset,n,c);case"selectFormat":return n=this.compileOptions(e),new a(e.id,n);default:throw new Error("Message element does not have a valid format type")}},n.prototype.compileOptions=function(e){var t,n,r,o=e.format,i=o.options,a={};for(this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===o.type?e:null,t=0,n=i.length;t<n;t+=1)a[(r=i[t]).selector]=this.compileMessage(r.value);return this.currentPlural=this.pluralStack.pop(),a},r.prototype.format=function(e){return e||"number"==typeof e?"string"==typeof e?e:String(e):""},o.prototype.getOption=function(e){var t=this.options;return t["="+e]||t[this.pluralFn(e-this.offset,this.useOrdinal)]||t.other},i.prototype.format=function(e){var t=this.numberFormat.format(e-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+t).replace(/\\#/g,"#")},a.prototype.getOption=function(e){var t=this.options;return t[e]||t.other}},4680:(e,t,n)=>{"use strict";var r=n(1309),o=n(1523),i=n(2494),a=n(6576);function s(e,t,n){var r="string"==typeof e?s.__parse(e):e;if(!r||"messageFormatPattern"!==r.type)throw new TypeError("A message must be provided as a String or AST.");n=this._mergeFormats(s.formats,n),o.defineProperty(this,"_locale",{value:this._resolveLocale(t)});var i=this._findPluralRuleFunction(this._locale),a=this._compilePattern(r,t,n,i),c=this;this.format=function(t){try{return c._format(a,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+e+"'"):t}}}t.default=s,o.defineProperty(s,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),o.defineProperty(s,"__localeData__",{value:o.objCreate(null)}),o.defineProperty(s,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");s.__localeData__[e.locale.toLowerCase()]=e}}),o.defineProperty(s,"__parse",{value:a.default.parse}),o.defineProperty(s,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),s.prototype.resolvedOptions=function(){return{locale:this._locale}},s.prototype._compilePattern=function(e,t,n,r){return new i.default(t,n,r).compile(e)},s.prototype._findPluralRuleFunction=function(e){for(var t=s.__localeData__,n=t[e.toLowerCase()];n;){if(n.pluralRuleFunction)return n.pluralRuleFunction;n=n.parentLocale&&t[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+e)},s.prototype._format=function(e,t){var n,o,i,a,s,c,l="";for(n=0,o=e.length;n<o;n+=1)if("string"!=typeof(i=e[n])){if(a=i.id,!t||!r.hop.call(t,a))throw(c=new Error("A value must be provided for: "+a)).variableId=a,c;s=t[a],i.options?l+=this._format(i.getOption(s),t):l+=i.format(s)}else l+=i;return l},s.prototype._mergeFormats=function(e,t){var n,i,a={};for(n in e)r.hop.call(e,n)&&(a[n]=i=o.objCreate(e[n]),t&&r.hop.call(t,n)&&r.extend(i,t[n]));return a},s.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(s.defaultLocale);var t,n,r,o,i=s.__localeData__;for(t=0,n=e.length;t<n;t+=1)for(r=e[t].toLowerCase().split("-");r.length;){if(o=i[r.join("-")])return o.locale;r.pop()}var a=e.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+e.join(", ")+", or the default locale: "+a)}},3459:(e,t)=>{"use strict";t.default={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),r=!n[1],o=Number(n[0])==e,i=o&&n[0].slice(-1),a=o&&n[0].slice(-2);return t?1==i&&11!=a?"one":2==i&&12!=a?"two":3==i&&13!=a?"few":"other":1==e&&r?"one":"other"}}},1523:(e,t,n)=>{"use strict";var r=n(1309),o=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),i=(!o&&Object.prototype.__defineGetter__,o?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):r.hop.call(e,t)&&!("value"in n)||(e[t]=n.value)}),a=Object.create||function(e,t){var n,o;function a(){}for(o in a.prototype=e,n=new a,t)r.hop.call(t,o)&&i(n,o,t[o]);return n};t.defineProperty=i,t.objCreate=a},4574:(e,t,n)=>{"use strict";var r=n(4680),o=n(3459);r.default.__addLocaleData(o.default),r.default.defaultLocale="en",t.Z=r.default},1309:(e,t)=>{"use strict";t.extend=function(e){var t,r,o,i,a=Array.prototype.slice.call(arguments,1);for(t=0,r=a.length;t<r;t+=1)if(o=a[t])for(i in o)n.call(o,i)&&(e[i]=o[i]);return e};var n=Object.prototype.hasOwnProperty;t.hop=n},6240:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&null!==e}},8511:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return Object.keys(e.__data__||e).forEach((function(t){o(e,t)})),e},r=function(e){e&&"object"==typeof e&&n(e)},o=function(e,t){r(e[t]);Object.defineProperty(e,t,{get:function(){return e.__data__[t]?e.__data__[t]:e.__metas__["zh-CN"][t]?e.__metas__["zh-CN"][t]:void 0},set:function(n){e[t]!==n&&(e[t]=n,e.callback[t].call(e),r(n))}})};t.default=n},3078:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(5260),i=n(9208),a=n(8511),s=function(){function e(e,t){this.__lang__=e,this.__metas__=t,this.__data__=t[e]}return e.prototype.setLang=function(e){this.__lang__=e,this.__data__=this.__metas__[e]},e.prototype.getProp=function(e,t,n){if("string"==typeof t&&(t=t.split(".")),1===t.length&&void 0!==n)return e[t[0]]=n;if(0===t.length)return e;var r=t.shift();return void 0!==n&&void 0===e[r]&&(e[r]={}),this.getProp(e[r],t,n)},e.prototype.template=function(e,t){var n=this;return e?e.replace(/\{(.+?)\}/g,(function(e,o){return n.getProp(r({},n.__data__,t),o)})):""},e.prototype.get=function(e,t){var n=i(this.__data__,e);if(n||(n=i(this.__metas__["zh-CN"],e,e)),!t)return n;try{return n=(n=new o.default(n,this.__lang__)).format(t)}catch(t){return console.warn("kiwi-intl format message failed for key='"+e+"'",t),""}},e}(),c={init:function(e,t){var n=new s(e,t);return a.default(n)}};t.IntlFormat=c,t.default=c},3465:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Boolean]",s="[object Date]",c="[object Function]",l="[object GeneratorFunction]",u="[object Map]",d="[object Number]",p="[object Object]",f="[object Promise]",h="[object RegExp]",A="[object Set]",m="[object String]",g="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",y="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",B="[object Uint8Array]",T="[object Uint8ClampedArray]",M="[object Uint16Array]",I="[object Uint32Array]",D=/\w*$/,_=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,O={};O[i]=O["[object Array]"]=O[b]=O[y]=O[a]=O[s]=O[w]=O[x]=O[k]=O[C]=O[E]=O[u]=O[d]=O[p]=O[h]=O[A]=O[m]=O[g]=O[B]=O[T]=O[M]=O[I]=!0,O["[object Error]"]=O[c]=O[v]=!1;var N="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,L="object"==typeof self&&self&&self.Object===Object&&self,R=N||L||Function("return this")(),j=t&&!t.nodeType&&t,U=j&&e&&!e.nodeType&&e,F=U&&U.exports===j;function z(e,t){return e.set(t[0],t[1]),e}function Q(e,t){return e.add(t),e}function P(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function H(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function K(e,t){return function(n){return e(t(n))}}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var W,Y=Array.prototype,q=Function.prototype,Z=Object.prototype,X=R["__core-js_shared__"],J=(W=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",$=q.toString,ee=Z.hasOwnProperty,te=Z.toString,ne=RegExp("^"+$.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=F?R.Buffer:void 0,oe=R.Symbol,ie=R.Uint8Array,ae=K(Object.getPrototypeOf,Object),se=Object.create,ce=Z.propertyIsEnumerable,le=Y.splice,ue=Object.getOwnPropertySymbols,de=re?re.isBuffer:void 0,pe=K(Object.keys,Object),fe=Ue(R,"DataView"),he=Ue(R,"Map"),Ae=Ue(R,"Promise"),me=Ue(R,"Set"),ge=Ue(R,"WeakMap"),ve=Ue(Object,"create"),be=He(fe),ye=He(he),we=He(Ae),xe=He(me),ke=He(ge),Ce=oe?oe.prototype:void 0,Ee=Ce?Ce.valueOf:void 0;function Be(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){this.__data__=new Te(e)}function De(e,t){var n=Ke(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ge(e)}(e)&&ee.call(e,"callee")&&(!ce.call(e,"callee")||te.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!ee.call(e,a)||o&&("length"==a||Qe(a,r))||n.push(a);return n}function _e(e,t,n){var r=e[t];ee.call(e,t)&&Ve(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Se(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1}function Oe(e,t,n,r,o,f,v){var _;if(r&&(_=f?r(e,o,f,v):r(e)),void 0!==_)return _;if(!qe(e))return e;var S=Ke(e);if(S){if(_=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,_)}else{var N=ze(e),L=N==c||N==l;if(We(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(N==p||N==i||L&&!f){if(H(e))return f?e:{};if(_=function(e){return"function"!=typeof e.constructor||Pe(e)?{}:(t=ae(e),qe(t)?se(t):{});var t}(L?{}:e),!t)return function(e,t){return Re(e,Fe(e),t)}(e,function(e,t){return e&&Re(t,Ze(t),e)}(_,e))}else{if(!O[N])return f?e:{};_=function(e,t,n,r){var o=e.constructor;switch(t){case b:return Le(e);case a:case s:return new o(+e);case y:return function(e,t){var n=t?Le(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case w:case x:case k:case C:case E:case B:case T:case M:case I:return function(e,t){var n=t?Le(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case u:return function(e,t,n){return P(t?n(V(e),!0):V(e),z,new e.constructor)}(e,r,n);case d:case m:return new o(e);case h:return function(e){var t=new e.constructor(e.source,D.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return function(e,t,n){return P(t?n(G(e),!0):G(e),Q,new e.constructor)}(e,r,n);case g:return i=e,Ee?Object(Ee.call(i)):{}}var i}(e,N,Oe,t)}}v||(v=new Ie);var R=v.get(e);if(R)return R;if(v.set(e,_),!S)var j=n?function(e){return function(e,t,n){var r=t(e);return Ke(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ze,Fe)}(e):Ze(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(j||e,(function(o,i){j&&(o=e[i=o]),_e(_,i,Oe(o,t,n,r,i,e,v))})),_}function Ne(e){return!(!qe(e)||(t=e,J&&J in t))&&(Ye(e)||H(e)?ne:_).test(He(e));var t}function Le(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Re(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;_e(n,a,void 0===s?e[a]:s)}return n}function je(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ne(n)?n:void 0}Be.prototype.clear=function(){this.__data__=ve?ve(null):{}},Be.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Be.prototype.get=function(e){var t=this.__data__;if(ve){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},Be.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:ee.call(t,e)},Be.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?r:t,this},Te.prototype.clear=function(){this.__data__=[]},Te.prototype.delete=function(e){var t=this.__data__,n=Se(t,e);return!(n<0)&&(n==t.length-1?t.pop():le.call(t,n,1),!0)},Te.prototype.get=function(e){var t=this.__data__,n=Se(t,e);return n<0?void 0:t[n][1]},Te.prototype.has=function(e){return Se(this.__data__,e)>-1},Te.prototype.set=function(e,t){var n=this.__data__,r=Se(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Me.prototype.clear=function(){this.__data__={hash:new Be,map:new(he||Te),string:new Be}},Me.prototype.delete=function(e){return je(this,e).delete(e)},Me.prototype.get=function(e){return je(this,e).get(e)},Me.prototype.has=function(e){return je(this,e).has(e)},Me.prototype.set=function(e,t){return je(this,e).set(e,t),this},Ie.prototype.clear=function(){this.__data__=new Te},Ie.prototype.delete=function(e){return this.__data__.delete(e)},Ie.prototype.get=function(e){return this.__data__.get(e)},Ie.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Te){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this;n=this.__data__=new Me(r)}return n.set(e,t),this};var Fe=ue?K(ue,Object):function(){return[]},ze=function(e){return te.call(e)};function Qe(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||S.test(e))&&e>-1&&e%1==0&&e<t}function Pe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Z)}function He(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ve(e,t){return e===t||e!=e&&t!=t}(fe&&ze(new fe(new ArrayBuffer(1)))!=y||he&&ze(new he)!=u||Ae&&ze(Ae.resolve())!=f||me&&ze(new me)!=A||ge&&ze(new ge)!=v)&&(ze=function(e){var t=te.call(e),n=t==p?e.constructor:void 0,r=n?He(n):void 0;if(r)switch(r){case be:return y;case ye:return u;case we:return f;case xe:return A;case ke:return v}return t});var Ke=Array.isArray;function Ge(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!Ye(e)}var We=de||function(){return!1};function Ye(e){var t=qe(e)?te.call(e):"";return t==c||t==l}function qe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ze(e){return Ge(e)?De(e):function(e){if(!Pe(e))return pe(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Oe(e,!0,!0)}},1296:(e,t,n)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=c||l||Function("return this")(),d=Object.prototype.toString,p=Math.max,f=Math.min,h=function(){return u.Date.now()};function A(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(A(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=A(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||a.test(e)?s(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,a,s,c,l=0,u=!1,d=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,i=o;return r=o=void 0,l=t,a=e.apply(i,n)}function b(e){return l=e,s=setTimeout(w,t),u?v(e):a}function y(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=i}function w(){var e=h();if(y(e))return x(e);s=setTimeout(w,function(e){var n=t-(e-c);return d?f(n,i-(e-l)):n}(e))}function x(e){return s=void 0,g&&r?v(e):(r=o=void 0,a)}function k(){var e=h(),n=y(e);if(r=arguments,o=this,c=e,n){if(void 0===s)return b(c);if(d)return s=setTimeout(w,t),v(c)}return void 0===s&&(s=setTimeout(w,t)),a}return t=m(t)||0,A(n)&&(u=!!n.leading,i=(d="maxWait"in n)?p(m(n.maxWait)||0,t):i,g="trailing"in n?!!n.trailing:g),k.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=o=s=void 0},k.flush=function(){return void 0===s?a:x(h())},k}},4872:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=1/0,i=9007199254740991,a=17976931348623157e292,s=NaN,c="[object Arguments]",l="[object Array]",u="[object Boolean]",d="[object Date]",p="[object Error]",f="[object Function]",h="[object Map]",A="[object Number]",m="[object Object]",g="[object Promise]",v="[object RegExp]",b="[object Set]",y="[object String]",w="[object Symbol]",x="[object WeakMap]",k="[object ArrayBuffer]",C="[object DataView]",E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/,T=/^\./,M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/^\s+|\s+$/g,D=/\\(\\)?/g,_=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,O=/^\[object .+?Constructor\]$/,N=/^0o[0-7]+$/i,L=/^(?:0|[1-9]\d*)$/,R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R[c]=R[l]=R[k]=R[u]=R[C]=R[d]=R[p]=R[f]=R[h]=R[A]=R[m]=R[v]=R[b]=R[y]=R[x]=!1;var j=parseInt,U="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,F="object"==typeof self&&self&&self.Object===Object&&self,z=U||F||Function("return this")(),Q=t&&!t.nodeType&&t,P=Q&&e&&!e.nodeType&&e,H=P&&P.exports===Q&&U.process,V=function(){try{return H&&H.binding("util")}catch(e){}}(),K=V&&V.isTypedArray;function G(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function W(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function Y(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Z,X,J,$=Array.prototype,ee=Function.prototype,te=Object.prototype,ne=z["__core-js_shared__"],re=(Z=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",oe=ee.toString,ie=te.hasOwnProperty,ae=te.toString,se=RegExp("^"+oe.call(ie).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=z.Symbol,le=z.Uint8Array,ue=te.propertyIsEnumerable,de=$.splice,pe=(X=Object.keys,J=Object,function(e){return X(J(e))}),fe=Math.max,he=Ve(z,"DataView"),Ae=Ve(z,"Map"),me=Ve(z,"Promise"),ge=Ve(z,"Set"),ve=Ve(z,"WeakMap"),be=Ve(Object,"create"),ye=Je(he),we=Je(Ae),xe=Je(me),ke=Je(ge),Ce=Je(ve),Ee=ce?ce.prototype:void 0,Be=Ee?Ee.valueOf:void 0,Te=Ee?Ee.toString:void 0;function Me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function De(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=e?e.length:0;for(this.__data__=new De;++t<n;)this.add(e[t])}function Se(e){this.__data__=new Ie(e)}function Oe(e,t){var n=ot(e)||rt(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!ie.call(e,i)||o&&("length"==i||Ge(i,r))||n.push(i);return n}function Ne(e,t){for(var n=e.length;n--;)if(nt(e[n][0],t))return n;return-1}function Le(e,t){for(var n=0,r=(t=We(t,e)?[t]:Qe(t)).length;null!=e&&n<r;)e=e[Xe(t[n++])];return n&&n==r?e:void 0}function Re(e,t){return null!=e&&t in Object(e)}function je(e,t,n,r,o){return e===t||(null==e||null==t||!ct(e)&&!lt(t)?e!=e&&t!=t:function(e,t,n,r,o,i){var a=ot(e),s=ot(t),f=l,g=l;a||(f=(f=Ke(e))==c?m:f);s||(g=(g=Ke(t))==c?m:g);var x=f==m&&!W(e),E=g==m&&!W(t),B=f==g;if(B&&!x)return i||(i=new Se),a||dt(e)?Pe(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!r(new le(e),new le(t)));case u:case d:case A:return nt(+e,+t);case p:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case h:var s=Y;case b:var c=2&i;if(s||(s=q),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;i|=1,a.set(e,t);var f=Pe(s(e),s(t),r,o,i,a);return a.delete(e),f;case w:if(Be)return Be.call(e)==Be.call(t)}return!1}(e,t,f,n,r,o,i);if(!(2&o)){var T=x&&ie.call(e,"__wrapped__"),M=E&&ie.call(t,"__wrapped__");if(T||M){var I=T?e.value():e,D=M?t.value():t;return i||(i=new Se),n(I,D,r,o,i)}}if(!B)return!1;return i||(i=new Se),function(e,t,n,r,o,i){var a=2&o,s=pt(e),c=s.length,l=pt(t).length;if(c!=l&&!a)return!1;var u=c;for(;u--;){var d=s[u];if(!(a?d in t:ie.call(t,d)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var f=!0;i.set(e,t),i.set(t,e);var h=a;for(;++u<c;){var A=e[d=s[u]],m=t[d];if(r)var g=a?r(m,A,d,t,e,i):r(A,m,d,e,t,i);if(!(void 0===g?A===m||n(A,m,r,o,i):g)){f=!1;break}h||(h="constructor"==d)}if(f&&!h){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,r,o,i)}(e,t,je,n,r,o))}function Ue(e){return!(!ct(e)||function(e){return!!re&&re in e}(e))&&(at(e)||W(e)?se:O).test(Je(e))}function Fe(e){return"function"==typeof e?e:null==e?ft:"object"==typeof e?ot(e)?function(e,t){if(We(e)&&Ye(t))return qe(Xe(e),t);return function(n){var r=function(e,t,n){var r=null==e?void 0:Le(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){t=We(t,e)?[t]:Qe(t);var r,o=-1,i=t.length;for(;++o<i;){var a=Xe(t[o]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;return!!(i=e?e.length:0)&&st(i)&&Ge(a,i)&&(ot(e)||rt(e))}(e,t,Re)}(n,e):je(t,r,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){var t=pt(e),n=t.length;for(;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ye(o)]}return t}(e);if(1==t.length&&t[0][2])return qe(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var c=(s=n[o])[0],l=e[c],u=s[1];if(a&&s[2]){if(void 0===l&&!(c in e))return!1}else{var d=new Se;if(r)var p=r(l,u,c,e,t,d);if(!(void 0===p?je(u,l,r,3,d):p))return!1}}return!0}(n,e,t)}}(e):We(t=e)?(n=Xe(t),function(e){return null==e?void 0:e[n]}):function(e){return function(t){return Le(t,e)}}(t);var t,n}function ze(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||te,t!==r)return pe(e);var t,n,r,o=[];for(var i in Object(e))ie.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Qe(e){return ot(e)?e:Ze(e)}function Pe(e,t,n,r,o,i){var a=2&o,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=i.get(e);if(l&&i.get(t))return l==t;var u=-1,d=!0,p=1&o?new _e:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var f=e[u],h=t[u];if(r)var A=a?r(h,f,u,t,e,i):r(f,h,u,e,t,i);if(void 0!==A){if(A)continue;d=!1;break}if(p){if(!G(t,(function(e,t){if(!p.has(t)&&(f===e||n(f,e,r,o,i)))return p.add(t)}))){d=!1;break}}else if(f!==h&&!n(f,h,r,o,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function He(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ve(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ue(n)?n:void 0}Me.prototype.clear=function(){this.__data__=be?be(null):{}},Me.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Me.prototype.get=function(e){var t=this.__data__;if(be){var n=t[e];return n===r?void 0:n}return ie.call(t,e)?t[e]:void 0},Me.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:ie.call(t,e)},Me.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?r:t,this},Ie.prototype.clear=function(){this.__data__=[]},Ie.prototype.delete=function(e){var t=this.__data__,n=Ne(t,e);return!(n<0)&&(n==t.length-1?t.pop():de.call(t,n,1),!0)},Ie.prototype.get=function(e){var t=this.__data__,n=Ne(t,e);return n<0?void 0:t[n][1]},Ie.prototype.has=function(e){return Ne(this.__data__,e)>-1},Ie.prototype.set=function(e,t){var n=this.__data__,r=Ne(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},De.prototype.clear=function(){this.__data__={hash:new Me,map:new(Ae||Ie),string:new Me}},De.prototype.delete=function(e){return He(this,e).delete(e)},De.prototype.get=function(e){return He(this,e).get(e)},De.prototype.has=function(e){return He(this,e).has(e)},De.prototype.set=function(e,t){return He(this,e).set(e,t),this},_e.prototype.add=_e.prototype.push=function(e){return this.__data__.set(e,r),this},_e.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.clear=function(){this.__data__=new Ie},Se.prototype.delete=function(e){return this.__data__.delete(e)},Se.prototype.get=function(e){return this.__data__.get(e)},Se.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ie){var r=n.__data__;if(!Ae||r.length<199)return r.push([e,t]),this;n=this.__data__=new De(r)}return n.set(e,t),this};var Ke=function(e){return ae.call(e)};function Ge(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||L.test(e))&&e>-1&&e%1==0&&e<t}function We(e,t){if(ot(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ut(e))||(B.test(e)||!E.test(e)||null!=t&&e in Object(t))}function Ye(e){return e==e&&!ct(e)}function qe(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(he&&Ke(new he(new ArrayBuffer(1)))!=C||Ae&&Ke(new Ae)!=h||me&&Ke(me.resolve())!=g||ge&&Ke(new ge)!=b||ve&&Ke(new ve)!=x)&&(Ke=function(e){var t=ae.call(e),n=t==m?e.constructor:void 0,r=n?Je(n):void 0;if(r)switch(r){case ye:return C;case we:return h;case xe:return g;case ke:return b;case Ce:return x}return t});var Ze=tt((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(ut(e))return Te?Te.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return T.test(e)&&n.push(""),e.replace(M,(function(e,t,r,o){n.push(r?o.replace(D,"$1"):t||e)})),n}));function Xe(e){if("string"==typeof e||ut(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Je(e){if(null!=e){try{return oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var $e,et=($e=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var i,c,l=null==n?0:(i=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(ut(e))return s;if(ct(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ct(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(I,"");var n=S.test(e);return n||N.test(e)?j(e.slice(2),n?2:8):_.test(e)?s:+e}(e))===o||e===-1/0?(e<0?-1:1)*a:e==e?e:0:0===e?e:0}(n),c=i%1,i==i?c?i-c:i:0);return l<0&&(l=fe(r+l,0)),function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,Fe(t),l)},function(e,t,n){var r=Object(e);if(!it(e)){var o=Fe(t);e=pt(e),t=function(e){return o(r[e],e,r)}}var i=$e(e,t,n);return i>-1?r[o?e[i]:i]:void 0});function tt(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(tt.Cache||De),n}function nt(e,t){return e===t||e!=e&&t!=t}function rt(e){return function(e){return lt(e)&&it(e)}(e)&&ie.call(e,"callee")&&(!ue.call(e,"callee")||ae.call(e)==c)}tt.Cache=De;var ot=Array.isArray;function it(e){return null!=e&&st(e.length)&&!at(e)}function at(e){var t=ct(e)?ae.call(e):"";return t==f||"[object GeneratorFunction]"==t}function st(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function ct(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function lt(e){return!!e&&"object"==typeof e}function ut(e){return"symbol"==typeof e||lt(e)&&ae.call(e)==w}var dt=K?function(e){return function(t){return e(t)}}(K):function(e){return lt(e)&&st(e.length)&&!!R[ae.call(e)]};function pt(e){return it(e)?Oe(e):ze(e)}function ft(e){return e}e.exports=et},9176:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=1/0,i=9007199254740991,a=17976931348623157e292,s=NaN,c="[object Arguments]",l="[object Array]",u="[object Boolean]",d="[object Date]",p="[object Error]",f="[object Function]",h="[object Map]",A="[object Number]",m="[object Object]",g="[object Promise]",v="[object RegExp]",b="[object Set]",y="[object String]",w="[object Symbol]",x="[object WeakMap]",k="[object ArrayBuffer]",C="[object DataView]",E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/,T=/^\./,M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/^\s+|\s+$/g,D=/\\(\\)?/g,_=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,O=/^\[object .+?Constructor\]$/,N=/^0o[0-7]+$/i,L=/^(?:0|[1-9]\d*)$/,R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R[c]=R[l]=R[k]=R[u]=R[C]=R[d]=R[p]=R[f]=R[h]=R[A]=R[m]=R[v]=R[b]=R[y]=R[x]=!1;var j=parseInt,U="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,F="object"==typeof self&&self&&self.Object===Object&&self,z=U||F||Function("return this")(),Q=t&&!t.nodeType&&t,P=Q&&e&&!e.nodeType&&e,H=P&&P.exports===Q&&U.process,V=function(){try{return H&&H.binding("util")}catch(e){}}(),K=V&&V.isTypedArray;function G(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function W(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function Y(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Z,X,J,$=Array.prototype,ee=Function.prototype,te=Object.prototype,ne=z["__core-js_shared__"],re=(Z=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",oe=ee.toString,ie=te.hasOwnProperty,ae=te.toString,se=RegExp("^"+oe.call(ie).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=z.Symbol,le=z.Uint8Array,ue=te.propertyIsEnumerable,de=$.splice,pe=(X=Object.keys,J=Object,function(e){return X(J(e))}),fe=Math.max,he=Math.min,Ae=Ke(z,"DataView"),me=Ke(z,"Map"),ge=Ke(z,"Promise"),ve=Ke(z,"Set"),be=Ke(z,"WeakMap"),ye=Ke(Object,"create"),we=$e(Ae),xe=$e(me),ke=$e(ge),Ce=$e(ve),Ee=$e(be),Be=ce?ce.prototype:void 0,Te=Be?Be.valueOf:void 0,Me=Be?Be.toString:void 0;function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function De(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=e?e.length:0;for(this.__data__=new _e;++t<n;)this.add(e[t])}function Oe(e){this.__data__=new De(e)}function Ne(e,t){var n=it(e)||ot(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!ie.call(e,i)||o&&("length"==i||We(i,r))||n.push(i);return n}function Le(e,t){for(var n=e.length;n--;)if(rt(e[n][0],t))return n;return-1}function Re(e,t){for(var n=0,r=(t=Ye(t,e)?[t]:Pe(t)).length;null!=e&&n<r;)e=e[Je(t[n++])];return n&&n==r?e:void 0}function je(e,t){return null!=e&&t in Object(e)}function Ue(e,t,n,r,o){return e===t||(null==e||null==t||!lt(e)&&!ut(t)?e!=e&&t!=t:function(e,t,n,r,o,i){var a=it(e),s=it(t),f=l,g=l;a||(f=(f=Ge(e))==c?m:f);s||(g=(g=Ge(t))==c?m:g);var x=f==m&&!W(e),E=g==m&&!W(t),B=f==g;if(B&&!x)return i||(i=new Oe),a||pt(e)?He(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!r(new le(e),new le(t)));case u:case d:case A:return rt(+e,+t);case p:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case h:var s=Y;case b:var c=2&i;if(s||(s=q),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;i|=1,a.set(e,t);var f=He(s(e),s(t),r,o,i,a);return a.delete(e),f;case w:if(Te)return Te.call(e)==Te.call(t)}return!1}(e,t,f,n,r,o,i);if(!(2&o)){var T=x&&ie.call(e,"__wrapped__"),M=E&&ie.call(t,"__wrapped__");if(T||M){var I=T?e.value():e,D=M?t.value():t;return i||(i=new Oe),n(I,D,r,o,i)}}if(!B)return!1;return i||(i=new Oe),function(e,t,n,r,o,i){var a=2&o,s=ft(e),c=s.length,l=ft(t).length;if(c!=l&&!a)return!1;var u=c;for(;u--;){var d=s[u];if(!(a?d in t:ie.call(t,d)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var f=!0;i.set(e,t),i.set(t,e);var h=a;for(;++u<c;){var A=e[d=s[u]],m=t[d];if(r)var g=a?r(m,A,d,t,e,i):r(A,m,d,e,t,i);if(!(void 0===g?A===m||n(A,m,r,o,i):g)){f=!1;break}h||(h="constructor"==d)}if(f&&!h){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,r,o,i)}(e,t,Ue,n,r,o))}function Fe(e){return!(!lt(e)||function(e){return!!re&&re in e}(e))&&(st(e)||W(e)?se:O).test($e(e))}function ze(e){return"function"==typeof e?e:null==e?ht:"object"==typeof e?it(e)?function(e,t){if(Ye(e)&&qe(t))return Ze(Je(e),t);return function(n){var r=function(e,t,n){var r=null==e?void 0:Re(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){t=Ye(t,e)?[t]:Pe(t);var r,o=-1,i=t.length;for(;++o<i;){var a=Je(t[o]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;return!!(i=e?e.length:0)&&ct(i)&&We(a,i)&&(it(e)||ot(e))}(e,t,je)}(n,e):Ue(t,r,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){var t=ft(e),n=t.length;for(;n--;){var r=t[n],o=e[r];t[n]=[r,o,qe(o)]}return t}(e);if(1==t.length&&t[0][2])return Ze(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var c=(s=n[o])[0],l=e[c],u=s[1];if(a&&s[2]){if(void 0===l&&!(c in e))return!1}else{var d=new Oe;if(r)var p=r(l,u,c,e,t,d);if(!(void 0===p?Ue(u,l,r,3,d):p))return!1}}return!0}(n,e,t)}}(e):Ye(t=e)?(n=Je(t),function(e){return null==e?void 0:e[n]}):function(e){return function(t){return Re(t,e)}}(t);var t,n}function Qe(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||te,t!==r)return pe(e);var t,n,r,o=[];for(var i in Object(e))ie.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Pe(e){return it(e)?e:Xe(e)}function He(e,t,n,r,o,i){var a=2&o,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=i.get(e);if(l&&i.get(t))return l==t;var u=-1,d=!0,p=1&o?new Se:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var f=e[u],h=t[u];if(r)var A=a?r(h,f,u,t,e,i):r(f,h,u,e,t,i);if(void 0!==A){if(A)continue;d=!1;break}if(p){if(!G(t,(function(e,t){if(!p.has(t)&&(f===e||n(f,e,r,o,i)))return p.add(t)}))){d=!1;break}}else if(f!==h&&!n(f,h,r,o,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function Ve(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ke(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Fe(n)?n:void 0}Ie.prototype.clear=function(){this.__data__=ye?ye(null):{}},Ie.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ie.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===r?void 0:n}return ie.call(t,e)?t[e]:void 0},Ie.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:ie.call(t,e)},Ie.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?r:t,this},De.prototype.clear=function(){this.__data__=[]},De.prototype.delete=function(e){var t=this.__data__,n=Le(t,e);return!(n<0)&&(n==t.length-1?t.pop():de.call(t,n,1),!0)},De.prototype.get=function(e){var t=this.__data__,n=Le(t,e);return n<0?void 0:t[n][1]},De.prototype.has=function(e){return Le(this.__data__,e)>-1},De.prototype.set=function(e,t){var n=this.__data__,r=Le(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},_e.prototype.clear=function(){this.__data__={hash:new Ie,map:new(me||De),string:new Ie}},_e.prototype.delete=function(e){return Ve(this,e).delete(e)},_e.prototype.get=function(e){return Ve(this,e).get(e)},_e.prototype.has=function(e){return Ve(this,e).has(e)},_e.prototype.set=function(e,t){return Ve(this,e).set(e,t),this},Se.prototype.add=Se.prototype.push=function(e){return this.__data__.set(e,r),this},Se.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.clear=function(){this.__data__=new De},Oe.prototype.delete=function(e){return this.__data__.delete(e)},Oe.prototype.get=function(e){return this.__data__.get(e)},Oe.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof De){var r=n.__data__;if(!me||r.length<199)return r.push([e,t]),this;n=this.__data__=new _e(r)}return n.set(e,t),this};var Ge=function(e){return ae.call(e)};function We(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||L.test(e))&&e>-1&&e%1==0&&e<t}function Ye(e,t){if(it(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!dt(e))||(B.test(e)||!E.test(e)||null!=t&&e in Object(t))}function qe(e){return e==e&&!lt(e)}function Ze(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(Ae&&Ge(new Ae(new ArrayBuffer(1)))!=C||me&&Ge(new me)!=h||ge&&Ge(ge.resolve())!=g||ve&&Ge(new ve)!=b||be&&Ge(new be)!=x)&&(Ge=function(e){var t=ae.call(e),n=t==m?e.constructor:void 0,r=n?$e(n):void 0;if(r)switch(r){case we:return C;case xe:return h;case ke:return g;case Ce:return b;case Ee:return x}return t});var Xe=nt((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(dt(e))return Me?Me.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return T.test(e)&&n.push(""),e.replace(M,(function(e,t,r,o){n.push(r?o.replace(D,"$1"):t||e)})),n}));function Je(e){if("string"==typeof e||dt(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function $e(e){if(null!=e){try{return oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var et,tt=(et=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var i,c,l=r-1;return void 0!==n&&(i=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(dt(e))return s;if(lt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=lt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(I,"");var n=S.test(e);return n||N.test(e)?j(e.slice(2),n?2:8):_.test(e)?s:+e}(e))===o||e===-1/0?(e<0?-1:1)*a:e==e?e:0:0===e?e:0}(n),c=i%1,l=i==i?c?i-c:i:0,l=n<0?fe(r+l,0):he(l,r-1)),function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,ze(t),l,!0)},function(e,t,n){var r=Object(e);if(!at(e)){var o=ze(t);e=ft(e),t=function(e){return o(r[e],e,r)}}var i=et(e,t,n);return i>-1?r[o?e[i]:i]:void 0});function nt(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(nt.Cache||_e),n}function rt(e,t){return e===t||e!=e&&t!=t}function ot(e){return function(e){return ut(e)&&at(e)}(e)&&ie.call(e,"callee")&&(!ue.call(e,"callee")||ae.call(e)==c)}nt.Cache=_e;var it=Array.isArray;function at(e){return null!=e&&ct(e.length)&&!st(e)}function st(e){var t=lt(e)?ae.call(e):"";return t==f||"[object GeneratorFunction]"==t}function ct(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function lt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ut(e){return!!e&&"object"==typeof e}function dt(e){return"symbol"==typeof e||ut(e)&&ae.call(e)==w}var pt=K?function(e){return function(t){return e(t)}}(K):function(e){return ut(e)&&ct(e.length)&&!!R[ae.call(e)]};function ft(e){return at(e)?Ne(e):Qe(e)}function ht(e){return e}e.exports=tt},8244:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=1/0,i=9007199254740991,a=17976931348623157e292,s=NaN,c="[object Arguments]",l="[object Array]",u="[object Boolean]",d="[object Date]",p="[object Error]",f="[object Function]",h="[object Map]",A="[object Number]",m="[object Object]",g="[object Promise]",v="[object RegExp]",b="[object Set]",y="[object String]",w="[object Symbol]",x="[object WeakMap]",k="[object ArrayBuffer]",C="[object DataView]",E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/,T=/^\./,M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/^\s+|\s+$/g,D=/\\(\\)?/g,_=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,O=/^\[object .+?Constructor\]$/,N=/^0o[0-7]+$/i,L=/^(?:0|[1-9]\d*)$/,R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R[c]=R[l]=R[k]=R[u]=R[C]=R[d]=R[p]=R[f]=R[h]=R[A]=R[m]=R[v]=R[b]=R[y]=R[x]=!1;var j=parseInt,U="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,F="object"==typeof self&&self&&self.Object===Object&&self,z=U||F||Function("return this")(),Q=t&&!t.nodeType&&t,P=Q&&e&&!e.nodeType&&e,H=P&&P.exports===Q&&U.process,V=function(){try{return H&&H.binding("util")}catch(e){}}(),K=V&&V.isTypedArray;function G(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function W(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function Y(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Z,X,J,$=Array.prototype,ee=Function.prototype,te=Object.prototype,ne=z["__core-js_shared__"],re=(Z=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",oe=ee.toString,ie=te.hasOwnProperty,ae=te.toString,se=RegExp("^"+oe.call(ie).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=z.Symbol,le=z.Uint8Array,ue=te.propertyIsEnumerable,de=$.splice,pe=(X=Object.keys,J=Object,function(e){return X(J(e))}),fe=Math.max,he=Math.min,Ae=Ke(z,"DataView"),me=Ke(z,"Map"),ge=Ke(z,"Promise"),ve=Ke(z,"Set"),be=Ke(z,"WeakMap"),ye=Ke(Object,"create"),we=$e(Ae),xe=$e(me),ke=$e(ge),Ce=$e(ve),Ee=$e(be),Be=ce?ce.prototype:void 0,Te=Be?Be.valueOf:void 0,Me=Be?Be.toString:void 0;function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function De(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=e?e.length:0;for(this.__data__=new _e;++t<n;)this.add(e[t])}function Oe(e){this.__data__=new De(e)}function Ne(e,t){var n=rt(e)||nt(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!ie.call(e,i)||o&&("length"==i||We(i,r))||n.push(i);return n}function Le(e,t){for(var n=e.length;n--;)if(tt(e[n][0],t))return n;return-1}function Re(e,t){for(var n=0,r=(t=Ye(t,e)?[t]:Pe(t)).length;null!=e&&n<r;)e=e[Je(t[n++])];return n&&n==r?e:void 0}function je(e,t){return null!=e&&t in Object(e)}function Ue(e,t,n,r,o){return e===t||(null==e||null==t||!st(e)&&!ct(t)?e!=e&&t!=t:function(e,t,n,r,o,i){var a=rt(e),s=rt(t),f=l,g=l;a||(f=(f=Ge(e))==c?m:f);s||(g=(g=Ge(t))==c?m:g);var x=f==m&&!W(e),E=g==m&&!W(t),B=f==g;if(B&&!x)return i||(i=new Oe),a||ut(e)?He(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!r(new le(e),new le(t)));case u:case d:case A:return tt(+e,+t);case p:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case h:var s=Y;case b:var c=2&i;if(s||(s=q),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;i|=1,a.set(e,t);var f=He(s(e),s(t),r,o,i,a);return a.delete(e),f;case w:if(Te)return Te.call(e)==Te.call(t)}return!1}(e,t,f,n,r,o,i);if(!(2&o)){var T=x&&ie.call(e,"__wrapped__"),M=E&&ie.call(t,"__wrapped__");if(T||M){var I=T?e.value():e,D=M?t.value():t;return i||(i=new Oe),n(I,D,r,o,i)}}if(!B)return!1;return i||(i=new Oe),function(e,t,n,r,o,i){var a=2&o,s=dt(e),c=s.length,l=dt(t).length;if(c!=l&&!a)return!1;var u=c;for(;u--;){var d=s[u];if(!(a?d in t:ie.call(t,d)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var f=!0;i.set(e,t),i.set(t,e);var h=a;for(;++u<c;){var A=e[d=s[u]],m=t[d];if(r)var g=a?r(m,A,d,t,e,i):r(A,m,d,e,t,i);if(!(void 0===g?A===m||n(A,m,r,o,i):g)){f=!1;break}h||(h="constructor"==d)}if(f&&!h){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,r,o,i)}(e,t,Ue,n,r,o))}function Fe(e){return!(!st(e)||function(e){return!!re&&re in e}(e))&&(it(e)||W(e)?se:O).test($e(e))}function ze(e){return"function"==typeof e?e:null==e?pt:"object"==typeof e?rt(e)?function(e,t){if(Ye(e)&&qe(t))return Ze(Je(e),t);return function(n){var r=function(e,t,n){var r=null==e?void 0:Re(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){t=Ye(t,e)?[t]:Pe(t);var r,o=-1,i=t.length;for(;++o<i;){var a=Je(t[o]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;return!!(i=e?e.length:0)&&at(i)&&We(a,i)&&(rt(e)||nt(e))}(e,t,je)}(n,e):Ue(t,r,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){var t=dt(e),n=t.length;for(;n--;){var r=t[n],o=e[r];t[n]=[r,o,qe(o)]}return t}(e);if(1==t.length&&t[0][2])return Ze(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var c=(s=n[o])[0],l=e[c],u=s[1];if(a&&s[2]){if(void 0===l&&!(c in e))return!1}else{var d=new Oe;if(r)var p=r(l,u,c,e,t,d);if(!(void 0===p?Ue(u,l,r,3,d):p))return!1}}return!0}(n,e,t)}}(e):Ye(t=e)?(n=Je(t),function(e){return null==e?void 0:e[n]}):function(e){return function(t){return Re(t,e)}}(t);var t,n}function Qe(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||te,t!==r)return pe(e);var t,n,r,o=[];for(var i in Object(e))ie.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Pe(e){return rt(e)?e:Xe(e)}function He(e,t,n,r,o,i){var a=2&o,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=i.get(e);if(l&&i.get(t))return l==t;var u=-1,d=!0,p=1&o?new Se:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var f=e[u],h=t[u];if(r)var A=a?r(h,f,u,t,e,i):r(f,h,u,e,t,i);if(void 0!==A){if(A)continue;d=!1;break}if(p){if(!G(t,(function(e,t){if(!p.has(t)&&(f===e||n(f,e,r,o,i)))return p.add(t)}))){d=!1;break}}else if(f!==h&&!n(f,h,r,o,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function Ve(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ke(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Fe(n)?n:void 0}Ie.prototype.clear=function(){this.__data__=ye?ye(null):{}},Ie.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ie.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===r?void 0:n}return ie.call(t,e)?t[e]:void 0},Ie.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:ie.call(t,e)},Ie.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?r:t,this},De.prototype.clear=function(){this.__data__=[]},De.prototype.delete=function(e){var t=this.__data__,n=Le(t,e);return!(n<0)&&(n==t.length-1?t.pop():de.call(t,n,1),!0)},De.prototype.get=function(e){var t=this.__data__,n=Le(t,e);return n<0?void 0:t[n][1]},De.prototype.has=function(e){return Le(this.__data__,e)>-1},De.prototype.set=function(e,t){var n=this.__data__,r=Le(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},_e.prototype.clear=function(){this.__data__={hash:new Ie,map:new(me||De),string:new Ie}},_e.prototype.delete=function(e){return Ve(this,e).delete(e)},_e.prototype.get=function(e){return Ve(this,e).get(e)},_e.prototype.has=function(e){return Ve(this,e).has(e)},_e.prototype.set=function(e,t){return Ve(this,e).set(e,t),this},Se.prototype.add=Se.prototype.push=function(e){return this.__data__.set(e,r),this},Se.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.clear=function(){this.__data__=new De},Oe.prototype.delete=function(e){return this.__data__.delete(e)},Oe.prototype.get=function(e){return this.__data__.get(e)},Oe.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof De){var r=n.__data__;if(!me||r.length<199)return r.push([e,t]),this;n=this.__data__=new _e(r)}return n.set(e,t),this};var Ge=function(e){return ae.call(e)};function We(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||L.test(e))&&e>-1&&e%1==0&&e<t}function Ye(e,t){if(rt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!lt(e))||(B.test(e)||!E.test(e)||null!=t&&e in Object(t))}function qe(e){return e==e&&!st(e)}function Ze(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(Ae&&Ge(new Ae(new ArrayBuffer(1)))!=C||me&&Ge(new me)!=h||ge&&Ge(ge.resolve())!=g||ve&&Ge(new ve)!=b||be&&Ge(new be)!=x)&&(Ge=function(e){var t=ae.call(e),n=t==m?e.constructor:void 0,r=n?$e(n):void 0;if(r)switch(r){case we:return C;case xe:return h;case ke:return g;case Ce:return b;case Ee:return x}return t});var Xe=et((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(lt(e))return Me?Me.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return T.test(e)&&n.push(""),e.replace(M,(function(e,t,r,o){n.push(r?o.replace(D,"$1"):t||e)})),n}));function Je(e){if("string"==typeof e||lt(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function $e(e){if(null!=e){try{return oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function et(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(et.Cache||_e),n}function tt(e,t){return e===t||e!=e&&t!=t}function nt(e){return function(e){return ct(e)&&ot(e)}(e)&&ie.call(e,"callee")&&(!ue.call(e,"callee")||ae.call(e)==c)}et.Cache=_e;var rt=Array.isArray;function ot(e){return null!=e&&at(e.length)&&!it(e)}function it(e){var t=st(e)?ae.call(e):"";return t==f||"[object GeneratorFunction]"==t}function at(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function st(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ct(e){return!!e&&"object"==typeof e}function lt(e){return"symbol"==typeof e||ct(e)&&ae.call(e)==w}var ut=K?function(e){return function(t){return e(t)}}(K):function(e){return ct(e)&&at(e.length)&&!!R[ae.call(e)]};function dt(e){return ot(e)?Ne(e):Qe(e)}function pt(e){return e}e.exports=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var i,c,l=r-1;return void 0!==n&&(i=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(lt(e))return s;if(st(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=st(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(I,"");var n=S.test(e);return n||N.test(e)?j(e.slice(2),n?2:8):_.test(e)?s:+e}(e))===o||e===-1/0?(e<0?-1:1)*a:e==e?e:0:0===e?e:0}(n),c=i%1,l=i==i?c?i-c:i:0,l=n<0?fe(r+l,0):he(l,r-1)),function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,ze(t),l,!0)}},9208:(e,t,n)=>{var r="__lodash_hash_undefined__",o="[object Function]",i="[object GeneratorFunction]",a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/,c=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,p="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,f="object"==typeof self&&self&&self.Object===Object&&self,h=p||f||Function("return this")();var A,m=Array.prototype,g=Function.prototype,v=Object.prototype,b=h["__core-js_shared__"],y=(A=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",w=g.toString,x=v.hasOwnProperty,k=v.toString,C=RegExp("^"+w.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=h.Symbol,B=m.splice,T=U(h,"Map"),M=U(Object,"create"),I=E?E.prototype:void 0,D=I?I.toString:void 0;function _(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function O(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function N(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!=n&&r!=r)return o;return-1}function L(e,t){for(var n,r=0,o=(t=function(e,t){if(P(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||V(e))return!0;return s.test(e)||!a.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:P(n=t)?n:F(n)).length;null!=e&&r<o;)e=e[z(t[r++])];return r&&r==o?e:void 0}function R(e){return!(!H(e)||(t=e,y&&y in t))&&(function(e){var t=H(e)?k.call(e):"";return t==o||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?C:d).test(function(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function j(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function U(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return R(n)?n:void 0}_.prototype.clear=function(){this.__data__=M?M(null):{}},_.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},_.prototype.get=function(e){var t=this.__data__;if(M){var n=t[e];return n===r?void 0:n}return x.call(t,e)?t[e]:void 0},_.prototype.has=function(e){var t=this.__data__;return M?void 0!==t[e]:x.call(t,e)},_.prototype.set=function(e,t){return this.__data__[e]=M&&void 0===t?r:t,this},S.prototype.clear=function(){this.__data__=[]},S.prototype.delete=function(e){var t=this.__data__,n=N(t,e);return!(n<0)&&(n==t.length-1?t.pop():B.call(t,n,1),!0)},S.prototype.get=function(e){var t=this.__data__,n=N(t,e);return n<0?void 0:t[n][1]},S.prototype.has=function(e){return N(this.__data__,e)>-1},S.prototype.set=function(e,t){var n=this.__data__,r=N(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},O.prototype.clear=function(){this.__data__={hash:new _,map:new(T||S),string:new _}},O.prototype.delete=function(e){return j(this,e).delete(e)},O.prototype.get=function(e){return j(this,e).get(e)},O.prototype.has=function(e){return j(this,e).has(e)},O.prototype.set=function(e,t){return j(this,e).set(e,t),this};var F=Q((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(V(e))return D?D.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return c.test(e)&&n.push(""),e.replace(l,(function(e,t,r,o){n.push(r?o.replace(u,"$1"):t||e)})),n}));function z(e){if("string"==typeof e||V(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Q(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(Q.Cache||O),n}Q.Cache=O;var P=Array.isArray;function H(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function V(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==k.call(e)}e.exports=function(e,t,n){var r=null==e?void 0:L(e,t);return void 0===r?n:r}},2307:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Array]",s="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",d="[object Map]",p="[object Number]",f="[object Object]",h="[object Promise]",A="[object RegExp]",m="[object Set]",g="[object String]",v="[object Symbol]",b="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",x=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[i]=C[a]=C[y]=C[s]=C[w]=C[c]=C[l]=C[u]=C[d]=C[p]=C[f]=C[A]=C[m]=C[g]=C[b]=!1;var E="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,B="object"==typeof self&&self&&self.Object===Object&&self,T=E||B||Function("return this")(),M=t&&!t.nodeType&&t,I=M&&e&&!e.nodeType&&e,D=I&&I.exports===M,_=D&&E.process,S=function(){try{return _&&_.binding&&_.binding("util")}catch(e){}}(),O=S&&S.isTypedArray;function N(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function L(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function R(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var j,U,F,z=Array.prototype,Q=Function.prototype,P=Object.prototype,H=T["__core-js_shared__"],V=Q.toString,K=P.hasOwnProperty,G=(j=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",W=P.toString,Y=RegExp("^"+V.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=D?T.Buffer:void 0,Z=T.Symbol,X=T.Uint8Array,J=P.propertyIsEnumerable,$=z.splice,ee=Z?Z.toStringTag:void 0,te=Object.getOwnPropertySymbols,ne=q?q.isBuffer:void 0,re=(U=Object.keys,F=Object,function(e){return U(F(e))}),oe=Se(T,"DataView"),ie=Se(T,"Map"),ae=Se(T,"Promise"),se=Se(T,"Set"),ce=Se(T,"WeakMap"),le=Se(Object,"create"),ue=Re(oe),de=Re(ie),pe=Re(ae),fe=Re(se),he=Re(ce),Ae=Z?Z.prototype:void 0,me=Ae?Ae.valueOf:void 0;function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new be;++t<n;)this.add(e[t])}function we(e){var t=this.__data__=new ve(e);this.size=t.size}function xe(e,t){var n=Fe(e),r=!n&&Ue(e),o=!n&&!r&&ze(e),i=!n&&!r&&!o&&Ke(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var l in e)!t&&!K.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Le(l,c))||s.push(l);return s}function ke(e,t){for(var n=e.length;n--;)if(je(e[n][0],t))return n;return-1}function Ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=K.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(e){}var o=W.call(e);r&&(t?e[ee]=n:delete e[ee]);return o}(e):function(e){return W.call(e)}(e)}function Ee(e){return Ve(e)&&Ce(e)==i}function Be(e,t,n,r,o){return e===t||(null==e||null==t||!Ve(e)&&!Ve(t)?e!=e&&t!=t:function(e,t,n,r,o,u){var h=Fe(e),b=Fe(t),x=h?a:Ne(e),k=b?a:Ne(t),C=(x=x==i?f:x)==f,E=(k=k==i?f:k)==f,B=x==k;if(B&&ze(e)){if(!ze(t))return!1;h=!0,C=!1}if(B&&!C)return u||(u=new we),h||Ke(e)?Ie(e,t,n,r,o,u):function(e,t,n,r,o,i,a){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!i(new X(e),new X(t)));case s:case c:case p:return je(+e,+t);case l:return e.name==t.name&&e.message==t.message;case A:case g:return e==t+"";case d:var u=L;case m:var f=1&r;if(u||(u=R),e.size!=t.size&&!f)return!1;var h=a.get(e);if(h)return h==t;r|=2,a.set(e,t);var b=Ie(u(e),u(t),r,o,i,a);return a.delete(e),b;case v:if(me)return me.call(e)==me.call(t)}return!1}(e,t,x,n,r,o,u);if(!(1&n)){var T=C&&K.call(e,"__wrapped__"),M=E&&K.call(t,"__wrapped__");if(T||M){var I=T?e.value():e,D=M?t.value():t;return u||(u=new we),o(I,D,n,r,u)}}if(!B)return!1;return u||(u=new we),function(e,t,n,r,o,i){var a=1&n,s=De(e),c=s.length,l=De(t).length;if(c!=l&&!a)return!1;var u=c;for(;u--;){var d=s[u];if(!(a?d in t:K.call(t,d)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var f=!0;i.set(e,t),i.set(t,e);var h=a;for(;++u<c;){var A=e[d=s[u]],m=t[d];if(r)var g=a?r(m,A,d,t,e,i):r(A,m,d,e,t,i);if(!(void 0===g?A===m||o(A,m,n,r,i):g)){f=!1;break}h||(h="constructor"==d)}if(f&&!h){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,r,o,u)}(e,t,n,r,Be,o))}function Te(e){return!(!He(e)||function(e){return!!G&&G in e}(e))&&(Qe(e)?Y:x).test(Re(e))}function Me(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||P,t!==r)return re(e);var t,n,r,o=[];for(var i in Object(e))K.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Ie(e,t,n,r,o,i){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=i.get(e);if(l&&i.get(t))return l==t;var u=-1,d=!0,p=2&n?new ye:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var f=e[u],h=t[u];if(r)var A=a?r(h,f,u,t,e,i):r(f,h,u,e,t,i);if(void 0!==A){if(A)continue;d=!1;break}if(p){if(!N(t,(function(e,t){if(a=t,!p.has(a)&&(f===e||o(f,e,n,r,i)))return p.push(t);var a}))){d=!1;break}}else if(f!==h&&!o(f,h,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function De(e){return function(e,t,n){var r=t(e);return Fe(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ge,Oe)}function _e(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Se(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Te(n)?n:void 0}ge.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(le){var n=t[e];return n===r?void 0:n}return K.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:K.call(t,e)},ge.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=le&&void 0===t?r:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,n=ke(t,e);return!(n<0)&&(n==t.length-1?t.pop():$.call(t,n,1),--this.size,!0)},ve.prototype.get=function(e){var t=this.__data__,n=ke(t,e);return n<0?void 0:t[n][1]},ve.prototype.has=function(e){return ke(this.__data__,e)>-1},ve.prototype.set=function(e,t){var n=this.__data__,r=ke(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},be.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(ie||ve),string:new ge}},be.prototype.delete=function(e){var t=_e(this,e).delete(e);return this.size-=t?1:0,t},be.prototype.get=function(e){return _e(this,e).get(e)},be.prototype.has=function(e){return _e(this,e).has(e)},be.prototype.set=function(e,t){var n=_e(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ye.prototype.add=ye.prototype.push=function(e){return this.__data__.set(e,r),this},ye.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new ve,this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ve){var r=n.__data__;if(!ie||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new be(r)}return n.set(e,t),this.size=n.size,this};var Oe=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(te(e),(function(t){return J.call(e,t)})))}:function(){return[]},Ne=Ce;function Le(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&e<t}function Re(e){if(null!=e){try{return V.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function je(e,t){return e===t||e!=e&&t!=t}(oe&&Ne(new oe(new ArrayBuffer(1)))!=w||ie&&Ne(new ie)!=d||ae&&Ne(ae.resolve())!=h||se&&Ne(new se)!=m||ce&&Ne(new ce)!=b)&&(Ne=function(e){var t=Ce(e),n=t==f?e.constructor:void 0,r=n?Re(n):"";if(r)switch(r){case ue:return w;case de:return d;case pe:return h;case fe:return m;case he:return b}return t});var Ue=Ee(function(){return arguments}())?Ee:function(e){return Ve(e)&&K.call(e,"callee")&&!J.call(e,"callee")},Fe=Array.isArray;var ze=ne||function(){return!1};function Qe(e){if(!He(e))return!1;var t=Ce(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Pe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function He(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var Ke=O?function(e){return function(t){return e(t)}}(O):function(e){return Ve(e)&&Pe(e.length)&&!!C[Ce(e)]};function Ge(e){return null!=(t=e)&&Pe(t.length)&&!Qe(t)?xe(e):Me(e);var t}e.exports=function(e,t){return Be(e,t)}},2378:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Function]",s="[object Object]",c=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[i]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u[a]=u["[object Map]"]=u["[object Number]"]=u[s]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1;var d="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,p="object"==typeof self&&self&&self.Object===Object&&self,f=d||p||Function("return this")(),h=t&&!t.nodeType&&t,A=h&&e&&!e.nodeType&&e,m=A&&A.exports===h,g=m&&d.process,v=function(){try{var e=A&&A.require&&A.require("util").types;return e||g&&g.binding&&g.binding("util")}catch(e){}}(),b=v&&v.isTypedArray;function y(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var w,x,k,C=Array.prototype,E=Function.prototype,B=Object.prototype,T=f["__core-js_shared__"],M=E.toString,I=B.hasOwnProperty,D=(w=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",_=B.toString,S=M.call(Object),O=RegExp("^"+M.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=m?f.Buffer:void 0,L=f.Symbol,R=f.Uint8Array,j=N?N.allocUnsafe:void 0,U=(x=Object.getPrototypeOf,k=Object,function(e){return x(k(e))}),F=Object.create,z=B.propertyIsEnumerable,Q=C.splice,P=L?L.toStringTag:void 0,H=function(){try{var e=he(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),V=N?N.isBuffer:void 0,K=Math.max,G=Date.now,W=he(f,"Map"),Y=he(Object,"create"),q=function(){function e(){}return function(t){if(!Be(t))return{};if(F)return F(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $(e){var t=this.__data__=new X(e);this.size=t.size}function ee(e,t){var n=we(e),r=!n&&ye(e),o=!n&&!r&&ke(e),i=!n&&!r&&!o&&Me(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var l in e)!t&&!I.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ae(l,c))||s.push(l);return s}function te(e,t,n){(void 0!==n&&!be(e[t],n)||void 0===n&&!(t in e))&&oe(e,t,n)}function ne(e,t,n){var r=e[t];I.call(e,t)&&be(r,n)&&(void 0!==n||t in e)||oe(e,t,n)}function re(e,t){for(var n=e.length;n--;)if(be(e[n][0],t))return n;return-1}function oe(e,t,n){"__proto__"==t&&H?H(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}Z.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},Z.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Z.prototype.get=function(e){var t=this.__data__;if(Y){var n=t[e];return n===r?void 0:n}return I.call(t,e)?t[e]:void 0},Z.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:I.call(t,e)},Z.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Y&&void 0===t?r:t,this},X.prototype.clear=function(){this.__data__=[],this.size=0},X.prototype.delete=function(e){var t=this.__data__,n=re(t,e);return!(n<0)&&(n==t.length-1?t.pop():Q.call(t,n,1),--this.size,!0)},X.prototype.get=function(e){var t=this.__data__,n=re(t,e);return n<0?void 0:t[n][1]},X.prototype.has=function(e){return re(this.__data__,e)>-1},X.prototype.set=function(e,t){var n=this.__data__,r=re(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},J.prototype.clear=function(){this.size=0,this.__data__={hash:new Z,map:new(W||X),string:new Z}},J.prototype.delete=function(e){var t=fe(this,e).delete(e);return this.size-=t?1:0,t},J.prototype.get=function(e){return fe(this,e).get(e)},J.prototype.has=function(e){return fe(this,e).has(e)},J.prototype.set=function(e,t){var n=fe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},$.prototype.clear=function(){this.__data__=new X,this.size=0},$.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$.prototype.get=function(e){return this.__data__.get(e)},$.prototype.has=function(e){return this.__data__.has(e)},$.prototype.set=function(e,t){var n=this.__data__;if(n instanceof X){var r=n.__data__;if(!W||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new J(r)}return n.set(e,t),this.size=n.size,this};var ie,ae=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[ie?a:++r];if(!1===t(o[s],s,o))break}return e};function se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":P&&P in Object(e)?function(e){var t=I.call(e,P),n=e[P];try{e[P]=void 0;var r=!0}catch(e){}var o=_.call(e);r&&(t?e[P]=n:delete e[P]);return o}(e):function(e){return _.call(e)}(e)}function ce(e){return Te(e)&&se(e)==i}function le(e){return!(!Be(e)||function(e){return!!D&&D in e}(e))&&(Ce(e)?O:c).test(function(e){if(null!=e){try{return M.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ue(e){if(!Be(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=me(e),n=[];for(var r in e)("constructor"!=r||!t&&I.call(e,r))&&n.push(r);return n}function de(e,t,n,r,o){e!==t&&ae(t,(function(i,a){if(o||(o=new $),Be(i))!function(e,t,n,r,o,i,a){var c=ge(e,n),l=ge(t,n),u=a.get(l);if(u)return void te(e,n,u);var d=i?i(c,l,n+"",e,t,a):void 0,p=void 0===d;if(p){var f=we(l),h=!f&&ke(l),A=!f&&!h&&Me(l);d=l,f||h||A?we(c)?d=c:Te(y=c)&&xe(y)?d=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(c):h?(p=!1,d=function(e,t){if(t)return e.slice();var n=e.length,r=j?j(n):new e.constructor(n);return e.copy(r),r}(l,!0)):A?(p=!1,m=l,g=!0?(v=m.buffer,b=new v.constructor(v.byteLength),new R(b).set(new R(v)),b):m.buffer,d=new m.constructor(g,m.byteOffset,m.length)):d=[]:function(e){if(!Te(e)||se(e)!=s)return!1;var t=U(e);if(null===t)return!0;var n=I.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&M.call(n)==S}(l)||ye(l)?(d=c,ye(c)?d=function(e){return function(e,t,n,r){var o=!n;n||(n={});var i=-1,a=t.length;for(;++i<a;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?oe(n,s,c):ne(n,s,c)}return n}(e,Ie(e))}(c):Be(c)&&!Ce(c)||(d=function(e){return"function"!=typeof e.constructor||me(e)?{}:q(U(e))}(l))):p=!1}var m,g,v,b;var y;p&&(a.set(l,d),o(d,l,r,i,a),a.delete(l));te(e,n,d)}(e,t,a,n,de,r,o);else{var c=r?r(ge(e,a),i,a+"",e,t,o):void 0;void 0===c&&(c=i),te(e,a,c)}}),Ie)}function pe(e,t){return ve(function(e,t,n){return t=K(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=K(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),y(e,this,s)}}(e,t,Se),e+"")}function fe(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function he(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return le(n)?n:void 0}function Ae(e,t){var n=typeof e;return!!(t=null==t?o:t)&&("number"==n||"symbol"!=n&&l.test(e))&&e>-1&&e%1==0&&e<t}function me(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||B)}function ge(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ve=function(e){var t=0,n=0;return function(){var r=G(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(H?function(e,t){return H(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Se);function be(e,t){return e===t||e!=e&&t!=t}var ye=ce(function(){return arguments}())?ce:function(e){return Te(e)&&I.call(e,"callee")&&!z.call(e,"callee")},we=Array.isArray;function xe(e){return null!=e&&Ee(e.length)&&!Ce(e)}var ke=V||function(){return!1};function Ce(e){if(!Be(e))return!1;var t=se(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ee(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Be(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Te(e){return null!=e&&"object"==typeof e}var Me=b?function(e){return function(t){return e(t)}}(b):function(e){return Te(e)&&Ee(e.length)&&!!u[se(e)]};function Ie(e){return xe(e)?ee(e,!0):ue(e)}var De,_e=(De=function(e,t,n){de(e,t,n)},pe((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=De.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!Be(n))return!1;var r=typeof t;return!!("number"==r?xe(n)&&Ae(t,n.length):"string"==r&&t in n)&&be(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&De(e,a,n,o)}return e})));function Se(e){return e}e.exports=_e},3096:(e,t,n)=>{var r="Expected a function",o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=l||u||Function("return this")(),p=Object.prototype.toString,f=Math.max,h=Math.min,A=function(){return d.Date.now()};function m(e,t,n){var o,i,a,s,c,l,u=0,d=!1,p=!1,m=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=o,r=i;return o=i=void 0,u=t,s=e.apply(r,n)}function y(e){return u=e,c=setTimeout(x,t),d?b(e):s}function w(e){var n=e-l;return void 0===l||n>=t||n<0||p&&e-u>=a}function x(){var e=A();if(w(e))return k(e);c=setTimeout(x,function(e){var n=t-(e-l);return p?h(n,a-(e-u)):n}(e))}function k(e){return c=void 0,m&&o?b(e):(o=i=void 0,s)}function C(){var e=A(),n=w(e);if(o=arguments,i=this,l=e,n){if(void 0===c)return y(l);if(p)return c=setTimeout(x,t),b(l)}return void 0===c&&(c=setTimeout(x,t)),s}return t=v(t)||0,g(n)&&(d=!!n.leading,a=(p="maxWait"in n)?f(v(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),C.cancel=function(){void 0!==c&&clearTimeout(c),u=0,o=l=i=c=void 0},C.flush=function(){return void 0===c?s:k(A())},C}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==p.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=a.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(r);return g(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),m(e,t,{leading:o,maxWait:t,trailing:i})}},6486:function(e,t,n){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,l=32,u=64,d=128,p=256,f=1/0,h=9007199254740991,A=NaN,m=4294967295,g=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",l],["partialRight",u],["rearg",p]],v="[object Arguments]",b="[object Array]",y="[object Boolean]",w="[object Date]",x="[object Error]",k="[object Function]",C="[object GeneratorFunction]",E="[object Map]",B="[object Number]",T="[object Object]",M="[object Promise]",I="[object RegExp]",D="[object Set]",_="[object String]",S="[object Symbol]",O="[object WeakMap]",N="[object ArrayBuffer]",L="[object DataView]",R="[object Float32Array]",j="[object Float64Array]",U="[object Int8Array]",F="[object Int16Array]",z="[object Int32Array]",Q="[object Uint8Array]",P="[object Uint8ClampedArray]",H="[object Uint16Array]",V="[object Uint32Array]",K=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,Z=RegExp(Y.source),X=RegExp(q.source),J=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),ae=/^\s+/,se=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pe=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ae=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Be="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Me="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",De="['’]",_e="[\\ud800-\\udfff]",Se="["+Ie+"]",Oe="["+Ce+"]",Ne="\\d+",Le="[\\u2700-\\u27bf]",Re="["+Be+"]",je="[^\\ud800-\\udfff"+Ie+Ne+Ee+Be+Te+"]",Ue="\\ud83c[\\udffb-\\udfff]",Fe="[^\\ud800-\\udfff]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Qe="[\\ud800-\\udbff][\\udc00-\\udfff]",Pe="["+Te+"]",He="(?:"+Re+"|"+je+")",Ve="(?:"+Pe+"|"+je+")",Ke="(?:['’](?:d|ll|m|re|s|t|ve))?",Ge="(?:['’](?:D|LL|M|RE|S|T|VE))?",We="(?:"+Oe+"|"+Ue+")"+"?",Ye="[\\ufe0e\\ufe0f]?",qe=Ye+We+("(?:\\u200d(?:"+[Fe,ze,Qe].join("|")+")"+Ye+We+")*"),Ze="(?:"+[Le,ze,Qe].join("|")+")"+qe,Xe="(?:"+[Fe+Oe+"?",Oe,ze,Qe,_e].join("|")+")",Je=RegExp(De,"g"),$e=RegExp(Oe,"g"),et=RegExp(Ue+"(?="+Ue+")|"+Xe+qe,"g"),tt=RegExp([Pe+"?"+Re+"+"+Ke+"(?="+[Se,Pe,"$"].join("|")+")",Ve+"+"+Ge+"(?="+[Se,Pe+He,"$"].join("|")+")",Pe+"?"+He+"+"+Ke,Pe+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Ze].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Ce+Me+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,at={};at[R]=at[j]=at[U]=at[F]=at[z]=at[Q]=at[P]=at[H]=at[V]=!0,at[v]=at[b]=at[N]=at[y]=at[L]=at[w]=at[x]=at[k]=at[E]=at[B]=at[T]=at[I]=at[D]=at[_]=at[O]=!1;var st={};st[v]=st[b]=st[N]=st[L]=st[y]=st[w]=st[R]=st[j]=st[U]=st[F]=st[z]=st[E]=st[B]=st[T]=st[I]=st[D]=st[_]=st[S]=st[Q]=st[P]=st[H]=st[V]=!0,st[x]=st[k]=st[O]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ut=parseInt,dt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,ft=dt||pt||Function("return this")(),ht=t&&!t.nodeType&&t,At=ht&&e&&!e.nodeType&&e,mt=At&&At.exports===ht,gt=mt&&dt.process,vt=function(){try{var e=At&&At.require&&At.require("util").types;return e||gt&&gt.binding&&gt.binding("util")}catch(e){}}(),bt=vt&&vt.isArrayBuffer,yt=vt&&vt.isDate,wt=vt&&vt.isMap,xt=vt&&vt.isRegExp,kt=vt&&vt.isSet,Ct=vt&&vt.isTypedArray;function Et(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Bt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Mt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function _t(e,t){return!!(null==e?0:e.length)&&Qt(e,t,0)>-1}function St(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Nt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Lt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Rt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=Kt("length");function Ft(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function zt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Qt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):zt(e,Ht,n)}function Pt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Ht(e){return e!=e}function Vt(e,t){var n=null==e?0:e.length;return n?Yt(e,t)/n:A}function Kt(e){return function(t){return null==t?o:t[e]}}function Gt(e){return function(t){return null==e?o:e[t]}}function Wt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Yt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function qt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Zt(e){return e?e.slice(0,An(e)+1).replace(ae,""):e}function Xt(e){return function(t){return e(t)}}function Jt(e,t){return Ot(t,(function(t){return e[t]}))}function $t(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Qt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Qt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Gt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),on=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ct[e]}function sn(e){return nt.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function fn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Ut(e)}function hn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function An(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var mn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function e(t){var n,r=(t=null==t?ft:gn.defaults(ft.Object(),t,gn.pick(ft,ot))).Array,se=t.Date,Ce=t.Error,Ee=t.Function,Be=t.Math,Te=t.Object,Me=t.RegExp,Ie=t.String,De=t.TypeError,_e=r.prototype,Se=Ee.prototype,Oe=Te.prototype,Ne=t["__core-js_shared__"],Le=Se.toString,Re=Oe.hasOwnProperty,je=0,Ue=(n=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Fe=Oe.toString,ze=Le.call(Te),Qe=ft._,Pe=Me("^"+Le.call(Re).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=mt?t.Buffer:o,Ve=t.Symbol,Ke=t.Uint8Array,Ge=He?He.allocUnsafe:o,We=ln(Te.getPrototypeOf,Te),Ye=Te.create,qe=Oe.propertyIsEnumerable,Ze=_e.splice,Xe=Ve?Ve.isConcatSpreadable:o,et=Ve?Ve.iterator:o,nt=Ve?Ve.toStringTag:o,ct=function(){try{var e=hi(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),dt=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,pt=se&&se.now!==ft.Date.now&&se.now,ht=t.setTimeout!==ft.setTimeout&&t.setTimeout,At=Be.ceil,gt=Be.floor,vt=Te.getOwnPropertySymbols,Ut=He?He.isBuffer:o,Gt=t.isFinite,vn=_e.join,bn=ln(Te.keys,Te),yn=Be.max,wn=Be.min,xn=se.now,kn=t.parseInt,Cn=Be.random,En=_e.reverse,Bn=hi(t,"DataView"),Tn=hi(t,"Map"),Mn=hi(t,"Promise"),In=hi(t,"Set"),Dn=hi(t,"WeakMap"),_n=hi(Te,"create"),Sn=Dn&&new Dn,On={},Nn=Qi(Bn),Ln=Qi(Tn),Rn=Qi(Mn),jn=Qi(In),Un=Qi(Dn),Fn=Ve?Ve.prototype:o,zn=Fn?Fn.valueOf:o,Qn=Fn?Fn.toString:o;function Pn(e){if(os(e)&&!Wa(e)&&!(e instanceof Gn)){if(e instanceof Kn)return e;if(Re.call(e,"__wrapped__"))return Pi(e)}return new Kn(e)}var Hn=function(){function e(){}return function(t){if(!rs(t))return{};if(Ye)return Ye(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Vn(){}function Kn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Gn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Xn(e){var t=this.__data__=new Yn(e);this.size=t.size}function Jn(e,t){var n=Wa(e),r=!n&&Ga(e),o=!n&&!r&&Xa(e),i=!n&&!r&&!o&&ps(e),a=n||r||o||i,s=a?qt(e.length,Ie):[],c=s.length;for(var l in e)!t&&!Re.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||wi(l,c))||s.push(l);return s}function $n(e){var t=e.length;return t?e[Zr(0,t-1)]:o}function er(e,t){return Ui(So(e),lr(t,0,e.length))}function tr(e){return Ui(So(e))}function nr(e,t,n){(n!==o&&!Ha(e[t],n)||n===o&&!(t in e))&&sr(e,t,n)}function rr(e,t,n){var r=e[t];Re.call(e,t)&&Ha(r,n)&&(n!==o||t in e)||sr(e,t,n)}function or(e,t){for(var n=e.length;n--;)if(Ha(e[n][0],t))return n;return-1}function ir(e,t,n,r){return hr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ar(e,t){return e&&Oo(t,Ns(t),e)}function sr(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function cr(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:Is(e,t[n]);return a}function lr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ur(e,t,n,r,i,a){var s,c=1&t,l=2&t,u=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!rs(e))return e;var d=Wa(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return So(e,s)}else{var p=gi(e),f=p==k||p==C;if(Xa(e))return Bo(e,c);if(p==T||p==v||f&&!i){if(s=l||f?{}:bi(e),!c)return l?function(e,t){return Oo(e,mi(e),t)}(e,function(e,t){return e&&Oo(t,Ls(t),e)}(s,e)):function(e,t){return Oo(e,Ai(e),t)}(e,ar(s,e))}else{if(!st[p])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case N:return To(e);case y:case w:return new r(+e);case L:return function(e,t){var n=t?To(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case j:case U:case F:case z:case Q:case P:case H:case V:return Mo(e,n);case E:return new r;case B:case _:return new r(e);case I:return function(e){var t=new e.constructor(e.source,Ae.exec(e));return t.lastIndex=e.lastIndex,t}(e);case D:return new r;case S:return o=e,zn?Te(zn.call(o)):{}}var o}(e,p,c)}}a||(a=new Xn);var h=a.get(e);if(h)return h;a.set(e,s),ls(e)?e.forEach((function(r){s.add(ur(r,t,n,r,e,a))})):is(e)&&e.forEach((function(r,o){s.set(o,ur(r,t,n,o,e,a))}));var A=d?o:(u?l?si:ai:l?Ls:Ns)(e);return Tt(A||e,(function(r,o){A&&(r=e[o=r]),rr(s,o,ur(r,t,n,o,e,a))})),s}function dr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function pr(e,t,n){if("function"!=typeof e)throw new De(i);return Ni((function(){e.apply(o,n)}),t)}function fr(e,t,n,r){var o=-1,i=_t,a=!0,s=e.length,c=[],l=t.length;if(!s)return c;n&&(t=Ot(t,Xt(n))),r?(i=St,a=!1):t.length>=200&&(i=$t,a=!1,t=new Zn(t));e:for(;++o<s;){var u=e[o],d=null==n?u:n(u);if(u=r||0!==u?u:0,a&&d==d){for(var p=l;p--;)if(t[p]===d)continue e;c.push(u)}else i(t,d,r)||c.push(u)}return c}Pn.templateSettings={escape:J,evaluate:$,interpolate:ee,variable:"",imports:{_:Pn}},Pn.prototype=Vn.prototype,Pn.prototype.constructor=Pn,Kn.prototype=Hn(Vn.prototype),Kn.prototype.constructor=Kn,Gn.prototype=Hn(Vn.prototype),Gn.prototype.constructor=Gn,Wn.prototype.clear=function(){this.__data__=_n?_n(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(_n){var n=t[e];return n===a?o:n}return Re.call(t,e)?t[e]:o},Wn.prototype.has=function(e){var t=this.__data__;return _n?t[e]!==o:Re.call(t,e)},Wn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_n&&t===o?a:t,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=or(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,!0)},Yn.prototype.get=function(e){var t=this.__data__,n=or(t,e);return n<0?o:t[n][1]},Yn.prototype.has=function(e){return or(this.__data__,e)>-1},Yn.prototype.set=function(e,t){var n=this.__data__,r=or(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Tn||Yn),string:new Wn}},qn.prototype.delete=function(e){var t=pi(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return pi(this,e).get(e)},qn.prototype.has=function(e){return pi(this,e).has(e)},qn.prototype.set=function(e,t){var n=pi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(e){return this.__data__.set(e,a),this},Zn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.clear=function(){this.__data__=new Yn,this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Xn.prototype.get=function(e){return this.__data__.get(e)},Xn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(e,t),this.size=n.size,this};var hr=Ro(xr),Ar=Ro(kr,!0);function mr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function gr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(c===o?s==s&&!ds(s):n(s,c)))var c=s,l=a}return l}function vr(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function br(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=yi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?br(s,t-1,n,r,o):Nt(o,s):r||(o[o.length]=s)}return o}var yr=jo(),wr=jo(!0);function xr(e,t){return e&&yr(e,t,Ns)}function kr(e,t){return e&&wr(e,t,Ns)}function Cr(e,t){return Dt(t,(function(t){return es(e[t])}))}function Er(e,t){for(var n=0,r=(t=xo(t,e)).length;null!=e&&n<r;)e=e[zi(t[n++])];return n&&n==r?e:o}function Br(e,t,n){var r=t(e);return Wa(e)?r:Nt(r,n(e))}function Tr(e){return null==e?e===o?"[object Undefined]":"[object Null]":nt&&nt in Te(e)?function(e){var t=Re.call(e,nt),n=e[nt];try{e[nt]=o;var r=!0}catch(e){}var i=Fe.call(e);r&&(t?e[nt]=n:delete e[nt]);return i}(e):function(e){return Fe.call(e)}(e)}function Mr(e,t){return e>t}function Ir(e,t){return null!=e&&Re.call(e,t)}function Dr(e,t){return null!=e&&t in Te(e)}function _r(e,t,n){for(var i=n?St:_t,a=e[0].length,s=e.length,c=s,l=r(s),u=1/0,d=[];c--;){var p=e[c];c&&t&&(p=Ot(p,Xt(t))),u=wn(p.length,u),l[c]=!n&&(t||a>=120&&p.length>=120)?new Zn(c&&p):o}p=e[0];var f=-1,h=l[0];e:for(;++f<a&&d.length<u;){var A=p[f],m=t?t(A):A;if(A=n||0!==A?A:0,!(h?$t(h,m):i(d,m,n))){for(c=s;--c;){var g=l[c];if(!(g?$t(g,m):i(e[c],m,n)))continue e}h&&h.push(m),d.push(A)}}return d}function Sr(e,t,n){var r=null==(e=Di(e,t=xo(t,e)))?e:e[zi($i(t))];return null==r?o:Et(r,e,n)}function Or(e){return os(e)&&Tr(e)==v}function Nr(e,t,n,r,i){return e===t||(null==e||null==t||!os(e)&&!os(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=Wa(e),c=Wa(t),l=s?b:gi(e),u=c?b:gi(t),d=(l=l==v?T:l)==T,p=(u=u==v?T:u)==T,f=l==u;if(f&&Xa(e)){if(!Xa(t))return!1;s=!0,d=!1}if(f&&!d)return a||(a=new Xn),s||ps(e)?oi(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!i(new Ke(e),new Ke(t)));case y:case w:case B:return Ha(+e,+t);case x:return e.name==t.name&&e.message==t.message;case I:case _:return e==t+"";case E:var s=cn;case D:var c=1&r;if(s||(s=dn),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var u=oi(s(e),s(t),r,o,i,a);return a.delete(e),u;case S:if(zn)return zn.call(e)==zn.call(t)}return!1}(e,t,l,n,r,i,a);if(!(1&n)){var h=d&&Re.call(e,"__wrapped__"),A=p&&Re.call(t,"__wrapped__");if(h||A){var m=h?e.value():e,g=A?t.value():t;return a||(a=new Xn),i(m,g,n,r,a)}}if(!f)return!1;return a||(a=new Xn),function(e,t,n,r,i,a){var s=1&n,c=ai(e),l=c.length,u=ai(t).length;if(l!=u&&!s)return!1;var d=l;for(;d--;){var p=c[d];if(!(s?p in t:Re.call(t,p)))return!1}var f=a.get(e),h=a.get(t);if(f&&h)return f==t&&h==e;var A=!0;a.set(e,t),a.set(t,e);var m=s;for(;++d<l;){var g=e[p=c[d]],v=t[p];if(r)var b=s?r(v,g,p,t,e,a):r(g,v,p,e,t,a);if(!(b===o?g===v||i(g,v,n,r,a):b)){A=!1;break}m||(m="constructor"==p)}if(A&&!m){var y=e.constructor,w=t.constructor;y==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(A=!1)}return a.delete(e),a.delete(t),A}(e,t,n,r,i,a)}(e,t,n,r,Nr,i))}function Lr(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=Te(e);i--;){var c=n[i];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){var l=(c=n[i])[0],u=e[l],d=c[1];if(s&&c[2]){if(u===o&&!(l in e))return!1}else{var p=new Xn;if(r)var f=r(u,d,l,e,t,p);if(!(f===o?Nr(d,u,3,r,p):f))return!1}}return!0}function Rr(e){return!(!rs(e)||(t=e,Ue&&Ue in t))&&(es(e)?Pe:ve).test(Qi(e));var t}function jr(e){return"function"==typeof e?e:null==e?ac:"object"==typeof e?Wa(e)?Hr(e[0],e[1]):Pr(e):Ac(e)}function Ur(e){if(!Bi(e))return bn(e);var t=[];for(var n in Te(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!rs(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Bi(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}function zr(e,t){return e<t}function Qr(e,t){var n=-1,o=qa(e)?r(e.length):[];return hr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function Pr(e){var t=fi(e);return 1==t.length&&t[0][2]?Mi(t[0][0],t[0][1]):function(n){return n===e||Lr(n,e,t)}}function Hr(e,t){return ki(e)&&Ti(t)?Mi(zi(e),t):function(n){var r=Is(n,e);return r===o&&r===t?Ds(n,e):Nr(t,r,3)}}function Vr(e,t,n,r,i){e!==t&&yr(t,(function(a,s){if(i||(i=new Xn),rs(a))!function(e,t,n,r,i,a,s){var c=Si(e,n),l=Si(t,n),u=s.get(l);if(u)return void nr(e,n,u);var d=a?a(c,l,n+"",e,t,s):o,p=d===o;if(p){var f=Wa(l),h=!f&&Xa(l),A=!f&&!h&&ps(l);d=l,f||h||A?Wa(c)?d=c:Za(c)?d=So(c):h?(p=!1,d=Bo(l,!0)):A?(p=!1,d=Mo(l,!0)):d=[]:ss(l)||Ga(l)?(d=c,Ga(c)?d=ys(c):rs(c)&&!es(c)||(d=bi(l))):p=!1}p&&(s.set(l,d),i(d,l,r,a,s),s.delete(l));nr(e,n,d)}(e,t,s,n,Vr,r,i);else{var c=r?r(Si(e,s),a,s+"",e,t,i):o;c===o&&(c=a),nr(e,s,c)}}),Ls)}function Kr(e,t){var n=e.length;if(n)return wi(t+=t<0?n:0,n)?e[t]:o}function Gr(e,t,n){t=t.length?Ot(t,(function(e){return Wa(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[ac];var r=-1;return t=Ot(t,Xt(di())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Qr(e,(function(e,n,o){return{criteria:Ot(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var c=Io(o[r],i[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Wr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Er(e,a);n(s,a)&&to(i,xo(a,e),s)}return i}function Yr(e,t,n,r){var o=r?Pt:Qt,i=-1,a=t.length,s=e;for(e===t&&(t=So(t)),n&&(s=Ot(e,Xt(n)));++i<a;)for(var c=0,l=t[i],u=n?n(l):l;(c=o(s,u,c,r))>-1;)s!==e&&Ze.call(s,c,1),Ze.call(e,c,1);return e}function qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;wi(o)?Ze.call(e,o,1):ho(e,o)}}return e}function Zr(e,t){return e+gt(Cn()*(t-e+1))}function Xr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Li(Ii(e,t,ac),e+"")}function $r(e){return $n(Hs(e))}function eo(e,t){var n=Hs(e);return Ui(n,lr(t,0,n.length))}function to(e,t,n,r){if(!rs(e))return e;for(var i=-1,a=(t=xo(t,e)).length,s=a-1,c=e;null!=c&&++i<a;){var l=zi(t[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=s){var d=c[l];(u=r?r(d,l,c):o)===o&&(u=rs(d)?d:wi(t[i+1])?[]:{})}rr(c,l,u),c=c[l]}return e}var no=Sn?function(e,t){return Sn.set(e,t),e}:ac,ro=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:rc(t),writable:!0})}:ac;function oo(e){return Ui(Hs(e))}function io(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function ao(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function so(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!ds(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return co(e,t,ac,n)}function co(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,c=null===t,l=ds(t),u=t===o;i<a;){var d=gt((i+a)/2),p=n(e[d]),f=p!==o,h=null===p,A=p==p,m=ds(p);if(s)var g=r||A;else g=u?A&&(r||f):c?A&&f&&(r||!h):l?A&&f&&!h&&(r||!m):!h&&!m&&(r?p<=t:p<t);g?i=d+1:a=d}return wn(a,4294967294)}function lo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ha(s,c)){var c=s;i[o++]=0===a?0:a}}return i}function uo(e){return"number"==typeof e?e:ds(e)?A:+e}function po(e){if("string"==typeof e)return e;if(Wa(e))return Ot(e,po)+"";if(ds(e))return Qn?Qn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fo(e,t,n){var r=-1,o=_t,i=e.length,a=!0,s=[],c=s;if(n)a=!1,o=St;else if(i>=200){var l=t?null:Jo(e);if(l)return dn(l);a=!1,o=$t,c=new Zn}else c=t?[]:s;e:for(;++r<i;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),s.push(u)}else o(c,d,n)||(c!==s&&c.push(d),s.push(u))}return s}function ho(e,t){return null==(e=Di(e,t=xo(t,e)))||delete e[zi($i(t))]}function Ao(e,t,n,r){return to(e,t,n(Er(e,t)),r)}function mo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?io(e,r?0:i,r?i+1:o):io(e,r?i+1:0,r?o:i)}function go(e,t){var n=e;return n instanceof Gn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))}),n)}function vo(e,t,n){var o=e.length;if(o<2)return o?fo(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],c=-1;++c<o;)c!=i&&(a[i]=fr(a[i]||s,e[c],t,n));return fo(br(a,1),t,n)}function bo(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var c=r<a?t[r]:o;n(s,e[r],c)}return s}function yo(e){return Za(e)?e:[]}function wo(e){return"function"==typeof e?e:ac}function xo(e,t){return Wa(e)?e:ki(e,t)?[e]:Fi(ws(e))}var ko=Jr;function Co(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:io(e,t,n)}var Eo=dt||function(e){return ft.clearTimeout(e)};function Bo(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function To(e){var t=new e.constructor(e.byteLength);return new Ke(t).set(new Ke(e)),t}function Mo(e,t){var n=t?To(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Io(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=ds(e),s=t!==o,c=null===t,l=t==t,u=ds(t);if(!c&&!u&&!a&&e>t||a&&s&&l&&!c&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||c&&n&&i||!s&&i||!l)return-1}return 0}function Do(e,t,n,o){for(var i=-1,a=e.length,s=n.length,c=-1,l=t.length,u=yn(a-s,0),d=r(l+u),p=!o;++c<l;)d[c]=t[c];for(;++i<s;)(p||i<a)&&(d[n[i]]=e[i]);for(;u--;)d[c++]=e[i++];return d}function _o(e,t,n,o){for(var i=-1,a=e.length,s=-1,c=n.length,l=-1,u=t.length,d=yn(a-c,0),p=r(d+u),f=!o;++i<d;)p[i]=e[i];for(var h=i;++l<u;)p[h+l]=t[l];for(;++s<c;)(f||i<a)&&(p[h+n[s]]=e[i++]);return p}function So(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Oo(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var c=t[a],l=r?r(n[c],e[c],c,n,e):o;l===o&&(l=e[c]),i?sr(n,c,l):rr(n,c,l)}return n}function No(e,t){return function(n,r){var o=Wa(n)?Bt:ir,i=t?t():{};return o(n,e,di(r,2),i)}}function Lo(e){return Jr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&xi(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=Te(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}function Ro(e,t){return function(n,r){if(null==n)return n;if(!qa(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Te(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function jo(e){return function(t,n,r){for(var o=-1,i=Te(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}function Uo(e){return function(t){var n=sn(t=ws(t))?hn(t):o,r=n?n[0]:t.charAt(0),i=n?Co(n,1).join(""):t.slice(1);return r[e]()+i}}function Fo(e){return function(t){return Lt(ec(Gs(t).replace(Je,"")),e,"")}}function zo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Hn(e.prototype),r=e.apply(n,t);return rs(r)?r:n}}function Qo(e){return function(t,n,r){var i=Te(t);if(!qa(t)){var a=di(n,3);t=Ns(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function Po(e){return ii((function(t){var n=t.length,r=n,a=Kn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new De(i);if(a&&!c&&"wrapper"==li(s))var c=new Kn([],!0)}for(r=c?r:n;++r<n;){var l=li(s=t[r]),u="wrapper"==l?ci(s):o;c=u&&Ci(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[li(u[0])].apply(c,u[3]):1==s.length&&Ci(s)?c[l]():c.thru(s)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Wa(r))return c.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Ho(e,t,n,i,a,s,c,l,u,p){var f=t&d,h=1&t,A=2&t,m=24&t,g=512&t,v=A?o:zo(e);return function o(){for(var d=arguments.length,b=r(d),y=d;y--;)b[y]=arguments[y];if(m)var w=ui(o),x=nn(b,w);if(i&&(b=Do(b,i,a,m)),s&&(b=_o(b,s,c,m)),d-=x,m&&d<p){var k=un(b,w);return Zo(e,t,Ho,o.placeholder,n,b,k,l,u,p-d)}var C=h?n:this,E=A?C[e]:e;return d=b.length,l?b=_i(b,l):g&&d>1&&b.reverse(),f&&u<d&&(b.length=u),this&&this!==ft&&this instanceof o&&(E=v||zo(E)),E.apply(C,b)}}function Vo(e,t){return function(n,r){return function(e,t,n,r){return xr(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Ko(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=po(n),r=po(r)):(n=uo(n),r=uo(r)),i=e(n,r)}return i}}function Go(e){return ii((function(t){return t=Ot(t,Xt(di())),Jr((function(n){var r=this;return e(t,(function(e){return Et(e,r,n)}))}))}))}function Wo(e,t){var n=(t=t===o?" ":po(t)).length;if(n<2)return n?Xr(t,e):t;var r=Xr(t,At(e/fn(t)));return sn(t)?Co(hn(r),0,e).join(""):r.slice(0,e)}function Yo(e){return function(t,n,i){return i&&"number"!=typeof i&&xi(t,n,i)&&(n=i=o),t=ms(t),n===o?(n=t,t=0):n=ms(n),function(e,t,n,o){for(var i=-1,a=yn(At((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:ms(i),e)}}function qo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=bs(t),n=bs(n)),e(t,n)}}function Zo(e,t,n,r,i,a,s,c,d,p){var f=8&t;t|=f?l:u,4&(t&=~(f?u:l))||(t&=-4);var h=[e,t,i,f?a:o,f?s:o,f?o:a,f?o:s,c,d,p],A=n.apply(o,h);return Ci(e)&&Oi(A,h),A.placeholder=r,Ri(A,e,t)}function Xo(e){var t=Be[e];return function(e,n){if(e=bs(e),(n=null==n?0:wn(gs(n),292))&&Gt(e)){var r=(ws(e)+"e").split("e");return+((r=(ws(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Jo=In&&1/dn(new In([,-0]))[1]==f?function(e){return new In(e)}:dc;function $o(e){return function(t){var n=gi(t);return n==E?cn(t):n==D?pn(t):function(e,t){return Ot(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function ei(e,t,n,a,f,h,A,m){var g=2&t;if(!g&&"function"!=typeof e)throw new De(i);var v=a?a.length:0;if(v||(t&=-97,a=f=o),A=A===o?A:yn(gs(A),0),m=m===o?m:gs(m),v-=f?f.length:0,t&u){var b=a,y=f;a=f=o}var w=g?o:ci(e),x=[e,t,n,a,f,b,y,h,A,m];if(w&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==d&&8==n||r==d&&n==p&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Do(l,c,t[4]):c,e[4]=l?un(e[3],s):t[4]}(c=t[5])&&(l=e[5],e[5]=l?_o(l,c,t[6]):c,e[6]=l?un(e[5],s):t[6]);(c=t[7])&&(e[7]=c);r&d&&(e[8]=null==e[8]?t[8]:wn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(x,w),e=x[0],t=x[1],n=x[2],a=x[3],f=x[4],!(m=x[9]=x[9]===o?g?0:e.length:yn(x[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||t==c?function(e,t,n){var i=zo(e);return function a(){for(var s=arguments.length,c=r(s),l=s,u=ui(a);l--;)c[l]=arguments[l];var d=s<3&&c[0]!==u&&c[s-1]!==u?[]:un(c,u);return(s-=d.length)<n?Zo(e,t,Ho,a.placeholder,o,c,d,o,o,n-s):Et(this&&this!==ft&&this instanceof a?i:e,this,c)}}(e,t,m):t!=l&&33!=t||f.length?Ho.apply(o,x):function(e,t,n,o){var i=1&t,a=zo(e);return function t(){for(var s=-1,c=arguments.length,l=-1,u=o.length,d=r(u+c),p=this&&this!==ft&&this instanceof t?a:e;++l<u;)d[l]=o[l];for(;c--;)d[l++]=arguments[++s];return Et(p,i?n:this,d)}}(e,t,n,a);else var k=function(e,t,n){var r=1&t,o=zo(e);return function t(){return(this&&this!==ft&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Ri((w?no:Oi)(k,x),e,t)}function ti(e,t,n,r){return e===o||Ha(e,Oe[n])&&!Re.call(r,n)?t:e}function ni(e,t,n,r,i,a){return rs(e)&&rs(t)&&(a.set(t,e),Vr(e,t,o,ni,a),a.delete(t)),e}function ri(e){return ss(e)?o:e}function oi(e,t,n,r,i,a){var s=1&n,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var p=-1,f=!0,h=2&n?new Zn:o;for(a.set(e,t),a.set(t,e);++p<c;){var A=e[p],m=t[p];if(r)var g=s?r(m,A,p,t,e,a):r(A,m,p,e,t,a);if(g!==o){if(g)continue;f=!1;break}if(h){if(!jt(t,(function(e,t){if(!$t(h,t)&&(A===e||i(A,e,n,r,a)))return h.push(t)}))){f=!1;break}}else if(A!==m&&!i(A,m,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function ii(e){return Li(Ii(e,o,Yi),e+"")}function ai(e){return Br(e,Ns,Ai)}function si(e){return Br(e,Ls,mi)}var ci=Sn?function(e){return Sn.get(e)}:dc;function li(e){for(var t=e.name+"",n=On[t],r=Re.call(On,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ui(e){return(Re.call(Pn,"placeholder")?Pn:e).placeholder}function di(){var e=Pn.iteratee||sc;return e=e===sc?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function pi(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function fi(e){for(var t=Ns(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ti(o)]}return t}function hi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Rr(n)?n:o}var Ai=vt?function(e){return null==e?[]:(e=Te(e),Dt(vt(e),(function(t){return qe.call(e,t)})))}:vc,mi=vt?function(e){for(var t=[];e;)Nt(t,Ai(e)),e=We(e);return t}:vc,gi=Tr;function vi(e,t,n){for(var r=-1,o=(t=xo(t,e)).length,i=!1;++r<o;){var a=zi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&ns(o)&&wi(a,o)&&(Wa(e)||Ga(e))}function bi(e){return"function"!=typeof e.constructor||Bi(e)?{}:Hn(We(e))}function yi(e){return Wa(e)||Ga(e)||!!(Xe&&e&&e[Xe])}function wi(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function xi(e,t,n){if(!rs(n))return!1;var r=typeof t;return!!("number"==r?qa(n)&&wi(t,n.length):"string"==r&&t in n)&&Ha(n[t],e)}function ki(e,t){if(Wa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ds(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function Ci(e){var t=li(e),n=Pn[t];if("function"!=typeof n||!(t in Gn.prototype))return!1;if(e===n)return!0;var r=ci(n);return!!r&&e===r[0]}(Bn&&gi(new Bn(new ArrayBuffer(1)))!=L||Tn&&gi(new Tn)!=E||Mn&&gi(Mn.resolve())!=M||In&&gi(new In)!=D||Dn&&gi(new Dn)!=O)&&(gi=function(e){var t=Tr(e),n=t==T?e.constructor:o,r=n?Qi(n):"";if(r)switch(r){case Nn:return L;case Ln:return E;case Rn:return M;case jn:return D;case Un:return O}return t});var Ei=Ne?es:bc;function Bi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function Ti(e){return e==e&&!rs(e)}function Mi(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Te(n)))}}function Ii(e,t,n){return t=yn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=yn(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var c=r(t+1);++i<t;)c[i]=o[i];return c[t]=n(s),Et(e,this,c)}}function Di(e,t){return t.length<2?e:Er(e,io(t,0,-1))}function _i(e,t){for(var n=e.length,r=wn(t.length,n),i=So(e);r--;){var a=t[r];e[r]=wi(a,n)?i[a]:o}return e}function Si(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Oi=ji(no),Ni=ht||function(e,t){return ft.setTimeout(e,t)},Li=ji(ro);function Ri(e,t,n){var r=t+"";return Li(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(g,(function(n){var r="_."+n[0];t&n[1]&&!_t(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ue):[]}(r),n)))}function ji(e){var t=0,n=0;return function(){var r=xn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Ui(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Zr(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Fi=function(e){var t=ja(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(fe,"$1"):n||e)})),t}));function zi(e){if("string"==typeof e||ds(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qi(e){if(null!=e){try{return Le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Pi(e){if(e instanceof Gn)return e.clone();var t=new Kn(e.__wrapped__,e.__chain__);return t.__actions__=So(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Hi=Jr((function(e,t){return Za(e)?fr(e,br(t,1,Za,!0)):[]})),Vi=Jr((function(e,t){var n=$i(t);return Za(n)&&(n=o),Za(e)?fr(e,br(t,1,Za,!0),di(n,2)):[]})),Ki=Jr((function(e,t){var n=$i(t);return Za(n)&&(n=o),Za(e)?fr(e,br(t,1,Za,!0),o,n):[]}));function Gi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=yn(r+o,0)),zt(e,di(t,3),o)}function Wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=gs(n),i=n<0?yn(r+i,0):wn(i,r-1)),zt(e,di(t,3),i,!0)}function Yi(e){return(null==e?0:e.length)?br(e,1):[]}function qi(e){return e&&e.length?e[0]:o}var Zi=Jr((function(e){var t=Ot(e,yo);return t.length&&t[0]===e[0]?_r(t):[]})),Xi=Jr((function(e){var t=$i(e),n=Ot(e,yo);return t===$i(n)?t=o:n.pop(),n.length&&n[0]===e[0]?_r(n,di(t,2)):[]})),Ji=Jr((function(e){var t=$i(e),n=Ot(e,yo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?_r(n,o,t):[]}));function $i(e){var t=null==e?0:e.length;return t?e[t-1]:o}var ea=Jr(ta);function ta(e,t){return e&&e.length&&t&&t.length?Yr(e,t):e}var na=ii((function(e,t){var n=null==e?0:e.length,r=cr(e,t);return qr(e,Ot(t,(function(e){return wi(e,n)?+e:e})).sort(Io)),r}));function ra(e){return null==e?e:En.call(e)}var oa=Jr((function(e){return fo(br(e,1,Za,!0))})),ia=Jr((function(e){var t=$i(e);return Za(t)&&(t=o),fo(br(e,1,Za,!0),di(t,2))})),aa=Jr((function(e){var t=$i(e);return t="function"==typeof t?t:o,fo(br(e,1,Za,!0),o,t)}));function sa(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(Za(e))return t=yn(e.length,t),!0})),qt(t,(function(t){return Ot(e,Kt(t))}))}function ca(e,t){if(!e||!e.length)return[];var n=sa(e);return null==t?n:Ot(n,(function(e){return Et(t,o,e)}))}var la=Jr((function(e,t){return Za(e)?fr(e,t):[]})),ua=Jr((function(e){return vo(Dt(e,Za))})),da=Jr((function(e){var t=$i(e);return Za(t)&&(t=o),vo(Dt(e,Za),di(t,2))})),pa=Jr((function(e){var t=$i(e);return t="function"==typeof t?t:o,vo(Dt(e,Za),o,t)})),fa=Jr(sa);var ha=Jr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,ca(e,n)}));function Aa(e){var t=Pn(e);return t.__chain__=!0,t}function ma(e,t){return t(e)}var ga=ii((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return cr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Gn&&wi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ma,args:[i],thisArg:o}),new Kn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var va=No((function(e,t,n){Re.call(e,n)?++e[n]:sr(e,n,1)}));var ba=Qo(Gi),ya=Qo(Wi);function wa(e,t){return(Wa(e)?Tt:hr)(e,di(t,3))}function xa(e,t){return(Wa(e)?Mt:Ar)(e,di(t,3))}var ka=No((function(e,t,n){Re.call(e,n)?e[n].push(t):sr(e,n,[t])}));var Ca=Jr((function(e,t,n){var o=-1,i="function"==typeof t,a=qa(e)?r(e.length):[];return hr(e,(function(e){a[++o]=i?Et(t,e,n):Sr(e,t,n)})),a})),Ea=No((function(e,t,n){sr(e,n,t)}));function Ba(e,t){return(Wa(e)?Ot:Qr)(e,di(t,3))}var Ta=No((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ma=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&xi(e,t[0],t[1])?t=[]:n>2&&xi(t[0],t[1],t[2])&&(t=[t[0]]),Gr(e,br(t,1),[])})),Ia=pt||function(){return ft.Date.now()};function Da(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,ei(e,d,o,o,o,o,t)}function _a(e,t){var n;if("function"!=typeof t)throw new De(i);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Sa=Jr((function(e,t,n){var r=1;if(n.length){var o=un(n,ui(Sa));r|=l}return ei(e,r,t,n,o)})),Oa=Jr((function(e,t,n){var r=3;if(n.length){var o=un(n,ui(Oa));r|=l}return ei(t,r,e,n,o)}));function Na(e,t,n){var r,a,s,c,l,u,d=0,p=!1,f=!1,h=!0;if("function"!=typeof e)throw new De(i);function A(t){var n=r,i=a;return r=a=o,d=t,c=e.apply(i,n)}function m(e){return d=e,l=Ni(v,t),p?A(e):c}function g(e){var n=e-u;return u===o||n>=t||n<0||f&&e-d>=s}function v(){var e=Ia();if(g(e))return b(e);l=Ni(v,function(e){var n=t-(e-u);return f?wn(n,s-(e-d)):n}(e))}function b(e){return l=o,h&&r?A(e):(r=a=o,c)}function y(){var e=Ia(),n=g(e);if(r=arguments,a=this,u=e,n){if(l===o)return m(u);if(f)return Eo(l),l=Ni(v,t),A(u)}return l===o&&(l=Ni(v,t)),c}return t=bs(t)||0,rs(n)&&(p=!!n.leading,s=(f="maxWait"in n)?yn(bs(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),y.cancel=function(){l!==o&&Eo(l),d=0,r=u=a=l=o},y.flush=function(){return l===o?c:b(Ia())},y}var La=Jr((function(e,t){return pr(e,1,t)})),Ra=Jr((function(e,t,n){return pr(e,bs(t)||0,n)}));function ja(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new De(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(ja.Cache||qn),n}function Ua(e){if("function"!=typeof e)throw new De(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ja.Cache=qn;var Fa=ko((function(e,t){var n=(t=1==t.length&&Wa(t[0])?Ot(t[0],Xt(di())):Ot(br(t,1),Xt(di()))).length;return Jr((function(r){for(var o=-1,i=wn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Et(e,this,r)}))})),za=Jr((function(e,t){var n=un(t,ui(za));return ei(e,l,o,t,n)})),Qa=Jr((function(e,t){var n=un(t,ui(Qa));return ei(e,u,o,t,n)})),Pa=ii((function(e,t){return ei(e,p,o,o,o,t)}));function Ha(e,t){return e===t||e!=e&&t!=t}var Va=qo(Mr),Ka=qo((function(e,t){return e>=t})),Ga=Or(function(){return arguments}())?Or:function(e){return os(e)&&Re.call(e,"callee")&&!qe.call(e,"callee")},Wa=r.isArray,Ya=bt?Xt(bt):function(e){return os(e)&&Tr(e)==N};function qa(e){return null!=e&&ns(e.length)&&!es(e)}function Za(e){return os(e)&&qa(e)}var Xa=Ut||bc,Ja=yt?Xt(yt):function(e){return os(e)&&Tr(e)==w};function $a(e){if(!os(e))return!1;var t=Tr(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!rs(e))return!1;var t=Tr(e);return t==k||t==C||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==gs(e)}function ns(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function rs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function os(e){return null!=e&&"object"==typeof e}var is=wt?Xt(wt):function(e){return os(e)&&gi(e)==E};function as(e){return"number"==typeof e||os(e)&&Tr(e)==B}function ss(e){if(!os(e)||Tr(e)!=T)return!1;var t=We(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Le.call(n)==ze}var cs=xt?Xt(xt):function(e){return os(e)&&Tr(e)==I};var ls=kt?Xt(kt):function(e){return os(e)&&gi(e)==D};function us(e){return"string"==typeof e||!Wa(e)&&os(e)&&Tr(e)==_}function ds(e){return"symbol"==typeof e||os(e)&&Tr(e)==S}var ps=Ct?Xt(Ct):function(e){return os(e)&&ns(e.length)&&!!at[Tr(e)]};var fs=qo(zr),hs=qo((function(e,t){return e<=t}));function As(e){if(!e)return[];if(qa(e))return us(e)?hn(e):So(e);if(et&&e[et])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[et]());var t=gi(e);return(t==E?cn:t==D?dn:Hs)(e)}function ms(e){return e?(e=bs(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function gs(e){var t=ms(e),n=t%1;return t==t?n?t-n:t:0}function vs(e){return e?lr(gs(e),0,m):0}function bs(e){if("number"==typeof e)return e;if(ds(e))return A;if(rs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var n=ge.test(e);return n||be.test(e)?ut(e.slice(2),n?2:8):me.test(e)?A:+e}function ys(e){return Oo(e,Ls(e))}function ws(e){return null==e?"":po(e)}var xs=Lo((function(e,t){if(Bi(t)||qa(t))Oo(t,Ns(t),e);else for(var n in t)Re.call(t,n)&&rr(e,n,t[n])})),ks=Lo((function(e,t){Oo(t,Ls(t),e)})),Cs=Lo((function(e,t,n,r){Oo(t,Ls(t),e,r)})),Es=Lo((function(e,t,n,r){Oo(t,Ns(t),e,r)})),Bs=ii(cr);var Ts=Jr((function(e,t){e=Te(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&xi(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=Ls(a),c=-1,l=s.length;++c<l;){var u=s[c],d=e[u];(d===o||Ha(d,Oe[u])&&!Re.call(e,u))&&(e[u]=a[u])}return e})),Ms=Jr((function(e){return e.push(o,ni),Et(js,o,e)}));function Is(e,t,n){var r=null==e?o:Er(e,t);return r===o?n:r}function Ds(e,t){return null!=e&&vi(e,t,Dr)}var _s=Vo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),rc(ac)),Ss=Vo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),di),Os=Jr(Sr);function Ns(e){return qa(e)?Jn(e):Ur(e)}function Ls(e){return qa(e)?Jn(e,!0):Fr(e)}var Rs=Lo((function(e,t,n){Vr(e,t,n)})),js=Lo((function(e,t,n,r){Vr(e,t,n,r)})),Us=ii((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ot(t,(function(t){return t=xo(t,e),r||(r=t.length>1),t})),Oo(e,si(e),n),r&&(n=ur(n,7,ri));for(var o=t.length;o--;)ho(n,t[o]);return n}));var Fs=ii((function(e,t){return null==e?{}:function(e,t){return Wr(e,t,(function(t,n){return Ds(e,n)}))}(e,t)}));function zs(e,t){if(null==e)return{};var n=Ot(si(e),(function(e){return[e]}));return t=di(t),Wr(e,n,(function(e,n){return t(e,n[0])}))}var Qs=$o(Ns),Ps=$o(Ls);function Hs(e){return null==e?[]:Jt(e,Ns(e))}var Vs=Fo((function(e,t,n){return t=t.toLowerCase(),e+(n?Ks(t):t)}));function Ks(e){return $s(ws(e).toLowerCase())}function Gs(e){return(e=ws(e))&&e.replace(we,rn).replace($e,"")}var Ws=Fo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ys=Fo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qs=Uo("toLowerCase");var Zs=Fo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Xs=Fo((function(e,t,n){return e+(n?" ":"")+$s(t)}));var Js=Fo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),$s=Uo("toUpperCase");function ec(e,t,n){return e=ws(e),(t=n?o:t)===o?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var tc=Jr((function(e,t){try{return Et(e,o,t)}catch(e){return $a(e)?e:new Ce(e)}})),nc=ii((function(e,t){return Tt(t,(function(t){t=zi(t),sr(e,t,Sa(e[t],e))})),e}));function rc(e){return function(){return e}}var oc=Po(),ic=Po(!0);function ac(e){return e}function sc(e){return jr("function"==typeof e?e:ur(e,1))}var cc=Jr((function(e,t){return function(n){return Sr(n,e,t)}})),lc=Jr((function(e,t){return function(n){return Sr(e,n,t)}}));function uc(e,t,n){var r=Ns(t),o=Cr(t,r);null!=n||rs(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Cr(t,Ns(t)));var i=!(rs(n)&&"chain"in n&&!n.chain),a=es(e);return Tt(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=So(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Nt([this.value()],arguments))})})),e}function dc(){}var pc=Go(Ot),fc=Go(It),hc=Go(jt);function Ac(e){return ki(e)?Kt(zi(e)):function(e){return function(t){return Er(t,e)}}(e)}var mc=Yo(),gc=Yo(!0);function vc(){return[]}function bc(){return!1}var yc=Ko((function(e,t){return e+t}),0),wc=Xo("ceil"),xc=Ko((function(e,t){return e/t}),1),kc=Xo("floor");var Cc,Ec=Ko((function(e,t){return e*t}),1),Bc=Xo("round"),Tc=Ko((function(e,t){return e-t}),0);return Pn.after=function(e,t){if("function"!=typeof t)throw new De(i);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},Pn.ary=Da,Pn.assign=xs,Pn.assignIn=ks,Pn.assignInWith=Cs,Pn.assignWith=Es,Pn.at=Bs,Pn.before=_a,Pn.bind=Sa,Pn.bindAll=nc,Pn.bindKey=Oa,Pn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wa(e)?e:[e]},Pn.chain=Aa,Pn.chunk=function(e,t,n){t=(n?xi(e,t,n):t===o)?1:yn(gs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,c=r(At(i/t));a<i;)c[s++]=io(e,a,a+=t);return c},Pn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Pn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Nt(Wa(n)?So(n):[n],br(t,1))},Pn.cond=function(e){var t=null==e?0:e.length,n=di();return e=t?Ot(e,(function(e){if("function"!=typeof e[1])throw new De(i);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var o=e[r];if(Et(o[0],this,n))return Et(o[1],this,n)}}))},Pn.conforms=function(e){return function(e){var t=Ns(e);return function(n){return dr(n,e,t)}}(ur(e,1))},Pn.constant=rc,Pn.countBy=va,Pn.create=function(e,t){var n=Hn(e);return null==t?n:ar(n,t)},Pn.curry=function e(t,n,r){var i=ei(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Pn.curryRight=function e(t,n,r){var i=ei(t,c,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Pn.debounce=Na,Pn.defaults=Ts,Pn.defaultsDeep=Ms,Pn.defer=La,Pn.delay=Ra,Pn.difference=Hi,Pn.differenceBy=Vi,Pn.differenceWith=Ki,Pn.drop=function(e,t,n){var r=null==e?0:e.length;return r?io(e,(t=n||t===o?1:gs(t))<0?0:t,r):[]},Pn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?io(e,0,(t=r-(t=n||t===o?1:gs(t)))<0?0:t):[]},Pn.dropRightWhile=function(e,t){return e&&e.length?mo(e,di(t,3),!0,!0):[]},Pn.dropWhile=function(e,t){return e&&e.length?mo(e,di(t,3),!0):[]},Pn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&xi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=gs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:gs(r))<0&&(r+=i),r=n>r?0:vs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Pn.filter=function(e,t){return(Wa(e)?Dt:vr)(e,di(t,3))},Pn.flatMap=function(e,t){return br(Ba(e,t),1)},Pn.flatMapDeep=function(e,t){return br(Ba(e,t),f)},Pn.flatMapDepth=function(e,t,n){return n=n===o?1:gs(n),br(Ba(e,t),n)},Pn.flatten=Yi,Pn.flattenDeep=function(e){return(null==e?0:e.length)?br(e,f):[]},Pn.flattenDepth=function(e,t){return(null==e?0:e.length)?br(e,t=t===o?1:gs(t)):[]},Pn.flip=function(e){return ei(e,512)},Pn.flow=oc,Pn.flowRight=ic,Pn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Pn.functions=function(e){return null==e?[]:Cr(e,Ns(e))},Pn.functionsIn=function(e){return null==e?[]:Cr(e,Ls(e))},Pn.groupBy=ka,Pn.initial=function(e){return(null==e?0:e.length)?io(e,0,-1):[]},Pn.intersection=Zi,Pn.intersectionBy=Xi,Pn.intersectionWith=Ji,Pn.invert=_s,Pn.invertBy=Ss,Pn.invokeMap=Ca,Pn.iteratee=sc,Pn.keyBy=Ea,Pn.keys=Ns,Pn.keysIn=Ls,Pn.map=Ba,Pn.mapKeys=function(e,t){var n={};return t=di(t,3),xr(e,(function(e,r,o){sr(n,t(e,r,o),e)})),n},Pn.mapValues=function(e,t){var n={};return t=di(t,3),xr(e,(function(e,r,o){sr(n,r,t(e,r,o))})),n},Pn.matches=function(e){return Pr(ur(e,1))},Pn.matchesProperty=function(e,t){return Hr(e,ur(t,1))},Pn.memoize=ja,Pn.merge=Rs,Pn.mergeWith=js,Pn.method=cc,Pn.methodOf=lc,Pn.mixin=uc,Pn.negate=Ua,Pn.nthArg=function(e){return e=gs(e),Jr((function(t){return Kr(t,e)}))},Pn.omit=Us,Pn.omitBy=function(e,t){return zs(e,Ua(di(t)))},Pn.once=function(e){return _a(2,e)},Pn.orderBy=function(e,t,n,r){return null==e?[]:(Wa(t)||(t=null==t?[]:[t]),Wa(n=r?o:n)||(n=null==n?[]:[n]),Gr(e,t,n))},Pn.over=pc,Pn.overArgs=Fa,Pn.overEvery=fc,Pn.overSome=hc,Pn.partial=za,Pn.partialRight=Qa,Pn.partition=Ta,Pn.pick=Fs,Pn.pickBy=zs,Pn.property=Ac,Pn.propertyOf=function(e){return function(t){return null==e?o:Er(e,t)}},Pn.pull=ea,Pn.pullAll=ta,Pn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,di(n,2)):e},Pn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,o,n):e},Pn.pullAt=na,Pn.range=mc,Pn.rangeRight=gc,Pn.rearg=Pa,Pn.reject=function(e,t){return(Wa(e)?Dt:vr)(e,Ua(di(t,3)))},Pn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=di(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return qr(e,o),n},Pn.rest=function(e,t){if("function"!=typeof e)throw new De(i);return Jr(e,t=t===o?t:gs(t))},Pn.reverse=ra,Pn.sampleSize=function(e,t,n){return t=(n?xi(e,t,n):t===o)?1:gs(t),(Wa(e)?er:eo)(e,t)},Pn.set=function(e,t,n){return null==e?e:to(e,t,n)},Pn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:to(e,t,n,r)},Pn.shuffle=function(e){return(Wa(e)?tr:oo)(e)},Pn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&xi(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===o?r:gs(n)),io(e,t,n)):[]},Pn.sortBy=Ma,Pn.sortedUniq=function(e){return e&&e.length?lo(e):[]},Pn.sortedUniqBy=function(e,t){return e&&e.length?lo(e,di(t,2)):[]},Pn.split=function(e,t,n){return n&&"number"!=typeof n&&xi(e,t,n)&&(t=n=o),(n=n===o?m:n>>>0)?(e=ws(e))&&("string"==typeof t||null!=t&&!cs(t))&&!(t=po(t))&&sn(e)?Co(hn(e),0,n):e.split(t,n):[]},Pn.spread=function(e,t){if("function"!=typeof e)throw new De(i);return t=null==t?0:yn(gs(t),0),Jr((function(n){var r=n[t],o=Co(n,0,t);return r&&Nt(o,r),Et(e,this,o)}))},Pn.tail=function(e){var t=null==e?0:e.length;return t?io(e,1,t):[]},Pn.take=function(e,t,n){return e&&e.length?io(e,0,(t=n||t===o?1:gs(t))<0?0:t):[]},Pn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?io(e,(t=r-(t=n||t===o?1:gs(t)))<0?0:t,r):[]},Pn.takeRightWhile=function(e,t){return e&&e.length?mo(e,di(t,3),!1,!0):[]},Pn.takeWhile=function(e,t){return e&&e.length?mo(e,di(t,3)):[]},Pn.tap=function(e,t){return t(e),e},Pn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new De(i);return rs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Na(e,t,{leading:r,maxWait:t,trailing:o})},Pn.thru=ma,Pn.toArray=As,Pn.toPairs=Qs,Pn.toPairsIn=Ps,Pn.toPath=function(e){return Wa(e)?Ot(e,zi):ds(e)?[e]:So(Fi(ws(e)))},Pn.toPlainObject=ys,Pn.transform=function(e,t,n){var r=Wa(e),o=r||Xa(e)||ps(e);if(t=di(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:rs(e)&&es(i)?Hn(We(e)):{}}return(o?Tt:xr)(e,(function(e,r,o){return t(n,e,r,o)})),n},Pn.unary=function(e){return Da(e,1)},Pn.union=oa,Pn.unionBy=ia,Pn.unionWith=aa,Pn.uniq=function(e){return e&&e.length?fo(e):[]},Pn.uniqBy=function(e,t){return e&&e.length?fo(e,di(t,2)):[]},Pn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?fo(e,o,t):[]},Pn.unset=function(e,t){return null==e||ho(e,t)},Pn.unzip=sa,Pn.unzipWith=ca,Pn.update=function(e,t,n){return null==e?e:Ao(e,t,wo(n))},Pn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Ao(e,t,wo(n),r)},Pn.values=Hs,Pn.valuesIn=function(e){return null==e?[]:Jt(e,Ls(e))},Pn.without=la,Pn.words=ec,Pn.wrap=function(e,t){return za(wo(t),e)},Pn.xor=ua,Pn.xorBy=da,Pn.xorWith=pa,Pn.zip=fa,Pn.zipObject=function(e,t){return bo(e||[],t||[],rr)},Pn.zipObjectDeep=function(e,t){return bo(e||[],t||[],to)},Pn.zipWith=ha,Pn.entries=Qs,Pn.entriesIn=Ps,Pn.extend=ks,Pn.extendWith=Cs,uc(Pn,Pn),Pn.add=yc,Pn.attempt=tc,Pn.camelCase=Vs,Pn.capitalize=Ks,Pn.ceil=wc,Pn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=bs(n))==n?n:0),t!==o&&(t=(t=bs(t))==t?t:0),lr(bs(e),t,n)},Pn.clone=function(e){return ur(e,4)},Pn.cloneDeep=function(e){return ur(e,5)},Pn.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:o)},Pn.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:o)},Pn.conformsTo=function(e,t){return null==t||dr(e,t,Ns(t))},Pn.deburr=Gs,Pn.defaultTo=function(e,t){return null==e||e!=e?t:e},Pn.divide=xc,Pn.endsWith=function(e,t,n){e=ws(e),t=po(t);var r=e.length,i=n=n===o?r:lr(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Pn.eq=Ha,Pn.escape=function(e){return(e=ws(e))&&X.test(e)?e.replace(q,on):e},Pn.escapeRegExp=function(e){return(e=ws(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},Pn.every=function(e,t,n){var r=Wa(e)?It:mr;return n&&xi(e,t,n)&&(t=o),r(e,di(t,3))},Pn.find=ba,Pn.findIndex=Gi,Pn.findKey=function(e,t){return Ft(e,di(t,3),xr)},Pn.findLast=ya,Pn.findLastIndex=Wi,Pn.findLastKey=function(e,t){return Ft(e,di(t,3),kr)},Pn.floor=kc,Pn.forEach=wa,Pn.forEachRight=xa,Pn.forIn=function(e,t){return null==e?e:yr(e,di(t,3),Ls)},Pn.forInRight=function(e,t){return null==e?e:wr(e,di(t,3),Ls)},Pn.forOwn=function(e,t){return e&&xr(e,di(t,3))},Pn.forOwnRight=function(e,t){return e&&kr(e,di(t,3))},Pn.get=Is,Pn.gt=Va,Pn.gte=Ka,Pn.has=function(e,t){return null!=e&&vi(e,t,Ir)},Pn.hasIn=Ds,Pn.head=qi,Pn.identity=ac,Pn.includes=function(e,t,n,r){e=qa(e)?e:Hs(e),n=n&&!r?gs(n):0;var o=e.length;return n<0&&(n=yn(o+n,0)),us(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Qt(e,t,n)>-1},Pn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=yn(r+o,0)),Qt(e,t,o)},Pn.inRange=function(e,t,n){return t=ms(t),n===o?(n=t,t=0):n=ms(n),function(e,t,n){return e>=wn(t,n)&&e<yn(t,n)}(e=bs(e),t,n)},Pn.invoke=Os,Pn.isArguments=Ga,Pn.isArray=Wa,Pn.isArrayBuffer=Ya,Pn.isArrayLike=qa,Pn.isArrayLikeObject=Za,Pn.isBoolean=function(e){return!0===e||!1===e||os(e)&&Tr(e)==y},Pn.isBuffer=Xa,Pn.isDate=Ja,Pn.isElement=function(e){return os(e)&&1===e.nodeType&&!ss(e)},Pn.isEmpty=function(e){if(null==e)return!0;if(qa(e)&&(Wa(e)||"string"==typeof e||"function"==typeof e.splice||Xa(e)||ps(e)||Ga(e)))return!e.length;var t=gi(e);if(t==E||t==D)return!e.size;if(Bi(e))return!Ur(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Pn.isEqual=function(e,t){return Nr(e,t)},Pn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Nr(e,t,o,n):!!r},Pn.isError=$a,Pn.isFinite=function(e){return"number"==typeof e&&Gt(e)},Pn.isFunction=es,Pn.isInteger=ts,Pn.isLength=ns,Pn.isMap=is,Pn.isMatch=function(e,t){return e===t||Lr(e,t,fi(t))},Pn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Lr(e,t,fi(t),n)},Pn.isNaN=function(e){return as(e)&&e!=+e},Pn.isNative=function(e){if(Ei(e))throw new Ce("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(e)},Pn.isNil=function(e){return null==e},Pn.isNull=function(e){return null===e},Pn.isNumber=as,Pn.isObject=rs,Pn.isObjectLike=os,Pn.isPlainObject=ss,Pn.isRegExp=cs,Pn.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=h},Pn.isSet=ls,Pn.isString=us,Pn.isSymbol=ds,Pn.isTypedArray=ps,Pn.isUndefined=function(e){return e===o},Pn.isWeakMap=function(e){return os(e)&&gi(e)==O},Pn.isWeakSet=function(e){return os(e)&&"[object WeakSet]"==Tr(e)},Pn.join=function(e,t){return null==e?"":vn.call(e,t)},Pn.kebabCase=Ws,Pn.last=$i,Pn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=gs(n))<0?yn(r+i,0):wn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):zt(e,Ht,i,!0)},Pn.lowerCase=Ys,Pn.lowerFirst=qs,Pn.lt=fs,Pn.lte=hs,Pn.max=function(e){return e&&e.length?gr(e,ac,Mr):o},Pn.maxBy=function(e,t){return e&&e.length?gr(e,di(t,2),Mr):o},Pn.mean=function(e){return Vt(e,ac)},Pn.meanBy=function(e,t){return Vt(e,di(t,2))},Pn.min=function(e){return e&&e.length?gr(e,ac,zr):o},Pn.minBy=function(e,t){return e&&e.length?gr(e,di(t,2),zr):o},Pn.stubArray=vc,Pn.stubFalse=bc,Pn.stubObject=function(){return{}},Pn.stubString=function(){return""},Pn.stubTrue=function(){return!0},Pn.multiply=Ec,Pn.nth=function(e,t){return e&&e.length?Kr(e,gs(t)):o},Pn.noConflict=function(){return ft._===this&&(ft._=Qe),this},Pn.noop=dc,Pn.now=Ia,Pn.pad=function(e,t,n){e=ws(e);var r=(t=gs(t))?fn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Wo(gt(o),n)+e+Wo(At(o),n)},Pn.padEnd=function(e,t,n){e=ws(e);var r=(t=gs(t))?fn(e):0;return t&&r<t?e+Wo(t-r,n):e},Pn.padStart=function(e,t,n){e=ws(e);var r=(t=gs(t))?fn(e):0;return t&&r<t?Wo(t-r,n)+e:e},Pn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),kn(ws(e).replace(ae,""),t||0)},Pn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&xi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=ms(e),t===o?(t=e,e=0):t=ms(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Cn();return wn(e+i*(t-e+lt("1e-"+((i+"").length-1))),t)}return Zr(e,t)},Pn.reduce=function(e,t,n){var r=Wa(e)?Lt:Wt,o=arguments.length<3;return r(e,di(t,4),n,o,hr)},Pn.reduceRight=function(e,t,n){var r=Wa(e)?Rt:Wt,o=arguments.length<3;return r(e,di(t,4),n,o,Ar)},Pn.repeat=function(e,t,n){return t=(n?xi(e,t,n):t===o)?1:gs(t),Xr(ws(e),t)},Pn.replace=function(){var e=arguments,t=ws(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Pn.result=function(e,t,n){var r=-1,i=(t=xo(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[zi(t[r])];a===o&&(r=i,a=n),e=es(a)?a.call(e):a}return e},Pn.round=Bc,Pn.runInContext=e,Pn.sample=function(e){return(Wa(e)?$n:$r)(e)},Pn.size=function(e){if(null==e)return 0;if(qa(e))return us(e)?fn(e):e.length;var t=gi(e);return t==E||t==D?e.size:Ur(e).length},Pn.snakeCase=Zs,Pn.some=function(e,t,n){var r=Wa(e)?jt:ao;return n&&xi(e,t,n)&&(t=o),r(e,di(t,3))},Pn.sortedIndex=function(e,t){return so(e,t)},Pn.sortedIndexBy=function(e,t,n){return co(e,t,di(n,2))},Pn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=so(e,t);if(r<n&&Ha(e[r],t))return r}return-1},Pn.sortedLastIndex=function(e,t){return so(e,t,!0)},Pn.sortedLastIndexBy=function(e,t,n){return co(e,t,di(n,2),!0)},Pn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=so(e,t,!0)-1;if(Ha(e[n],t))return n}return-1},Pn.startCase=Xs,Pn.startsWith=function(e,t,n){return e=ws(e),n=null==n?0:lr(gs(n),0,e.length),t=po(t),e.slice(n,n+t.length)==t},Pn.subtract=Tc,Pn.sum=function(e){return e&&e.length?Yt(e,ac):0},Pn.sumBy=function(e,t){return e&&e.length?Yt(e,di(t,2)):0},Pn.template=function(e,t,n){var r=Pn.templateSettings;n&&xi(e,t,n)&&(t=o),e=ws(e),t=Cs({},t,r,ti);var i,a,s=Cs({},t.imports,r.imports,ti),c=Ns(s),l=Jt(s,c),u=0,d=t.interpolate||xe,p="__p += '",f=Me((t.escape||xe).source+"|"+d.source+"|"+(d===ee?he:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),h="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(f,(function(t,n,r,o,s,c){return r||(r=o),p+=e.slice(u,c).replace(ke,an),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),p+="';\n";var A=Re.call(t,"variable")&&t.variable;if(A){if(pe.test(A))throw new Ce("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(K,""):p).replace(G,"$1").replace(W,"$1;"),p="function("+(A||"obj")+") {\n"+(A?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=tc((function(){return Ee(c,h+"return "+p).apply(o,l)}));if(m.source=p,$a(m))throw m;return m},Pn.times=function(e,t){if((e=gs(e))<1||e>h)return[];var n=m,r=wn(e,m);t=di(t),e-=m;for(var o=qt(r,t);++n<e;)t(n);return o},Pn.toFinite=ms,Pn.toInteger=gs,Pn.toLength=vs,Pn.toLower=function(e){return ws(e).toLowerCase()},Pn.toNumber=bs,Pn.toSafeInteger=function(e){return e?lr(gs(e),-9007199254740991,h):0===e?e:0},Pn.toString=ws,Pn.toUpper=function(e){return ws(e).toUpperCase()},Pn.trim=function(e,t,n){if((e=ws(e))&&(n||t===o))return Zt(e);if(!e||!(t=po(t)))return e;var r=hn(e),i=hn(t);return Co(r,en(r,i),tn(r,i)+1).join("")},Pn.trimEnd=function(e,t,n){if((e=ws(e))&&(n||t===o))return e.slice(0,An(e)+1);if(!e||!(t=po(t)))return e;var r=hn(e);return Co(r,0,tn(r,hn(t))+1).join("")},Pn.trimStart=function(e,t,n){if((e=ws(e))&&(n||t===o))return e.replace(ae,"");if(!e||!(t=po(t)))return e;var r=hn(e);return Co(r,en(r,hn(t))).join("")},Pn.truncate=function(e,t){var n=30,r="...";if(rs(t)){var i="separator"in t?t.separator:i;n="length"in t?gs(t.length):n,r="omission"in t?po(t.omission):r}var a=(e=ws(e)).length;if(sn(e)){var s=hn(e);a=s.length}if(n>=a)return e;var c=n-fn(r);if(c<1)return r;var l=s?Co(s,0,c).join(""):e.slice(0,c);if(i===o)return l+r;if(s&&(c+=l.length-c),cs(i)){if(e.slice(c).search(i)){var u,d=l;for(i.global||(i=Me(i.source,ws(Ae.exec(i))+"g")),i.lastIndex=0;u=i.exec(d);)var p=u.index;l=l.slice(0,p===o?c:p)}}else if(e.indexOf(po(i),c)!=c){var f=l.lastIndexOf(i);f>-1&&(l=l.slice(0,f))}return l+r},Pn.unescape=function(e){return(e=ws(e))&&Z.test(e)?e.replace(Y,mn):e},Pn.uniqueId=function(e){var t=++je;return ws(e)+t},Pn.upperCase=Js,Pn.upperFirst=$s,Pn.each=wa,Pn.eachRight=xa,Pn.first=qi,uc(Pn,(Cc={},xr(Pn,(function(e,t){Re.call(Pn.prototype,t)||(Cc[t]=e)})),Cc),{chain:!1}),Pn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Pn[e].placeholder=Pn})),Tt(["drop","take"],(function(e,t){Gn.prototype[e]=function(n){n=n===o?1:yn(gs(n),0);var r=this.__filtered__&&!t?new Gn(this):this.clone();return r.__filtered__?r.__takeCount__=wn(n,r.__takeCount__):r.__views__.push({size:wn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Gn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Gn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:di(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Gn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Gn.prototype[e]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(ac)},Gn.prototype.find=function(e){return this.filter(e).head()},Gn.prototype.findLast=function(e){return this.reverse().find(e)},Gn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Gn(this):this.map((function(n){return Sr(n,e,t)}))})),Gn.prototype.reject=function(e){return this.filter(Ua(di(e)))},Gn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Gn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Gn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Gn.prototype.toArray=function(){return this.take(m)},xr(Gn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Pn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Pn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof Gn,l=s[0],u=c||Wa(t),d=function(e){var t=i.apply(Pn,Nt([e],s));return r&&p?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var p=this.__chain__,f=!!this.__actions__.length,h=a&&!p,A=c&&!f;if(!a&&u){t=A?t:new Gn(this);var m=e.apply(t,s);return m.__actions__.push({func:ma,args:[d],thisArg:o}),new Kn(m,p)}return h&&A?e.apply(this,s):(m=this.thru(d),h?r?m.value()[0]:m.value():m)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=_e[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Pn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Wa(o)?o:[],e)}return this[n]((function(n){return t.apply(Wa(n)?n:[],e)}))}})),xr(Gn.prototype,(function(e,t){var n=Pn[t];if(n){var r=n.name+"";Re.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[Ho(o,2).name]=[{name:"wrapper",func:o}],Gn.prototype.clone=function(){var e=new Gn(this.__wrapped__);return e.__actions__=So(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=So(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=So(this.__views__),e},Gn.prototype.reverse=function(){if(this.__filtered__){var e=new Gn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Gn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wa(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=wn(t,e+a);break;case"takeRight":e=yn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,c=s-a,l=r?s:a-1,u=this.__iteratees__,d=u.length,p=0,f=wn(c,this.__takeCount__);if(!n||!r&&o==c&&f==c)return go(e,this.__actions__);var h=[];e:for(;c--&&p<f;){for(var A=-1,m=e[l+=t];++A<d;){var g=u[A],v=g.iteratee,b=g.type,y=v(m);if(2==b)m=y;else if(!y){if(1==b)continue e;break e}}h[p++]=m}return h},Pn.prototype.at=ga,Pn.prototype.chain=function(){return Aa(this)},Pn.prototype.commit=function(){return new Kn(this.value(),this.__chain__)},Pn.prototype.next=function(){this.__values__===o&&(this.__values__=As(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Pn.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=Pi(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Pn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Gn){var t=e;return this.__actions__.length&&(t=new Gn(this)),(t=t.reverse()).__actions__.push({func:ma,args:[ra],thisArg:o}),new Kn(t,this.__chain__)}return this.thru(ra)},Pn.prototype.toJSON=Pn.prototype.valueOf=Pn.prototype.value=function(){return go(this.__wrapped__,this.__actions__)},Pn.prototype.first=Pn.prototype.head,et&&(Pn.prototype[et]=function(){return this}),Pn}();ft._=gn,(r=function(){return gn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},3313:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana"},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana"},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana"},"image/avcs":{"source":"iana"},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},5234:(e,t,n)=>{
/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * MIT Licensed
 */
e.exports=n(3313)},767:e=>{e.exports=function(e,t,n,r){var o=e.transformX=function(e,i){n(e),n(i);for(var a,s,c,l=[],u=0;u<i.length;u++){for(var d=i[u],p=[],f=0;f<e.length;){var h=[];if(a=e[f],c=h,t(p,a,s=d,"left"),t(c,s,a,"right"),f++,1!==h.length){if(0===h.length){for(var A=f;A<e.length;A++)r(p,e[A]);d=null;break}for(var m=o(e.slice(f),h),g=0;g<m[0].length;g++)r(p,m[0][g]);for(var v=0;v<m[1].length;v++)r(l,m[1][v]);d=null;break}d=h[0]}null!=d&&r(l,d),e=p}return[e,l]};e.transform=function(e,n,r){if("left"!==r&&"right"!==r)throw new Error("type must be 'left' or 'right'");return 0===n.length?e:1===e.length&&1===n.length?t([],e[0],n[0],r):"left"===r?o(e,n)[0]:o(n,e)[1]}}},1781:(e,t,n)=>{e.exports={type:n(7965)}},7965:(e,t,n)=>{var r=function(e){return"[object Array]"==Object.prototype.toString.call(e)},o=function(e){return JSON.parse(JSON.stringify(e))},i={name:"json0",uri:"http://sharejs.org/types/JSONv0"},a={};function s(e){e.t="text0";var t={p:e.p.pop()};null!=e.si&&(t.i=e.si),null!=e.sd&&(t.d=e.sd),e.o=[t]}function c(e){e.p.push(e.o[0].p),null!=e.o[0].i&&(e.si=e.o[0].i),null!=e.o[0].d&&(e.sd=e.o[0].d),delete e.t,delete e.o}i.registerSubtype=function(e){a[e.name]=e},i.create=function(e){return void 0===e?null:o(e)},i.invertComponent=function(e){var t={p:e.p};return e.t&&a[e.t]&&(t.t=e.t,t.o=a[e.t].invert(e.o)),void 0!==e.si&&(t.sd=e.si),void 0!==e.sd&&(t.si=e.sd),void 0!==e.oi&&(t.od=e.oi),void 0!==e.od&&(t.oi=e.od),void 0!==e.li&&(t.ld=e.li),void 0!==e.ld&&(t.li=e.ld),void 0!==e.na&&(t.na=-e.na),void 0!==e.lm&&(t.lm=e.p[e.p.length-1],t.p=e.p.slice(0,e.p.length-1).concat([e.lm])),t},i.invert=function(e){for(var t=e.slice().reverse(),n=[],r=0;r<t.length;r++)n.push(i.invertComponent(t[r]));return n},i.checkValidOp=function(e){for(var t=0;t<e.length;t++)if(!r(e[t].p))throw new Error("Missing path")},i.checkList=function(e){if(!r(e))throw new Error("Referenced element not a list")},i.checkObj=function(e){if(!(t=e)||t.constructor!==Object)throw new Error("Referenced element not an object (it was "+JSON.stringify(e)+")");var t},i.apply=function(e,t){i.checkValidOp(t),t=o(t);for(var n={data:e},r=0;r<t.length;r++){var c=t[r];null==c.si&&null==c.sd||s(c);for(var l=null,u=n,d="data",p=0;p<c.p.length;p++){var f=c.p[p];if(l=u,d,u=u[d],d=f,null==l)throw new Error("Path invalid")}if(c.t&&void 0!==c.o&&a[c.t])u[d]=a[c.t].apply(u[d],c.o);else if(void 0!==c.na){if("number"!=typeof u[d])throw new Error("Referenced element not a number");u[d]+=c.na}else if(void 0!==c.li&&void 0!==c.ld)i.checkList(u),u[d]=c.li;else if(void 0!==c.li)i.checkList(u),u.splice(d,0,c.li);else if(void 0!==c.ld)i.checkList(u),u.splice(d,1);else if(void 0!==c.lm){if(i.checkList(u),c.lm!=d){var h=u[d];u.splice(d,1),u.splice(c.lm,0,h)}}else if(void 0!==c.oi)i.checkObj(u),u[d]=c.oi;else{if(void 0===c.od)throw new Error("invalid / missing instruction in op");i.checkObj(u),delete u[d]}}return n.data},i.shatter=function(e){for(var t=[],n=0;n<e.length;n++)t.push([e[n]]);return t},i.incrementalApply=function(e,t,n){for(var r=0;r<t.length;r++){var o=[t[r]];n(o,e=i.apply(e,o))}return e};var l=i.pathMatches=function(e,t,n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r]&&(!n||r!==e.length-1))return!1;return!0};i.append=function(e,t){if(t=o(t),0!==e.length){var n=e[e.length-1];if(null==t.si&&null==t.sd||null==n.si&&null==n.sd||(s(t),s(n)),l(t.p,n.p))if(t.t&&n.t&&t.t===n.t&&a[t.t]){if(n.o=a[t.t].compose(n.o,t.o),null!=t.si||null!=t.sd){for(var r=t.p,i=0;i<n.o.length-1;i++)t.o=[n.o.pop()],t.p=r.slice(),c(t),e.push(t);c(n)}}else null!=n.na&&null!=t.na?e[e.length-1]={p:n.p,na:n.na+t.na}:void 0!==n.li&&void 0===t.li&&t.ld===n.li?void 0!==n.ld?delete n.li:e.pop():void 0!==n.od&&void 0===n.oi&&void 0!==t.oi&&void 0===t.od?n.oi=t.oi:void 0!==n.oi&&void 0!==t.od?void 0!==t.oi?n.oi=t.oi:void 0!==n.od?delete n.oi:e.pop():void 0!==t.lm&&t.p[t.p.length-1]===t.lm||e.push(t);else null==t.si&&null==t.sd||null==n.si&&null==n.sd||(c(t),c(n)),e.push(t)}else e.push(t)},i.compose=function(e,t){i.checkValidOp(e),i.checkValidOp(t);for(var n=o(e),r=0;r<t.length;r++)i.append(n,t[r]);return n},i.normalize=function(e){var t=[];e=r(e)?e:[e];for(var n=0;n<e.length;n++){var o=e[n];null==o.p&&(o.p=[]),i.append(t,o)}return t},i.commonLengthForOps=function(e,t){var n=e.p.length,r=t.p.length;if((null!=e.na||e.t)&&n++,(null!=t.na||t.t)&&r++,0===n)return-1;if(0===r)return null;n--,r--;for(var o=0;o<n;o++){var i=e.p[o];if(o>=r||i!==t.p[o])return null}return n},i.canOpAffectPath=function(e,t){return null!=i.commonLengthForOps({p:t},e)},i.transformComponent=function(e,t,n,l){t=o(t);var u=i.commonLengthForOps(n,t),d=i.commonLengthForOps(t,n),p=t.p.length,f=n.p.length;if((null!=t.na||t.t)&&p++,(null!=n.na||n.t)&&f++,null!=d&&f>p&&t.p[d]==n.p[d])if(void 0!==t.ld)(A=o(n)).p=A.p.slice(p),t.ld=i.apply(o(t.ld),[A]);else if(void 0!==t.od){(A=o(n)).p=A.p.slice(p),t.od=i.apply(o(t.od),[A])}if(null!=u){var h=p==f,A=n;if(null==t.si&&null==t.sd||null==n.si&&null==n.sd||(s(t),s(A=o(n))),A.t&&a[A.t]){if(t.t&&t.t===A.t){var m=a[t.t].transform(t.o,A.o,l);if(null!=t.si||null!=t.sd)for(var g=t.p,v=0;v<m.length;v++)t.o=[m[v]],t.p=g.slice(),c(t),i.append(e,t);else(!r(m)||m.length>0)&&(t.o=m,i.append(e,t));return e}}else if(void 0!==n.na);else if(void 0!==n.li&&void 0!==n.ld){if(n.p[u]===t.p[u]){if(!h)return e;if(void 0!==t.ld){if(void 0===t.li||"left"!==l)return e;t.ld=o(n.li)}}}else if(void 0!==n.li)void 0!==t.li&&void 0===t.ld&&h&&t.p[u]===n.p[u]?"right"===l&&t.p[u]++:n.p[u]<=t.p[u]&&t.p[u]++,void 0!==t.lm&&h&&n.p[u]<=t.lm&&t.lm++;else if(void 0!==n.ld){if(void 0!==t.lm&&h){if(n.p[u]===t.p[u])return e;g=n.p[u];var b=t.p[u];(g<(y=t.lm)||g===y&&b<y)&&t.lm--}if(n.p[u]<t.p[u])t.p[u]--;else if(n.p[u]===t.p[u]){if(f<p)return e;if(void 0!==t.ld){if(void 0===t.li)return e;delete t.ld}}}else if(void 0!==n.lm)if(void 0!==t.lm&&p===f){b=t.p[u];var y=t.lm,w=n.p[u],x=n.lm;if(w!==x)if(b===w){if("left"!==l)return e;t.p[u]=x,b===y&&(t.lm=x)}else b>w&&t.p[u]--,b>x?t.p[u]++:b===x&&w>x&&(t.p[u]++,b===y&&t.lm++),(y>w||y===w&&y>b)&&t.lm--,y>x?t.lm++:y===x&&(x>w&&y>b||x<w&&y<b?"right"===l&&t.lm++:y>b?t.lm++:y===w&&t.lm--)}else if(void 0!==t.li&&void 0===t.ld&&h){b=n.p[u],y=n.lm;(g=t.p[u])>b&&t.p[u]--,g>y&&t.p[u]++}else{b=n.p[u],y=n.lm;(g=t.p[u])===b?t.p[u]=y:(g>b&&t.p[u]--,(g>y||g===y&&b>y)&&t.p[u]++)}else if(void 0!==n.oi&&void 0!==n.od){if(t.p[u]===n.p[u]){if(void 0===t.oi||!h)return e;if("right"===l)return e;t.od=n.oi}}else if(void 0!==n.oi){if(void 0!==t.oi&&t.p[u]===n.p[u]){if("left"!==l)return e;i.append(e,{p:t.p,od:n.oi})}}else if(void 0!==n.od&&t.p[u]==n.p[u]){if(!h)return e;if(void 0===t.oi)return e;delete t.od}}return i.append(e,t),e},n(767)(i,i.transformComponent,i.checkValidOp,i.append);var u=n(7640);i.registerSubtype(u),e.exports=i},7640:(e,t,n)=>{var r=e.exports={name:"text0",uri:"http://sharejs.org/types/textv0",create:function(e){if(null!=e&&"string"!=typeof e)throw new Error("Initial data must be a string");return e||""}},o=function(e,t,n){return e.slice(0,t)+n+e.slice(t)},i=function(e){if("number"!=typeof e.p)throw new Error("component missing position field");if("string"==typeof e.i==("string"==typeof e.d))throw new Error("component needs an i or d field");if(e.p<0)throw new Error("position cannot be negative")},a=function(e){for(var t=0;t<e.length;t++)i(e[t])};r.apply=function(e,t){var n;a(t);for(var r=0;r<t.length;r++){var i=t[r];if(null!=i.i)e=o(e,i.p,i.i);else{if(n=e.slice(i.p,i.p+i.d.length),i.d!==n)throw new Error("Delete component '"+i.d+"' does not match deleted text '"+n+"'");e=e.slice(0,i.p)+e.slice(i.p+i.d.length)}}return e};var s=r._append=function(e,t){if(""!==t.i&&""!==t.d)if(0===e.length)e.push(t);else{var n=e[e.length-1];null!=n.i&&null!=t.i&&n.p<=t.p&&t.p<=n.p+n.i.length?e[e.length-1]={i:o(n.i,t.p-n.p,t.i),p:n.p}:null!=n.d&&null!=t.d&&t.p<=n.p&&n.p<=t.p+t.d.length?e[e.length-1]={d:o(t.d,n.p-t.p,n.d),p:t.p}:e.push(t)}};r.compose=function(e,t){a(e),a(t);for(var n=e.slice(),r=0;r<t.length;r++)s(n,t[r]);return n},r.normalize=function(e){var t=[];null==e.i&&null==e.p||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];null==r.p&&(r.p=0),s(t,r)}return t};var c=function(e,t,n){return null!=t.i?t.p<e||t.p===e&&n?e+t.i.length:e:e<=t.p?e:e<=t.p+t.d.length?t.p:e-t.d.length};r.transformCursor=function(e,t,n){for(var r="right"===n,o=0;o<t.length;o++)e=c(e,t[o],r);return e};var l=r._tc=function(e,t,n,r){if(i(t),i(n),null!=t.i)s(e,{i:t.i,p:c(t.p,n,"right"===r)});else if(null!=n.i){var o=t.d;t.p<n.p&&(s(e,{d:o.slice(0,n.p-t.p),p:t.p}),o=o.slice(n.p-t.p)),""!==o&&s(e,{d:o,p:t.p+n.i.length})}else if(t.p>=n.p+n.d.length)s(e,{d:t.d,p:t.p-n.d.length});else if(t.p+t.d.length<=n.p)s(e,t);else{var a={d:"",p:t.p};t.p<n.p&&(a.d=t.d.slice(0,n.p-t.p)),t.p+t.d.length>n.p+n.d.length&&(a.d+=t.d.slice(n.p+n.d.length-t.p));var l=Math.max(t.p,n.p),u=Math.min(t.p+t.d.length,n.p+n.d.length);if(t.d.slice(l-t.p,u-t.p)!==n.d.slice(l-n.p,u-n.p))throw new Error("Delete ops delete different text in the same region of the document");""!==a.d&&(a.p=c(a.p,n),s(e,a))}return e};r.invert=function(e){e=e.slice().reverse();for(var t=0;t<e.length;t++)e[t]=null!=(n=e[t]).i?{d:n.i,p:n.p}:{i:n.d,p:n.p};var n;return e},n(767)(r,l,a,s)},9511:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eachChildOf=t.advancer=t.readCursor=t.writeCursor=t.WriteCursor=t.ReadCursor=t.isValidPathItem=void 0;function n(e,t){if(!e)throw new Error(t)}const r=e=>null!=e&&"object"==typeof e&&!Array.isArray(e),o=(e,t)=>typeof e==typeof t?e>t:"string"==typeof e&&"number"==typeof t;function i(e,t){for(let n in e){const r=n;t.write(r,e[r])}}t.isValidPathItem=e=>"number"==typeof e||"string"==typeof e&&"__proto__"!==e;class a{constructor(e=null){this.parents=[],this.indexes=[],this.lcIdx=-1,this.idx=-1,this.container=e}ascend(){n(this.parents.length===this.indexes.length/2),0===this.idx?this.parents.length?(this.lcIdx=this.indexes.pop(),this.container=this.parents.pop(),this.idx=this.indexes.pop()):(this.lcIdx=0,this.idx=-1):(n(this.idx>0),this.idx--,r(this.container[this.idx])&&this.idx--)}getPath(){const e=[];let t=this.container,n=this.parents.length-1,o=this.idx;for(;o>=0;)e.unshift(t[o]),0===o?(o=this.indexes[2*n],t=this.parents[n--]):o-=r(t[o-1])?2:1;return e}}class s extends a{get(){return this.container?this.container.slice(this.idx+1):null}getKey(){return n(null!=this.container,"Invalid call to getKey before cursor descended"),this.container[this.idx]}getComponent(){let e;return this.container&&this.container.length>this.idx+1&&r(e=this.container[this.idx+1])?e:null}descendFirst(){let e=this.idx+1;if(!this.container||e>=this.container.length||r(this.container[e])&&e+1>=this.container.length)return!1;r(this.container[e])&&e++;const t=this.container[e];return Array.isArray(t)?(this.indexes.push(this.idx),this.parents.push(this.container),this.indexes.push(e),this.idx=0,this.container=t):this.idx=e,!0}nextSibling(){if(n(this.parents.length===this.indexes.length/2),this.idx>0||0===this.parents.length)return!1;const e=this.indexes[this.indexes.length-1]+1,t=this.parents[this.parents.length-1];return!(e>=t.length)&&(n(!isNaN(e)),this.indexes[this.indexes.length-1]=e,this.container=t[e],!0)}_init(e,t,n,r){this.container=e,this.idx=t,this.parents=n.slice(),this.indexes=r.slice()}clone(){const e=new s;return e._init(this.container,this.idx,this.parents,this.indexes),e}*[Symbol.iterator](){if(this.descendFirst()){do{yield this.getKey()}while(this.nextSibling());this.ascend()}}traverse(e,t){const n=this.getComponent();n&&t(n,e);for(const n of this)e&&e.descend(n),this.traverse(e,t),e&&e.ascend()}eachPick(e,t){this.traverse(e,((e,n)=>{null!=e.p&&t(e.p,n)}))}eachDrop(e,t){this.traverse(e,((e,n)=>{null!=e.d&&t(e.d,n)}))}}t.ReadCursor=s;class c extends a{constructor(e=null){super(e),this.pendingDescent=[],this._op=e}flushDescent(){n(this.parents.length===this.indexes.length/2),null===this.container&&(this._op=this.container=[]);for(let e=0;e<this.pendingDescent.length;e++){const t=this.pendingDescent[e];let i=this.idx+1;if(i<this.container.length&&r(this.container[i])&&i++,n(i===this.container.length||!r(this.container[i])),i===this.container.length)this.container.push(t),this.idx=i;else if(this.container[i]===t)this.idx=i;else{if(!Array.isArray(this.container[i])){const e=this.container.splice(i,this.container.length-i);this.container.push(e),this.lcIdx>-1&&(this.lcIdx=i)}for(this.indexes.push(this.idx),this.parents.push(this.container),-1!==this.lcIdx&&(n(o(t,this.container[this.lcIdx][0])),i=this.lcIdx+1,this.lcIdx=-1);i<this.container.length&&o(t,this.container[i][0]);)i++;if(this.indexes.push(i),this.idx=0,i<this.container.length&&this.container[i][0]===t)this.container=this.container[i];else{const e=[t];this.container.splice(i,0,e),this.container=e}}}this.pendingDescent.length=0}reset(){this.lcIdx=-1}getComponent(){this.flushDescent();const e=this.idx+1;if(e<this.container.length&&r(this.container[e]))return this.container[e];{const t={};return this.container.splice(e,0,t),t}}write(e,t){const r=this.getComponent();n(null==r[e]||r[e]===t,"Internal consistency error: Overwritten component. File a bug"),r[e]=t}get(){return this._op}descend(e){if(!t.isValidPathItem(e))throw Error("Invalid JSON key");this.pendingDescent.push(e)}descendPath(e){return this.pendingDescent.push(...e),this}ascend(){this.pendingDescent.length?this.pendingDescent.pop():super.ascend()}mergeTree(e,t=i){if(null===e)return;if(n(Array.isArray(e)),e===this._op)throw Error("Cannot merge into my own tree");const r=this.lcIdx,o=this.parents.length;let a=0;for(let n=0;n<e.length;n++){const r=e[n];"string"==typeof r||"number"==typeof r?(a++,this.descend(r)):Array.isArray(r)?this.mergeTree(r,t):"object"==typeof r&&t(r,this)}for(;a--;)this.ascend();this.lcIdx=this.parents.length===o?r:-1}at(e,t){this.descendPath(e),t(this);for(let t=0;t<e.length;t++)this.ascend();return this}writeAtPath(e,t,n){return this.at(e,(()=>this.write(t,n))),this.reset(),this}writeMove(e,t,n=0){return this.writeAtPath(e,"p",n).writeAtPath(t,"d",n)}getPath(){const e=super.getPath();return e.push(...this.pendingDescent),e}}t.WriteCursor=c,t.writeCursor=()=>new c,t.readCursor=e=>new s(e),t.advancer=function(e,t,n){let r,i;function a(r){let a;for(;i;){const s=a=e.getKey();if(null!=r){let n=!1;if(t&&"number"==typeof s&&(a=t(s,e.getComponent()),a<0&&(a=~a,n=!0)),o(a,r))return null;if(a===r&&!n)return e}n&&"number"==typeof a&&n(a,e.getComponent()),i=e.nextSibling()}return null}return i=r=!!e&&e.descendFirst(),a.end=()=>{r&&e.ascend()},a},t.eachChildOf=function(e,t,n){let r,i,a,s;for(r=i=e&&e.descendFirst(),a=s=t&&t.descendFirst();r||a;){let i=r?e.getKey():null,s=a?t.getKey():null;null!==i&&null!==s&&(o(s,i)?s=null:i!==s&&(i=null)),n(null==i?s:i,null!=i?e:null,null!=s?t:null),null!=i&&r&&(r=e.nextSibling()),null!=s&&a&&(a=t.nextSibling())}i&&e.ascend(),s&&t.ascend()}},5390:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){if(null===t)return null;if(Array.isArray(t))return t.map(e);if("object"==typeof t){const n={};for(let r in t)n[r]=e(t[r]);return n}return t}},5755:(e,t)=>{"use strict";function n(e,t){return e===t||null!==e&&null!==t&&("object"==typeof e&&"object"==typeof t&&(Array.isArray(e)?function(e,t){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}(e,t):function(e,t){if(Array.isArray(t))return!1;for(let r in e)if(!n(e[r],t[r]))return!1;for(let n in t)if(void 0===e[n])return!1;return!0}(e,t)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},1593:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(411),t);var i=n(9511);Object.defineProperty(t,"ReadCursor",{enumerable:!0,get:function(){return i.ReadCursor}}),Object.defineProperty(t,"WriteCursor",{enumerable:!0,get:function(){return i.WriteCursor}});var a=n(367);Object.defineProperty(t,"ConflictType",{enumerable:!0,get:function(){return a.ConflictType}})},411:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.editOp=t.replaceOp=t.insertOp=t.moveOp=t.removeOp=t.type=void 0;const o=r(n(5755)),i=r(n(5390)),a=n(9511),s=n(367),c=()=>{};function l(e,t){if(!e)throw new Error(t)}let u=!1;t.type={name:"json1",uri:"http://sharejs.org/types/JSONv1",readCursor:a.readCursor,writeCursor:a.writeCursor,create:e=>e,isNoop:e=>null==e,setDebug(e){u=e,c.quiet=!e},registerSubtype:w,checkValidOp:I,normalize:D,apply:function(e,t){if(c.quiet=!u,I(t),null===t)return e;const n=[];return function e(t,r){let o=t,i=0,a={root:t},s=0,c=a,u="root";function d(){for(;s<i;s++){let e=r[s];"object"!=typeof e&&(l(v(c,u)),c=c[u]=f(c[u]),u=e)}}for(;i<r.length;i++){const t=r[i];if(Array.isArray(t)){const n=e(o,t);n!==o&&void 0!==n&&(d(),o=c[u]=n)}else if("object"==typeof t){null!=t.d?(d(),o=g(c,u,n[t.d])):void 0!==t.i&&(d(),o=g(c,u,t.i));const e=C(t);if(e)d(),o=c[u]=e.apply(o,E(t));else if(void 0!==t.e)throw Error("Subtype "+t.et+" undefined")}else o=b(o,t)}return a.root}(e=function e(t,r){const o=[];let i=0;for(;i<r.length;i++){const e=r[i];if(Array.isArray(e))break;"object"!=typeof e&&(o.push(t),t=b(t,e))}for(let n=r.length-1;n>=i;n--)t=e(t,r[n]);for(--i;i>=0;i--){const e=r[i];if("object"!=typeof e){const n=o.pop();t=t===b(n,e)?n:void 0===t?m(n,e):(s=e,c=t,(a=f(a=n))[s]=c,a)}else h(e)&&(l(void 0!==t,"Cannot pick up or remove undefined"),null!=e.p&&(n[e.p]=t),t=void 0)}var a,s,c;return t}(e,t),t)},transformPosition:function(e,t){e=e.slice(),I(t);const n=a.readCursor(t);let r,o,i=!1;const s=[];for(let t=0;;t++){const c=e[t],l=n.getComponent();if(l&&(void 0!==l.r?i=!0:null!=l.p&&(i=!1,r=l.p,o=t)),t>=e.length)break;let u=0;const d=a.advancer(n,void 0,((e,t)=>{h(t)&&u++}));s.unshift(d);const p=d(c);if("number"==typeof c&&(e[t]-=u),!p)break}if(s.forEach((e=>e.end())),i)return null;const c=()=>{let t=0;if(null!=r){const r=n.getPath();t=r.length,e=r.concat(e.slice(o))}for(;t<e.length;t++){const r=e[t],o=d(n),i=C(o);if(i){const n=E(o);i.transformPosition&&(e[t]=i.transformPosition(e[t],n));break}let s=0;const c=a.advancer(n,((e,t)=>A(t)?~(e-s):e-s),((e,t)=>{A(t)&&s++}))(r);if("number"==typeof r&&(e[t]+=s),!c)break}};return null!=r?n.eachDrop(null,(e=>{e===r&&c()})):c(),e},compose:_,tryTransform:R,transform:function(e,t,n){const r=R(e,t,n);if(r.ok)return r.result;j(r.conflict)},makeInvertible:N,invert:S,invertWithDoc:function(e,t){return S(N(e,t))},RM_UNEXPECTED_CONTENT:s.ConflictType.RM_UNEXPECTED_CONTENT,DROP_COLLISION:s.ConflictType.DROP_COLLISION,BLACKHOLE:s.ConflictType.BLACKHOLE,transformNoConflict:(e,t,n)=>z((()=>!0),e,t,n),typeAllowingConflictsPred:e=>Object.assign(Object.assign({},t.type),{transform:(t,n,r)=>z(e,t,n,r)})};const d=e=>e?e.getComponent():null;function p(e){return e&&"object"==typeof e&&!Array.isArray(e)}const f=e=>Array.isArray(e)?e.slice():null!==e&&"object"==typeof e?Object.assign({},e):e,h=e=>e&&(null!=e.p||void 0!==e.r),A=e=>e&&(null!=e.d||void 0!==e.i);function m(e,t){return l(null!=e),"number"==typeof t?(l(Array.isArray(e),"Invalid key - child is not an array"),(e=e.slice()).splice(t,1)):(l(p(e),"Invalid key - child is not an object"),delete(e=Object.assign({},e))[t]),e}function g(e,t,n){return"number"==typeof t?(l(null!=e,"Container is missing for key"),l(Array.isArray(e),"Cannot use numerical key for object container"),l(e.length>=t,"Cannot insert into out of bounds index"),e.splice(t,0,n)):(l(p(e),"Cannot insert into missing item"),l(void 0===e[t],"Trying to overwrite value at key. Your op needs to remove it first"),e[t]=n),n}t.removeOp=(e,t=!0)=>a.writeCursor().writeAtPath(e,"r",t).get(),t.moveOp=(e,t)=>a.writeCursor().writeMove(e,t).get(),t.insertOp=(e,t)=>a.writeCursor().writeAtPath(e,"i",t).get(),t.replaceOp=(e,t,n)=>a.writeCursor().at(e,(e=>{e.write("r",t),e.write("i",n)})).get(),t.editOp=(e,t,n,r=!1)=>a.writeCursor().at(e,(e=>B(e,t,n,r))).get();const v=(e,t)=>null!=e&&("number"==typeof t?Array.isArray(e):"object"==typeof e),b=(e,t)=>v(e,t)?e[t]:void 0,y={};function w(e){let t=e.type?e.type:e;t.name&&(y[t.name]=t),t.uri&&(y[t.uri]=t)}const x=e=>{const t=y[e];if(t)return t;throw Error("Missing type: "+e)};w(n(7366));const k=(e,t)=>e+t;w({name:"number",apply:k,compose:k,invert:e=>-e,transform:e=>e});const C=e=>null==e?null:e.et?x(e.et):e.es?y["text-unicode"]:null!=e.ena?y.number:null,E=e=>e.es?e.es:null!=e.ena?e.ena:e.e,B=(e,t,n,r=!1)=>{const[o,i]="string"==typeof t?[x(t),t]:[t,t.name];!r&&o.isNoop&&o.isNoop(n)||("number"===i?e.write("ena",n):"text-unicode"===i?e.write("es",n):(e.write("et",i),e.write("e",n)))};function T(e){l("number"==typeof e),l(e>=0),l(e===(0|e))}function M(e){"number"==typeof e?T(e):l("string"==typeof e)}function I(e){if(null===e)return;const t=new Set,n=new Set,r=e=>{let r=!0,o=!1;for(let i in e){const a=e[i];if(r=!1,l("p"===i||"r"===i||"d"===i||"i"===i||"e"===i||"es"===i||"ena"===i||"et"===i,"Invalid component item '"+i+"'"),"p"===i)T(a),l(!t.has(a)),t.add(a),l(void 0===e.r);else if("d"===i)T(a),l(!n.has(a)),n.add(a),l(void 0===e.i);else if("e"===i||"es"===i||"ena"===i){l(!o),o=!0;const t=C(e);l(t,"Missing type in edit"),t.checkValidOp&&t.checkValidOp(E(e))}}l(!r)},o=(e,t,n)=>{if(!Array.isArray(e))throw Error("Op must be null or a list");if(0===e.length)throw Error("Empty descent");t||M(e[0]);let i=1,s=0,c=0;for(let t=0;t<e.length;t++){const u=e[t];if(l(null!=u),Array.isArray(u)){const e=o(u,!1,n);if(s){const t=typeof c,n=typeof e;t===n?l(c<e,"descent keys are not in order"):l("number"===t&&"string"===n)}c=e,s++,i=3}else"object"==typeof u?(l(1===i,`Prev not scalar - instead ${i}`),r(u),i=2):(l(3!==i),M(u),l(a.isValidPathItem(u),"Invalid path key"),i=1)}return l(1!==s,"Operation makes multiple descents. Remove some []"),l(2===i||3===i),e[0]};o(e,!0,!1),l(t.size===n.size,"Mismatched picks and drops in op");for(let e=0;e<t.size;e++)l(t.has(e)),l(n.has(e))}function D(e){let t=0,n=[];const r=a.writeCursor();return r.mergeTree(e,((e,r)=>{const o=C(e);if(o){const t=E(e);B(r,o,o.normalize?o.normalize(t):t)}for(const o of["r","p","i","d"])if(void 0!==e[o]){const a="p"===o||"d"===o?(i=e[o],null==n[i]&&(n[i]=t++),n[i]):e[o];r.write(o,a)}var i})),r.get()}function _(e,t){if(I(e),I(t),null==e)return t;if(null==t)return e;let n=0;const r=a.readCursor(e),o=a.readCursor(t),i=a.writeCursor(),s=[],c=[],u=[],p=[],f=[],m=[],g=new Set;r.traverse(null,(e=>{null!=e.p&&(u[e.p]=r.clone())})),o.traverse(null,(e=>{null!=e.d&&(p[e.d]=o.clone())}));const v=a.writeCursor();return function e(t,r,o,i,v,b,y,w){l(r||o);const x=d(r),k=d(o),T=!!k&&void 0!==k.r,M=!!x&&void 0!==x.i,I=x?x.d:null,D=k?k.p:null,_=(b||T)&&null==D;if(null!=D)i=p[D],y=c[D]=new a.WriteCursor;else if(k&&void 0!==k.r)i=null;else{const e=d(i);e&&null!=e.d&&(i=null)}const S=d(i);if(null!=I)if(t=u[I],w=s[I]=new a.WriteCursor,_)b&&!T&&w.write("r",!0);else{const e=f[I]=n++;y.write("d",e)}else if(x&&void 0!==x.i)t=null;else{const e=d(t);e&&null!=e.p&&(t=null)}let O;M?(l(void 0===v),O=x.i):O=v;const N=(null==D?!M||b||T:void 0===O)?null:y.getComponent();if(null!=D)if(void 0!==v||M);else{const e=null!=I?f[I]:n++;m[D]=e,w.write("p",e)}else T&&(M||void 0!==v||(k.r,w.write("r",k.r)));const L=_?null:C(x),R=C(S);if((L||R)&&(L&&L.name,R&&R.name),L&&R){l(L===R);const e=E(x),t=E(S),n=L.compose(e,t);B(y,L,n),g.add(S)}else L?B(y,L,E(x)):R&&(B(y,R,E(S)),g.add(S));const j="object"==typeof O&&null!=O;let U=!1,F=0,z=0,Q=0,P=0,H=0;const V=a.advancer(i,((e,t)=>A(t)?P-e-1:e-P),((e,t)=>{A(t)&&P++})),K=a.advancer(t,((e,t)=>h(t)?F-e-1:e-F),((e,t)=>{h(t)&&F++}));if(a.eachChildOf(r,o,((t,n,r)=>{let o,i,a=t,s=t,c=t;if("number"==typeof t){let e=t+Q;i=V(e),s=e+P;let u=t+z;o=K(u),A(d(i))&&(o=null),a=u+F,c=t+H,l(a>=0,"p1PickKey is negative"),l(s>=0,"p2DropKey is negative");const p=A(d(n)),f=h(d(r));(p||f&&!_)&&H--,p&&z--,f&&Q--}else o=K(t),i=V(t);w.descend(a),y.descend(s);const u=j&&!A(d(n))?O[c]:void 0,p=e(o,n,r,i,u,_,y,w);var f,m,g;j&&!_?u!==p&&(U||(O=Array.isArray(O)?O.slice():Object.assign({},O),U=!0),f=O,g=p,"number"==typeof(m=c)?(l(Array.isArray(f)),l(m<f.length)):(l(!Array.isArray(f)),l(void 0!==f[m])),void 0===g?"number"==typeof m?f.splice(m,1):delete f[m]:f[m]=g):l(void 0===p),y.ascend(),w.ascend()})),K.end(),V.end(),null!=N)N.i=O;else if(!b&&!T&&null==D)return O}(r,r.clone(),o,o.clone(),void 0,!1,i,v),i.reset(),i.mergeTree(v.get()),i.reset(),i.get(),s.map((e=>e.get())),c.map((e=>e.get())),r.traverse(i,((e,t)=>{const n=e.p;if(null!=n){const e=f[n];null!=e&&t.write("p",e);const r=s[n];r&&r.get(),r&&t.mergeTree(r.get())}else void 0!==e.r&&t.write("r",e.r)})),i.reset(),i.get(),o.traverse(i,((e,t)=>{const n=e.d;if(null!=n){const e=m[n];null!=e&&t.write("d",e);const r=c[n];r&&t.mergeTree(r.get())}else void 0!==e.i&&t.write("i",e.i);const r=C(e);r&&!g.has(e)&&B(t,r,E(e))})),i.get()}function S(e){if(null==e)return null;const t=new a.ReadCursor(e),n=new a.WriteCursor;let r;const o=[],i=[];return function e(t,n,i){const a=t.getComponent();let s,c=!1;if(a){null!=a.p&&(n.write("d",a.p),o[a.p]=t.clone()),void 0!==a.r&&n.write("i",a.r),null!=a.d&&(n.write("p",a.d),i=void 0),void 0!==a.i&&(i=s=a.i);const e=C(a);e&&(void 0===i?(r||(r=new Set),r.add(a)):(E(a),i=e.apply(i,E(a)),c=!0))}let l=0;for(const r of t){n.descend(r);const o="number"==typeof r?r-l:r,a=b(i,o);A(t.getComponent())&&l++;const s=e(t,n,a);if(void 0!==i&&void 0!==s){if(c||(c=!0,i=f(i)),!v(i,o))throw Error("Cannot modify child - invalid operation");i[o]=s}n.ascend()}if(void 0===s)return c?i:void 0;n.write("r",i)}(t,n,void 0),r&&(n.reset(),function e(t,n,s){const c=n.getComponent();if(c){const e=c.d;if(null!=e&&(t=o[e],s=i[e]=a.writeCursor()),r.has(c)){const e=C(c);if(!e.invert)throw Error(`Cannot invert subtype ${e.name}`);B(s,e,e.invert(E(c)))}}let l=0,u=0;const d=a.advancer(t,((e,t)=>h(t)?l-e-1:e-l),((e,t)=>{h(t)&&l++}));for(const t of n)if("number"==typeof t){const r=t-u,o=d(r),i=r+l;s.descend(i),e(o,n,s),A(n.getComponent())&&u++,s.ascend()}else s.descend(t),e(d(t),n,s),s.ascend();d.end()}(t.clone(),t,n),i.length&&(n.reset(),t.traverse(n,((e,t)=>{const n=e.p;if(null!=n){const e=i[n];e&&e.get(),e&&t.mergeTree(e.get())}})))),n.get()}const O=(e,t)=>e.some((e=>"object"==typeof e&&(Array.isArray(e)?O(e,t):t(e))));function N(e,t){if(null==e||!O(e,(e=>{var t;return void 0!==e.r||null!=(null===(t=C(e))||void 0===t?void 0:t.makeInvertible)})))return e;const n=new a.ReadCursor(e),r=new a.WriteCursor;let o=!1;const s=[],c=[],u=(e,t,n)=>{const r=e.getComponent();let a=!1;if(r){null!=r.d&&t.write("d",r.d),void 0!==r.i&&t.write("i",r.i);const i=r.p;if(null!=i&&(s[i]=e.clone(),l(void 0!==n,"Operation picks up at an invalid key"),c[i]=n,t.write("p",r.p)),void 0!==r.r&&void 0===n)throw Error("Invalid doc / op in makeInvertible: removed item missing from doc");const a=C(r);a&&(a.makeInvertible?o=!0:B(t,a,E(r),!0))}let d=0;for(const r of e){t.descend(r);const o="number"==typeof r?r-d:r,i=b(n,o),s=u(e,t,i);i!==s&&(a||(a=!0,n=f(n)),void 0===s?(n=m(n,o),"number"==typeof r&&d++):n[o]=s),t.ascend()}return r&&(void 0!==r.r?(t.write("r",i.default(n)),n=void 0):null!=r.p&&(n=void 0)),n};return u(n,r,t),r.get(),o&&(r.reset(),function e(t,n,r,o,i){const l=n.getComponent();if(l){void 0!==l.i?(o=l.i,i=!0):null!=l.d&&(o=c[l.d],t=s[l.d],i=!1,l.d);let e=C(l);if(e&&e.makeInvertible){const t=E(l);B(r,e,e.makeInvertible(t,o),!0)}}let u=0,d=0;const p=a.advancer(t,((e,t)=>h(t)?u-e-1:e-u),((e,t)=>{h(t)&&u++}));for(const t of n)if("number"==typeof t){const a=t-d,s=p(a),c=a+u,l=b(o,i?a:c);r.descend(t),e(s,n,r,l,i),A(n.getComponent())&&d++,r.ascend()}else{const a=b(o,t);r.descend(t),e(p(t),n,r,a,i),r.ascend()}p.end()}(n.clone(),n,r,t,!1)),r.get()}const L=e=>{if(null==e)return null;const t=e.slice();for(let n=0;n<e.length;n++){const e=t[n];Array.isArray(e)&&(t[n]=L(e))}return t};function R(e,n,r){l("left"===r||"right"===r,"Direction must be left or right");const p="left"===r?0:1;if(c.quiet=!u,c.prefix=0,null==n)return{ok:!0,result:e};I(e),I(n);let f=null;const m=[],g=[],v=[],b=[],y=[],w=[],x=[],k=[],T=[],M=[],D=[],_=[],S=[],O=[],N=[];let R=0;const j=a.readCursor(e),U=a.readCursor(n),F=a.writeCursor();if(function e(t,n=null,r){const o=d(n);o&&(void 0!==o.r?r=n.clone():null!=o.p&&(r=null,w[o.p]=t.clone()));const i=t.getComponent();let s;i&&null!=(s=i.p)&&(y[s]=n?n.clone():null,v[s]=t.clone(),r&&(M[s]=!0,T[s]=r),o&&null!=o.p&&(O[s]=o.p));const c=a.advancer(n);for(const n of t)e(t,c(n),r);c.end()}(U,j,null),function e(n,r,o,i,c){const l=o.getComponent();let u,A=!1;l&&(null!=(u=l.d)?(b[u]=o.clone(),null!=i&&(null==N[i]&&(N[i]=[]),N[i].push(u)),M[u],n=y[u]||null,r=v[u]||null,M[u]?(c&&(D[u]=!0),c=T[u]||null):!c||1!==p&&null!=O[u]||null==f&&(f={type:s.ConflictType.RM_UNEXPECTED_CONTENT,op1:t.removeOp(c.getPath()),op2:t.moveOp(r.getPath(),o.getPath())}),A=!0):void 0!==l.i&&(n=r=null,A=!0,c&&null==f&&(f={type:s.ConflictType.RM_UNEXPECTED_CONTENT,op1:t.removeOp(c.getPath()),op2:t.insertOp(o.getPath(),l.i)})));const m=d(n);m&&(void 0!==m.r?c=n.clone():null!=m.p&&(m.p,i=m.p,c=null));const g=C(l);g&&c&&null==f&&(f={type:s.ConflictType.RM_UNEXPECTED_CONTENT,op1:t.removeOp(c.getPath()),op2:t.editOp(o.getPath(),g,E(l),!0)});let w=0,x=0;const k=a.advancer(r,((e,t)=>h(t)?w-e-1:e-w),((e,t)=>{h(t)&&w++})),B=a.advancer(n);for(const t of o)if("number"==typeof t){const n=t-x,r=k(n);x+=+e(B(n+w),r,o,i,c)}else{const n=k(t);e(B(t),n,o,i,c)}return k.end(),B.end(),A}(j,U,U.clone(),null,null),b.map((e=>e&&e.get())),f)return{ok:!1,conflict:f};D.map((e=>!!e));const z=[];let Q=null;!function e(t,n,r,o,i){let s=!1;const c=d(n);if(h(c)){const e=c.p;null!=e?(r=b[e],o=_[e]=a.writeCursor(),s=!0,i=null):(r=null,i=n.clone())}else A(d(r))&&(r=null);const u=t.getComponent();if(u){const e=u.p;null!=e?(i&&(k[e]=i),z[e]=i||1===p&&s?null:o.getComponent(),m[e]=t.clone(),r&&(x[e]=r.clone())):void 0!==u.r&&(i||o.write("r",!0),(i||s)&&(null==Q&&(Q=new Set),Q.add(u)))}let f=0,g=0;const v=a.advancer(n,void 0,((e,t)=>{h(t)&&f++})),y=a.advancer(r,((e,t)=>A(t)?~(e-g):e-g),((e,t)=>{A(t)&&g++}));if(t)for(const n of t)if("string"==typeof n){const r=v(n),a=y(n);o.descend(n),e(t,r,a,o,i),o.ascend()}else{const r=v(n),a=n-f,s=h(d(r))?null:y(a),c=a+g;l(c>=0),o.descend(c),e(t,r,s,o,i),o.ascend()}v.end(),y.end()}(j,U,U.clone(),F,null),F.reset();let P=[];if(function e(n,c,u,y,T,I){l(c);const D=c.getComponent();let _=d(y),N=!1;const L=(e,n,r)=>e?t.moveOp(e.getPath(),n.getPath()):t.insertOp(n.getPath(),r.i);if(A(D)){const e=D.d;null!=e&&(g[e]=c.clone());const r=null!=e?z[e]:null;let a=!1;if(void 0!==D.i||null!=e&&r){let n;_&&(void 0!==_.i||null!=(n=_.d)&&!M[n])&&(a=null!=n?null!=e&&e===O[n]:o.default(_.i,D.i),a||null!=n&&1!==p&&null!=O[n]||null==f&&(f={type:s.ConflictType.DROP_COLLISION,op1:L(null!=e?m[e]:null,c,D),op2:L(null!=n?v[n]:null,y,_)})),a||(I?null==f&&(f={type:s.ConflictType.RM_UNEXPECTED_CONTENT,op1:L(null!=e?m[e]:null,c,D),op2:t.removeOp(I.getPath())}):(null!=e?(P[R]=e,T.write("d",r.p=R++)):T.write("i",i.default(D.i)),N=!0))}else if(null!=e&&!r){const t=k[e];t&&(I=t.clone())}null!=e?(n=m[e],u=w[e],y=x[e]):void 0!==D.i&&(n=u=null,a||(y=null))}else h(d(n))&&(n=u=y=null);const j=d(n),U=d(u);if(h(U)){const e=U.p;void 0!==U.r&&(!j||void 0===j.r)||M[e]?(y=null,I=u.clone()):null!=e&&(y=b[e],1!==p&&null!=O[e]||((T=S[e])||(T=S[e]=a.writeCursor()),T.reset(),I=null))}else!A(D)&&A(_)&&(y=null);_=null!=y?y.getComponent():null;const F=C(D);if(F){const e=E(D);if(I)null==f&&(f={type:s.ConflictType.RM_UNEXPECTED_CONTENT,op1:t.editOp(c.getPath(),F,e,!0),op2:t.removeOp(I.getPath())});else{const t=C(_);let n;if(t){if(F!==t)throw Error("Transforming incompatible types");const o=E(_);n=F.transform(e,o,r)}else n=i.default(e);B(T,F,n)}}let H=0,V=0,K=0,G=0,W=0,Y=0,q=null!=n&&n.descendFirst(),Z=q;const X=a.advancer(u,void 0,((e,t)=>{h(t)&&K++}));let J=null!=y&&y.descendFirst(),$=J;for(const t of c)if("number"==typeof t){let r;const o=A(c.getComponent()),i=t-V;{let e;for(;q&&"number"==typeof(e=n.getKey());){e+=H;const t=n.getComponent(),r=h(t);if(e>i||e===i&&(!r||0===p&&o))break;if(r){H--;const e=t.p;z[e],O.includes(e),t.d,d(S[t.d]),h(d(S[t.d])),(void 0===t.r||Q&&Q.has(t))&&(null==e||!z[e]||1!==p&&O.includes(e))||W--}q=n.nextSibling()}r=q&&e===i?n:null}const a=i-H;let s=X(a);const u=a-K;let f=null;{let e,t;for(;J&&"number"==typeof(e=y.getKey());){t=e-G;const n=y.getComponent(),r=A(n);if(t>u)break;if(t===u){if(!r){f=y;break}{if(0===p&&o){f=y;break}const e=s&&h(s.getComponent());if(0===p&&e)break}}if(r){const e=n.d;M[e],O[e],void 0===n.i&&(M[e]||null!=O[e]&&1!==p)?(M[e]||null!=O[e]&&0===p)&&(G++,Y--):G++}J=y.nextSibling()}}const m=u+G+W+Y;l(m>=0,"trying to descend to a negative index"),T.descend(m),o&&(r=s=f=null,V++),e(r,c,s,f,T,I)&&Y++,T.ascend()}else{let r;for(;q&&(r=n.getKey(),"string"!=typeof r||!(r>t||r===t));)q=n.nextSibling();const o=q&&r===t?n:null,i=X(t);let a;for(;J&&(a=y.getKey(),"string"!=typeof a||!(a>t||a===t));)J=y.nextSibling();const s=J&&a===t?y:null;T.descend(t),e(o,c,i,s,T,I),T.ascend()}return X.end(),Z&&n.ascend(),$&&y.ascend(),N}(j,j.clone(),U,U.clone(),F,null),f)return{ok:!1,conflict:f};F.reset();const H=(e,t,n)=>e.traverse(t,((t,r)=>{null!=t.d&&n(t.d,e,r)}));(M.length||_.length)&&(H(U,F,((e,t,n)=>{M[e]&&!D[e]&&n.write("r",!0),_[e]&&n.mergeTree(_[e].get())})),F.reset());const V=[],K=[];if((S.length||M.length)&&!f){const e=a.readCursor(L(F.get()));if(H(e,null,((e,t)=>{V[e]=t.clone()})),S.forEach((e=>{e&&H(a.readCursor(e.get()),null,((e,t)=>{V[e]=t.clone()}))})),function e(t,n,r,o,i,s){c.prefix++;const l=d(n);if(l&&h(l))if(null!=l.p){i=l;const e=l.p;V[e].getPath(),r=V[e],o=K[e]=a.writeCursor()}else void 0!==l.r&&(r=null,s=!0);else A(d(r))&&(r=null);const u=t.getComponent();if(u){let e;if(null!=(e=u.d)){const t=S[e];t&&(t.get(),o.mergeTree(t.get()),r=a.readCursor(t.get()))}}let p=0,f=0;const m=a.advancer(n,void 0,((e,t)=>{h(t)&&p--})),g=a.advancer(r,((e,t)=>A(t)?-(e-f)-1:e-f),((e,t)=>{A(t)&&f++}));for(const n of t)if("number"==typeof n){const r=m(n),a=n+p,c=g(a),l=a+f;o.descend(l),e(t,r,c,o,i,s),o.ascend()}else o.descend(n),e(t,m(n),g(n),o,i,s),o.ascend();m.end(),g.end()}(U,e,e.clone(),F,null,!1),F.reset(),f)return{ok:!1,conflict:f};if(F.get(),K.length){const e=K.map((e=>e?e.get():null)),t=a.readCursor(L(F.get()));if(H(t,F,((t,n,r)=>{const o=e[t];o&&(r.mergeTree(o),e[t]=null)})),e.find((e=>e))){const t=a.writeCursor(),n=a.writeCursor();let r=0,o=0;e.forEach((e=>{null!=e&&H(a.readCursor(e),null,(e=>{const i=P[e];t.writeMove(m[i].getPath(),g[i].getPath(),r++);const a=N[i];a&&a.forEach((e=>{M[e]||1!==p&&null!=O[e]||n.writeMove(v[e].getPath(),b[e].getPath(),o++)}))}))})),f={type:s.ConflictType.BLACKHOLE,op1:t.get(),op2:n.get()}}}}return f?{ok:!1,conflict:f}:{ok:!0,result:F.get()}}const j=e=>{const t=new Error("Transform detected write conflict");throw t.conflict=e,t.type=t.name="writeConflict",t};const U=e=>{const t=a.writeCursor();return a.readCursor(e).traverse(t,((e,t)=>{(A(e)||C(e))&&t.write("r",!0)})),t.get()},F=(e,t)=>{const{type:n,op1:r,op2:o}=e;switch(n){case s.ConflictType.DROP_COLLISION:return"left"===t?[null,U(o)]:[U(r),null];case s.ConflictType.RM_UNEXPECTED_CONTENT:let e=!1;return a.readCursor(r).traverse(null,(t=>{void 0!==t.r&&(e=!0)})),e?[null,U(o)]:[U(r),null];case s.ConflictType.BLACKHOLE:return[U(r),U(o)];default:throw Error("Unrecognised conflict: "+n)}};function z(e,t,n,r){let o=null;for(;;){const i=R(t,n,r);if(i.ok)return _(o,i.result);{const{conflict:a}=i;e(a)||j(a);const[s,c]=F(a,r);t=_(D(t),s),n=_(D(n),c),o=_(o,c)}}}},367:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConflictType=void 0,function(e){e[e.RM_UNEXPECTED_CONTENT=1]="RM_UNEXPECTED_CONTENT",e[e.DROP_COLLISION=2]="DROP_COLLISION",e[e.BLACKHOLE=3]="BLACKHOLE"}(t.ConflictType||(t.ConflictType={}))},7432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7906),o=n(8405);function i(e,t){return{get:e,getLength:()=>e().length,insert(n,r,i){const a=o.strPosToUni(e(),n);return t([a,r],i)},remove(n,r,i){const a=o.strPosToUni(e(),n);return t([a,{d:r}],i)},_onOp(e){r.eachOp(e,((e,t,n)=>{switch(typeof e){case"string":this.onInsert&&this.onInsert(n,e);break;case"object":const t=r.dlen(e.d);this.onRemove&&this.onRemove(n,t)}}))},onInsert:null,onRemove:null}}t.default=i,i.provides={text:!0}},7366:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.type=t.remove=t.insert=void 0;const s=n(8405),c=i(n(7906)),l=a(n(7432)),u={create:e=>e,toString:e=>e,builder(e){if("string"!=typeof e)throw Error("Invalid document snapshot: "+e);const t=[];return{skip(n){let r=s.uniToStrPos(e,n);if(r>e.length)throw Error("The op is too long for this document");t.push(e.slice(0,r)),e=e.slice(r)},append(e){t.push(e)},del(t){e=e.slice(s.uniToStrPos(e,t))},build:()=>t.join("")+e}},slice:c.uniSlice},d=c.default(u),p=Object.assign(Object.assign({},d),{api:l.default});t.type=p,t.insert=(e,t)=>0===t.length?[]:0===e?[t]:[e,t],t.remove=(e,t)=>0===c.dlen(t)?[]:0===e?[{d:t}]:[e,{d:t}];var f=n(7906);Object.defineProperty(t,"makeType",{enumerable:!0,get:function(){return f.default}})},7906:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniSlice=t.dlen=t.eachOp=void 0;const r=n(8405),o=e=>{if(!Array.isArray(e))throw Error("Op must be an array of components");let n=null;for(let r=0;r<e.length;r++){const o=e[r];switch(typeof o){case"object":if("number"!=typeof o.d&&"string"!=typeof o.d)throw Error("Delete must be number or string");if(t.dlen(o.d)<=0)throw Error("Deletes must not be empty");break;case"string":if(!(o.length>0))throw Error("Inserts cannot be empty");break;case"number":if(!(o>0))throw Error("Skip components must be >0");if("number"==typeof n)throw Error("Adjacent skip components should be combined")}n=o}if("number"==typeof n)throw Error("Op has a trailing skip")};function i(e,n){let o=0,i=0;for(let a=0;a<e.length;a++){const s=e[a];switch(n(s,o,i),typeof s){case"object":o+=t.dlen(s.d);break;case"string":i+=r.strPosToUni(s);break;case"number":o+=s,i+=s}}}function a(e,t){const n=[],r=l(n);return i(e,((e,n,o)=>{r(t(e,n,o))})),f(n)}t.eachOp=i;const s=e=>e,c=e=>a(e,s);t.dlen=e=>"number"==typeof e?e:r.strPosToUni(e);const l=e=>n=>{if(n&&0!==n.d&&""!==n.d)if(0===e.length)e.push(n);else if(typeof n==typeof e[e.length-1])if("object"==typeof n){const r=e[e.length-1];r.d="string"==typeof r.d&&"string"==typeof n.d?r.d+n.d:t.dlen(r.d)+t.dlen(n.d)}else e[e.length-1]+=n;else e.push(n);else;},u=e=>"number"==typeof e?e:"string"==typeof e?r.strPosToUni(e):"number"==typeof e.d?e.d:r.strPosToUni(e.d);t.uniSlice=(e,t,n)=>{const o=r.uniToStrPos(e,t),i=null==n?1/0:r.uniToStrPos(e,n);return e.slice(o,i)};const d=(e,n,r)=>"number"==typeof e?null==r?e-n:Math.min(e,r)-n:t.uniSlice(e,n,r),p=e=>{let n=0,o=0;return{take:(i,a)=>{if(n===e.length)return-1===i?null:i;const s=e[n];let c;if("number"==typeof s)return-1===i||s-o<=i?(c=s-o,++n,o=0,c):(o+=i,i);if("string"==typeof s){if(-1===i||"i"===a||r.strPosToUni(s.slice(o))<=i)return c=s.slice(o),++n,o=0,c;{const e=o+r.uniToStrPos(s.slice(o),i);return c=s.slice(o,e),o=e,c}}if(-1===i||"d"===a||t.dlen(s.d)-o<=i)return c={d:d(s.d,o)},++n,o=0,c;{let e=d(s.d,o,o+i);return o+=i,{d:e}}},peek:()=>e[n]}},f=e=>(e.length>0&&"number"==typeof e[e.length-1]&&e.pop(),e);function h(e,n,i){if("left"!==i&&"right"!==i)throw Error("side ("+i+") must be 'left' or 'right'");o(e),o(n);const a=[],s=l(a),{take:c,peek:d}=p(e);for(let e=0;e<n.length;e++){const o=n[e];let a,l;switch(typeof o){case"number":for(a=o;a>0;)l=c(a,"i"),s(l),"string"!=typeof l&&(a-=u(l));break;case"string":"left"===i&&"string"==typeof d()&&s(c(-1)),s(r.strPosToUni(o));break;case"object":for(a=t.dlen(o.d);a>0;)switch(l=c(a,"i"),typeof l){case"number":a-=l;break;case"string":s(l);break;case"object":a-=t.dlen(l.d)}}}let h;for(;h=c(-1);)s(h);return f(a)}function A(e,n){o(e),o(n);const i=[],a=l(i),{take:s}=p(e);for(let e=0;e<n.length;e++){const o=n[e];let i,c;switch(typeof o){case"number":for(i=o;i>0;)c=s(i,"d"),a(c),"object"!=typeof c&&(i-=u(c));break;case"string":a(o);break;case"object":i=t.dlen(o.d);let e=0;for(;e<i;)switch(c=s(i-e,"d"),typeof c){case"number":a({d:d(o.d,e,e+c)}),e+=c;break;case"string":e+=r.strPosToUni(c);break;case"object":a(c)}}}let c;for(;c=s(-1);)a(c);return f(i)}const m=(e,n)=>{let o=0;for(let i=0;i<n.length&&e>o;i++){const a=n[i];switch(typeof a){case"number":o+=a;break;case"string":const n=r.strPosToUni(a);o+=n,e+=n;break;case"object":e-=Math.min(t.dlen(a.d),e-o)}}return e},g=(e,t)=>"number"==typeof e?m(e,t):e.map((e=>m(e,t)));function v(e,t,n){return a(e,((e,r)=>"object"==typeof e&&"number"==typeof e.d?{d:n.slice(t,r,r+e.d)}:e))}function b(e){return a(e,(e=>{switch(typeof e){case"object":if("number"==typeof e.d)throw Error("Cannot invert text op: Deleted characters missing from operation. makeInvertible must be called first.");return e.d;case"string":return{d:e};case"number":return e}}))}function y(e){return a(e,(e=>"object"==typeof e&&"string"==typeof e.d?{d:r.strPosToUni(e.d)}:e))}function w(e){let t=!0;return i(e,(e=>{"object"==typeof e&&"number"==typeof e.d&&(t=!1)})),t}t.default=function(e){return{name:"text-unicode",uri:"http://sharejs.org/types/text-unicode",trim:f,normalize:c,checkOp:o,create(t=""){if("string"!=typeof t)throw Error("Initial data must be a string");return e.create(t)},apply(n,r){o(r);const i=e.builder(n);for(let e=0;e<r.length;e++){const n=r[e];switch(typeof n){case"number":i.skip(n);break;case"string":i.append(n);break;case"object":i.del(t.dlen(n.d))}}return i.build()},transform:h,compose:A,transformPosition:m,transformSelection:g,isInvertible:w,makeInvertible:(t,n)=>v(t,n,e),stripInvertible:y,invert:b,invertWithDoc:(t,n)=>b(v(t,n,e)),isNoop:e=>0===e.length}}},1018:(e,t,n)=>{e.exports={encode:n(6857).encode,decode:n(4172).decode}},4172:e=>{e.exports=function(){function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return o(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var i=void 0,a=0;a<r.length;a++)o(r[a]);return o}return e}()({1:[function(e,t,n){"use strict";var r=e("pako/lib/inflate.js");t.exports=function(e){return r.inflateRaw(e,{to:"string"})}},{"pako/lib/inflate.js":4}],2:[function(e,t,n){"use strict";function r(e){var t=e.charCodeAt(0);return"_"===e?63:"-"===e?62:t>=97?t-61:t>=65?t-55:t>=48?t-48:"?"}function o(e){var t=r(e[0]),n=r(e[1]),o=r(e[2]);return[t<<2|n>>4&63,n<<4&240|o>>2&15,o<<6&192|63&r(e[3])]}t.exports=function(e){var t="",n=0;for(n=0;n<e.length;n+=4){var r=o(e.substring(n,n+4));t+=String.fromCharCode(r[0]),t+=String.fromCharCode(r[1]),t+=String.fromCharCode(r[2])}return t}},{}],3:[function(e,t,n){"use strict";var r=e("./inflate"),o=e("./decode64");t.exports.decode=function(e){var t=o(e);return r(t)}},{"./decode64":2,"./inflate":1}],4:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),o=e("./utils/common"),i=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),c=e("./zlib/zstream"),l=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new l,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=i.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function p(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}function f(e,t){return(t=t||{}).raw=!0,p(e,t)}d.prototype.push=function(e,t){var n,s,c,l,d,p=this.strm,f=this.options.chunkSize,h=this.options.dictionary,A=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?p.input=i.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new o.Buf8(f),p.next_out=0,p.avail_out=f),(n=r.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&h&&(n=r.inflateSetDictionary(this.strm,h)),n===a.Z_BUF_ERROR&&!0===A&&(n=a.Z_OK,A=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=i.utf8border(p.output,p.next_out),l=p.next_out-c,d=i.buf2string(p.output,c),p.next_out=l,p.avail_out=f-l,l&&o.arraySet(p.output,p.output,c,l,0),this.onData(d)):this.onData(o.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(A=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),p.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=p,n.inflateRaw=f,n.ungzip=p},{"./utils/common":5,"./utils/strings":6,"./zlib/constants":8,"./zlib/gzheader":10,"./zlib/inflate":12,"./zlib/messages":14,"./zlib/zstream":15}],5:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)o(n,r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),o=0,t=0,n=e.length;t<n;t++)i=e[t],a.set(i,o),o+=i.length;return a}},a={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],6:[function(e,t,n){"use strict";var r=e("./common"),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function c(e,t){if(t<65534&&(e.subarray&&i||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,o,i,a,s=e.length,c=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),a=0,i=0;a<c;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,o=t.length;n<o;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,o,i,s=t||e.length,l=new Array(2*s);for(r=0,n=0;n<s;)if((o=e[n++])<128)l[r++]=o;else if((i=a[o])>4)l[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&n<s;)o=o<<6|63&e[n++],i--;i>1?l[r++]=65533:o<65536?l[r++]=o:(o-=65536,l[r++]=55296|o>>10&1023,l[r++]=56320|1023&o)}return c(l,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":5}],7:[function(e,t,n){"use strict";function r(e,t,n,r){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{i=i+(o=o+t[r++]|0)|0}while(--a);o%=65521,i%=65521}return o|i<<16|0}t.exports=r},{}],8:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],9:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var o=r();function i(e,t,n,r){var i=o,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}t.exports=i},{}],10:[function(e,t,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},{}],11:[function(e,t,n){"use strict";var r=30,o=12;t.exports=function(e,t){var n,i,a,s,c,l,u,d,p,f,h,A,m,g,v,b,y,w,x,k,C,E,B,T,M;n=e.state,i=e.next_in,T=e.input,a=i+(e.avail_in-5),s=e.next_out,M=e.output,c=s-(t-e.avail_out),l=s+(e.avail_out-257),u=n.dmax,d=n.wsize,p=n.whave,f=n.wnext,h=n.window,A=n.hold,m=n.bits,g=n.lencode,v=n.distcode,b=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{m<15&&(A+=T[i++]<<m,m+=8,A+=T[i++]<<m,m+=8),w=g[A&b];t:for(;;){if(A>>>=x=w>>>24,m-=x,0==(x=w>>>16&255))M[s++]=65535&w;else{if(!(16&x)){if(0==(64&x)){w=g[(65535&w)+(A&(1<<x)-1)];continue t}if(32&x){n.mode=o;break e}e.msg="invalid literal/length code",n.mode=r;break e}k=65535&w,(x&=15)&&(m<x&&(A+=T[i++]<<m,m+=8),k+=A&(1<<x)-1,A>>>=x,m-=x),m<15&&(A+=T[i++]<<m,m+=8,A+=T[i++]<<m,m+=8),w=v[A&y];n:for(;;){if(A>>>=x=w>>>24,m-=x,!(16&(x=w>>>16&255))){if(0==(64&x)){w=v[(65535&w)+(A&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=r;break e}if(C=65535&w,m<(x&=15)&&(A+=T[i++]<<m,(m+=8)<x&&(A+=T[i++]<<m,m+=8)),(C+=A&(1<<x)-1)>u){e.msg="invalid distance too far back",n.mode=r;break e}if(A>>>=x,m-=x,C>(x=s-c)){if((x=C-x)>p&&n.sane){e.msg="invalid distance too far back",n.mode=r;break e}if(E=0,B=h,0===f){if(E+=d-x,x<k){k-=x;do{M[s++]=h[E++]}while(--x);E=s-C,B=M}}else if(f<x){if(E+=d+f-x,(x-=f)<k){k-=x;do{M[s++]=h[E++]}while(--x);if(E=0,f<k){k-=x=f;do{M[s++]=h[E++]}while(--x);E=s-C,B=M}}}else if(E+=f-x,x<k){k-=x;do{M[s++]=h[E++]}while(--x);E=s-C,B=M}for(;k>2;)M[s++]=B[E++],M[s++]=B[E++],M[s++]=B[E++],k-=3;k&&(M[s++]=B[E++],k>1&&(M[s++]=B[E++]))}else{E=s-C;do{M[s++]=M[E++],M[s++]=M[E++],M[s++]=M[E++],k-=3}while(k>2);k&&(M[s++]=M[E++],k>1&&(M[s++]=M[E++]))}break}}break}}while(i<a&&s<l);i-=k=m>>3,A&=(1<<(m-=k<<3))-1,e.next_in=i,e.next_out=s,e.avail_in=i<a?a-i+5:5-(i-a),e.avail_out=s<l?l-s+257:257-(s-l),n.hold=A,n.bits=m}},{}],12:[function(e,t,n){"use strict";var r=e("../utils/common"),o=e("./adler32"),i=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),c=0,l=1,u=2,d=4,p=5,f=6,h=0,A=1,m=2,g=-2,v=-3,b=-4,y=-5,w=8,x=1,k=2,C=3,E=4,B=5,T=6,M=7,I=8,D=9,_=10,S=11,O=12,N=13,L=14,R=15,j=16,U=17,F=18,z=19,Q=20,P=21,H=22,V=23,K=24,G=25,W=26,Y=27,q=28,Z=29,X=30,J=31,$=32,ee=852,te=592,ne=15;function re(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function oe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ie(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(ee),t.distcode=t.distdyn=new r.Buf32(te),t.sane=1,t.back=-1,h):g}function ae(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ie(e)):g}function se(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?g:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,ae(e))):g}function ce(e,t){var n,r;return e?(r=new oe,e.state=r,r.window=null,(n=se(e,t))!==h&&(e.state=null),n):g}function le(e){return ce(e,ne)}var ue,de,pe=!0;function fe(e){if(pe){var t;for(ue=new r.Buf32(512),de=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(l,e.lens,0,288,ue,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(u,e.lens,0,32,de,0,e.work,{bits:5}),pe=!1}e.lencode=ue,e.lenbits=9,e.distcode=de,e.distbits=5}function he(e,t,n,o){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),o>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>o&&(i=o),r.arraySet(a.window,t,n-o,i,a.wnext),(o-=i)?(r.arraySet(a.window,t,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function Ae(e,t){var n,ee,te,ne,oe,ie,ae,se,ce,le,ue,de,pe,Ae,me,ge,ve,be,ye,we,xe,ke,Ce,Ee,Be=0,Te=new r.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return g;(n=e.state).mode===O&&(n.mode=N),oe=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,ie=e.avail_in,se=n.hold,ce=n.bits,le=ie,ue=ae,ke=h;e:for(;;)switch(n.mode){case x:if(0===n.wrap){n.mode=N;break}for(;ce<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}if(2&n.wrap&&35615===se){n.check=0,Te[0]=255&se,Te[1]=se>>>8&255,n.check=i(n.check,Te,2,0),se=0,ce=0,n.mode=k;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",n.mode=X;break}if((15&se)!==w){e.msg="unknown compression method",n.mode=X;break}if(ce-=4,xe=8+(15&(se>>>=4)),0===n.wbits)n.wbits=xe;else if(xe>n.wbits){e.msg="invalid window size",n.mode=X;break}n.dmax=1<<xe,e.adler=n.check=1,n.mode=512&se?_:O,se=0,ce=0;break;case k:for(;ce<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}if(n.flags=se,(255&n.flags)!==w){e.msg="unknown compression method",n.mode=X;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=X;break}n.head&&(n.head.text=se>>8&1),512&n.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,n.check=i(n.check,Te,2,0)),se=0,ce=0,n.mode=C;case C:for(;ce<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}n.head&&(n.head.time=se),512&n.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,Te[2]=se>>>16&255,Te[3]=se>>>24&255,n.check=i(n.check,Te,4,0)),se=0,ce=0,n.mode=E;case E:for(;ce<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}n.head&&(n.head.xflags=255&se,n.head.os=se>>8),512&n.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,n.check=i(n.check,Te,2,0)),se=0,ce=0,n.mode=B;case B:if(1024&n.flags){for(;ce<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}n.length=se,n.head&&(n.head.extra_len=se),512&n.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,n.check=i(n.check,Te,2,0)),se=0,ce=0}else n.head&&(n.head.extra=null);n.mode=T;case T:if(1024&n.flags&&((de=n.length)>ie&&(de=ie),de&&(n.head&&(xe=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,ee,ne,de,xe)),512&n.flags&&(n.check=i(n.check,ee,de,ne)),ie-=de,ne+=de,n.length-=de),n.length))break e;n.length=0,n.mode=M;case M:if(2048&n.flags){if(0===ie)break e;de=0;do{xe=ee[ne+de++],n.head&&xe&&n.length<65536&&(n.head.name+=String.fromCharCode(xe))}while(xe&&de<ie);if(512&n.flags&&(n.check=i(n.check,ee,de,ne)),ie-=de,ne+=de,xe)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=I;case I:if(4096&n.flags){if(0===ie)break e;de=0;do{xe=ee[ne+de++],n.head&&xe&&n.length<65536&&(n.head.comment+=String.fromCharCode(xe))}while(xe&&de<ie);if(512&n.flags&&(n.check=i(n.check,ee,de,ne)),ie-=de,ne+=de,xe)break e}else n.head&&(n.head.comment=null);n.mode=D;case D:if(512&n.flags){for(;ce<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}if(se!==(65535&n.check)){e.msg="header crc mismatch",n.mode=X;break}se=0,ce=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=O;break;case _:for(;ce<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}e.adler=n.check=re(se),se=0,ce=0,n.mode=S;case S:if(0===n.havedict)return e.next_out=oe,e.avail_out=ae,e.next_in=ne,e.avail_in=ie,n.hold=se,n.bits=ce,m;e.adler=n.check=1,n.mode=O;case O:if(t===p||t===f)break e;case N:if(n.last){se>>>=7&ce,ce-=7&ce,n.mode=Y;break}for(;ce<3;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}switch(n.last=1&se,ce-=1,3&(se>>>=1)){case 0:n.mode=L;break;case 1:if(fe(n),n.mode=Q,t===f){se>>>=2,ce-=2;break e}break;case 2:n.mode=U;break;case 3:e.msg="invalid block type",n.mode=X}se>>>=2,ce-=2;break;case L:for(se>>>=7&ce,ce-=7&ce;ce<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",n.mode=X;break}if(n.length=65535&se,se=0,ce=0,n.mode=R,t===f)break e;case R:n.mode=j;case j:if(de=n.length){if(de>ie&&(de=ie),de>ae&&(de=ae),0===de)break e;r.arraySet(te,ee,ne,de,oe),ie-=de,ne+=de,ae-=de,oe+=de,n.length-=de;break}n.mode=O;break;case U:for(;ce<14;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}if(n.nlen=257+(31&se),se>>>=5,ce-=5,n.ndist=1+(31&se),se>>>=5,ce-=5,n.ncode=4+(15&se),se>>>=4,ce-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=X;break}n.have=0,n.mode=F;case F:for(;n.have<n.ncode;){for(;ce<3;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}n.lens[Me[n.have++]]=7&se,se>>>=3,ce-=3}for(;n.have<19;)n.lens[Me[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ce={bits:n.lenbits},ke=s(c,n.lens,0,19,n.lencode,0,n.work,Ce),n.lenbits=Ce.bits,ke){e.msg="invalid code lengths set",n.mode=X;break}n.have=0,n.mode=z;case z:for(;n.have<n.nlen+n.ndist;){for(;ge=(Be=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,ve=65535&Be,!((me=Be>>>24)<=ce);){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}if(ve<16)se>>>=me,ce-=me,n.lens[n.have++]=ve;else{if(16===ve){for(Ee=me+2;ce<Ee;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}if(se>>>=me,ce-=me,0===n.have){e.msg="invalid bit length repeat",n.mode=X;break}xe=n.lens[n.have-1],de=3+(3&se),se>>>=2,ce-=2}else if(17===ve){for(Ee=me+3;ce<Ee;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}ce-=me,xe=0,de=3+(7&(se>>>=me)),se>>>=3,ce-=3}else{for(Ee=me+7;ce<Ee;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}ce-=me,xe=0,de=11+(127&(se>>>=me)),se>>>=7,ce-=7}if(n.have+de>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=X;break}for(;de--;)n.lens[n.have++]=xe}}if(n.mode===X)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=X;break}if(n.lenbits=9,Ce={bits:n.lenbits},ke=s(l,n.lens,0,n.nlen,n.lencode,0,n.work,Ce),n.lenbits=Ce.bits,ke){e.msg="invalid literal/lengths set",n.mode=X;break}if(n.distbits=6,n.distcode=n.distdyn,Ce={bits:n.distbits},ke=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ce),n.distbits=Ce.bits,ke){e.msg="invalid distances set",n.mode=X;break}if(n.mode=Q,t===f)break e;case Q:n.mode=P;case P:if(ie>=6&&ae>=258){e.next_out=oe,e.avail_out=ae,e.next_in=ne,e.avail_in=ie,n.hold=se,n.bits=ce,a(e,ue),oe=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,ie=e.avail_in,se=n.hold,ce=n.bits,n.mode===O&&(n.back=-1);break}for(n.back=0;ge=(Be=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,ve=65535&Be,!((me=Be>>>24)<=ce);){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}if(ge&&0==(240&ge)){for(be=me,ye=ge,we=ve;ge=(Be=n.lencode[we+((se&(1<<be+ye)-1)>>be)])>>>16&255,ve=65535&Be,!(be+(me=Be>>>24)<=ce);){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}se>>>=be,ce-=be,n.back+=be}if(se>>>=me,ce-=me,n.back+=me,n.length=ve,0===ge){n.mode=W;break}if(32&ge){n.back=-1,n.mode=O;break}if(64&ge){e.msg="invalid literal/length code",n.mode=X;break}n.extra=15&ge,n.mode=H;case H:if(n.extra){for(Ee=n.extra;ce<Ee;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}n.length+=se&(1<<n.extra)-1,se>>>=n.extra,ce-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=V;case V:for(;ge=(Be=n.distcode[se&(1<<n.distbits)-1])>>>16&255,ve=65535&Be,!((me=Be>>>24)<=ce);){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}if(0==(240&ge)){for(be=me,ye=ge,we=ve;ge=(Be=n.distcode[we+((se&(1<<be+ye)-1)>>be)])>>>16&255,ve=65535&Be,!(be+(me=Be>>>24)<=ce);){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}se>>>=be,ce-=be,n.back+=be}if(se>>>=me,ce-=me,n.back+=me,64&ge){e.msg="invalid distance code",n.mode=X;break}n.offset=ve,n.extra=15&ge,n.mode=K;case K:if(n.extra){for(Ee=n.extra;ce<Ee;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}n.offset+=se&(1<<n.extra)-1,se>>>=n.extra,ce-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=X;break}n.mode=G;case G:if(0===ae)break e;if(de=ue-ae,n.offset>de){if((de=n.offset-de)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=X;break}de>n.wnext?(de-=n.wnext,pe=n.wsize-de):pe=n.wnext-de,de>n.length&&(de=n.length),Ae=n.window}else Ae=te,pe=oe-n.offset,de=n.length;de>ae&&(de=ae),ae-=de,n.length-=de;do{te[oe++]=Ae[pe++]}while(--de);0===n.length&&(n.mode=P);break;case W:if(0===ae)break e;te[oe++]=n.length,ae--,n.mode=P;break;case Y:if(n.wrap){for(;ce<32;){if(0===ie)break e;ie--,se|=ee[ne++]<<ce,ce+=8}if(ue-=ae,e.total_out+=ue,n.total+=ue,ue&&(e.adler=n.check=n.flags?i(n.check,te,ue,oe-ue):o(n.check,te,ue,oe-ue)),ue=ae,(n.flags?se:re(se))!==n.check){e.msg="incorrect data check",n.mode=X;break}se=0,ce=0}n.mode=q;case q:if(n.wrap&&n.flags){for(;ce<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<ce,ce+=8}if(se!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=X;break}se=0,ce=0}n.mode=Z;case Z:ke=A;break e;case X:ke=v;break e;case J:return b;case $:default:return g}return e.next_out=oe,e.avail_out=ae,e.next_in=ne,e.avail_in=ie,n.hold=se,n.bits=ce,(n.wsize||ue!==e.avail_out&&n.mode<X&&(n.mode<Y||t!==d))&&he(e,e.output,e.next_out,ue-e.avail_out)?(n.mode=J,b):(le-=e.avail_in,ue-=e.avail_out,e.total_in+=le,e.total_out+=ue,n.total+=ue,n.wrap&&ue&&(e.adler=n.check=n.flags?i(n.check,te,ue,e.next_out-ue):o(n.check,te,ue,e.next_out-ue)),e.data_type=n.bits+(n.last?64:0)+(n.mode===O?128:0)+(n.mode===Q||n.mode===R?256:0),(0===le&&0===ue||t===d)&&ke===h&&(ke=y),ke)}function me(e){if(!e||!e.state)return g;var t=e.state;return t.window&&(t.window=null),e.state=null,h}function ge(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?g:(n.head=t,t.done=!1,h):g}function ve(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==S?g:n.mode===S&&o(1,t,r,0)!==n.check?v:he(e,t,r,r)?(n.mode=J,b):(n.havedict=1,h):g}n.inflateReset=ae,n.inflateReset2=se,n.inflateResetKeep=ie,n.inflateInit=le,n.inflateInit2=ce,n.inflate=Ae,n.inflateEnd=me,n.inflateGetHeader=ge,n.inflateSetDictionary=ve,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":5,"./adler32":7,"./crc32":9,"./inffast":11,"./inftrees":13}],13:[function(e,t,n){"use strict";var r=e("../utils/common"),o=15,i=852,a=592,s=0,c=1,l=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,h,A,m,g,v){var b,y,w,x,k,C,E,B,T,M=v.bits,I=0,D=0,_=0,S=0,O=0,N=0,L=0,R=0,j=0,U=0,F=null,z=0,Q=new r.Buf16(o+1),P=new r.Buf16(o+1),H=null,V=0;for(I=0;I<=o;I++)Q[I]=0;for(D=0;D<h;D++)Q[t[n+D]]++;for(O=M,S=o;S>=1&&0===Q[S];S--);if(O>S&&(O=S),0===S)return A[m++]=20971520,A[m++]=20971520,v.bits=1,0;for(_=1;_<S&&0===Q[_];_++);for(O<_&&(O=_),R=1,I=1;I<=o;I++)if(R<<=1,(R-=Q[I])<0)return-1;if(R>0&&(e===s||1!==S))return-1;for(P[1]=0,I=1;I<o;I++)P[I+1]=P[I]+Q[I];for(D=0;D<h;D++)0!==t[n+D]&&(g[P[t[n+D]]++]=D);if(e===s?(F=H=g,C=19):e===c?(F=u,z-=257,H=d,V-=257,C=256):(F=p,H=f,C=-1),U=0,D=0,I=_,k=m,N=O,L=0,w=-1,x=(j=1<<O)-1,e===c&&j>i||e===l&&j>a)return 1;for(;;){E=I-L,g[D]<C?(B=0,T=g[D]):g[D]>C?(B=H[V+g[D]],T=F[z+g[D]]):(B=96,T=0),b=1<<I-L,_=y=1<<N;do{A[k+(U>>L)+(y-=b)]=E<<24|B<<16|T|0}while(0!==y);for(b=1<<I-1;U&b;)b>>=1;if(0!==b?(U&=b-1,U+=b):U=0,D++,0==--Q[I]){if(I===S)break;I=t[n+g[D]]}if(I>O&&(U&x)!==w){for(0===L&&(L=O),k+=_,R=1<<(N=I-L);N+L<S&&!((R-=Q[N+L])<=0);)N++,R<<=1;if(j+=1<<N,e===c&&j>i||e===l&&j>a)return 1;A[w=U&x]=O<<24|N<<16|k-m|0}}return 0!==U&&(A[k+U]=I-L<<24|64<<16|0),v.bits=O,0}},{"../utils/common":5}],14:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],15:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}]},{},[3])(3)},6857:e=>{e.exports=function(){function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return o(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var i=void 0,a=0;a<r.length;a++)o(r[a]);return o}return e}()({1:[function(e,t,n){"use strict";var r=e("pako/lib/deflate.js");t.exports=function(e){return r.deflateRaw(e,{level:9,to:"string"})}},{"pako/lib/deflate.js":4}],2:[function(e,t,n){"use strict";function r(e){return e<10?String.fromCharCode(48+e):(e-=10)<26?String.fromCharCode(65+e):(e-=26)<26?String.fromCharCode(97+e):0==(e-=26)?"-":1===e?"_":"?"}function o(e,t,n){var o=(3&e)<<4|t>>4,i=(15&t)<<2|n>>6,a=63&n,s="";return s+=r(63&e>>2),s+=r(63&o),s+=r(63&i),s+=r(63&a)}t.exports=function(e){for(var t="",n=0;n<e.length;n+=3)n+2===e.length?t+=o(e.charCodeAt(n),e.charCodeAt(n+1),0):n+1===e.length?t+=o(e.charCodeAt(n),0,0):t+=o(e.charCodeAt(n),e.charCodeAt(n+1),e.charCodeAt(n+2));return t}},{}],3:[function(e,t,n){"use strict";var r=e("./deflate"),o=e("./encode64");t.exports.encode=function(e){var t=r(e);return o(t)}},{"./deflate":1,"./encode64":2}],4:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),o=e("./utils/common"),i=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),c=Object.prototype.toString,l=0,u=4,d=0,p=1,f=2,h=-1,A=0,m=8;function g(e){if(!(this instanceof g))return new g(e);this.options=o.assign({level:h,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:A,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==d)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var l;if(l="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,l))!==d)throw new Error(a[n]);this._dict_set=!0}}function v(e,t){var n=new g(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}function b(e,t){return(t=t||{}).raw=!0,v(e,t)}function y(e,t){return(t=t||{}).gzip=!0,v(e,t)}g.prototype.push=function(e,t){var n,a,s=this.strm,h=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?u:l,"string"==typeof e?s.input=i.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(h),s.next_out=0,s.avail_out=h),(n=r.deflate(s,a))!==p&&n!==d)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||a!==u&&a!==f)||("string"===this.options.to?this.onData(i.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&n!==p);return a===u?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d):a!==f||(this.onEnd(d),s.avail_out=0,!0)},g.prototype.onData=function(e){this.chunks.push(e)},g.prototype.onEnd=function(e){e===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=g,n.deflate=v,n.deflateRaw=b,n.gzip=y},{"./utils/common":5,"./utils/strings":6,"./zlib/deflate":9,"./zlib/messages":10,"./zlib/zstream":12}],5:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)o(n,r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),o=0,t=0,n=e.length;t<n;t++)i=e[t],a.set(i,o),o+=i.length;return a}},a={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],6:[function(e,t,n){"use strict";var r=e("./common"),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function c(e,t){if(t<65534&&(e.subarray&&i||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,o,i,a,s=e.length,c=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),a=0,i=0;a<c;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,o=t.length;n<o;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,o,i,s=t||e.length,l=new Array(2*s);for(r=0,n=0;n<s;)if((o=e[n++])<128)l[r++]=o;else if((i=a[o])>4)l[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&n<s;)o=o<<6|63&e[n++],i--;i>1?l[r++]=65533:o<65536?l[r++]=o:(o-=65536,l[r++]=55296|o>>10&1023,l[r++]=56320|1023&o)}return c(l,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":5}],7:[function(e,t,n){"use strict";function r(e,t,n,r){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{i=i+(o=o+t[r++]|0)|0}while(--a);o%=65521,i%=65521}return o|i<<16|0}t.exports=r},{}],8:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var o=r();function i(e,t,n,r){var i=o,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}t.exports=i},{}],9:[function(e,t,n){"use strict";var r,o=e("../utils/common"),i=e("./trees"),a=e("./adler32"),s=e("./crc32"),c=e("./messages"),l=0,u=1,d=3,p=4,f=5,h=0,A=1,m=-2,g=-3,v=-5,b=-1,y=1,w=2,x=3,k=4,C=0,E=2,B=8,T=9,M=15,I=8,D=286,_=30,S=19,O=2*D+1,N=15,L=3,R=258,j=R+L+1,U=32,F=42,z=69,Q=73,P=91,H=103,V=113,K=666,G=1,W=2,Y=3,q=4,Z=3;function X(e,t){return e.msg=c[t],t}function J(e){return(e<<1)-(e>4?9:0)}function $(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(o.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function re(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function oe(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,o.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=a(e.adler,t,i,n):2===e.state.wrap&&(e.adler=s(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function ie(e,t){var n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-j?e.strstart-(e.w_size-j):0,l=e.window,u=e.w_mask,d=e.prev,p=e.strstart+R,f=l[i+a-1],h=l[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===h&&l[n+a-1]===f&&l[n]===l[i]&&l[++n]===l[i+1]){i+=2,n++;do{}while(l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&i<p);if(r=R-(p-i),i=p-R,r>a){if(e.match_start=t,a=r,r>=s)break;f=l[i+a-1],h=l[i+a]}}}while((t=d[t&u])>c&&0!=--o);return a<=e.lookahead?a:e.lookahead}function ae(e){var t,n,r,i,a,s=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-j)){o.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=s?r-s:0}while(--n);t=n=s;do{r=e.prev[--t],e.prev[t]=r>=s?r-s:0}while(--n);i+=s}if(0===e.strm.avail_in)break;if(n=oe(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=L)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+L-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<L)););}while(e.lookahead<j&&0!==e.strm.avail_in)}function se(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ae(e),0===e.lookahead&&t===l)return G;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,te(e,!1),0===e.strm.avail_out))return G;if(e.strstart-e.block_start>=e.w_size-j&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===p?(te(e,!0),0===e.strm.avail_out?Y:q):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),G)}function ce(e,t){for(var n,r;;){if(e.lookahead<j){if(ae(e),e.lookahead<j&&t===l)return G;if(0===e.lookahead)break}if(n=0,e.lookahead>=L&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-j&&(e.match_length=ie(e,n)),e.match_length>=L)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-L),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=L){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=e.strstart<L-1?e.strstart:L-1,t===p?(te(e,!0),0===e.strm.avail_out?Y:q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:W}function le(e,t){for(var n,r,o;;){if(e.lookahead<j){if(ae(e),e.lookahead<j&&t===l)return G;if(0===e.lookahead)break}if(n=0,e.lookahead>=L&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=L-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-j&&(e.match_length=ie(e,n),e.match_length<=5&&(e.strategy===y||e.match_length===L&&e.strstart-e.match_start>4096)&&(e.match_length=L-1)),e.prev_length>=L&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-L,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-L),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=L-1,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return G}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return G}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<L-1?e.strstart:L-1,t===p?(te(e,!0),0===e.strm.avail_out?Y:q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:W}function ue(e,t){for(var n,r,o,a,s=e.window;;){if(e.lookahead<=R){if(ae(e),e.lookahead<=R&&t===l)return G;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=L&&e.strstart>0&&(r=s[o=e.strstart-1])===s[++o]&&r===s[++o]&&r===s[++o]){a=e.strstart+R;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<a);e.match_length=R-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=L?(n=i._tr_tally(e,1,e.match_length-L),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===p?(te(e,!0),0===e.strm.avail_out?Y:q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:W}function de(e,t){for(var n;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===l)return G;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===p?(te(e,!0),0===e.strm.avail_out?Y:q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:W}function pe(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function fe(e){e.window_size=2*e.w_size,$(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=L-1,e.match_available=0,e.ins_h=0}function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*O),this.dyn_dtree=new o.Buf16(2*(2*_+1)),this.bl_tree=new o.Buf16(2*(2*S+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(N+1),this.heap=new o.Buf16(2*D+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*D+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=E,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?F:V,e.adler=2===t.wrap?0:1,t.last_flush=l,i._tr_init(t),h):X(e,m)}function me(e){var t=Ae(e);return t===h&&fe(e.state),t}function ge(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,h):m}function ve(e,t,n,r,i,a){if(!e)return m;var s=1;if(t===b&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>T||n!==B||r<8||r>15||t<0||t>9||a<0||a>k)return X(e,m);8===r&&(r=9);var c=new he;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=i+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+L-1)/L),c.window=new o.Buf8(2*c.w_size),c.head=new o.Buf16(c.hash_size),c.prev=new o.Buf16(c.w_size),c.lit_bufsize=1<<i+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new o.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,me(e)}function be(e,t){return ve(e,t,B,M,I,C)}function ye(e,t){var n,o,a,c;if(!e||!e.state||t>f||t<0)return e?X(e,m):m;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||o.status===K&&t!==p)return X(e,0===e.avail_out?v:m);if(o.strm=e,n=o.last_flush,o.last_flush=t,o.status===F)if(2===o.wrap)e.adler=0,ne(o,31),ne(o,139),ne(o,8),o.gzhead?(ne(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),ne(o,255&o.gzhead.time),ne(o,o.gzhead.time>>8&255),ne(o,o.gzhead.time>>16&255),ne(o,o.gzhead.time>>24&255),ne(o,9===o.level?2:o.strategy>=w||o.level<2?4:0),ne(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(ne(o,255&o.gzhead.extra.length),ne(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=s(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=z):(ne(o,0),ne(o,0),ne(o,0),ne(o,0),ne(o,0),ne(o,9===o.level?2:o.strategy>=w||o.level<2?4:0),ne(o,Z),o.status=V);else{var g=B+(o.w_bits-8<<4)<<8;g|=(o.strategy>=w||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(g|=U),g+=31-g%31,o.status=V,re(o,g),0!==o.strstart&&(re(o,e.adler>>>16),re(o,65535&e.adler)),e.adler=1}if(o.status===z)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),ee(e),a=o.pending,o.pending!==o.pending_buf_size));)ne(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=Q)}else o.status=Q;if(o.status===Q)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),ee(e),a=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,ne(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===c&&(o.gzindex=0,o.status=P)}else o.status=P;if(o.status===P)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),ee(e),a=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,ne(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===c&&(o.status=H)}else o.status=H;if(o.status===H&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&ee(e),o.pending+2<=o.pending_buf_size&&(ne(o,255&e.adler),ne(o,e.adler>>8&255),e.adler=0,o.status=V)):o.status=V),0!==o.pending){if(ee(e),0===e.avail_out)return o.last_flush=-1,h}else if(0===e.avail_in&&J(t)<=J(n)&&t!==p)return X(e,v);if(o.status===K&&0!==e.avail_in)return X(e,v);if(0!==e.avail_in||0!==o.lookahead||t!==l&&o.status!==K){var b=o.strategy===w?de(o,t):o.strategy===x?ue(o,t):r[o.level].func(o,t);if(b!==Y&&b!==q||(o.status=K),b===G||b===Y)return 0===e.avail_out&&(o.last_flush=-1),h;if(b===W&&(t===u?i._tr_align(o):t!==f&&(i._tr_stored_block(o,0,0,!1),t===d&&($(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),ee(e),0===e.avail_out))return o.last_flush=-1,h}return t!==p?h:o.wrap<=0?A:(2===o.wrap?(ne(o,255&e.adler),ne(o,e.adler>>8&255),ne(o,e.adler>>16&255),ne(o,e.adler>>24&255),ne(o,255&e.total_in),ne(o,e.total_in>>8&255),ne(o,e.total_in>>16&255),ne(o,e.total_in>>24&255)):(re(o,e.adler>>>16),re(o,65535&e.adler)),ee(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?h:A)}function we(e){var t;return e&&e.state?(t=e.state.status)!==F&&t!==z&&t!==Q&&t!==P&&t!==H&&t!==V&&t!==K?X(e,m):(e.state=null,t===V?X(e,g):h):m}function xe(e,t){var n,r,i,s,c,l,u,d,p=t.length;if(!e||!e.state)return m;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==F||n.lookahead)return m;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&($(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new o.Buf8(n.w_size),o.arraySet(d,t,p-n.w_size,n.w_size,0),t=d,p=n.w_size),c=e.avail_in,l=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,ae(n);n.lookahead>=L;){r=n.strstart,i=n.lookahead-(L-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+L-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=L-1,ae(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=L-1,n.match_available=0,e.next_in=l,e.input=u,e.avail_in=c,n.wrap=s,h}r=[new pe(0,0,0,0,se),new pe(4,4,8,4,ce),new pe(4,5,16,8,ce),new pe(4,6,32,32,ce),new pe(4,4,16,16,le),new pe(8,16,32,32,le),new pe(8,16,128,128,le),new pe(8,32,128,256,le),new pe(32,128,258,1024,le),new pe(32,258,258,4096,le)],n.deflateInit=be,n.deflateInit2=ve,n.deflateReset=me,n.deflateResetKeep=Ae,n.deflateSetHeader=ge,n.deflate=ye,n.deflateEnd=we,n.deflateSetDictionary=xe,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":5,"./adler32":7,"./crc32":8,"./messages":10,"./trees":11}],10:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,t,n){"use strict";var r=e("../utils/common"),o=4,i=0,a=1,s=2;function c(e){for(var t=e.length;--t>=0;)e[t]=0}var l=0,u=1,d=2,p=3,f=258,h=29,A=256,m=A+1+h,g=30,v=19,b=2*m+1,y=15,w=16,x=7,k=256,C=16,E=17,B=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=512,S=new Array(2*(m+2));c(S);var O=new Array(2*g);c(O);var N=new Array(_);c(N);var L=new Array(f-p+1);c(L);var R=new Array(h);c(R);var j,U,F,z=new Array(g);function Q(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function P(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function H(e){return e<256?N[e]:N[256+(e>>>7)]}function V(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function K(e,t,n){e.bi_valid>w-n?(e.bi_buf|=t<<e.bi_valid&65535,V(e,e.bi_buf),e.bi_buf=t>>w-e.bi_valid,e.bi_valid+=n-w):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function G(e,t,n){K(e,n[2*t],n[2*t+1])}function W(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function Y(e){16===e.bi_valid?(V(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function q(e,t){var n,r,o,i,a,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,h=t.stat_desc.max_length,A=0;for(i=0;i<=y;i++)e.bl_count[i]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<b;n++)(i=c[2*c[2*(r=e.heap[n])+1]+1]+1)>h&&(i=h,A++),c[2*r+1]=i,r>l||(e.bl_count[i]++,a=0,r>=f&&(a=p[r-f]),s=c[2*r],e.opt_len+=s*(i+a),d&&(e.static_len+=s*(u[2*r+1]+a)));if(0!==A){do{for(i=h-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[h]--,A-=2}while(A>0);for(i=h;0!==i;i--)for(r=e.bl_count[i];0!==r;)(o=e.heap[--n])>l||(c[2*o+1]!==i&&(e.opt_len+=(i-c[2*o+1])*c[2*o],c[2*o+1]=i),r--)}}function Z(e,t,n){var r,o,i=new Array(y+1),a=0;for(r=1;r<=y;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=W(i[s]++,s))}}function X(){var e,t,n,r,o,i=new Array(y+1);for(n=0,r=0;r<h-1;r++)for(R[r]=n,e=0;e<1<<T[r];e++)L[n++]=r;for(L[n-1]=r,o=0,r=0;r<16;r++)for(z[r]=o,e=0;e<1<<M[r];e++)N[o++]=r;for(o>>=7;r<g;r++)for(z[r]=o<<7,e=0;e<1<<M[r]-7;e++)N[256+o++]=r;for(t=0;t<=y;t++)i[t]=0;for(e=0;e<=143;)S[2*e+1]=8,e++,i[8]++;for(;e<=255;)S[2*e+1]=9,e++,i[9]++;for(;e<=279;)S[2*e+1]=7,e++,i[7]++;for(;e<=287;)S[2*e+1]=8,e++,i[8]++;for(Z(S,m+1,i),e=0;e<g;e++)O[2*e+1]=5,O[2*e]=W(e,5);j=new Q(S,T,A+1,m,y),U=new Q(O,M,0,g,y),F=new Q(new Array(0),I,0,v,x)}function J(e){var t;for(t=0;t<m;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<v;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*k]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function $(e){e.bi_valid>8?V(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,n,o){$(e),o&&(V(e,n),V(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function te(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function ne(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&te(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!te(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function re(e,t,n){var r,o,i,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],o=e.pending_buf[e.l_buf+s],s++,0===r?G(e,o,t):(G(e,(i=L[o])+A+1,t),0!==(a=T[i])&&K(e,o-=R[i],a),G(e,i=H(--r),n),0!==(a=M[i])&&K(e,r-=z[i],a))}while(s<e.last_lit);G(e,k,t)}function oe(e,t){var n,r,o,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=b,n=0;n<c;n++)0!==i[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)ne(e,i,n);o=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ne(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,ne(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],q(e,t),Z(i,l,e.bl_count)}function ie(e,t,n){var r,o,i=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<c&&o===a||(s<l?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[2*C]++):s<=10?e.bl_tree[2*E]++:e.bl_tree[2*B]++,s=0,i=o,0===a?(c=138,l=3):o===a?(c=6,l=3):(c=7,l=4))}function ae(e,t,n){var r,o,i=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<c&&o===a)){if(s<l)do{G(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(G(e,o,e.bl_tree),s--),G(e,C,e.bl_tree),K(e,s-3,2)):s<=10?(G(e,E,e.bl_tree),K(e,s-3,3)):(G(e,B,e.bl_tree),K(e,s-11,7));s=0,i=o,0===a?(c=138,l=3):o===a?(c=6,l=3):(c=7,l=4)}}function se(e){var t;for(ie(e,e.dyn_ltree,e.l_desc.max_code),ie(e,e.dyn_dtree,e.d_desc.max_code),oe(e,e.bl_desc),t=v-1;t>=3&&0===e.bl_tree[2*D[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function ce(e,t,n,r){var o;for(K(e,t-257,5),K(e,n-1,5),K(e,r-4,4),o=0;o<r;o++)K(e,e.bl_tree[2*D[o]+1],3);ae(e,e.dyn_ltree,t-1),ae(e,e.dyn_dtree,n-1)}function le(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<A;t++)if(0!==e.dyn_ltree[2*t])return a;return i}c(z);var ue=!1;function de(e){ue||(X(),ue=!0),e.l_desc=new P(e.dyn_ltree,j),e.d_desc=new P(e.dyn_dtree,U),e.bl_desc=new P(e.bl_tree,F),e.bi_buf=0,e.bi_valid=0,J(e)}function pe(e,t,n,r){K(e,(l<<1)+(r?1:0),3),ee(e,t,n,!0)}function fe(e){K(e,u<<1,3),G(e,k,S),Y(e)}function he(e,t,n,r){var i,a,c=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=le(e)),oe(e,e.l_desc),oe(e,e.d_desc),c=se(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?pe(e,t,n,r):e.strategy===o||a===i?(K(e,(u<<1)+(r?1:0),3),re(e,S,O)):(K(e,(d<<1)+(r?1:0),3),ce(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),re(e,e.dyn_ltree,e.dyn_dtree)),J(e),r&&$(e)}function Ae(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(L[n]+A+1)]++,e.dyn_dtree[2*H(t)]++),e.last_lit===e.lit_bufsize-1}n._tr_init=de,n._tr_stored_block=pe,n._tr_flush_block=he,n._tr_tally=Ae,n._tr_align=fe},{"../utils/common":5}],12:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}]},{},[3])(3)},4155:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,c=[],l=!1,u=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&p())}function p(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},1210:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,i=r(n(3465)),a=r(n(2307));!function(e){e.compose=function(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=i.default(t);for(var o in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(r[o]=e[o]);return Object.keys(r).length>0?r:void 0},e.diff=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return a.default(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},e.invert=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=e||{};var n=Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0!==e[r]&&(n[r]=t[r]),n}),{});return Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0===t[r]&&(n[r]=null),n}),n)},e.transform=function(e,t,n){if(void 0===n&&(n=!1),"object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}}(o||(o={})),t.default=o},8895:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=r(n(7529)),i=r(n(3465)),a=r(n(2307)),s=r(n(1210)),c=r(n(430)),l=String.fromCharCode(0),u=function(){function e(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return e.prototype.insert=function(e,t){var n={};return"string"==typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},e.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},e.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},e.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=i.default(e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(a.default(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},e.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},e.prototype.filter=function(e){return this.ops.filter(e)},e.prototype.forEach=function(e){this.ops.forEach(e)},e.prototype.map=function(e){return this.ops.map(e)},e.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},e.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},e.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+c.default.length(t):t.delete?e-t.delete:e}),0)},e.prototype.length=function(){return this.reduce((function(e,t){return e+c.default.length(t)}),0)},e.prototype.slice=function(t,n){void 0===t&&(t=0),void 0===n&&(n=1/0);for(var r=[],o=c.default.iterator(this.ops),i=0;i<n&&o.hasNext();){var a=void 0;i<t?a=o.next(t-i):(a=o.next(n-i),r.push(a)),i+=c.default.length(a)}return new e(r)},e.prototype.compose=function(t){var n=c.default.iterator(this.ops),r=c.default.iterator(t.ops),o=[],i=r.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var l=i.retain;"insert"===n.peekType()&&n.peekLength()<=l;)l-=n.peekLength(),o.push(n.next());i.retain-l>0&&r.next(i.retain-l)}for(var u=new e(o);n.hasNext()||r.hasNext();)if("insert"===r.peekType())u.push(r.next());else if("delete"===n.peekType())u.push(n.next());else{var d=Math.min(n.peekLength(),r.peekLength()),p=n.next(d),f=r.next(d);if("number"==typeof f.retain){var h={};"number"==typeof p.retain?h.retain=d:h.insert=p.insert;var A=s.default.compose(p.attributes,f.attributes,"number"==typeof p.retain);if(A&&(h.attributes=A),u.push(h),!r.hasNext()&&a.default(u.ops[u.ops.length-1],h)){var m=new e(n.rest());return u.concat(m).chop()}}else"number"==typeof f.delete&&"number"==typeof p.retain&&u.push(f)}return u.chop()},e.prototype.concat=function(t){var n=new e(this.ops.slice());return t.ops.length>0&&(n.push(t.ops[0]),n.ops=n.ops.concat(t.ops.slice(1))),n},e.prototype.diff=function(t,n){if(this.ops===t.ops)return new e;var r=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:l;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),i=new e,u=o.default(r[0],r[1],n),d=c.default.iterator(this.ops),p=c.default.iterator(t.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case o.default.INSERT:n=Math.min(p.peekLength(),t),i.push(p.next(n));break;case o.default.DELETE:n=Math.min(t,d.peekLength()),d.next(n),i.delete(n);break;case o.default.EQUAL:n=Math.min(d.peekLength(),p.peekLength(),t);var r=d.next(n),c=p.next(n);a.default(r.insert,c.insert)?i.retain(n,s.default.diff(r.attributes,c.attributes)):i.push(c).delete(n)}t-=n}})),i.chop()},e.prototype.eachLine=function(t,n){void 0===n&&(n="\n");for(var r=c.default.iterator(this.ops),o=new e,i=0;r.hasNext();){if("insert"!==r.peekType())return;var a=r.peek(),s=c.default.length(a)-r.peekLength(),l="string"==typeof a.insert?a.insert.indexOf(n,s)-s:-1;if(l<0)o.push(r.next());else if(l>0)o.push(r.next(l));else{if(!1===t(o,r.next(1).attributes||{},i))return;i+=1,o=new e}}o.length()>0&&t(o,{},i)},e.prototype.invert=function(t){var n=new e;return this.reduce((function(e,r){if(r.insert)n.delete(c.default.length(r));else{if(r.retain&&null==r.attributes)return n.retain(r.retain),e+r.retain;if(r.delete||r.retain&&r.attributes){var o=r.delete||r.retain;return t.slice(e,e+o).forEach((function(e){r.delete?n.push(e):r.retain&&r.attributes&&n.retain(c.default.length(e),s.default.invert(r.attributes,e.attributes))})),e+o}}return e}),0),n.chop()},e.prototype.transform=function(t,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof t)return this.transformPosition(t,n);for(var r=t,o=c.default.iterator(this.ops),i=c.default.iterator(r.ops),a=new e;o.hasNext()||i.hasNext();)if("insert"!==o.peekType()||!n&&"insert"===i.peekType())if("insert"===i.peekType())a.push(i.next());else{var l=Math.min(o.peekLength(),i.peekLength()),u=o.next(l),d=i.next(l);if(u.delete)continue;d.delete?a.push(d):a.retain(l,s.default.transform(u.attributes,d.attributes,n))}else a.retain(c.default.length(o.next()));return a.chop()},e.prototype.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;for(var n=c.default.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<e||!t)&&(e+=o),r+=o):e-=Math.min(o,e-r)}return e},e.Op=c.default,e.AttributeMap=s.default,e}();e.exports=u},2977:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(430)),i=function(){function e(e){this.ops=e,this.index=0,this.offset=0}return e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=o.default.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),"number"==typeof t.retain?i.retain=e:"string"==typeof t.insert?i.insert=t.insert.substr(n,e):i.insert=t.insert,i}return{retain:1/0}},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return this.ops[this.index]?o.default.length(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e}();t.default=i},430:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,i=r(n(2977));!function(e){e.iterator=function(e){return new i.default(e)},e.length=function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}}(o||(o={})),t.default=o},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),a=new M(r||[]);return i._invoke=function(e,t,n){var r=d;return function(o,i){if(r===f)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return D()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===A)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?h:p,c.arg===A)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",p="suspendedYield",f="executing",h="completed",A={};function m(){}function g(){}function v(){}var b={};b[i]=function(){return this};var y=Object.getPrototypeOf,w=y&&y(y(I([])));w&&w!==n&&r.call(w,i)&&(b=w);var x=v.prototype=m.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var c=u(e[o],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return A;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,A;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,A):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function I(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:D}}function D(){return{value:t,done:!0}}return g.prototype=x.constructor=v,v.constructor=g,g.displayName=c(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},k(C.prototype),C.prototype[a]=function(){return this},e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(x),c(x,s,"Generator"),x[i]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),A}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),A}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},1346:(e,t,n)=>{var r=n(8535),o=n(716),i=n(7864),a=n(2904),s=n(3336),c=n(9180),l=n(2247),u=n(7290),d=n(5613),p=n(46),f=n(6123),h=u.CODES;function A(e){return 0===e.readyState||1===e.readyState?"connecting":"disconnected"}function m(e){l.EventEmitter.call(this),this.collections={},this.nextQueryId=1,this.nextSnapshotRequestId=1,this.queries={},this._presences={},this._snapshotRequests={},this.seq=1,this._presenceSeq=1,this.id=null,this.agent=null,this.debug=!1,this.state=A(e),this.bindToSocket(e)}function g(e,t){var n=new Error(e.message);return n.code=e.code,t&&(n.data=t),n}function v(e){return e.hasPending()}function b(e){return e.hasWritePending()}e.exports=m,l.mixin(m),m.prototype.bindToSocket=function(e){this.socket&&(this.socket.close(),this.socket.onmessage=null,this.socket.onopen=null,this.socket.onerror=null,this.socket.onclose=null),this.socket=e;var t=A(e);this._setState(t),this.canSend=!1;var n=this;e.onmessage=function(e){try{var t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(t){return void f.warn("Failed to parse message",e)}n.debug&&f.info("RECV",JSON.stringify(t));var r={data:t};if(n.emit("receive",r),r.data)try{n.handleMessage(r.data)}catch(e){p.nextTick((function(){n.emit("error",e)}))}},1===e.readyState&&n._initializeHandshake(),e.onopen=function(){n._setState("connecting"),n._initializeHandshake()},e.onerror=function(e){n.emit("connection error",e)},e.onclose=function(e){"closed"===e||"Closed"===e?n._setState("closed",e):"stopped"===e||"Stopped by server"===e?n._setState("stopped",e):n._setState("disconnected",e)}},m.prototype.handleMessage=function(e){var t=null;switch(e.error&&(t=g(e.error,e),delete e.error),e.a){case"init":return this._handleLegacyInit(e);case"hs":return this._handleHandshake(t,e);case"qf":return void((n=this.queries[e.id])&&n._handleFetch(t,e.data,e.extra));case"qs":return void((n=this.queries[e.id])&&n._handleSubscribe(t,e.data,e.extra));case"qu":return;case"q":var n;if(!(n=this.queries[e.id]))return;return t?n._handleError(t):(e.diff&&n._handleDiff(e.diff),void(e.hasOwnProperty("extra")&&n._handleExtra(e.extra)));case"bf":return this._handleBulkMessage(t,e,"_handleFetch");case"bs":case"bu":return this._handleBulkMessage(t,e,"_handleSubscribe");case"nf":case"nt":return this._handleSnapshotFetch(t,e);case"f":return void((r=this.getExisting(e.c,e.d))&&r._handleFetch(t,e.data));case"s":case"u":return void((r=this.getExisting(e.c,e.d))&&r._handleSubscribe(t,e.data));case"op":var r;return void((r=this.getExisting(e.c,e.d))&&r._handleOp(t,e));case"p":return this._handlePresence(t,e);case"ps":return this._handlePresenceSubscribe(t,e);case"pu":return this._handlePresenceUnsubscribe(t,e);case"pr":return this._handlePresenceRequest(t,e);default:f.warn("Ignoring unrecognized message",e)}},m.prototype._handleBulkMessage=function(e,t,n){if(t.data)for(var r in t.data){var o=t.data[r];(a=this.getExisting(t.c,r))&&(e?a[n](e):o.error?a[n](g(o.error)):a[n](null,o))}else if(Array.isArray(t.b))for(var i=0;i<t.b.length;i++){r=t.b[i];(a=this.getExisting(t.c,r))&&a[n](e)}else if(t.b)for(var r in t.b){var a;(a=this.getExisting(t.c,r))&&a[n](e)}else f.error("Invalid bulk message",t)},m.prototype._reset=function(){this.agent=null},m.prototype._setState=function(e,t){if(this.state!==e){if("connecting"===e&&"disconnected"!==this.state&&"stopped"!==this.state&&"closed"!==this.state||"connected"===e&&"connecting"!==this.state){var n=new u(h.ERR_CONNECTION_STATE_TRANSITION_INVALID,"Cannot transition directly from "+this.state+" to "+e);return this.emit("error",n)}for(var r in this.state=e,this.canSend="connected"===e,"disconnected"!==e&&"stopped"!==e&&"closed"!==e||this._reset(),this.startBulk(),this.queries){this.queries[r]._onConnectionStateChanged()}for(var o in this.collections){var i=this.collections[o];for(var r in i)i[r]._onConnectionStateChanged()}for(var a in this._presences)this._presences[a]._onConnectionStateChanged();for(var r in this._snapshotRequests){this._snapshotRequests[r]._onConnectionStateChanged()}this.endBulk(),this.emit(e,t),this.emit("state",e,t)}},m.prototype.startBulk=function(){this.bulk||(this.bulk={})},m.prototype.endBulk=function(){if(this.bulk)for(var e in this.bulk){var t=this.bulk[e];this._sendBulk("f",e,t.f),this._sendBulk("s",e,t.s),this._sendBulk("u",e,t.u)}this.bulk=null},m.prototype._sendBulk=function(e,t,n){if(n){var r,o=[],i={},a=0;for(var s in n){var c=n[s];null==c?o.push(s):(i[s]=c,r=s,a++)}if(1===o.length){s=o[0];this.send({a:e,c:t,d:s})}else o.length&&this.send({a:"b"+e,c:t,b:o});if(1===a){var l=i[r];this.send({a:e,c:t,d:r,v:l})}else a&&this.send({a:"b"+e,c:t,b:i})}},m.prototype._sendAction=function(e,t,n){if(this._addDoc(t),this.bulk){var r=this.bulk[t.collection]||(this.bulk[t.collection]={}),o=r[e]||(r[e]={}),i=o.hasOwnProperty(t.id);return o[t.id]=n,i}var a={a:e,c:t.collection,d:t.id,v:n};this.send(a)},m.prototype.sendFetch=function(e){return this._sendAction("f",e,e.version)},m.prototype.sendSubscribe=function(e){return this._sendAction("s",e,e.version)},m.prototype.sendUnsubscribe=function(e){return this._sendAction("u",e)},m.prototype.sendOp=function(e,t){this._addDoc(e);var n={a:"op",c:e.collection,d:e.id,v:e.version,src:t.src,seq:t.seq,x:{}};"op"in t&&(n.op=t.op),t.create&&(n.create=t.create),t.del&&(n.del=t.del),e.submitSource&&(n.x.source=t.source),this.send(n)},m.prototype.send=function(e){this.debug&&f.info("SEND",JSON.stringify(e)),this.emit("send",e),this.socket.send(JSON.stringify(e))},m.prototype.close=function(){this.socket.close()},m.prototype.getExisting=function(e,t){if(this.collections[e])return this.collections[e][t]},m.prototype.get=function(e,t){var n=this.collections[e]||(this.collections[e]={}),o=n[t];return o||(o=n[t]=new r(this,e,t),this.emit("doc",o)),o},m.prototype._destroyDoc=function(e){p.digAndRemove(this.collections,e.collection,e.id)},m.prototype._addDoc=function(e){var t=this.collections[e.collection];t||(t=this.collections[e.collection]={}),t[e.id]!==e&&(t[e.id]=e)},m.prototype._createQuery=function(e,t,n,r,i){var a=this.nextQueryId++,s=new o(e,this,a,t,n,r,i);return this.queries[a]=s,s.send(),s},m.prototype._destroyQuery=function(e){delete this.queries[e.id]},m.prototype.createFetchQuery=function(e,t,n,r){return this._createQuery("qf",e,t,n,r)},m.prototype.createSubscribeQuery=function(e,t,n,r){return this._createQuery("qs",e,t,n,r)},m.prototype.hasPending=function(){return!!(this._firstDoc(v)||this._firstQuery(v)||this._firstSnapshotRequest())},m.prototype.hasWritePending=function(){return!!this._firstDoc(b)},m.prototype.whenNothingPending=function(e){var t=this._firstDoc(v);if(t)t.once("nothing pending",this._nothingPendingRetry(e));else{var n=this._firstQuery(v);if(n)n.once("ready",this._nothingPendingRetry(e));else{var r=this._firstSnapshotRequest();r?r.once("ready",this._nothingPendingRetry(e)):p.nextTick(e)}}},m.prototype._nothingPendingRetry=function(e){var t=this;return function(){p.nextTick((function(){t.whenNothingPending(e)}))}},m.prototype._firstDoc=function(e){for(var t in this.collections){var n=this.collections[t];for(var r in n){var o=n[r];if(e(o))return o}}},m.prototype._firstQuery=function(e){for(var t in this.queries){var n=this.queries[t];if(e(n))return n}},m.prototype._firstSnapshotRequest=function(){for(var e in this._snapshotRequests)return this._snapshotRequests[e]},m.prototype.fetchSnapshot=function(e,t,n,r){"function"==typeof n&&(r=n,n=null);var o=this.nextSnapshotRequestId++,i=new s(this,o,e,t,n,r);this._snapshotRequests[i.requestId]=i,i.send()},m.prototype.fetchSnapshotByTimestamp=function(e,t,n,r){"function"==typeof n&&(r=n,n=null);var o=this.nextSnapshotRequestId++,i=new c(this,o,e,t,n,r);this._snapshotRequests[i.requestId]=i,i.send()},m.prototype._handleSnapshotFetch=function(e,t){var n=this._snapshotRequests[t.id];n&&(delete this._snapshotRequests[t.id],n._handleResponse(e,t))},m.prototype._handleLegacyInit=function(e){if(e.protocolMinor)return this._initializeHandshake();this._initialize(e)},m.prototype._initializeHandshake=function(){this.send({a:"hs",id:this.id})},m.prototype._handleHandshake=function(e,t){if(e)return this.emit("error",e);this._initialize(t)},m.prototype._initialize=function(e){if("connecting"===this.state){if(1!==e.protocol)return this.emit("error",new u(h.ERR_PROTOCOL_VERSION_NOT_SUPPORTED,"Unsupported protocol version: "+e.protocol));if(d.map[e.type]!==d.defaultType)return this.emit("error",new u(h.ERR_DEFAULT_TYPE_MISMATCH,e.type+" does not match the server default type"));if("string"!=typeof e.id)return this.emit("error",new u(h.ERR_CLIENT_ID_BADLY_FORMED,"Client id must be a string"));this.id=e.id,this._setState("connected")}},m.prototype.getPresence=function(e){var t=this;return p.digOrCreate(this._presences,e,(function(){return new i(t,e)}))},m.prototype.getDocPresence=function(e,t){var n=a.channel(e,t),r=this;return p.digOrCreate(this._presences,n,(function(){return new a(r,e,t)}))},m.prototype._sendPresenceAction=function(e,t,n){this._addPresence(n);var r={a:e,ch:n.channel,seq:t};return this.send(r),r.seq},m.prototype._addPresence=function(e){p.digOrCreate(this._presences,e.channel,(function(){return e}))},m.prototype._handlePresenceSubscribe=function(e,t){var n=p.dig(this._presences,t.ch);n&&n._handleSubscribe(e,t.seq)},m.prototype._handlePresenceUnsubscribe=function(e,t){var n=p.dig(this._presences,t.ch);n&&n._handleUnsubscribe(e,t.seq)},m.prototype._handlePresence=function(e,t){var n=p.dig(this._presences,t.ch);n&&n._receiveUpdate(e,t)},m.prototype._handlePresenceRequest=function(e,t){var n=p.dig(this._presences,t.ch);n&&n._broadcastAllLocalPresence(e,t)}},8535:(e,t,n)=>{var r=n(2247),o=n(6123),i=n(7290),a=n(5613),s=n(46),c=n(4063),l=i.CODES;function u(e,t,n){r.EventEmitter.call(this),this.connection=e,this.collection=t,this.id=n,this.version=null,this.type=null,this.data=void 0,this.inflightFetch=[],this.inflightSubscribe=null,this.pendingFetch=[],this.pendingSubscribe=[],this.subscribed=!1,this.wantSubscribe=!1,this.inflightOp=null,this.pendingOps=[],this.type=null,this.applyStack=null,this.preventCompose=!1,this.submitSource=!1,this.paused=!1}function d(e,t){if(e.del)return delete(n=t).op,delete n.create,void delete n.del;var n;if(t.del)return new i(l.ERR_DOC_WAS_DELETED,"Document was deleted");if(t.create)return new i(l.ERR_DOC_ALREADY_CREATED,"Document already created");if("op"in t){if(e.create)return new i(l.ERR_DOC_ALREADY_CREATED,"Document already created");if(e.type.transformX){var r=e.type.transformX(e.op,t.op);e.op=r[0],t.op=r[1]}else{var o=e.type.transform(e.op,t.op,"left"),a=e.type.transform(t.op,e.op,"right");e.op=o,t.op=a}}}e.exports=u,r.mixin(u),u.prototype.destroy=function(e){var t=this;t.whenNothingPending((function(){t.wantSubscribe?t.unsubscribe((function(n){if(n)return e?e(n):t.emit("error",n);t.connection._destroyDoc(t),t.emit("destroy"),e&&e()})):(t.connection._destroyDoc(t),t.emit("destroy"),e&&e())}))},u.prototype._setType=function(e){if("string"==typeof e&&(e=a.map[e]),e)this.type=e;else{if(null!==e){var t=new i(l.ERR_DOC_TYPE_NOT_RECOGNIZED,"Missing type "+e);return this.emit("error",t)}this.type=e,this.data=void 0}},u.prototype.ingestSnapshot=function(e,t){if(!e)return t&&t();if("number"!=typeof e.v){var n=new i(l.ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION,"Missing version in ingested snapshot. "+this.collection+"."+this.id);return t?t(n):this.emit("error",n)}if(this.type||this.hasWritePending()){if(null==this.version){if(this.hasWritePending())return t&&this.once("no write pending",t);n=new i(l.ERR_DOC_MISSING_VERSION,"Cannot ingest snapshot in doc with null version. "+this.collection+"."+this.id);return t?t(n):this.emit("error",n)}return e.v>this.version?this.fetch(t):t&&t()}if(this.version>e.v)return t&&t();this.version=e.v;var r=void 0===e.type?a.defaultType:e.type;this._setType(r),this.data=this.type&&this.type.deserialize?this.type.deserialize(e.data):e.data,this.emit("load"),t&&t()},u.prototype.whenNothingPending=function(e){var t=this;s.nextTick((function(){t.hasPending()?t.once("nothing pending",e):e()}))},u.prototype.hasPending=function(){return!!(this.inflightOp||this.pendingOps.length||this.inflightFetch.length||this.inflightSubscribe||this.pendingFetch.length||this.pendingSubscribe.length)},u.prototype.hasWritePending=function(){return!(!this.inflightOp&&!this.pendingOps.length)},u.prototype._emitNothingPending=function(){this.hasWritePending()||(this.emit("no write pending"),this.hasPending()||this.emit("nothing pending"))},u.prototype._emitResponseError=function(e,t){return e&&e.code===l.ERR_SNAPSHOT_READ_SILENT_REJECTION?(this.wantSubscribe=!1,t&&t(),void this._emitNothingPending()):t?(t(e),void this._emitNothingPending()):(this._emitNothingPending(),void this.emit("error",e))},u.prototype._handleFetch=function(e,t){var n=this.pendingFetch;this.pendingFetch=[];var r=this.inflightFetch.shift();if(r&&n.push(r),n.length&&(r=function(e){s.callEach(n,e)}),e)return this._emitResponseError(e,r);this.ingestSnapshot(t,r),this._emitNothingPending()},u.prototype._handleSubscribe=function(e,t){var n=this.inflightSubscribe;this.inflightSubscribe=null;var r,o=this.pendingFetch;if(this.pendingFetch=[],n.callback&&o.push(n.callback),o.length&&(r=function(e){s.callEach(o,e)}),e)return this._emitResponseError(e,r);this.subscribed=n.wantSubscribe,this.subscribed?this.ingestSnapshot(t,r):r&&r(),this._emitNothingPending(),this._flushSubscribe()},u.prototype._handleOp=function(e,t){if(e)return this.inflightOp?(e.code===l.ERR_OP_SUBMIT_REJECTED&&(e=null),this._rollback(e)):this.emit("error",e);if(this.inflightOp&&t.src===this.inflightOp.src&&t.seq===this.inflightOp.seq)this._opAcknowledged(t);else if(null==this.version||t.v>this.version)this.fetch();else if(!(t.v<this.version)){if(this.inflightOp)if(r=d(this.inflightOp,t))return this._hardRollback(r);for(var n=0;n<this.pendingOps.length;n++){var r;if(r=d(this.pendingOps[n],t))return this._hardRollback(r)}this.version++;try{this._otApply(t,!1)}catch(e){return this._hardRollback(e)}}},u.prototype._onConnectionStateChanged=function(){this.connection.canSend?(this.flush(),this._resubscribe()):(this.inflightOp&&(this.pendingOps.unshift(this.inflightOp),this.inflightOp=null),this.subscribed=!1,this.inflightSubscribe&&(this.inflightSubscribe.wantSubscribe?(this.pendingSubscribe.unshift(this.inflightSubscribe),this.inflightSubscribe=null):this._handleSubscribe()),this.inflightFetch.length&&(this.pendingFetch=this.pendingFetch.concat(this.inflightFetch),this.inflightFetch.length=0))},u.prototype._resubscribe=function(){if(!this.pendingSubscribe.length&&this.wantSubscribe)return this.subscribe();!this.pendingSubscribe.some((function(e){return e.wantSubscribe}))&&this.pendingFetch.length&&this.fetch(),this._flushSubscribe()},u.prototype.fetch=function(e){if(this.connection.canSend){var t=this.connection.sendFetch(this);!function(e,t,n){if(t){var r=e.pop();e.push((function(e){r&&r(e),n&&n(e)}))}else e.push(n)}(this.inflightFetch,t,e)}else this.pendingFetch.push(e)},u.prototype.subscribe=function(e){this._queueSubscribe(!0,e)},u.prototype.unsubscribe=function(e){this._queueSubscribe(!1,e)},u.prototype._queueSubscribe=function(e,t){var n,r=this.pendingSubscribe[this.pendingSubscribe.length-1]||this.inflightSubscribe;r&&r.wantSubscribe===e?r.callback=(n=(n=[r.callback,t]).filter(s.truthy)).length?function(e){s.callEach(n,e)}:null:(this.pendingSubscribe.push({wantSubscribe:!!e,callback:t}),this._flushSubscribe())},u.prototype._flushSubscribe=function(){if(!this.inflightSubscribe&&this.pendingSubscribe.length){if(this.connection.canSend)return this.inflightSubscribe=this.pendingSubscribe.shift(),this.wantSubscribe=this.inflightSubscribe.wantSubscribe,void(this.wantSubscribe?this.connection.sendSubscribe(this):(this.subscribed=!1,this.connection.sendUnsubscribe(this)));if(!this.pendingSubscribe[0].wantSubscribe){this.inflightSubscribe=this.pendingSubscribe.shift();var e=this;s.nextTick((function(){e._handleSubscribe()}))}}},u.prototype.flush=function(){this.connection.canSend&&!this.inflightOp&&!this.paused&&this.pendingOps.length&&this._sendOp()},u.prototype._otApply=function(e,t){if("op"in e){if(!this.type)throw new i(l.ERR_DOC_DOES_NOT_EXIST,"Cannot apply op to uncreated document. "+this.collection+"."+this.id);if(this.emit("before op batch",e.op,t),!t&&this.type===a.defaultType&&e.op.length>1){this.applyStack||(this.applyStack=[]);for(var n=this.applyStack.length,r=0;r<e.op.length;r++){for(var o={op:[e.op[r]]},s=n;s<this.applyStack.length;s++){var c=d(this.applyStack[s],o);if(c)return this._hardRollback(c)}this.emit("before op",o.op,t,e.src),this.data=this.type.apply(this.data,o.op),this.emit("op",o.op,t,e.src)}return this.emit("op batch",e.op,t),void this._popApplyStack(n)}return this.emit("before op",e.op,t,e.src),this.data=this.type.apply(this.data,e.op),this.emit("op",e.op,t,e.src),void this.emit("op batch",e.op,t)}if(e.create)return this._setType(e.create.type),this.data=this.type.deserialize?this.type.createDeserialized?this.type.createDeserialized(e.create.data):this.type.deserialize(this.type.create(e.create.data)):this.type.create(e.create.data),void this.emit("create",t);if(e.del){var u=this.data;return this._setType(null),void this.emit("del",u,t)}},u.prototype._sendOp=function(){if(this.connection.canSend){var e=this.connection.id;this.inflightOp||(this.inflightOp=this.pendingOps.shift());var t=this.inflightOp;if(!t){var n=new i(l.ERR_INFLIGHT_OP_MISSING,"No op to send on call to _sendOp");return this.emit("error",n)}if(t.sentAt=Date.now(),t.retries=null==t.retries?0:t.retries+1,null==t.seq){if(this.connection.seq>=s.MAX_SAFE_INTEGER)return this.emit("error",new i(l.ERR_CONNECTION_SEQ_INTEGER_OVERFLOW,"Connection seq has exceeded the max safe integer, maybe from being open for too long"));t.seq=this.connection.seq++}this.connection.sendOp(this,t),null==t.src&&(t.src=e)}},u.prototype._submit=function(e,t,n){if(t||(t=!0),"op"in e){if(!this.type){var r=new i(l.ERR_DOC_DOES_NOT_EXIST,"Cannot submit op. Document has not been created. "+this.collection+"."+this.id);return n?n(r):this.emit("error",r)}this.type.normalize&&(e.op=this.type.normalize(e.op))}try{this._pushOp(e,t,n),this._otApply(e,t)}catch(e){return this._hardRollback(e)}var o=this;s.nextTick((function(){o.flush()}))},u.prototype._pushOp=function(e,t,n){if(e.source=t,this.applyStack)this.applyStack.push(e);else{var r=this._tryCompose(e);if(r)return void r.callbacks.push(n)}e.type=this.type,e.callbacks=[n],this.pendingOps.push(e)},u.prototype._popApplyStack=function(e){if(e>0)this.applyStack.length=e;else{var t=this.applyStack[0];if(this.applyStack=null,t)if(-1!==(r=this.pendingOps.indexOf(t)))for(var n=this.pendingOps.splice(r),r=0;r<n.length;r++){t=n[r];var o=this._tryCompose(t);o?o.callbacks=o.callbacks.concat(t.callbacks):this.pendingOps.push(t)}}},u.prototype._tryCompose=function(e){if(!this.preventCompose){var t=this.pendingOps[this.pendingOps.length-1];if(t&&!t.sentAt&&(!this.submitSource||c(e.source,t.source)))return t.create&&"op"in e?(t.create.data=this.type.apply(t.create.data,e.op),t):"op"in t&&"op"in e&&this.type.compose?(t.op=this.type.compose(t.op,e.op),t):void 0}},u.prototype.submitOp=function(e,t,n){"function"==typeof t&&(n=t,t=null);var r={op:e},o=t&&t.source;this._submit(r,o,n)},u.prototype.create=function(e,t,n,r){if("function"==typeof t?(r=t,n=null,t=null):"function"==typeof n&&(r=n,n=null),t||(t=a.defaultType.uri),this.type){var o=new i(l.ERR_DOC_ALREADY_CREATED,"Document already exists");return r?r(o):this.emit("error",o)}var s={create:{type:t,data:e}},c=n&&n.source;this._submit(s,c,r)},u.prototype.del=function(e,t){if("function"==typeof e&&(t=e,e=null),!this.type){var n=new i(l.ERR_DOC_DOES_NOT_EXIST,"Document does not exist");return t?t(n):this.emit("error",n)}var r=e&&e.source;this._submit({del:!0},r,t)},u.prototype.pause=function(){this.paused=!0},u.prototype.resume=function(){this.paused=!1,this.flush()},u.prototype._opAcknowledged=function(e){if(this.inflightOp.create)this.version=e.v;else if(e.v!==this.version)return o.warn("Invalid version from server. Expected: "+this.version+" Received: "+e.v,e),this.fetch();this.version++,this._clearInflightOp()},u.prototype._rollback=function(e){var t=this.inflightOp;if("op"in t&&t.type.invert){t.op=t.type.invert(t.op);for(var n=0;n<this.pendingOps.length;n++){var r=d(this.pendingOps[n],t);if(r)return this._hardRollback(r)}try{this._otApply(t,!1)}catch(e){return this._hardRollback(e)}this._clearInflightOp(e)}else this._hardRollback(e)},u.prototype._hardRollback=function(e){var t=[];this.inflightOp&&t.push(this.inflightOp),t=t.concat(this.pendingOps),this._setType(null),this.version=null,this.inflightOp=null,this.pendingOps=[];var n=this;this.fetch((function(){for(var r=!!t.length,o=0;o<t.length;o++)r=s.callEach(t[o].callbacks,e)&&r;if(e&&!r)return n.emit("error",e)}))},u.prototype._clearInflightOp=function(e){var t=this.inflightOp;this.inflightOp=null;var n=s.callEach(t.callbacks,e);if(this.flush(),this._emitNothingPending(),e&&!n)return this.emit("error",e)}},6514:(e,t,n)=>{t.Connection=n(1346),n(8535),n(7290),n(716),t.types=n(5613),n(6123)},2904:(e,t,n)=>{var r=n(7864),o=n(4395),i=n(9001);function a(e,t,n){var o=a.channel(t,n);r.call(this,e,o),this.collection=t,this.id=n}e.exports=a,a.prototype=Object.create(r.prototype),a.channel=function(e,t){return e+"."+t},a.prototype._createLocalPresence=function(e){return new o(this,e)},a.prototype._createRemotePresence=function(e){return new i(this,e)}},4395:(e,t,n)=>{var r=n(2527),o=n(7290).CODES;function i(e,t){r.call(this,e,t),this.collection=this.presence.collection,this.id=this.presence.id,this._doc=this.connection.get(this.collection,this.id),this._isSending=!1,this._opHandler=this._transformAgainstOp.bind(this),this._createOrDelHandler=this._handleCreateOrDel.bind(this),this._loadHandler=this._handleLoad.bind(this),this._destroyHandler=this.destroy.bind(this),this._registerWithDoc()}e.exports=i,i.prototype=Object.create(r.prototype),i.prototype.submit=function(e,t){if(!this._doc.type){if(null===e)return this._callbackOrEmit(null,t);var n={code:o.ERR_DOC_DOES_NOT_EXIST,message:"Cannot submit presence. Document has not been created"};return this._callbackOrEmit(n,t)}r.prototype.submit.call(this,e,t)},i.prototype.destroy=function(e){this._doc.removeListener("op",this._opHandler),this._doc.removeListener("create",this._createOrDelHandler),this._doc.removeListener("del",this._createOrDelHandler),this._doc.removeListener("load",this._loadHandler),this._doc.removeListener("destroy",this._destroyHandler),r.prototype.destroy.call(this,e)},i.prototype._sendPending=function(){if(!this._isSending){this._isSending=!0;var e=this;this._doc.whenNothingPending((function(){e._isSending=!1,e.connection.canSend&&(e._pendingMessages.forEach((function(t){t.t=e._doc.type.uri,t.v=e._doc.version,e.connection.send(t)})),e._pendingMessages=[])}))}},i.prototype._registerWithDoc=function(){this._doc.on("op",this._opHandler),this._doc.on("create",this._createOrDelHandler),this._doc.on("del",this._createOrDelHandler),this._doc.on("load",this._loadHandler),this._doc.on("destroy",this._destroyHandler)},i.prototype._transformAgainstOp=function(e,t){var n=this;this._pendingMessages.forEach((function(r){try{r.p=n._doc.type.transformPresence(r.p,e,t)}catch(e){var o=n._getCallback(r.pv);n._callbackOrEmit(e,o)}}));try{this.value=this._doc.type.transformPresence(this.value,e,t)}catch(e){this.emit("error",e)}},i.prototype._handleCreateOrDel=function(){this._pendingMessages.forEach((function(e){e.p=null})),this.value=null},i.prototype._handleLoad=function(){this.value=null,this._pendingMessages=[]},i.prototype._message=function(){var e=r.prototype._message.call(this);return e.c=this.collection,e.d=this.id,e.v=null,e.t=null,e}},2527:(e,t,n)=>{var r=n(2247),o=n(46);function i(e,t){if(r.EventEmitter.call(this),!t||"string"!=typeof t)throw new Error("LocalPresence presenceId must be a string");this.presence=e,this.presenceId=t,this.connection=e.connection,this.presenceVersion=0,this.value=null,this._pendingMessages=[],this._callbacksByPresenceVersion={}}e.exports=i,r.mixin(i),i.prototype.submit=function(e,t){this.value=e,this.send(t)},i.prototype.send=function(e){var t=this._message();this._pendingMessages.push(t),this._callbacksByPresenceVersion[t.pv]=e,this._sendPending()},i.prototype.destroy=function(e){var t=this;this.submit(null,(function(n){if(n)return t._callbackOrEmit(n,e);delete t.presence.localPresences[t.presenceId],e&&e()}))},i.prototype._sendPending=function(){if(this.connection.canSend){var e=this;this._pendingMessages.forEach((function(t){e.connection.send(t)})),this._pendingMessages=[]}},i.prototype._ack=function(e,t){var n=this._getCallback(t);this._callbackOrEmit(e,n)},i.prototype._message=function(){return{a:"p",ch:this.presence.channel,id:this.presenceId,p:this.value,pv:this.presenceVersion++}},i.prototype._getCallback=function(e){var t=this._callbacksByPresenceVersion[e];return delete this._callbacksByPresenceVersion[e],t},i.prototype._callbackOrEmit=function(e,t){if(t)return o.nextTick(t,e);e&&this.emit("error",e)}},7864:(e,t,n)=>{var r=n(2247),o=n(2527),i=n(1890),a=n(46),s=n(1195),c=n(542);function l(e,t){if(r.EventEmitter.call(this),!t||"string"!=typeof t)throw new Error("Presence channel must be provided");this.connection=e,this.channel=t,this.wantSubscribe=!1,this.subscribed=!1,this.remotePresences={},this.localPresences={},this._remotePresenceInstances={},this._subscriptionCallbacksBySeq={}}e.exports=l,r.mixin(l),l.prototype.subscribe=function(e){this._sendSubscriptionAction(!0,e)},l.prototype.unsubscribe=function(e){this._sendSubscriptionAction(!1,e)},l.prototype.create=function(e){e=e||c();var t=this._createLocalPresence(e);return this.localPresences[e]=t,t},l.prototype.destroy=function(e){var t=this;this.unsubscribe((function(n){if(n)return t._callbackOrEmit(n,e);var r=Object.keys(t.localPresences),o=Object.keys(t._remotePresenceInstances);s.parallel([function(e){s.each(r,(function(e,n){t.localPresences[e].destroy(n)}),e)},function(e){s.each(o,(function(e,n){t._remotePresenceInstances[e].destroy(n)}),e)}],(function(n){delete t.connection._presences[t.channel],t._callbackOrEmit(n,e)}))}))},l.prototype._sendSubscriptionAction=function(e,t){this.wantSubscribe=!!e;var n=this.wantSubscribe?"ps":"pu",r=this.connection._presenceSeq++;this._subscriptionCallbacksBySeq[r]=t,this.connection.canSend&&this.connection._sendPresenceAction(n,r,this)},l.prototype._handleSubscribe=function(e,t){this.wantSubscribe&&(this.subscribed=!0);var n=this._subscriptionCallback(t);this._callbackOrEmit(e,n)},l.prototype._handleUnsubscribe=function(e,t){this.subscribed=!1;var n=this._subscriptionCallback(t);this._callbackOrEmit(e,n)},l.prototype._receiveUpdate=function(e,t){var n=a.dig(this.localPresences,t.id);if(n)return n._ack(e,t.pv);if(e)return this.emit("error",e);var r=this;a.digOrCreate(this._remotePresenceInstances,t.id,(function(){return r._createRemotePresence(t.id)})).receiveUpdate(t)},l.prototype._updateRemotePresence=function(e){this.remotePresences[e.presenceId]=e.value,null===e.value&&this._removeRemotePresence(e.presenceId),this.emit("receive",e.presenceId,e.value)},l.prototype._broadcastAllLocalPresence=function(e){if(e)return this.emit("error",e);for(var t in this.localPresences){var n=this.localPresences[t];null!==n.value&&n.send()}},l.prototype._removeRemotePresence=function(e){this._remotePresenceInstances[e].destroy(),delete this._remotePresenceInstances[e],delete this.remotePresences[e]},l.prototype._onConnectionStateChanged=function(){if(this.connection.canSend)for(var e in this._resubscribe(),this.localPresences)this.localPresences[e]._sendPending()},l.prototype._resubscribe=function(){var e=[];for(var t in this._subscriptionCallbacksBySeq){var n=this._subscriptionCallback(t);e.push(n)}if(!this.wantSubscribe)return this._callEachOrEmit(e);var r=this;this.subscribe((function(t){r._callEachOrEmit(e,t)}))},l.prototype._subscriptionCallback=function(e){var t=this._subscriptionCallbacksBySeq[e];return delete this._subscriptionCallbacksBySeq[e],t},l.prototype._callbackOrEmit=function(e,t){if(t)return a.nextTick(t,e);e&&this.emit("error",e)},l.prototype._createLocalPresence=function(e){return new o(this,e)},l.prototype._createRemotePresence=function(e){return new i(this,e)},l.prototype._callEachOrEmit=function(e,t){!a.callEach(e,t)&&t&&this.emit("error",t)}},9001:(e,t,n)=>{var r=n(1890),o=n(9678);function i(e,t){r.call(this,e,t),this.collection=this.presence.collection,this.id=this.presence.id,this.src=null,this.presenceVersion=null,this._doc=this.connection.get(this.collection,this.id),this._pending=null,this._opCache=null,this._pendingSetPending=!1,this._opHandler=this._handleOp.bind(this),this._createDelHandler=this._handleCreateDel.bind(this),this._loadHandler=this._handleLoad.bind(this),this._registerWithDoc()}e.exports=i,i.prototype=Object.create(r.prototype),i.prototype.receiveUpdate=function(e){this._pending&&e.pv<this._pending.pv||(this.src=e.src,this._pending=e,this._setPendingPresence())},i.prototype.destroy=function(e){this._doc.removeListener("op",this._opHandler),this._doc.removeListener("create",this._createDelHandler),this._doc.removeListener("del",this._createDelHandler),this._doc.removeListener("load",this._loadHandler),r.prototype.destroy.call(this,e)},i.prototype._registerWithDoc=function(){this._doc.on("op",this._opHandler),this._doc.on("create",this._createDelHandler),this._doc.on("del",this._createDelHandler),this._doc.on("load",this._loadHandler)},i.prototype._setPendingPresence=function(){if(!this._pendingSetPending){this._pendingSetPending=!0;var e=this;this._doc.whenNothingPending((function(){if(e._pendingSetPending=!1,e._pending)return e._pending.pv<e.presenceVersion?e._pending=null:e._pending.v>e._doc.version?e._doc.fetch():void(e._catchUpStalePresence()&&(e.value=e._pending.p,e.presenceVersion=e._pending.pv,e._pending=null,e.presence._updateRemotePresence(e)))}))}},i.prototype._handleOp=function(e,t,n){var r=n===this.src;this._transformAgainstOp(e,r),this._cacheOp(e,r),this._setPendingPresence()},r.prototype._handleCreateDel=function(){this._cacheOp(null),this._setPendingPresence()},r.prototype._handleLoad=function(){this.value=null,this._pending=null,this._opCache=null,this.presence._updateRemotePresence(this)},i.prototype._transformAgainstOp=function(e,t){if(this.value){try{this.value=this._doc.type.transformPresence(this.value,e,t)}catch(e){return this.presence.emit("error",e)}this.presence._updateRemotePresence(this)}},i.prototype._catchUpStalePresence=function(){if(this._pending.v>=this._doc.version)return!0;if(!this._opCache)return this._startCachingOps(),this._doc.fetch(),this.presence.subscribe(),!1;for(;this._opCache[this._pending.v];){var e=this._opCache[this._pending.v],t=e.op,n=e.isOwnOp;null===t?(this._pending.p=null,this._pending.v++):o.transformPresence(this._pending,t,n)}var r=this._pending.v>=this._doc.version;return r&&this._stopCachingOps(),r},i.prototype._startCachingOps=function(){this._opCache=[]},i.prototype._stopCachingOps=function(){this._opCache=null},i.prototype._cacheOp=function(e,t){this._opCache&&(e=e?{op:e}:null,this._opCache[this._doc.version-1]={op:e,isOwnOp:t})}},1890:(e,t,n)=>{var r=n(46);function o(e,t){this.presence=e,this.presenceId=t,this.connection=this.presence.connection,this.value=null,this.presenceVersion=0}e.exports=o,o.prototype.receiveUpdate=function(e){e.pv<this.presenceVersion||(this.value=e.p,this.presenceVersion=e.pv,this.presence._updateRemotePresence(this))},o.prototype.destroy=function(e){delete this.presence._remotePresenceInstances[this.presenceId],delete this.presence.remotePresences[this.presenceId],e&&r.nextTick(e)}},716:(e,t,n)=>{var r=n(2247),o=n(46);function i(e,t,n,o,i,a,s){r.EventEmitter.call(this),this.action=e,this.connection=t,this.id=n,this.collection=o,this.query=i,this.results=null,a&&a.results&&(this.results=a.results,delete a.results),this.extra=void 0,this.options=a,this.callback=s,this.ready=!1,this.sent=!1}e.exports=i,r.mixin(i),i.prototype.hasPending=function(){return!this.ready},i.prototype.send=function(){if(this.connection.canSend){var e={a:this.action,id:this.id,c:this.collection,q:this.query};if(this.options&&(e.o=this.options),this.results){for(var t=[],n=0;n<this.results.length;n++){var r=this.results[n];t.push([r.id,r.version])}e.r=t}this.connection.send(e),this.sent=!0}},i.prototype.destroy=function(e){this.connection.canSend&&"qs"===this.action&&this.connection.send({a:"qu",id:this.id}),this.connection._destroyQuery(this),e&&o.nextTick(e)},i.prototype._onConnectionStateChanged=function(){this.connection.canSend&&!this.sent?this.send():this.sent=!1},i.prototype._handleFetch=function(e,t,n){this.connection._destroyQuery(this),this._handleResponse(e,t,n)},i.prototype._handleSubscribe=function(e,t,n){this._handleResponse(e,t,n)},i.prototype._handleResponse=function(e,t,n){var r=this.callback;if(this.callback=null,e)return this._finishResponse(e,r);if(!t)return this._finishResponse(null,r);var o=this,i=1,a=function(e){if(e)return o._finishResponse(e,r);--i||o._finishResponse(null,r)};if(Array.isArray(t))i+=t.length,this.results=this._ingestSnapshots(t,a),this.extra=n;else for(var s in t){i++;var c=t[s];this.connection.get(c.c||this.collection,s).ingestSnapshot(c,a)}a()},i.prototype._ingestSnapshots=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=this.connection.get(o.c||this.collection,o.d);i.ingestSnapshot(o,t),n.push(i)}return n},i.prototype._finishResponse=function(e,t){if(this.emit("ready"),this.ready=!0,e)return this.connection._destroyQuery(this),t?t(e):this.emit("error",e);t&&t(null,this.results,this.extra)},i.prototype._handleError=function(e){this.emit("error",e)},i.prototype._handleDiff=function(e){for(var t=0;t<e.length;t++){"insert"===(n=e[t]).type&&(n.values=this._ingestSnapshots(n.values))}for(t=0;t<e.length;t++){var n;switch((n=e[t]).type){case"insert":var r=n.values;Array.prototype.splice.apply(this.results,[n.index,0].concat(r)),this.emit("insert",r,n.index);break;case"remove":var o=n.howMany||1,i=this.results.splice(n.index,o);this.emit("remove",i,n.index);break;case"move":o=n.howMany||1;var a=this.results.splice(n.from,o);Array.prototype.splice.apply(this.results,[n.to,0].concat(a)),this.emit("move",a,n.from,n.to)}}this.emit("changed",this.results)},i.prototype._handleExtra=function(e){this.extra=e,this.emit("extra",e)}},3704:(e,t,n)=>{var r=n(3577),o=n(2247);function i(e,t,n,r,i){if(o.EventEmitter.call(this),"function"!=typeof i)throw new Error("Callback is required for SnapshotRequest");this.requestId=t,this.connection=e,this.id=r,this.collection=n,this.callback=i,this.sent=!1}e.exports=i,o.mixin(i),i.prototype.send=function(){this.connection.canSend&&(this.connection.send(this._message()),this.sent=!0)},i.prototype._onConnectionStateChanged=function(){this.connection.canSend?this.sent||this.send():this.sent=!1},i.prototype._handleResponse=function(e,t){if(this.emit("ready"),e)return this.callback(e);var n=t.meta?t.meta:null,o=new r(this.id,t.v,t.type,t.data,n);this.callback(null,o)}},9180:(e,t,n)=>{var r=n(3704),o=n(46);function i(e,t,n,i,a,s){if(r.call(this,e,t,n,i,s),!o.isValidTimestamp(a))throw new Error("Snapshot timestamp must be a positive integer or null");this.timestamp=a}e.exports=i,i.prototype=Object.create(r.prototype),i.prototype._message=function(){return{a:"nt",id:this.requestId,c:this.collection,d:this.id,ts:this.timestamp}}},3336:(e,t,n)=>{var r=n(3704),o=n(46);function i(e,t,n,i,a,s){if(r.call(this,e,t,n,i,s),!o.isValidVersion(a))throw new Error("Snapshot version must be a positive integer or null");this.version=a}e.exports=i,i.prototype=Object.create(r.prototype),i.prototype._message=function(){return{a:"nf",id:this.requestId,c:this.collection,d:this.id,v:this.version}}},2247:(e,t,n)=>{var r=n(7187).EventEmitter;t.EventEmitter=r,t.mixin=function(e){for(var t in r.prototype)e.prototype[t]=r.prototype[t]}},7290:e=>{function t(e,n){this.code=e,this.message=n||"",Error.captureStackTrace?Error.captureStackTrace(this,t):this.stack=(new Error).stack}t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t.prototype.name="ShareDBError",t.CODES={ERR_APPLY_OP_VERSION_DOES_NOT_MATCH_SNAPSHOT:"ERR_APPLY_OP_VERSION_DOES_NOT_MATCH_SNAPSHOT",ERR_APPLY_SNAPSHOT_NOT_PROVIDED:"ERR_APPLY_SNAPSHOT_NOT_PROVIDED",ERR_CLIENT_ID_BADLY_FORMED:"ERR_CLIENT_ID_BADLY_FORMED",ERR_CONNECTION_SEQ_INTEGER_OVERFLOW:"ERR_CONNECTION_SEQ_INTEGER_OVERFLOW",ERR_CONNECTION_STATE_TRANSITION_INVALID:"ERR_CONNECTION_STATE_TRANSITION_INVALID",ERR_DATABASE_ADAPTER_NOT_FOUND:"ERR_DATABASE_ADAPTER_NOT_FOUND",ERR_DATABASE_DOES_NOT_SUPPORT_SUBSCRIBE:"ERR_DATABASE_DOES_NOT_SUPPORT_SUBSCRIBE",ERR_DATABASE_METHOD_NOT_IMPLEMENTED:"ERR_DATABASE_METHOD_NOT_IMPLEMENTED",ERR_DEFAULT_TYPE_MISMATCH:"ERR_DEFAULT_TYPE_MISMATCH",ERR_DOC_MISSING_VERSION:"ERR_DOC_MISSING_VERSION",ERR_DOC_ALREADY_CREATED:"ERR_DOC_ALREADY_CREATED",ERR_DOC_DOES_NOT_EXIST:"ERR_DOC_DOES_NOT_EXIST",ERR_DOC_TYPE_NOT_RECOGNIZED:"ERR_DOC_TYPE_NOT_RECOGNIZED",ERR_DOC_WAS_DELETED:"ERR_DOC_WAS_DELETED",ERR_INFLIGHT_OP_MISSING:"ERR_INFLIGHT_OP_MISSING",ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION:"ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION",ERR_MAX_SUBMIT_RETRIES_EXCEEDED:"ERR_MAX_SUBMIT_RETRIES_EXCEEDED",ERR_MESSAGE_BADLY_FORMED:"ERR_MESSAGE_BADLY_FORMED",ERR_MILESTONE_ARGUMENT_INVALID:"ERR_MILESTONE_ARGUMENT_INVALID",ERR_OP_ALREADY_SUBMITTED:"ERR_OP_ALREADY_SUBMITTED",ERR_OP_NOT_ALLOWED_IN_PROJECTION:"ERR_OP_NOT_ALLOWED_IN_PROJECTION",ERR_OP_SUBMIT_REJECTED:"ERR_OP_SUBMIT_REJECTED",ERR_OP_VERSION_MISMATCH_AFTER_TRANSFORM:"ERR_OP_VERSION_MISMATCH_AFTER_TRANSFORM",ERR_OP_VERSION_MISMATCH_DURING_TRANSFORM:"ERR_OP_VERSION_MISMATCH_DURING_TRANSFORM",ERR_OP_VERSION_NEWER_THAN_CURRENT_SNAPSHOT:"ERR_OP_VERSION_NEWER_THAN_CURRENT_SNAPSHOT",ERR_OT_OP_BADLY_FORMED:"ERR_OT_OP_BADLY_FORMED",ERR_OT_OP_NOT_APPLIED:"ERR_OT_OP_NOT_APPLIED",ERR_OT_OP_NOT_PROVIDED:"ERR_OT_OP_NOT_PROVIDED",ERR_PRESENCE_TRANSFORM_FAILED:"ERR_PRESENCE_TRANSFORM_FAILED",ERR_PROTOCOL_VERSION_NOT_SUPPORTED:"ERR_PROTOCOL_VERSION_NOT_SUPPORTED",ERR_QUERY_EMITTER_LISTENER_NOT_ASSIGNED:"ERR_QUERY_EMITTER_LISTENER_NOT_ASSIGNED",ERR_SNAPSHOT_READ_SILENT_REJECTION:"ERR_SNAPSHOT_READ_SILENT_REJECTION",ERR_SNAPSHOT_READS_REJECTED:"ERR_SNAPSHOT_READS_REJECTED",ERR_SUBMIT_TRANSFORM_OPS_NOT_FOUND:"ERR_SUBMIT_TRANSFORM_OPS_NOT_FOUND",ERR_TYPE_CANNOT_BE_PROJECTED:"ERR_TYPE_CANNOT_BE_PROJECTED",ERR_TYPE_DOES_NOT_SUPPORT_PRESENCE:"ERR_TYPE_DOES_NOT_SUPPORT_PRESENCE",ERR_UNKNOWN_ERROR:"ERR_UNKNOWN_ERROR"},e.exports=t},6123:(e,t,n)=>{var r=new(n(7900));e.exports=r},7900:e=>{var t=["info","warn","error"];function n(){var e={};t.forEach((function(t){e[t]=console[t].bind(console)})),this.setMethods(e)}e.exports=n,n.prototype.setMethods=function(e){e=e||{};var n=this;t.forEach((function(t){"function"==typeof e[t]&&(n[t]=e[t])}))}},9678:(e,t,n)=>{var r=n(5613).map,o=n(7290),i=n(46),a=o.CODES;t.checkOp=function(e){if(null==e||"object"!=typeof e)return new o(a.ERR_OT_OP_BADLY_FORMED,"Op must be an object");if(null!=e.create){if("object"!=typeof e.create)return new o(a.ERR_OT_OP_BADLY_FORMED,"Create data must be an object");var t=e.create.type;if("string"!=typeof t)return new o(a.ERR_OT_OP_BADLY_FORMED,"Missing create type");var n=r[t];if(null==n||"object"!=typeof n)return new o(a.ERR_DOC_TYPE_NOT_RECOGNIZED,"Unknown type")}else if(null!=e.del){if(!0!==e.del)return new o(a.ERR_OT_OP_BADLY_FORMED,"del value must be true")}else if(!("op"in e))return new o(a.ERR_OT_OP_BADLY_FORMED,"Missing op, create, or del");return null!=e.src&&"string"!=typeof e.src?new o(a.ERR_OT_OP_BADLY_FORMED,"src must be a string"):null!=e.seq&&"number"!=typeof e.seq?new o(a.ERR_OT_OP_BADLY_FORMED,"seq must be a string"):null==e.src&&null!=e.seq||null!=e.src&&null==e.seq?new o(a.ERR_OT_OP_BADLY_FORMED,"Both src and seq must be set together"):null!=e.m&&"object"!=typeof e.m?new o(a.ERR_OT_OP_BADLY_FORMED,"op.m must be an object or null"):void 0},t.normalizeType=function(e){return r[e]&&r[e].uri},t.apply=function(e,t){if("object"!=typeof e)return new o(a.ERR_APPLY_SNAPSHOT_NOT_PROVIDED,"Missing snapshot");if(null!=e.v&&null!=t.v&&e.v!==t.v)return new o(a.ERR_APPLY_OP_VERSION_DOES_NOT_MATCH_SNAPSHOT,"Version mismatch");if(t.create){if(e.type)return new o(a.ERR_DOC_ALREADY_CREATED,"Document already exists");var n=t.create,i=r[n.type];if(!i)return new o(a.ERR_DOC_TYPE_NOT_RECOGNIZED,"Unknown type");try{e.data=i.create(n.data),e.type=i.uri,e.v++}catch(s){return s}}else if(t.del)e.data=void 0,e.type=null,e.v++;else if("op"in t){var s=function(e,t){if(!e.type)return new o(a.ERR_DOC_DOES_NOT_EXIST,"Document does not exist");if(void 0===t)return new o(a.ERR_OT_OP_NOT_PROVIDED,"Missing op");var n=r[e.type];if(!n)return new o(a.ERR_DOC_TYPE_NOT_RECOGNIZED,"Unknown type");try{e.data=n.apply(e.data,t)}catch(e){return e}}(e,t.op);if(s)return s;e.v++}else e.v++},t.transform=function(e,t,n){if(null!=t.v&&t.v!==n.v)return new o(a.ERR_OP_VERSION_MISMATCH_DURING_TRANSFORM,"Version mismatch");if(n.del){if(t.create||"op"in t)return new o(a.ERR_DOC_WAS_DELETED,"Document was deleted")}else{if(n.create&&("op"in t||t.create||t.del)||"op"in n&&t.create)return new o(a.ERR_DOC_ALREADY_CREATED,"Document was created remotely");if("op"in n&&"op"in t){if(!e)return new o(a.ERR_DOC_DOES_NOT_EXIST,"Document does not exist");if("string"==typeof e&&!(e=r[e]))return new o(a.ERR_DOC_TYPE_NOT_RECOGNIZED,"Unknown type");try{t.op=e.transform(t.op,n.op,"left")}catch(e){return e}}}null!=t.v&&t.v++},t.applyOps=function(e,t){var n=null;if(e.type&&!(n=r[e.type]))return new o(a.ERR_DOC_TYPE_NOT_RECOGNIZED,"Unknown type");try{for(var i=0;i<t.length;i++){var s=t[i];if(e.v=s.v+1,s.create){if(!(n=r[s.create.type]))return new o(a.ERR_DOC_TYPE_NOT_RECOGNIZED,"Unknown type");e.data=n.create(s.create.data),e.type=n.uri}else s.del?(e.data=void 0,n=null,e.type=null):e.data=n.apply(e.data,s.op)}}catch(e){return new o(a.ERR_OT_OP_NOT_APPLIED,e.message)}},t.transformPresence=function(e,t,n){var o=this.checkOp(t);if(o)return o;var s=e.t;if("string"==typeof s&&(s=r[s]),!s)return{code:a.ERR_DOC_TYPE_NOT_RECOGNIZED,message:"Unknown type"};if(!i.supportsPresence(s))return{code:a.ERR_TYPE_DOES_NOT_SUPPORT_PRESENCE,message:"Type does not support presence"};if(t.create||t.del)return e.p=null,void e.v++;try{e.p=null===e.p?null:s.transformPresence(e.p,t.op,n)}catch(e){return{code:a.ERR_PRESENCE_TRANSFORM_FAILED,message:e.message||e}}e.v++}},3577:e=>{e.exports=function(e,t,n,r,o){this.id=e,this.v=t,this.type=n,this.data=r,this.m=o}},5613:(e,t,n)=>{t.defaultType=n(1781).type,t.map={},t.register=function(e){e.name&&(t.map[e.name]=e),e.uri&&(t.map[e.uri]=e)},t.register(t.defaultType)},46:(e,t,n)=>{var r=n(4155);t.doNothing=function(){},t.hasKeys=function(e){for(var t in e)return!0;return!1},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isValidVersion=function(e){return null===e||t.isInteger(e)&&e>=0},t.isValidTimestamp=function(e){return t.isValidVersion(e)},t.MAX_SAFE_INTEGER=9007199254740991,t.dig=function(){for(var e=arguments[0],t=1;t<arguments.length;t++){var n=arguments[t];e=e[n]||(t===arguments.length-1?void 0:{})}return e},t.digOrCreate=function(){for(var e=arguments[0],t=arguments[arguments.length-1],n=1;n<arguments.length-1;n++){var r=arguments[n];e=e[r]||(e[r]=n===arguments.length-2?t():{})}return e},t.digAndRemove=function(){for(var e=arguments[0],n=[e],r=1;r<arguments.length-1;r++){var o=arguments[r];if(!e.hasOwnProperty(o))break;e=e[o],n.push(e)}for(r=n.length-1;r>=0;r--){var i=n[r],a=i[o=arguments[r+1]];r!==n.length-1&&t.hasKeys(a)||delete i[o]}},t.supportsPresence=function(e){return e&&"function"==typeof e.transformPresence},t.callEach=function(e,t){var n=!1;return e.forEach((function(e){e&&(e(t),n=!0)})),n},t.truthy=function(e){return!!e},t.nextTick=function(e){if(void 0!==r&&r.nextTick)return r.nextTick.apply(null,arguments);for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];setTimeout((function(){e.apply(null,t)}))}},3379:(e,t,n)=>{"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],c=t.base?i[0]+t.base:i[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=s(u),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:u,updater:m(p,t),references:1}),r.push(u)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,A=0;function m(e,t){var n,r,o;if(t.singleton){var i=A++;n=h||(h=l(t)),r=p.bind(null,n,i,!1),o=p.bind(null,n,i,!0)}else n=l(t),r=f.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=s(n[r]);a[o].references--}for(var i=c(e,t),l=0;l<n.length;l++){var u=s(n[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=i}}}},8405:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniToStrPos=t.strPosToUni=void 0,t.strPosToUni=(e,t=e.length)=>{let n=0,r=0;for(;r<t;r++){const t=e.charCodeAt(r);t>=55296&&t<=57343&&(n++,r++)}if(r!==t)throw Error("Invalid offset - splits unicode bytes");return r-n},t.uniToStrPos=(e,t)=>{let n=0;for(;t>0;t--){const t=e.charCodeAt(n);n+=t>=55296&&t<=57343?2:1}return n}},7921:(e,t,n)=>{var r=n(3072);e.exports=r},9720:(e,t,n)=>{var r=n(6943);e.exports=r},6672:(e,t,n)=>{var r=n(6240),o=n(7265);function i(e,t,n,r){if(r){var i=r[t];if(o(i))i.unhook&&i.unhook(e,t,n);else if("attributes"===t)for(var a in i)e.removeAttribute(a);else if("style"===t)for(var s in i)e.style[s]="";else e[t]="string"==typeof i?"":null}}function a(e,t,n,o,i){var a=n?n[o]:void 0;if("attributes"!==o)if(a&&r(a)&&s(a)!==s(i))e[o]=i;else{r(e[o])||(e[o]={});var c="style"===o?"":void 0;for(var l in i){var u=i[l];e[o][l]=void 0===u?c:u}}else for(var d in i){var p=i[d];void 0===p?e.removeAttribute(d):e.setAttribute(d,p)}}function s(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}e.exports=function(e,t,n){for(var s in t){var c=t[s];void 0===c?i(e,s,c,n):o(c)?(i(e,s,c,n),c.hook&&c.hook(e,s,n?n[s]:void 0)):r(c)?a(e,t,n,s,c):e[s]=c}}},3513:(e,t,n)=>{var r=n(9144),o=n(6672),i=n(5170),a=n(6221),s=n(9807),c=n(6078);e.exports=function e(t,n){var l=n&&n.document||r,u=n?n.warn:null;if(t=c(t).a,s(t))return t.init();if(a(t))return l.createTextNode(t.text);if(!i(t))return u&&u("Item is not a valid virtual dom node",t),null;var d=null===t.namespace?l.createElement(t.tagName):l.createElementNS(t.namespace,t.tagName),p=t.properties;o(d,p);for(var f=t.children,h=0;h<f.length;h++){var A=e(f[h],n);A&&d.appendChild(A)}return d}},8992:e=>{var t={};function n(e,o,i,a,s){if(a=a||{},e){r(i,s,s)&&(a[s]=e);var c=o.children;if(c)for(var l=e.childNodes,u=0;u<o.children.length;u++){s+=1;var d=c[u]||t,p=s+(d.count||0);r(i,s,p)&&n(l[u],d,i,a,s),s=p}}return a}function r(e,t,n){if(0===e.length)return!1;for(var r,o,i=0,a=e.length-1;i<=a;){if(o=e[r=(a+i)/2>>0],i===a)return o>=t&&o<=n;if(o<t)i=r+1;else{if(!(o>n))return!0;a=r-1}}return!1}function o(e,t){return e>t?1:-1}e.exports=function(e,t,r,i){return r&&0!==r.length?(r.sort(o),n(e,t,r,i,0)):{}}},9120:(e,t,n)=>{var r=n(6672),o=n(9807),i=n(8057),a=n(6670);function s(e,t){"function"==typeof t.destroy&&o(t)&&t.destroy(e)}e.exports=function(e,t,n){var o=e.type,c=e.vNode,l=e.patch;switch(o){case i.REMOVE:return function(e,t){var n=e.parentNode;n&&n.removeChild(e);return s(e,t),null}(t,c);case i.INSERT:return function(e,t,n){var r=n.render(t,n);e&&e.appendChild(r);return e}(t,l,n);case i.VTEXT:return function(e,t,n,r){var o;if(3===e.nodeType)e.replaceData(0,e.length,n.text),o=e;else{var i=e.parentNode;o=r.render(n,r),i&&o!==e&&i.replaceChild(o,e)}return o}(t,0,l,n);case i.WIDGET:return function(e,t,n,r){var o,i=a(t,n);o=i?n.update(t,e)||e:r.render(n,r);var c=e.parentNode;c&&o!==e&&c.replaceChild(o,e);i||s(e,t);return o}(t,c,l,n);case i.VNODE:return function(e,t,n,r){var o=e.parentNode,i=r.render(n,r);o&&i!==e&&o.replaceChild(i,e);return i}(t,0,l,n);case i.ORDER:return function(e,t){for(var n,r,o,i=e.childNodes,a={},s=0;s<t.removes.length;s++)n=i[(r=t.removes[s]).from],r.key&&(a[r.key]=n),e.removeChild(n);for(var c=i.length,l=0;l<t.inserts.length;l++)n=a[(o=t.inserts[l]).key],e.insertBefore(n,o.to>=c++?null:i[o.to])}(t,l),t;case i.PROPS:return r(t,l,c.properties),t;case i.THUNK:return function(e,t){e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e);return t}(t,n.patch(t,l,n));default:return t}}},6943:(e,t,n)=>{var r=n(9144),o=n(7362),i=n(3513),a=n(8992),s=n(9120);function c(e,t,n){var o=function(e){var t=[];for(var n in e)"a"!==n&&t.push(Number(n));return t}(t);if(0===o.length)return e;var i=a(e,t.a,o),s=e.ownerDocument;n.document||s===r||(n.document=s);for(var c=0;c<o.length;c++){var u=o[c];e=l(e,i[u],t[u],n)}return e}function l(e,t,n,r){if(!t)return e;var i;if(o(n))for(var a=0;a<n.length;a++)i=s(n[a],t,r),t===e&&(e=i);else i=s(n,t,r),t===e&&(e=i);return e}e.exports=function e(t,n,r){return(r=r||{}).patch=r.patch&&r.patch!==e?r.patch:c,r.render=r.render||i,r.patch(t,n,r)}},6670:(e,t,n)=>{var r=n(9807);e.exports=function(e,t){if(r(e)&&r(t))return"name"in e&&"name"in t?e.id===t.id:e.init===t.init;return!1}},6078:(e,t,n)=>{var r=n(5170),o=n(6221),i=n(9807),a=n(6741);function s(e,t){var n=e.vnode;if(n||(n=e.vnode=e.render(t)),!(r(n)||o(n)||i(n)))throw new Error("thunk did not return a valid node");return n}e.exports=function(e,t){var n=e,r=t;a(t)&&(r=s(t,e));a(e)&&(n=s(e,null));return{a:n,b:r}}},6741:e=>{e.exports=function(e){return e&&"Thunk"===e.type}},7265:e=>{e.exports=function(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}},5170:(e,t,n)=>{var r=n(9962);e.exports=function(e){return e&&"VirtualNode"===e.type&&e.version===r}},6221:(e,t,n)=>{var r=n(9962);e.exports=function(e){return e&&"VirtualText"===e.type&&e.version===r}},9807:e=>{e.exports=function(e){return e&&"Widget"===e.type}},9962:e=>{e.exports="2"},4282:(e,t,n)=>{var r=n(9962),o=n(5170),i=n(9807),a=n(6741),s=n(7265);e.exports=u;var c={},l=[];function u(e,t,n,r,u){this.tagName=e,this.properties=t||c,this.children=n||l,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof u?u:null;var d,p=n&&n.length||0,f=0,h=!1,A=!1,m=!1;for(var g in t)if(t.hasOwnProperty(g)){var v=t[g];s(v)&&v.unhook&&(d||(d={}),d[g]=v)}for(var b=0;b<p;b++){var y=n[b];o(y)?(f+=y.count||0,!h&&y.hasWidgets&&(h=!0),!A&&y.hasThunks&&(A=!0),m||!y.hooks&&!y.descendantHooks||(m=!0)):!h&&i(y)?"function"==typeof y.destroy&&(h=!0):!A&&a(y)&&(A=!0)}this.count=p+f,this.hasWidgets=h,this.hasThunks=A,this.hooks=d,this.descendantHooks=m}u.prototype.version=r,u.prototype.type="VirtualNode"},8057:(e,t,n)=>{var r=n(9962);function o(e,t,n){this.type=Number(e),this.vNode=t,this.patch=n}o.NONE=0,o.VTEXT=1,o.VNODE=2,o.WIDGET=3,o.PROPS=4,o.ORDER=5,o.INSERT=6,o.REMOVE=7,o.THUNK=8,e.exports=o,o.prototype.version=r,o.prototype.type="VirtualPatch"},4268:(e,t,n)=>{var r=n(9962);function o(e){this.text=String(e)}e.exports=o,o.prototype.version=r,o.prototype.type="VirtualText"},9973:(e,t,n)=>{var r=n(6240),o=n(7265);function i(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}e.exports=function e(t,n){var a;for(var s in t){s in n||((a=a||{})[s]=void 0);var c=t[s],l=n[s];if(c!==l)if(r(c)&&r(l))if(i(l)!==i(c))(a=a||{})[s]=l;else if(o(l))(a=a||{})[s]=l;else{var u=e(c,l);u&&((a=a||{})[s]=u)}else(a=a||{})[s]=l}for(var d in n)d in t||((a=a||{})[d]=n[d]);return a}},3072:(e,t,n)=>{var r=n(7362),o=n(8057),i=n(5170),a=n(6221),s=n(9807),c=n(6741),l=n(6078),u=n(9973);function d(e,t){var n={a:e};return p(e,t,n,0),n}function p(e,t,n,r){if(e!==t){var l=n[r],d=!1;if(c(e)||c(t))A(e,t,n,r);else if(null==t)s(e)||(f(e,n,r),l=n[r]),l=b(l,new o(o.REMOVE,e,t));else if(i(t))if(i(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var h=u(e.properties,t.properties);h&&(l=b(l,new o(o.PROPS,e,h))),l=function(e,t,n,r,a){for(var s=e.children,c=function(e,t){var n=v(t),r=n.keys,o=n.free;if(o.length===t.length)return{children:t,moves:null};var i=v(e),a=i.keys;if(i.free.length===e.length)return{children:t,moves:null};for(var s=[],c=0,l=o.length,u=0,d=0;d<e.length;d++){var p,f=e[d];f.key?r.hasOwnProperty(f.key)?(p=r[f.key],s.push(t[p])):(p=d-u++,s.push(null)):c<l?(p=o[c++],s.push(t[p])):(p=d-u++,s.push(null))}for(var h=c>=o.length?t.length:o[c],A=0;A<t.length;A++){var m=t[A];m.key?a.hasOwnProperty(m.key)||s.push(m):A>=h&&s.push(m)}for(var b,y=s.slice(),w=0,x=[],k=[],C=0;C<t.length;){var E=t[C];for(b=y[w];null===b&&y.length;)x.push(g(y,w,null)),b=y[w];b&&b.key===E.key?(w++,C++):E.key?(b&&b.key&&r[b.key]!==C+1?(x.push(g(y,w,b.key)),(b=y[w])&&b.key===E.key?w++:k.push({key:E.key,to:C})):k.push({key:E.key,to:C}),C++):b&&b.key&&x.push(g(y,w,b.key))}for(;w<y.length;)b=y[w],x.push(g(y,w,b&&b.key));if(x.length===u&&!k.length)return{children:s,moves:null};return{children:s,moves:{removes:x,inserts:k}}}(s,t.children),l=c.children,u=s.length,d=l.length,f=u>d?u:d,h=0;h<f;h++){var A=s[h],m=l[h];a+=1,A?p(A,m,n,a):m&&(r=b(r,new o(o.INSERT,null,m))),i(A)&&A.count&&(a+=A.count)}c.moves&&(r=b(r,new o(o.ORDER,e,c.moves)));return r}(e,t,n,l,r)}else l=b(l,new o(o.VNODE,e,t)),d=!0;else l=b(l,new o(o.VNODE,e,t)),d=!0;else a(t)?a(e)?e.text!==t.text&&(l=b(l,new o(o.VTEXT,e,t))):(l=b(l,new o(o.VTEXT,e,t)),d=!0):s(t)&&(s(e)||(d=!0),l=b(l,new o(o.WIDGET,e,t)));l&&(n[r]=l),d&&f(e,n,r)}}function f(e,t,n){m(e,t,n),h(e,t,n)}function h(e,t,n){if(s(e))"function"==typeof e.destroy&&(t[n]=b(t[n],new o(o.REMOVE,e,null)));else if(i(e)&&(e.hasWidgets||e.hasThunks))for(var r=e.children,a=r.length,l=0;l<a;l++){var u=r[l];h(u,t,n+=1),i(u)&&u.count&&(n+=u.count)}else c(e)&&A(e,null,t,n)}function A(e,t,n,r){var i=l(e,t),a=d(i.a,i.b);(function(e){for(var t in e)if("a"!==t)return!0;return!1})(a)&&(n[r]=new o(o.THUNK,null,a))}function m(e,t,n){if(i(e)){if(e.hooks&&(t[n]=b(t[n],new o(o.PROPS,e,function(e){var t={};for(var n in e)t[n]=void 0;return t}(e.hooks)))),e.descendantHooks||e.hasThunks)for(var r=e.children,a=r.length,s=0;s<a;s++){var l=r[s];m(l,t,n+=1),i(l)&&l.count&&(n+=l.count)}}else c(e)&&A(e,null,t,n)}function g(e,t,n){return e.splice(t,1),{from:t,key:n}}function v(e){for(var t={},n=[],r=e.length,o=0;o<r;o++){var i=e[o];i.key?t[i.key]=o:n.push(o)}return{keys:t,free:n}}function b(e,t){return e?(r(e)?e.push(t):e=[e,t],e):t}e.exports=d},7362:e=>{var t=Array.isArray,n=Object.prototype.toString;e.exports=t||function(e){return"[object Array]"===n.call(e)}},306:e=>{"use strict";e.exports=JSON.parse('{"name":"live-editor","description":"","main":"index.js","homepage":".","version":"0.0.702","scripts":{"start":"webpack serve --config webpack.dev.js","dev":"webpack --watch --config webpack.dev.js","custom":"webpack --watch --config webpack.custom.js","wiki":"webpack --watch --config webpack.wiki.js","demo":"webpack --watch --config webpack.demo.js","local":"webpack --watch --config webpack.local.js","test":"webpack --watch --config webpack.test.js","dev-no-watch":"webpack --config webpack.dev.js","build":"webpack --config webpack.prod.js","build-custom":"webpack --config webpack.prod.custom.js","build-wiki":"webpack --config webpack.prod.wiki.js","build-test":"webpack --config webpack.test.prod.js","dist":"webpack --config webpack.dist.js && ttsc --emitDeclarationOnly && yarn run copy-dts","dist-dev":"webpack watch --config webpack.dist-dev.js","dist-dev-nowatch":"webpack --config webpack.dist-dev.js","copy-dts":"run-script-os","copy-dts:win32":".\\\\copy_dts.bat","copy-dts:default":"sh ./copy_dts.sh","copy-dts-dev":"run-script-os","copy-dts-dev:win32":".\\\\copy_dts-dev.bat","copy-dts-dev:default":"sh ./copy_dts-dev.sh","analyze":"webpack --config webpack.prod.js --env analyze","generate":"ttsc --emitDeclarationOnly"},"author":"","license":"ISC","devDependencies":{"@babel/cli":"^7.15.7","@babel/core":"^7.15.8","@babel/preset-env":"^7.15.8","@teamsupercell/typings-for-css-modules-loader":"^2.4.0","@types/dragula":"^3.7.0","@types/file-saver":"^2.0.1","@types/fuzzaldrin":"^2.1.4","@types/html-entities":"^1.2.16","@types/lodash.clonedeep":"^4.5.6","@types/lodash.debounce":"^4.0.6","@types/lodash.find":"^4.6.6","@types/lodash.findlast":"^4.6.6","@types/lodash.isequal":"^4.5.5","@types/lodash.merge":"^4.6.6","@types/prismjs":"^1.16.2","@types/resize-observer-browser":"^0.1.4","@types/sharedb":"^1.0.13","@types/uuid":"^8.3.0","@types/virtual-dom":"^2.1.0","babel-loader":"^8.2.2","clean-webpack-plugin":"^3.0.0","css-loader":"^1.0.0","prettier":"^2.1.2","run-script-os":"^1.1.6","style-loader":"^2.0.0","terser-webpack-plugin":"^5.0.3","ts-loader":"^8.0.9","ts-node":"^9.1.1","ttypescript":"^1.5.15","typescript":"^4.0.5","typescript-transform-paths":"^2.1.0","webpack":"^5.4.0","webpack-cli":"^4.2.0","webpack-dev-server":"^3.11.0","html-webpack-plugin":"^4.5.0","webpack-shell-plugin-next":"^2.2.2"},"dependencies":{"@babel/polyfill":"^7.12.1","@better-scroll/core":"^2.3.1","@types/blueimp-md5":"^2.7.0","@types/lodash.findlastindex":"^4.6.6","@types/lodash.flattendeep":"^4.4.6","@types/lodash.throttle":"^4.1.6","@types/md5":"^2.3.0","@types/mime-db":"^1.43.0","@types/mime-types":"^2.1.0","@types/plantuml-encoder":"^1.4.0","axios":"^0.21.0","blueimp-md5":"^2.18.0","buffer":"^6.0.3","css-color-converter":"^2.0.0","dexie":"^3.0.3","dotenv-webpack":"^6.0.0","dragula":"^3.7.3","dts-bundle":"^0.7.3","fast-sha256":"^1.3.0","file-saver":"^2.0.5","fuzzaldrin":"^2.1.0","html-entities":"^2.0.6","html2canvas":"^1.0.0-rc.7","jose":"^3.3.1","kiwi-intl":"^1.2.4","lodash.clone":"^4.5.0","lodash.clonedeep":"^4.5.0","lodash.debounce":"^4.0.8","lodash.find":"^4.6.0","lodash.findlast":"^4.6.0","lodash.findlastindex":"^4.6.0","lodash.flattendeep":"^4.4.0","lodash.isequal":"^4.5.0","lodash.merge":"^4.6.2","lodash.throttle":"^4.1.1","markmap-view":"^0.2.2","mime-db":"^1.47.0","nanoid":"^3.1.16","ot-json1":"^1.0.1","plantuml-encoder":"^1.4.0","prismjs":"^1.23.0","process":"^0.11.10","quill-delta":"^4.2.2","reconnecting-websocket":"^4.4.0","resize-observer-polyfill":"^1.5.1","sharedb":"^1.6.0","tippy.js":"^6.3.7","virtual-dom":"^2.1.1","webpack-bundle-analyzer":"^4.1.0","webpack-merge":"^5.4.0","worker-loader":"^3.0.7"}}')},6635:e=>{"use strict";e.exports="// eslint-disable-next-line no-restricted-globals\nconst win = self;\nwin.Prism = {};\nwin.Prism.manual = true;\nwin.Prism.disableWorkerMessageHandler = true;\n\nlet baseScriptUrl;\nlet inited = false;\n\n// 让autoloader正常加载\nclass FakeScriptObject {\n  set src(path) {\n    win.importScripts(`${baseScriptUrl}/${path}`);\n    setTimeout(() => {\n      this.onload();\n    });\n  }\n}\n\nclass FakeBody {\n  removeChild() {}\n\n  appendChild() {}\n}\n\nclass FakeDocument {\n  createElement() {\n    return new FakeScriptObject();\n  }\n\n  get body() {\n    return new FakeBody();\n  }\n}\n\nwin.document = new FakeDocument();\n\nfunction init(scripts) {\n  if (inited) return;\n  inited = true;\n  const script = scripts[0];\n  const find = '/components/';\n  baseScriptUrl = script.substr(0, script.indexOf(find));\n  win.importScripts(...scripts);\n}\n\nconst SCRIPTS = [\n  'https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-core.min.js',\n  'https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js',\n];\n\nfunction highlight(language, code) {\n  //\n  return new Promise((resolve, reject) => {\n    try {\n      const prism = win.Prism;\n      prism.plugins.autoloader.loadLanguages([language], (lang) => {\n        const grammar = prism.languages[lang[0]];\n        const html = prism.highlight(code, grammar);\n        resolve(html);\n      });\n    } catch (err) {\n      reject(err);\n    }\n  });\n  //\n}\n\nasync function highlightCode(e) {\n  const { id, language, code } = e.data;\n  const html = await highlight(language, code);\n  postMessage({\n    type: 'highlightResult',\n    id,\n    html,\n  });\n}\n\nonmessage = async (e) => {\n  //\n  if (e.data && e.data.type === 'init') {\n    setTimeout(() => {\n      if (e.data) {\n        init(e.data.scripts);\n      }\n    });\n    // init(SCRIPTS);\n    // if (e.data) {\n    //   init(e.data.scripts);\n    // }\n  } else if (e.data && e.data.type === 'highlight') {\n    //\n    if (!inited) {\n      setTimeout(() => {\n        init(SCRIPTS);\n        highlightCode(e);\n      });\n    } else {\n      highlightCode(e);\n    }\n    //\n  }\n};\n"},6702:()=>{!function(){if("object"!=typeof window)return;if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return void("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}));function e(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}const t=function(t){let n=window.document,r=e(n);for(;r;)n=r.ownerDocument,r=e(n);return n}(),n=[];let r=null,o=null;function i(e){this.time=e.time,this.target=e.target,this.rootBounds=d(e.rootBounds),this.boundingClientRect=d(e.boundingClientRect),this.intersectionRect=d(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;const t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){const n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType&&9!=n.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=function(e,t){let n=null;return function(){n||(n=setTimeout((()=>{e(),n=null}),t))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map((e=>e.value+e.unit)).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent(`on${t}`,n)}function c(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent(`on${t}`,n)}function l(e,t){const n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),o=Math.max(e.left,t.left),i=Math.min(e.right,t.right),a=i-o,s=r-n;return a>=0&&s>=0&&{top:n,bottom:r,left:o,right:i,width:a,height:s}||null}function u(e){let t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function p(e,t){const n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function f(e,t){let n=t;for(;n;){if(n==e)return!0;n=h(n)}return!1}function h(n){let r=n.parentNode;return 9==n.nodeType&&n!=t?e(n):(r&&r.assignedSlot&&(r=r.assignedSlot.parentNode),r&&11==r.nodeType&&r.host?r.host:r)}function A(e){return e&&9===e.nodeType}a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return r||(r=function(e,t){o=e&&t?p(e,t):{top:0,bottom:0,left:0,right:0,width:0,height:0},n.forEach((e=>{e._checkForIntersections()}))}),r},a._resetCrossOriginUpdater=function(){r=null,o=null},a.prototype.observe=function(e){if(!this._observationTargets.some((t=>t.element==e))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((t=>t.element!=e)),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){const e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){let t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(((e,t,n)=>{if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){const t=(e||"0px").split(/\s+/).map((e=>{const t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(n){const r=n.defaultView;if(!r)return;if(-1!=this._monitoringDocuments.indexOf(n))return;const o=this._checkForIntersections;let i=null,a=null;this.POLL_INTERVAL?i=r.setInterval(o,this.POLL_INTERVAL):(s(r,"resize",o,!0),s(n,"scroll",o,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in r&&(a=new r.MutationObserver(o),a.observe(n,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))),this._monitoringDocuments.push(n),this._monitoringUnsubscribes.push((()=>{const e=n.defaultView;e&&(i&&e.clearInterval(i),c(e,"resize",o,!0)),c(n,"scroll",o,!0),a&&a.disconnect()}));const l=this.root&&(this.root.ownerDocument||this.root)||t;if(n!=l){const t=e(n);t&&this._monitorIntersections(t.ownerDocument)}},a.prototype._unmonitorIntersections=function(n){const r=this._monitoringDocuments.indexOf(n);if(-1==r)return;const o=this.root&&(this.root.ownerDocument||this.root)||t;if(this._observationTargets.some((t=>{let r=t.element.ownerDocument;if(r==n)return!0;for(;r&&r!=o;){const t=e(r);if(r=t&&t.ownerDocument,r==n)return!0}return!1})))return;const i=this._monitoringUnsubscribes[r];if(this._monitoringDocuments.splice(r,1),this._monitoringUnsubscribes.splice(r,1),i(),n!=o){const t=e(n);t&&this._unmonitorIntersections(t.ownerDocument)}},a.prototype._unmonitorAllIntersections=function(){const e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(let t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(!this.root&&r&&!o)return;const e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(n){const o=n.element,a=u(o),s=this._rootContainsTarget(o),c=n.entry,l=e&&s&&this._computeTargetAndRootIntersection(o,a,t);let d=null;this._rootContainsTarget(o)?r&&!this.root||(d=t):d={top:0,bottom:0,left:0,right:0,width:0,height:0};const p=n.entry=new i({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:a,rootBounds:d,intersectionRect:l});c?e&&s?this._hasCrossedThreshold(c,p)&&this._queuedEntries.push(p):c&&c.isIntersecting&&this._queuedEntries.push(p):this._queuedEntries.push(p)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},a.prototype._computeTargetAndRootIntersection=function(e,n,i){if("none"==window.getComputedStyle(e).display)return;let a=n,s=h(e),c=!1;for(;!c&&s;){let e=null;const n=1==s.nodeType?window.getComputedStyle(s):{};if("none"==n.display)return null;if(s==this.root||9==s.nodeType)if(c=!0,s==this.root||s==t)r&&!this.root?!o||0==o.width&&0==o.height?(s=null,e=null,a=null):e=o:e=i;else{const t=h(s),n=t&&u(t),r=t&&this._computeTargetAndRootIntersection(t,n,i);n&&r?(s=t,e=p(n,r)):(s=null,a=null)}else{const t=s.ownerDocument;s!=t.body&&s!=t.documentElement&&"visible"!=n.overflow&&(e=u(s))}if(e&&(a=l(e,a)),!a)break;s=s&&h(s)}return a},a.prototype._getRootRect=function(){let e;if(this.root&&!A(this.root))e=u(this.root);else{const n=A(this.root)?this.root:t,r=n.documentElement,o=n.body;e={top:0,left:0,right:r.clientWidth||o.clientWidth,width:r.clientWidth||o.clientWidth,bottom:r.clientHeight||o.clientHeight,height:r.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(e)},a.prototype._expandRectByRootMargin=function(e){const t=this._rootMarginValues.map(((t,n)=>"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100)),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){const n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(let e=0;e<this.thresholds.length;e++){const t=this.thresholds[e];if(t==n||t==r||t<n!=t<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||f(t,this.root)},a.prototype._rootContainsTarget=function(e){const n=this.root&&(this.root.ownerDocument||this.root)||t;return f(n,e)&&(!this.root||n==e.ownerDocument)},a.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},a.prototype._unregisterInstance=function(){const e=n.indexOf(this);-1!=e&&n.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=i}()},3917:function(e){
/*! For license information please see index.js.LICENSE.txt */
e.exports=(()=>{var e={742:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=c(e),a=i[0],s=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,c=r-o;s<c;s+=a)i.push(l(e,s,s+a>c?c:s+a));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},764:(e,t,n)=>{"use strict";const r=n(742),o=n(645),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|A(e,t);let r=s(n);const o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(q(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(q(e,SharedArrayBuffer)||e&&q(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Z(e.length)?s(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|h(e))}function p(e){const t=e.length<0?0:0|h(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function A(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(o)return r?-1:G(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return B(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(l(e,i+r)!==l(t,r)){n=!1;break}if(n)return i}return-1}function y(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function w(e,t,n,r){return Y(G(t,e.length-n),e,n,r)}function x(e,t,n,r){return Y(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return Y(W(t),e,n,r)}function C(e,t,n,r){return Y(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function B(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(q(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=A,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?B(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),l=this.slice(r,o),u=e.slice(t,n);for(let e=0;e<s;++e)if(l[e]!==u[e]){i=l[e],a=u[e];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return x(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function M(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function I(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function D(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=X[e[r]];return o}function _(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function S(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,o){P(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function L(e,t,n,r,o){P(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function R(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,i){return t=+t,n>>>=0,i||R(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return t=+t,n>>>=0,i||R(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=J((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=J((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||S(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||S(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=J((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=J((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||S(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||S(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||S(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||S(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=J((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=J((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=J((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=J((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const F={};function z(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function Q(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function P(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||V(t,e.length-(n+1))}(r,o,i)}function H(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,n){if(Math.floor(e)!==e)throw H(e,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=Q(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=Q(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function J(e){return"undefined"==typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}A(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&A(e,"error",t,{once:!0})}(e,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var o,i,a,l;if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=u.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):h(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function A(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var l=c.length,u=h(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},i.prototype.addListener=function(e,t){return l(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return l(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},i.prototype.listenerCount=f,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},645:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?o-1:0,p=n?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=p,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===i)i=1-l;else{if(i===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),i-=l}return(f?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,l=8*i-o-1,u=(1<<l)-1,d=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,h=r?1:-1,A=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+f]=255&s,f+=h,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+f]=255&a,f+=h,a/=256,l-=8);e[n+f-h]|=128*A}},717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},733:(e,t,n)=>{e.exports=function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return o(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var i=void 0,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";var r=e("./utils"),o=e("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,o,a,s,c,l,u=[],d=0,p=e.length,f=p,h="string"!==r.getTypeOf(e);d<e.length;)f=p-d,o=h?(t=e[d++],n=d<p?e[d++]:0,d<p?e[d++]:0):(t=e.charCodeAt(d++),n=d<p?e.charCodeAt(d++):0,d<p?e.charCodeAt(d++):0),a=t>>2,s=(3&t)<<4|n>>4,c=1<f?(15&n)<<2|o>>6:64,l=2<f?63&o:64,u.push(i.charAt(a)+i.charAt(s)+i.charAt(c)+i.charAt(l));return u.join("")},n.decode=function(e){var t,n,r,a,s,c,l=0,u=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var p,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===i.charAt(64)&&f--,e.charAt(e.length-2)===i.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=o.uint8array?new Uint8Array(0|f):new Array(0|f);l<e.length;)t=i.indexOf(e.charAt(l++))<<2|(a=i.indexOf(e.charAt(l++)))>>4,n=(15&a)<<4|(s=i.indexOf(e.charAt(l++)))>>2,r=(3&s)<<6|(c=i.indexOf(e.charAt(l++))),p[u++]=t,64!==s&&(p[u++]=n),64!==c&&(p[u++]=r);return p}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),o=e("./stream/DataWorker"),i=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,n,r,o){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=o}s.prototype={getContentWorker:function(){var e=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new i).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),o=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var i=o,a=0+n;e^=-1;for(var s=0;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}(0|t,e,e.length):function(e,t,n,r){var i=o,a=0+n;e^=-1;for(var s=0;s<a;s++)e=e>>>8^i[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=e("pako"),i=e("./utils"),a=e("./stream/GenericWorker"),s=r?"uint8array":"array";function c(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",i.inherits(c,a),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(s,e.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new c("Deflate",e)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function o(e,t,n,o,a,u){var d,p,f=e.file,h=e.compression,A=u!==s.utf8encode,m=i.transformTo("string",u(f.name)),g=i.transformTo("string",s.utf8encode(f.name)),v=f.comment,b=i.transformTo("string",u(v)),y=i.transformTo("string",s.utf8encode(v)),w=g.length!==f.name.length,x=y.length!==v.length,k="",C="",E="",B=f.dir,T=f.date,M={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(M.crc32=e.crc32,M.compressedSize=e.compressedSize,M.uncompressedSize=e.uncompressedSize);var I=0;t&&(I|=8),A||!w&&!x||(I|=2048);var D=0,_=0;B&&(D|=16),"UNIX"===a?(_=798,D|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(f.unixPermissions,B)):(_=20,D|=function(e){return 63&(e||0)}(f.dosPermissions)),d=T.getUTCHours(),d<<=6,d|=T.getUTCMinutes(),d<<=5,d|=T.getUTCSeconds()/2,p=T.getUTCFullYear()-1980,p<<=4,p|=T.getUTCMonth()+1,p<<=5,p|=T.getUTCDate(),w&&(C=r(1,1)+r(c(m),4)+g,k+="up"+r(C.length,2)+C),x&&(E=r(1,1)+r(c(b),4)+y,k+="uc"+r(E.length,2)+E);var S="";return S+="\n\0",S+=r(I,2),S+=h.magic,S+=r(d,2),S+=r(p,2),S+=r(M.crc32,4),S+=r(M.compressedSize,4),S+=r(M.uncompressedSize,4),S+=r(m.length,2),S+=r(k.length,2),{fileRecord:l.LOCAL_FILE_HEADER+S+m+k,dirRecord:l.CENTRAL_FILE_HEADER+r(_,2)+S+r(b.length,2)+"\0\0\0\0"+r(D,4)+r(o,4)+m+k+b}}var i=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),c=e("../crc32"),l=e("../signature");function u(e,t,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(u,a),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=o(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=o(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return l.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,o=function(e,t,n,o,a){var s=i.transformTo("string",a(o));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:o,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),o=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var i=new o(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var o=function(e,t){var n=e||t,o=r[n];if(!o)throw new Error(n+" is not a valid compression method !");return o}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,l=n.date;n._compressWorker(o,s).withStreamInfo("file",{name:e,dir:c,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)})),i.entriesCount=a}catch(e){i.error(e)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.7.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),o=e("./external"),i=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function l(e){return new o.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),c.isNode&&c.isStream(e)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[o.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var i=0;i<r.length;i++)n.push(l(r[i]));return o.Promise.all(n)})).then((function(e){for(var r=e.shift(),o=r.files,i=0;i<o.length;i++){var a=o[i];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),o=e("../stream/GenericWorker");function i(e,t){o.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(i,o),i.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},i.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function o(e,t,n){r.call(this,t),this._helper=e;var o=this;e.on("data",(function(e,t){o.push(e)||o._helper.pause(),n&&n(t)})).on("error",(function(e){o.emit("error",e)})).on("end",(function(){o.push(null)}))}e("../utils").inherits(o,r),o.prototype._read=function(){this._helper.resume()},t.exports=o},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,o=i.getTypeOf(t),s=i.extend(n||{},c);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=A(e)),s.createFolders&&(r=h(e))&&m.call(this,r,!0);var d,g="string"===o&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!g),(t instanceof l&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",o="string"),d=t instanceof l||t instanceof a?t:p.isNode&&p.isStream(t)?new f(e,t):i.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var v=new u(e,d,s);this.files[e]=v}var o=e("./utf8"),i=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),c=e("./defaults"),l=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),p=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),h=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},A=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:c.createFolders,e=A(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(g(e)){var o=e;return this.filter((function(e,t){return!t.dir&&o.test(e)}))}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");i.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new a("error")).error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function o(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(o,r),o.prototype.byteAt=function(e){return this.data[this.zero+e]},o.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),o=e.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===t&&this.data[i+1]===n&&this.data[i+2]===r&&this.data[i+3]===o)return i-this.zero;return-1},o.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),o=e.charCodeAt(3),i=this.readData(4);return t===i[0]&&n===i[1]&&r===i[2]&&o===i[3]},o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function o(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=o},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function o(e){r.call(this,e)}e("../utils").inherits(o,r),o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function o(e){r.call(this,e)}e("../utils").inherits(o,r),o.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},o.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},o.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function o(e){r.call(this,e)}e("../utils").inherits(o,r),o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),o=e("../support"),i=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||o.uint8array?"nodebuffer"===t?new s(e):o.uint8array?new c(r.transformTo("uint8array",e)):new i(r.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),o=e("../utils");function i(e){r.call(this,"ConvertWorker to "+e),this.destType=e}o.inherits(i,r),i.prototype.processChunk=function(e){this.push({data:o.transformTo(this.destType,e.data),meta:e.meta})},t.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),o=e("../crc32");function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(i,r),i.prototype.processChunk=function(e){this.streamInfo.crc32=o(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),o=e("./GenericWorker");function i(e){o.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(i,o),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}o.prototype.processChunk.call(this,e)},t.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),o=e("./GenericWorker");function i(e){o.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),o=e("./ConvertWorker"),i=e("./GenericWorker"),a=e("../base64"),s=e("../support"),c=e("../external"),l=null;if(s.nodestream)try{l=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,r.checkSupport(a),this._worker=e.pipe(new o(a)),e.lock()}catch(e){this._worker=new i("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return function(e,t){return new c.Promise((function(n,o){var i=[],s=e._internalType,c=e._outputType,l=e._mimeType;e.on("data",(function(e,n){i.push(e),t&&t(n)})).on("error",(function(e){i=[],o(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(c,function(e,t){var n,r=0,o=null,i=0;for(n=0;n<t.length;n++)i+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(o=new Uint8Array(i),n=0;n<t.length;n++)o.set(t[n],r),r+=t[n].length;return o;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,i),l);n(e)}catch(e){o(e)}i=[]})).resume()}))}(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(r),n.blob=0===o.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),o=e("./support"),i=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function l(){a.call(this,"utf-8 decode"),this.leftOver=null}function u(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return o.nodebuffer?i.newBufferFrom(e,"utf-8"):function(e){var t,n,r,i,a,s=e.length,c=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=o.uint8array?new Uint8Array(c):new Array(c),i=a=0;a<c;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return o.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,o,i,a=e.length,c=new Array(2*a);for(t=n=0;t<a;)if((o=e[t++])<128)c[n++]=o;else if(4<(i=s[o]))c[n++]=65533,t+=i-1;else{for(o&=2===i?31:3===i?15:7;1<i&&t<a;)o=o<<6|63&e[t++],i--;1<i?c[n++]=65533:o<65536?c[n++]=o:(o-=65536,c[n++]=55296|o>>10&1023,c[n++]=56320|1023&o)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),r.applyFromCharCode(c)}(e=r.transformTo(o.uint8array?"uint8array":"array",e))},r.inherits(l,a),l.prototype.processChunk=function(e){var t=r.transformTo(o.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var i=t;(t=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),t.set(i,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),c=t;a!==t.length&&(o.uint8array?(c=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(c=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(c),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,r.inherits(u,a),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),o=e("./base64"),i=e("./nodejsUtils"),a=e("set-immediate-shim"),s=e("./external");function c(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var r=[],o=0,i=e.length;if(i<=n)return String.fromCharCode.apply(null,e);for(;o<i;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(o,Math.min(o+n,i)))):r.push(String.fromCharCode.apply(null,e.subarray(o,Math.min(o+n,i)))),o+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var t=65536,r=n.getTypeOf(e),o=!0;if("uint8array"===r?o=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(o=u.applyCanBeUsed.nodebuffer),o)for(;1<t;)try{return u.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function p(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=d;var f={};f.string={string:c,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,i.allocBuffer(e.length))}},f.array={string:d,array:c,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(e)}},f.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return p(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:c,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:d,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:c,nodebuffer:function(e){return i.newBufferFrom(e)}},f.nodebuffer={string:d,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return p(e,new Uint8Array(e.length))},nodebuffer:c},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return f[r][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&i.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){a((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,i,a,c){return s.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(c?t=o.decode(t):i&&!0!==a&&(t=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),o=e("./utils"),i=e("./signature"),a=e("./zipEntry"),s=(e("./utf8"),e("./support"));function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=o.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,i.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),o=e("./utils"),i=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),c=e("./compressions"),l=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,o=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<o;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(o)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=o.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=o.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var o=e("./stream/StreamHelper"),i=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),c=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var i=!this._dataBinary;i&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!i&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new c("error")).error(e)}return new o(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new i(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<l.length;d++)r.prototype[l[d]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var c=new e.MessageChannel;c.port1.onmessage=u,n=function(){c.port2.postMessage(0)}}var l=[];function u(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}t.exports=function(e){1!==l.push(e)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==o&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return i.reject(e,r)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}var a=h((function(){t(o,r)}));"error"===a.status&&r(a.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=l).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(o);return this.state!==c?d(n,this.state===s?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){i.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=h(p,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=s,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:i.resolve(new this(o),e)},l.reject=function(e){var t=new this(o);return i.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,l=new this(o);++c<n;)u(e[c],c);return l;function u(e,o){t.resolve(e).then((function(e){a[o]=e,++s!==n||r||(r=!0,i.resolve(l,a))}),(function(e){r||(r=!0,i.reject(l,e))}))}},l.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r,a=-1,s=new this(o);++a<t;)r=e[a],this.resolve(r).then((function(e){n||(n=!0,i.resolve(s,e))}),(function(e){n||(n=!0,i.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),o=e("./utils/common"),i=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),c=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=o.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,u)))throw new Error(a[n]);this._dict_set=!0}}function u(e,t){var n=new l(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}l.prototype.push=function(e,t){var n,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=i.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(i.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),!(s.avail_out=0))},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=l,n.deflate=u,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),o=e("./utils/common"),i=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),c=e("./zlib/zstream"),l=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function p(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,c,l,d,p,f=this.strm,h=this.options.chunkSize,A=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=i.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new o.Buf8(h),f.next_out=0,f.avail_out=h),(n=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&A&&(p="string"==typeof A?i.string2buf(A):"[object ArrayBuffer]"===u.call(A)?new Uint8Array(A):A,n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=i.utf8border(f.output,f.next_out),l=f.next_out-c,d=i.buf2string(f.output,c),f.next_out=l,f.avail_out=h-l,l&&o.arraySet(f.output,f.output,c,l,0),this.onData(d)):this.onData(o.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(f.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=p,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=o=0,n=e.length;t<n;t++)i=e[t],a.set(i,o),o+=i.length;return a}},i={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,i))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(e,t){if(t<65537&&(e.subarray&&i||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,o,i,a,s=e.length,c=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),i=a=0;a<c;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,o=t.length;n<o;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,o,i,s=t||e.length,l=new Array(2*s);for(n=r=0;n<s;)if((o=e[n++])<128)l[r++]=o;else if(4<(i=a[o]))l[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;1<i&&n<s;)o=o<<6|63&e[n++],i--;1<i?l[r++]=65533:o<65536?l[r++]=o:(o-=65536,l[r++]=55296|o>>10&1023,l[r++]=56320|1023&o)}return c(l,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;i=i+(o=o+t[r++]|0)|0,--a;);o%=65521,i%=65521}return o|i<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,o){var i=r,a=o+n;e^=-1;for(var s=o;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,o=e("../utils/common"),i=e("./trees"),a=e("./adler32"),s=e("./crc32"),c=e("./messages"),l=-2,u=258,d=262,p=113;function f(e,t){return e.msg=c[t],t}function h(e){return(e<<1)-(4<e?9:0)}function A(e){for(var t=e.length;0<=--t;)e[t]=0}function m(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(o.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function g(e,t){i._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function v(e,t){e.pending_buf[e.pending++]=t}function b(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function y(e,t){var n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-d?e.strstart-(e.w_size-d):0,l=e.window,p=e.w_mask,f=e.prev,h=e.strstart+u,A=l[i+a-1],m=l[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===m&&l[n+a-1]===A&&l[n]===l[i]&&l[++n]===l[i+1]){i+=2,n++;do{}while(l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&i<h);if(r=u-(h-i),i=h-u,a<r){if(e.match_start=t,s<=(a=r))break;A=l[i+a-1],m=l[i+a]}}}while((t=f[t&p])>c&&0!=--o);return a<=e.lookahead?a:e.lookahead}function w(e){var t,n,r,i,c,l,u,p,f,h,A=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=A+(A-d)){for(o.arraySet(e.window,e.window,A,A,0),e.match_start-=A,e.strstart-=A,e.block_start-=A,t=n=e.hash_size;r=e.head[--t],e.head[t]=A<=r?r-A:0,--n;);for(t=n=A;r=e.prev[--t],e.prev[t]=A<=r?r-A:0,--n;);i+=A}if(0===e.strm.avail_in)break;if(l=e.strm,u=e.window,p=e.strstart+e.lookahead,h=void 0,(f=i)<(h=l.avail_in)&&(h=f),n=0===h?0:(l.avail_in-=h,o.arraySet(u,l.input,l.next_in,h,p),1===l.state.wrap?l.adler=a(l.adler,u,h,p):2===l.state.wrap&&(l.adler=s(l.adler,u,h,p)),l.next_in+=h,l.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=3)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<d&&0!==e.strm.avail_in)}function x(e,t){for(var n,r;;){if(e.lookahead<d){if(w(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-d&&(e.match_length=y(e,n)),e.match_length>=3)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function k(e,t){for(var n,r,o;;){if(e.lookahead<d){if(w(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-d&&(e.match_length=y(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(o=e.strstart+e.lookahead-3,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(g(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&g(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function C(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(1146),this.dyn_dtree=new o.Buf16(122),this.bl_tree=new o.Buf16(78),A(this.dyn_ltree),A(this.dyn_dtree),A(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(16),this.heap=new o.Buf16(573),A(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(573),A(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function B(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:p,e.adler=2===t.wrap?0:1,t.last_flush=0,i._tr_init(t),0):f(e,l)}function T(e){var t=B(e);return 0===t&&function(e){e.window_size=2*e.w_size,A(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function M(e,t,n,r,i,a){if(!e)return l;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),i<1||9<i||8!==n||r<8||15<r||t<0||9<t||a<0||4<a)return f(e,l);8===r&&(r=9);var c=new E;return(e.state=c).strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=i+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new o.Buf8(2*c.w_size),c.head=new o.Buf16(c.hash_size),c.prev=new o.Buf16(c.w_size),c.lit_bufsize=1<<i+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new o.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,T(e)}r=[new C(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(w(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,g(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-d&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(g(e,!1),e.strm.avail_out),1)})),new C(4,4,8,4,x),new C(4,5,16,8,x),new C(4,6,32,32,x),new C(4,4,16,16,k),new C(8,16,32,32,k),new C(8,16,128,128,k),new C(8,32,128,256,k),new C(32,128,258,1024,k),new C(32,258,258,4096,k)],n.deflateInit=function(e,t){return M(e,t,8,15,8,0)},n.deflateInit2=M,n.deflateReset=T,n.deflateResetKeep=B,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},n.deflate=function(e,t){var n,o,a,c;if(!e||!e.state||5<t||t<0)return e?f(e,l):l;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||666===o.status&&4!==t)return f(e,0===e.avail_out?-5:l);if(o.strm=e,n=o.last_flush,o.last_flush=t,42===o.status)if(2===o.wrap)e.adler=0,v(o,31),v(o,139),v(o,8),o.gzhead?(v(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),v(o,255&o.gzhead.time),v(o,o.gzhead.time>>8&255),v(o,o.gzhead.time>>16&255),v(o,o.gzhead.time>>24&255),v(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),v(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(v(o,255&o.gzhead.extra.length),v(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=s(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(v(o,0),v(o,0),v(o,0),v(o,0),v(o,0),v(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),v(o,3),o.status=p);else{var d=8+(o.w_bits-8<<4)<<8;d|=(2<=o.strategy||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(d|=32),d+=31-d%31,o.status=p,b(o,d),0!==o.strstart&&(b(o,e.adler>>>16),b(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),m(e),a=o.pending,o.pending!==o.pending_buf_size));)v(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),m(e),a=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,v(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===c&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),m(e),a=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,v(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===c&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&m(e),o.pending+2<=o.pending_buf_size&&(v(o,255&e.adler),v(o,e.adler>>8&255),e.adler=0,o.status=p)):o.status=p),0!==o.pending){if(m(e),0===e.avail_out)return o.last_flush=-1,0}else if(0===e.avail_in&&h(t)<=h(n)&&4!==t)return f(e,-5);if(666===o.status&&0!==e.avail_in)return f(e,-5);if(0!==e.avail_in||0!==o.lookahead||0!==t&&666!==o.status){var y=2===o.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(w(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(o,t):3===o.strategy?function(e,t){for(var n,r,o,a,s=e.window;;){if(e.lookahead<=u){if(w(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(r=s[o=e.strstart-1])===s[++o]&&r===s[++o]&&r===s[++o]){a=e.strstart+u;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<a);e.match_length=u-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=i._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(o,t):r[o.level].func(o,t);if(3!==y&&4!==y||(o.status=666),1===y||3===y)return 0===e.avail_out&&(o.last_flush=-1),0;if(2===y&&(1===t?i._tr_align(o):5!==t&&(i._tr_stored_block(o,0,0,!1),3===t&&(A(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),m(e),0===e.avail_out))return o.last_flush=-1,0}return 4!==t?0:o.wrap<=0?1:(2===o.wrap?(v(o,255&e.adler),v(o,e.adler>>8&255),v(o,e.adler>>16&255),v(o,e.adler>>24&255),v(o,255&e.total_in),v(o,e.total_in>>8&255),v(o,e.total_in>>16&255),v(o,e.total_in>>24&255)):(b(o,e.adler>>>16),b(o,65535&e.adler)),m(e),0<o.wrap&&(o.wrap=-o.wrap),0!==o.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==p&&666!==t?f(e,l):(e.state=null,t===p?f(e,-3):0):l},n.deflateSetDictionary=function(e,t){var n,r,i,s,c,u,d,p,f=t.length;if(!e||!e.state)return l;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return l;for(1===s&&(e.adler=a(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(A(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new o.Buf8(n.w_size),o.arraySet(p,t,f-n.w_size,n.w_size,0),t=p,f=n.w_size),c=e.avail_in,u=e.next_in,d=e.input,e.avail_in=f,e.next_in=0,e.input=t,w(n);n.lookahead>=3;){for(r=n.strstart,i=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--i;);n.strstart=r,n.lookahead=2,w(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=d,e.avail_in=c,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,o,i,a,s,c,l,u,d,p,f,h,A,m,g,v,b,y,w,x,k,C,E,B;n=e.state,r=e.next_in,E=e.input,o=r+(e.avail_in-5),i=e.next_out,B=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),c=n.dmax,l=n.wsize,u=n.whave,d=n.wnext,p=n.window,f=n.hold,h=n.bits,A=n.lencode,m=n.distcode,g=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{h<15&&(f+=E[r++]<<h,h+=8,f+=E[r++]<<h,h+=8),b=A[f&g];t:for(;;){if(f>>>=y=b>>>24,h-=y,0==(y=b>>>16&255))B[i++]=65535&b;else{if(!(16&y)){if(0==(64&y)){b=A[(65535&b)+(f&(1<<y)-1)];continue t}if(32&y){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&b,(y&=15)&&(h<y&&(f+=E[r++]<<h,h+=8),w+=f&(1<<y)-1,f>>>=y,h-=y),h<15&&(f+=E[r++]<<h,h+=8,f+=E[r++]<<h,h+=8),b=m[f&v];n:for(;;){if(f>>>=y=b>>>24,h-=y,!(16&(y=b>>>16&255))){if(0==(64&y)){b=m[(65535&b)+(f&(1<<y)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&b,h<(y&=15)&&(f+=E[r++]<<h,(h+=8)<y&&(f+=E[r++]<<h,h+=8)),c<(x+=f&(1<<y)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=y,h-=y,(y=i-a)<x){if(u<(y=x-y)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(C=p,(k=0)===d){if(k+=l-y,y<w){for(w-=y;B[i++]=p[k++],--y;);k=i-x,C=B}}else if(d<y){if(k+=l+d-y,(y-=d)<w){for(w-=y;B[i++]=p[k++],--y;);if(k=0,d<w){for(w-=y=d;B[i++]=p[k++],--y;);k=i-x,C=B}}}else if(k+=d-y,y<w){for(w-=y;B[i++]=p[k++],--y;);k=i-x,C=B}for(;2<w;)B[i++]=C[k++],B[i++]=C[k++],B[i++]=C[k++],w-=3;w&&(B[i++]=C[k++],1<w&&(B[i++]=C[k++]))}else{for(k=i-x;B[i++]=B[k++],B[i++]=B[k++],B[i++]=B[k++],2<(w-=3););w&&(B[i++]=B[k++],1<w&&(B[i++]=B[k++]))}break}}break}}while(r<o&&i<s);r-=w=h>>3,f&=(1<<(h-=w<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<o?o-r+5:5-(r-o),e.avail_out=i<s?s-i+257:257-(i-s),n.hold=f,n.bits=h}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),o=e("./adler32"),i=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),c=-2;function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):c}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):c}function f(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?c:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,p(e))):c}function h(e,t){var n,r;return e?(r=new u,(e.state=r).window=null,0!==(n=f(e,t))&&(e.state=null),n):c}var A,m,g=!0;function v(e){if(g){var t;for(A=new r.Buf32(512),m=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,A,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),g=!1}e.lencode=A,e.lenbits=9,e.distcode=m,e.distbits=5}function b(e,t,n,o){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),o>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(o<(i=a.wsize-a.wnext)&&(i=o),r.arraySet(a.window,t,n-o,i,a.wnext),(o-=i)?(r.arraySet(a.window,t,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}n.inflateReset=p,n.inflateReset2=f,n.inflateResetKeep=d,n.inflateInit=function(e){return h(e,15)},n.inflateInit2=h,n.inflate=function(e,t){var n,u,d,p,f,h,A,m,g,y,w,x,k,C,E,B,T,M,I,D,_,S,O,N,L=0,R=new r.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;12===(n=e.state).mode&&(n.mode=13),f=e.next_out,d=e.output,A=e.avail_out,p=e.next_in,u=e.input,h=e.avail_in,m=n.hold,g=n.bits,y=h,w=A,S=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;g<16;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}if(2&n.wrap&&35615===m){R[n.check=0]=255&m,R[1]=m>>>8&255,n.check=i(n.check,R,2,0),g=m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=30;break}if(g-=4,_=8+(15&(m>>>=4)),0===n.wbits)n.wbits=_;else if(_>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<_,e.adler=n.check=1,n.mode=512&m?10:12,g=m=0;break;case 2:for(;g<16;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=i(n.check,R,2,0)),g=m=0,n.mode=3;case 3:for(;g<32;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}n.head&&(n.head.time=m),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,R[2]=m>>>16&255,R[3]=m>>>24&255,n.check=i(n.check,R,4,0)),g=m=0,n.mode=4;case 4:for(;g<16;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=i(n.check,R,2,0)),g=m=0,n.mode=5;case 5:if(1024&n.flags){for(;g<16;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=i(n.check,R,2,0)),g=m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(h<(x=n.length)&&(x=h),x&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,u,p,x,_)),512&n.flags&&(n.check=i(n.check,u,x,p)),h-=x,p+=x,n.length-=x),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===h)break e;for(x=0;_=u[p+x++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_)),_&&x<h;);if(512&n.flags&&(n.check=i(n.check,u,x,p)),h-=x,p+=x,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===h)break e;for(x=0;_=u[p+x++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_)),_&&x<h;);if(512&n.flags&&(n.check=i(n.check,u,x,p)),h-=x,p+=x,_)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;g<16;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}g=m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;g<32;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}e.adler=n.check=l(m),g=m=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=A,e.next_in=p,e.avail_in=h,n.hold=m,n.bits=g,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&g,g-=7&g,n.mode=27;break}for(;g<3;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}switch(n.last=1&m,g-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6!==t)break;m>>>=2,g-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,g-=2;break;case 14:for(m>>>=7&g,g-=7&g;g<32;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,g=m=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(x=n.length){if(h<x&&(x=h),A<x&&(x=A),0===x)break e;r.arraySet(d,u,p,x,f),h-=x,p+=x,A-=x,f+=x,n.length-=x;break}n.mode=12;break;case 17:for(;g<14;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}if(n.nlen=257+(31&m),m>>>=5,g-=5,n.ndist=1+(31&m),m>>>=5,g-=5,n.ncode=4+(15&m),m>>>=4,g-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;g<3;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}n.lens[j[n.have++]]=7&m,m>>>=3,g-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},S=s(0,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,S){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;B=(L=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,T=65535&L,!((E=L>>>24)<=g);){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}if(T<16)m>>>=E,g-=E,n.lens[n.have++]=T;else{if(16===T){for(N=E+2;g<N;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}if(m>>>=E,g-=E,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}_=n.lens[n.have-1],x=3+(3&m),m>>>=2,g-=2}else if(17===T){for(N=E+3;g<N;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}g-=E,_=0,x=3+(7&(m>>>=E)),m>>>=3,g-=3}else{for(N=E+7;g<N;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}g-=E,_=0,x=11+(127&(m>>>=E)),m>>>=7,g-=7}if(n.have+x>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;x--;)n.lens[n.have++]=_}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,O={bits:n.lenbits},S=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,S){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},S=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,S){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=h&&258<=A){e.next_out=f,e.avail_out=A,e.next_in=p,e.avail_in=h,n.hold=m,n.bits=g,a(e,w),f=e.next_out,d=e.output,A=e.avail_out,p=e.next_in,u=e.input,h=e.avail_in,m=n.hold,g=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;B=(L=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,T=65535&L,!((E=L>>>24)<=g);){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}if(B&&0==(240&B)){for(M=E,I=B,D=T;B=(L=n.lencode[D+((m&(1<<M+I)-1)>>M)])>>>16&255,T=65535&L,!(M+(E=L>>>24)<=g);){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}m>>>=M,g-=M,n.back+=M}if(m>>>=E,g-=E,n.back+=E,n.length=T,0===B){n.mode=26;break}if(32&B){n.back=-1,n.mode=12;break}if(64&B){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&B,n.mode=22;case 22:if(n.extra){for(N=n.extra;g<N;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;B=(L=n.distcode[m&(1<<n.distbits)-1])>>>16&255,T=65535&L,!((E=L>>>24)<=g);){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}if(0==(240&B)){for(M=E,I=B,D=T;B=(L=n.distcode[D+((m&(1<<M+I)-1)>>M)])>>>16&255,T=65535&L,!(M+(E=L>>>24)<=g);){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}m>>>=M,g-=M,n.back+=M}if(m>>>=E,g-=E,n.back+=E,64&B){e.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&B,n.mode=24;case 24:if(n.extra){for(N=n.extra;g<N;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===A)break e;if(x=w-A,n.offset>x){if((x=n.offset-x)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}k=x>n.wnext?(x-=n.wnext,n.wsize-x):n.wnext-x,x>n.length&&(x=n.length),C=n.window}else C=d,k=f-n.offset,x=n.length;for(A<x&&(x=A),A-=x,n.length-=x;d[f++]=C[k++],--x;);0===n.length&&(n.mode=21);break;case 26:if(0===A)break e;d[f++]=n.length,A--,n.mode=21;break;case 27:if(n.wrap){for(;g<32;){if(0===h)break e;h--,m|=u[p++]<<g,g+=8}if(w-=A,e.total_out+=w,n.total+=w,w&&(e.adler=n.check=n.flags?i(n.check,d,w,f-w):o(n.check,d,w,f-w)),w=A,(n.flags?m:l(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}g=m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;g<32;){if(0===h)break e;h--,m+=u[p++]<<g,g+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}g=m=0}n.mode=29;case 29:S=1;break e;case 30:S=-3;break e;case 31:return-4;default:return c}return e.next_out=f,e.avail_out=A,e.next_in=p,e.avail_in=h,n.hold=m,n.bits=g,(n.wsize||w!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&b(e,e.output,e.next_out,w-e.avail_out)?(n.mode=31,-4):(y-=e.avail_in,w-=e.avail_out,e.total_in+=y,e.total_out+=w,n.total+=w,n.wrap&&w&&(e.adler=n.check=n.flags?i(n.check,d,w,e.next_out-w):o(n.check,d,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==y&&0===w||4===t)&&0===S&&(S=-5),S)},n.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?c:((n.head=t).done=!1,0):c},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?c:11===n.mode&&o(1,t,r,0)!==n.check?-3:b(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):c},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,c,l,u,d,p){var f,h,A,m,g,v,b,y,w,x=p.bits,k=0,C=0,E=0,B=0,T=0,M=0,I=0,D=0,_=0,S=0,O=null,N=0,L=new r.Buf16(16),R=new r.Buf16(16),j=null,U=0;for(k=0;k<=15;k++)L[k]=0;for(C=0;C<c;C++)L[t[n+C]]++;for(T=x,B=15;1<=B&&0===L[B];B--);if(B<T&&(T=B),0===B)return l[u++]=20971520,l[u++]=20971520,p.bits=1,0;for(E=1;E<B&&0===L[E];E++);for(T<E&&(T=E),k=D=1;k<=15;k++)if(D<<=1,(D-=L[k])<0)return-1;if(0<D&&(0===e||1!==B))return-1;for(R[1]=0,k=1;k<15;k++)R[k+1]=R[k]+L[k];for(C=0;C<c;C++)0!==t[n+C]&&(d[R[t[n+C]]++]=C);if(v=0===e?(O=j=d,19):1===e?(O=o,N-=257,j=i,U-=257,256):(O=a,j=s,-1),k=E,g=u,I=C=S=0,A=-1,m=(_=1<<(M=T))-1,1===e&&852<_||2===e&&592<_)return 1;for(;;){for(b=k-I,w=d[C]<v?(y=0,d[C]):d[C]>v?(y=j[U+d[C]],O[N+d[C]]):(y=96,0),f=1<<k-I,E=h=1<<M;l[g+(S>>I)+(h-=f)]=b<<24|y<<16|w|0,0!==h;);for(f=1<<k-1;S&f;)f>>=1;if(0!==f?(S&=f-1,S+=f):S=0,C++,0==--L[k]){if(k===B)break;k=t[n+d[C]]}if(T<k&&(S&m)!==A){for(0===I&&(I=T),g+=E,D=1<<(M=k-I);M+I<B&&!((D-=L[M+I])<=0);)M++,D<<=1;if(_+=1<<M,1===e&&852<_||2===e&&592<_)return 1;l[A=S&m]=T<<24|M<<16|g-u|0}}return 0!==S&&(l[g+S]=k-I<<24|64<<16|0),p.bits=T,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common");function o(e){for(var t=e.length;0<=--t;)e[t]=0}var i=256,a=286,s=30,c=15,l=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],p=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);o(f);var h=new Array(60);o(h);var A=new Array(512);o(A);var m=new Array(256);o(m);var g=new Array(29);o(g);var v,b,y,w=new Array(s);function x(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function C(e){return e<256?A[e]:A[256+(e>>>7)]}function E(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function B(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,E(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function T(e,t,n){B(e,n[2*t],n[2*t+1])}function M(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function I(e,t,n){var r,o,i=new Array(16),a=0;for(r=1;r<=c;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=M(i[s]++,s))}}function D(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function _(e){8<e.bi_valid?E(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function S(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function O(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&S(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!S(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function N(e,t,n){var r,o,a,s,c=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],o=e.pending_buf[e.l_buf+c],c++,0===r?T(e,o,t):(T(e,(a=m[o])+i+1,t),0!==(s=l[a])&&B(e,o-=g[a],s),T(e,a=C(--r),n),0!==(s=u[a])&&B(e,r-=w[a],s)),c<e.last_lit;);T(e,256,t)}function L(e,t){var n,r,o,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==i[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=u,n=e.heap_len>>1;1<=n;n--)O(e,i,n);for(o=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],O(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,O(e,i,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,o,i,a,s,l=t.dyn_tree,u=t.max_code,d=t.stat_desc.static_tree,p=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,A=t.stat_desc.max_length,m=0;for(i=0;i<=c;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)A<(i=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(i=A,m++),l[2*r+1]=i,u<r||(e.bl_count[i]++,a=0,h<=r&&(a=f[r-h]),s=l[2*r],e.opt_len+=s*(i+a),p&&(e.static_len+=s*(d[2*r+1]+a)));if(0!==m){do{for(i=A-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[A]--,m-=2}while(0<m);for(i=A;0!==i;i--)for(r=e.bl_count[i];0!==r;)u<(o=e.heap[--n])||(l[2*o+1]!==i&&(e.opt_len+=(i-l[2*o+1])*l[2*o],l[2*o+1]=i),r--)}}(e,t),I(i,u,e.bl_count)}function R(e,t,n){var r,o,i=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<c&&o===a||(s<l?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,i=o,l=(s=0)===a?(c=138,3):o===a?(c=6,3):(c=7,4))}function j(e,t,n){var r,o,i=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<c&&o===a)){if(s<l)for(;T(e,o,e.bl_tree),0!=--s;);else 0!==o?(o!==i&&(T(e,o,e.bl_tree),s--),T(e,16,e.bl_tree),B(e,s-3,2)):s<=10?(T(e,17,e.bl_tree),B(e,s-3,3)):(T(e,18,e.bl_tree),B(e,s-11,7));i=o,l=(s=0)===a?(c=138,3):o===a?(c=6,3):(c=7,4)}}o(w);var U=!1;function F(e,t,n,o){B(e,0+(o?1:0),3),function(e,t,n,o){_(e),E(e,n),E(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){U||(function(){var e,t,n,r,o,i=new Array(16);for(r=n=0;r<28;r++)for(g[r]=n,e=0;e<1<<l[r];e++)m[n++]=r;for(m[n-1]=r,r=o=0;r<16;r++)for(w[r]=o,e=0;e<1<<u[r];e++)A[o++]=r;for(o>>=7;r<s;r++)for(w[r]=o<<7,e=0;e<1<<u[r]-7;e++)A[256+o++]=r;for(t=0;t<=c;t++)i[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,i[8]++;for(;e<=255;)f[2*e+1]=9,e++,i[9]++;for(;e<=279;)f[2*e+1]=7,e++,i[7]++;for(;e<=287;)f[2*e+1]=8,e++,i[8]++;for(I(f,287,i),e=0;e<s;e++)h[2*e+1]=5,h[2*e]=M(e,5);v=new x(f,l,257,a,c),b=new x(h,u,0,s,c),y=new x(new Array(0),d,0,19,7)}(),U=!0),e.l_desc=new k(e.dyn_ltree,v),e.d_desc=new k(e.dyn_dtree,b),e.bl_desc=new k(e.bl_tree,y),e.bi_buf=0,e.bi_valid=0,D(e)},n._tr_stored_block=F,n._tr_flush_block=function(e,t,n,r){var o,a,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<i;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),L(e,e.l_desc),L(e,e.d_desc),s=function(e){var t;for(R(e,e.dyn_ltree,e.l_desc.max_code),R(e,e.dyn_dtree,e.d_desc.max_code),L(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*p[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==t?F(e,t,n,r):4===e.strategy||a===o?(B(e,2+(r?1:0),3),N(e,f,h)):(B(e,4+(r?1:0),3),function(e,t,n,r){var o;for(B(e,t-257,5),B(e,n-1,5),B(e,r-4,4),o=0;o<r;o++)B(e,e.bl_tree[2*p[o]+1],3);j(e,e.dyn_ltree,t-1),j(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),N(e,e.dyn_ltree,e.dyn_dtree)),D(e),r&&_(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(m[n]+i+1)]++,e.dyn_dtree[2*C(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){B(e,2,3),T(e,256,f),function(e){16===e.bi_valid?(E(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},155:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,c=[],l=!1,u=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&p())}function p(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},509:(e,t,n)=>{var r=n(764),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),i(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},99:(e,t,n)=>{!function(e){e.parser=function(e,t){return new o(e,t)},e.SAXParser=o,e.SAXStream=a,e.createStream=function(e,t){return new a(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(t,n){if(!(this instanceof o))return new o(t,n);var i=this;!function(e){for(var t=0,n=r.length;t<n;t++)e[r[t]]=""}(i),i.q=i.c="",i.bufferCheckPosition=e.MAX_BUFFER_LENGTH,i.opt=n||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!t,i.noscript=!(!t&&!i.opt.noscript),i.state=x.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(l)),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),C(i,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),o.prototype={end:function(){I(this)},write:function(t){var n=this;if(this.error)throw this.error;if(n.closed)return M(n,"Cannot write after close. Assign an onready handler.");if(null===t)return I(n);"object"==typeof t&&(t=t.toString());for(var o=0,i="";i=U(t,o++),n.c=i,i;)switch(n.trackPosition&&(n.position++,"\n"===i?(n.line++,n.column=0):n.column++),n.state){case x.BEGIN:if(n.state=x.BEGIN_WHITESPACE,"\ufeff"===i)continue;j(n,i);continue;case x.BEGIN_WHITESPACE:j(n,i);continue;case x.TEXT:if(n.sawRoot&&!n.closedRoot){for(var a=o-1;i&&"<"!==i&&"&"!==i;)(i=U(t,o++))&&n.trackPosition&&(n.position++,"\n"===i?(n.line++,n.column=0):n.column++);n.textNode+=t.substring(a,o-1)}"<"!==i||n.sawRoot&&n.closedRoot&&!n.strict?(h(i)||n.sawRoot&&!n.closedRoot||D(n,"Text data outside of root node."),"&"===i?n.state=x.TEXT_ENTITY:n.textNode+=i):(n.state=x.OPEN_WAKA,n.startTagPosition=n.position);continue;case x.SCRIPT:"<"===i?n.state=x.SCRIPT_ENDING:n.script+=i;continue;case x.SCRIPT_ENDING:"/"===i?n.state=x.CLOSE_TAG:(n.script+="<"+i,n.state=x.SCRIPT);continue;case x.OPEN_WAKA:if("!"===i)n.state=x.SGML_DECL,n.sgmlDecl="";else if(h(i));else if(g(u,i))n.state=x.OPEN_TAG,n.tagName=i;else if("/"===i)n.state=x.CLOSE_TAG,n.tagName="";else if("?"===i)n.state=x.PROC_INST,n.procInstName=n.procInstBody="";else{if(D(n,"Unencoded <"),n.startTagPosition+1<n.position){var s=n.position-n.startTagPosition;i=new Array(s).join(" ")+i}n.textNode+="<"+i,n.state=x.TEXT}continue;case x.SGML_DECL:"[CDATA["===(n.sgmlDecl+i).toUpperCase()?(E(n,"onopencdata"),n.state=x.CDATA,n.sgmlDecl="",n.cdata=""):n.sgmlDecl+i==="--"?(n.state=x.COMMENT,n.comment="",n.sgmlDecl=""):"DOCTYPE"===(n.sgmlDecl+i).toUpperCase()?(n.state=x.DOCTYPE,(n.doctype||n.sawRoot)&&D(n,"Inappropriately located doctype declaration"),n.doctype="",n.sgmlDecl=""):">"===i?(E(n,"onsgmldeclaration",n.sgmlDecl),n.sgmlDecl="",n.state=x.TEXT):A(i)?(n.state=x.SGML_DECL_QUOTED,n.sgmlDecl+=i):n.sgmlDecl+=i;continue;case x.SGML_DECL_QUOTED:i===n.q&&(n.state=x.SGML_DECL,n.q=""),n.sgmlDecl+=i;continue;case x.DOCTYPE:">"===i?(n.state=x.TEXT,E(n,"ondoctype",n.doctype),n.doctype=!0):(n.doctype+=i,"["===i?n.state=x.DOCTYPE_DTD:A(i)&&(n.state=x.DOCTYPE_QUOTED,n.q=i));continue;case x.DOCTYPE_QUOTED:n.doctype+=i,i===n.q&&(n.q="",n.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:n.doctype+=i,"]"===i?n.state=x.DOCTYPE:A(i)&&(n.state=x.DOCTYPE_DTD_QUOTED,n.q=i);continue;case x.DOCTYPE_DTD_QUOTED:n.doctype+=i,i===n.q&&(n.state=x.DOCTYPE_DTD,n.q="");continue;case x.COMMENT:"-"===i?n.state=x.COMMENT_ENDING:n.comment+=i;continue;case x.COMMENT_ENDING:"-"===i?(n.state=x.COMMENT_ENDED,n.comment=T(n.opt,n.comment),n.comment&&E(n,"oncomment",n.comment),n.comment=""):(n.comment+="-"+i,n.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==i?(D(n,"Malformed comment"),n.comment+="--"+i,n.state=x.COMMENT):n.state=x.TEXT;continue;case x.CDATA:"]"===i?n.state=x.CDATA_ENDING:n.cdata+=i;continue;case x.CDATA_ENDING:"]"===i?n.state=x.CDATA_ENDING_2:(n.cdata+="]"+i,n.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===i?(n.cdata&&E(n,"oncdata",n.cdata),E(n,"onclosecdata"),n.cdata="",n.state=x.TEXT):"]"===i?n.cdata+="]":(n.cdata+="]]"+i,n.state=x.CDATA);continue;case x.PROC_INST:"?"===i?n.state=x.PROC_INST_ENDING:h(i)?n.state=x.PROC_INST_BODY:n.procInstName+=i;continue;case x.PROC_INST_BODY:if(!n.procInstBody&&h(i))continue;"?"===i?n.state=x.PROC_INST_ENDING:n.procInstBody+=i;continue;case x.PROC_INST_ENDING:">"===i?(E(n,"onprocessinginstruction",{name:n.procInstName,body:n.procInstBody}),n.procInstName=n.procInstBody="",n.state=x.TEXT):(n.procInstBody+="?"+i,n.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:g(d,i)?n.tagName+=i:(_(n),">"===i?N(n):"/"===i?n.state=x.OPEN_TAG_SLASH:(h(i)||D(n,"Invalid character in tag name"),n.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===i?(N(n,!0),L(n)):(D(n,"Forward-slash in opening tag not followed by >"),n.state=x.ATTRIB);continue;case x.ATTRIB:if(h(i))continue;">"===i?N(n):"/"===i?n.state=x.OPEN_TAG_SLASH:g(u,i)?(n.attribName=i,n.attribValue="",n.state=x.ATTRIB_NAME):D(n,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===i?n.state=x.ATTRIB_VALUE:">"===i?(D(n,"Attribute without value"),n.attribValue=n.attribName,O(n),N(n)):h(i)?n.state=x.ATTRIB_NAME_SAW_WHITE:g(d,i)?n.attribName+=i:D(n,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===i)n.state=x.ATTRIB_VALUE;else{if(h(i))continue;D(n,"Attribute without value"),n.tag.attributes[n.attribName]="",n.attribValue="",E(n,"onattribute",{name:n.attribName,value:""}),n.attribName="",">"===i?N(n):g(u,i)?(n.attribName=i,n.state=x.ATTRIB_NAME):(D(n,"Invalid attribute name"),n.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(h(i))continue;A(i)?(n.q=i,n.state=x.ATTRIB_VALUE_QUOTED):(D(n,"Unquoted attribute value"),n.state=x.ATTRIB_VALUE_UNQUOTED,n.attribValue=i);continue;case x.ATTRIB_VALUE_QUOTED:if(i!==n.q){"&"===i?n.state=x.ATTRIB_VALUE_ENTITY_Q:n.attribValue+=i;continue}O(n),n.q="",n.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:h(i)?n.state=x.ATTRIB:">"===i?N(n):"/"===i?n.state=x.OPEN_TAG_SLASH:g(u,i)?(D(n,"No whitespace between attributes"),n.attribName=i,n.attribValue="",n.state=x.ATTRIB_NAME):D(n,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!m(i)){"&"===i?n.state=x.ATTRIB_VALUE_ENTITY_U:n.attribValue+=i;continue}O(n),">"===i?N(n):n.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(n.tagName)">"===i?L(n):g(d,i)?n.tagName+=i:n.script?(n.script+="</"+n.tagName,n.tagName="",n.state=x.SCRIPT):(h(i)||D(n,"Invalid tagname in closing tag"),n.state=x.CLOSE_TAG_SAW_WHITE);else{if(h(i))continue;v(u,i)?n.script?(n.script+="</"+i,n.state=x.SCRIPT):D(n,"Invalid tagname in closing tag."):n.tagName=i}continue;case x.CLOSE_TAG_SAW_WHITE:if(h(i))continue;">"===i?L(n):D(n,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var c,l;switch(n.state){case x.TEXT_ENTITY:c=x.TEXT,l="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:c=x.ATTRIB_VALUE_QUOTED,l="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:c=x.ATTRIB_VALUE_UNQUOTED,l="attribValue"}";"===i?(n[l]+=R(n),n.entity="",n.state=c):g(n.entity.length?f:p,i)?n.entity+=i:(D(n,"Invalid character in entity name"),n[l]+="&"+n.entity+i,n.entity="",n.state=c);continue;default:throw new Error(n,"Unknown state: "+n.state)}return n.position>=n.bufferCheckPosition&&function(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),o=0,i=0,a=r.length;i<a;i++){var s=t[r[i]].length;if(s>n)switch(r[i]){case"textNode":B(t);break;case"cdata":E(t,"oncdata",t.cdata),t.cdata="";break;case"script":E(t,"onscript",t.script),t.script="";break;default:M(t,"Max buffer length exceeded: "+r[i])}o=Math.max(o,s)}var c=e.MAX_BUFFER_LENGTH-o;t.bufferCheckPosition=c+t.position}(n),n},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;B(e=this),""!==e.cdata&&(E(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(E(e,"onscript",e.script),e.script="")}};try{t=n(830).Stream}catch(e){t=function(){}}var i=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function a(e,n){if(!(this instanceof a))return new a(e,n);t.apply(this),this._parser=new o(e,n),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,i.forEach((function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})}))}a.prototype=Object.create(t.prototype,{constructor:{value:a}}),a.prototype.write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=n(553).s;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},a.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},a.prototype.on=function(e,n){var r=this;return r._parser["on"+e]||-1===i.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),t.prototype.on.call(r,e,n)};var s="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/2000/xmlns/",l={xml:s,xmlns:c},u=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function h(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function A(e){return'"'===e||"'"===e}function m(e){return">"===e||h(e)}function g(e,t){return e.test(t)}function v(e,t){return!g(e,t)}var b,y,w,x=0;for(var k in e.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var n=e.ENTITIES[t],r="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=r})),e.STATE)e.STATE[e.STATE[k]]=k;function C(e,t,n){e[t]&&e[t](n)}function E(e,t,n){e.textNode&&B(e),C(e,t,n)}function B(e){e.textNode=T(e.opt,e.textNode),e.textNode&&C(e,"ontext",e.textNode),e.textNode=""}function T(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function M(e,t){return B(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,C(e,"onerror",t),e}function I(e){return e.sawRoot&&!e.closedRoot&&D(e,"Unclosed root tag"),e.state!==x.BEGIN&&e.state!==x.BEGIN_WHITESPACE&&e.state!==x.TEXT&&M(e,"Unexpected end"),B(e),e.c="",e.closed=!0,C(e,"onend"),o.call(e,e.strict,e.opt),e}function D(e,t){if("object"!=typeof e||!(e instanceof o))throw new Error("bad call to strictFail");e.strict&&M(e,t)}function _(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,E(e,"onopentagstart",n)}function S(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),r=n[0],o=n[1];return t&&"xmlns"===e&&(r="xmlns",o=""),{prefix:r,local:o}}function O(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=S(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==s)D(e,"xml: prefix must be bound to "+s+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==c)D(e,"xmlns: prefix must be bound to "+c+"\nActual: "+e.attribValue);else{var o=e.tag,i=e.tags[e.tags.length-1]||e;o.ns===i.ns&&(o.ns=Object.create(i.ns)),o.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,E(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function N(e,t){if(e.opt.xmlns){var n=e.tag,r=S(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(D(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix);var o=e.tags[e.tags.length-1]||e;n.ns&&o.ns!==n.ns&&Object.keys(n.ns).forEach((function(t){E(e,"onopennamespace",{prefix:t,uri:n.ns[t]})}));for(var i=0,a=e.attribList.length;i<a;i++){var s=e.attribList[i],c=s[0],l=s[1],u=S(c,!0),d=u.prefix,p=u.local,f=""===d?"":n.ns[d]||"",h={name:c,value:l,prefix:d,local:p,uri:f};d&&"xmlns"!==d&&!f&&(D(e,"Unbound namespace prefix: "+JSON.stringify(d)),h.uri=d),e.tag.attributes[c]=h,E(e,"onattribute",h)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),E(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=x.TEXT:e.state=x.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function L(e){if(!e.tagName)return D(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=x.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=x.SCRIPT);E(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--&&e.tags[t].name!==r;)D(e,"Unexpected close tag");if(t<0)return D(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=x.TEXT);e.tagName=n;for(var o=e.tags.length;o-- >t;){var i=e.tag=e.tags.pop();e.tagName=e.tag.name,E(e,"onclosetag",e.tagName);var a={};for(var s in i.ns)a[s]=i.ns[s];var c=e.tags[e.tags.length-1]||e;e.opt.xmlns&&i.ns!==c.ns&&Object.keys(i.ns).forEach((function(t){var n=i.ns[t];E(e,"onclosenamespace",{prefix:t,uri:n})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=x.TEXT}function R(e){var t,n=e.entity,r=n.toLowerCase(),o="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),o=(t=parseInt(n,16)).toString(16)):(n=n.slice(1),o=(t=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(t)||o.toLowerCase()!==n?(D(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function j(e,t){"<"===t?(e.state=x.OPEN_WAKA,e.startTagPosition=e.position):h(t)||(D(e,"Non-whitespace before first tag."),e.textNode=t,e.state=x.TEXT)}function U(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}x=e.STATE,String.fromCodePoint||(b=String.fromCharCode,y=Math.floor,w=function(){var e,t,n=16384,r=[],o=-1,i=arguments.length;if(!i)return"";for(var a="";++o<i;){var s=Number(arguments[o]);if(!isFinite(s)||s<0||s>1114111||y(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?r.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,r.push(e,t)),(o+1===i||r.length>n)&&(a+=b.apply(null,r),r.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:w,configurable:!0,writable:!0}):String.fromCodePoint=w)}(t)},830:(e,t,n)=>{e.exports=o;var r=n(187).EventEmitter;function o(){r.call(this)}n(717)(o,r),o.Readable=n(577),o.Writable=n(323),o.Duplex=n(656),o.Transform=n(473),o.PassThrough=n(366),o.finished=n(86),o.pipeline=n(472),o.Stream=o,o.prototype.pipe=function(e,t){var n=this;function o(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",o),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",c));var a=!1;function s(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",o),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",l),e.on("error",l),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},106:e=>{"use strict";var t={};function n(e,n,r){r||(r=Error);var o=function(e){var t,r;function o(t,r,o){return e.call(this,function(e,t,r){return"string"==typeof n?n:n(e,t,r)}(t,r,o))||this}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o}(r);o.prototype.name=r.name,o.prototype.code=e,t[e]=o}function r(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var o,i,a,s,c;if("string"==typeof t&&(i="not ",t.substr(0,i.length)===i)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(o," ").concat(r(t,"type"));else{var l=("number"!=typeof c&&(c=0),c+".".length>(s=e).length||-1===s.indexOf(".",c)?"argument":"property");a='The "'.concat(e,'" ').concat(l," ").concat(o," ").concat(r(t,"type"))}return a+". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},656:(e,t,n)=>{"use strict";var r=n(155),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var i=n(577),a=n(323);n(717)(u,i);for(var s=o(a.prototype),c=0;c<s.length;c++){var l=s[c];u.prototype[l]||(u.prototype[l]=a.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},366:(e,t,n)=>{"use strict";e.exports=o;var r=n(473);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}n(717)(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},577:(e,t,n)=>{"use strict";var r,o=n(155);e.exports=E,E.ReadableState=C,n(187).EventEmitter;var i,a=function(e,t){return e.listeners(t).length},s=n(194),c=n(764).Buffer,l=n.g.Uint8Array||function(){},u=n(964);i=u&&u.debuglog?u.debuglog("stream"):function(){};var d,p,f,h=n(686),A=n(29),m=n(94).getHighWaterMark,g=n(106).q,v=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,y=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(717)(E,s);var x=A.errorOrDestroy,k=["error","close","destroy","pause","resume"];function C(e,t,o){r=r||n(656),e=e||{},"boolean"!=typeof o&&(o=t instanceof r),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",o),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(553).s),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function E(e){if(r=r||n(656),!(this instanceof E))return new E(e);var t=this instanceof r;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function B(e,t,n,r,o){i("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?D(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,_(e)))}}(e,s);else if(o||(a=function(e,t){var n,r;return r=t,c.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],t)),n}(s,t)),a)x(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r)s.endEmitted?x(e,new w):T(e,s,t,!0);else if(s.ended)x(e,new b);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?T(e,s,t,!1):S(e,s)):T(e,s,t,!1)}else r||(s.reading=!1,S(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function T(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&D(e)),S(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=A.destroy,E.prototype._undestroy=A.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),B(this,e,t,!1,n)},E.prototype.unshift=function(e){return B(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){d||(d=n(553).s);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,o="";null!==r;)o+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==o&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};var M=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=M?e=M:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function D(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,o.nextTick(_,e))}function _(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function S(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(i("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){i("readable nexttick read 0"),e.read(0)}function R(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function U(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function F(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,o.nextTick(z,t,e))}function z(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function Q(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}E.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):D(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&F(this),null;var r,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(r=e>0?U(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&F(this)),null!==r&&this.emit("data",r),r},E.prototype._read=function(e){x(this,new y("_read()"))},E.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,i("pipe count=%d opts=%j",r.pipesCount,t);var s=t&&!1===t.end||e===o.stdout||e===o.stderr?A:c;function c(){i("onend"),e.end()}r.endEmitted?o.nextTick(s):n.once("end",s),e.on("unpipe",(function t(o,a){i("onunpipe"),o===n&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,i("cleanup"),e.removeListener("close",f),e.removeListener("finish",h),e.removeListener("drain",l),e.removeListener("error",p),e.removeListener("unpipe",t),n.removeListener("end",c),n.removeListener("end",A),n.removeListener("data",d),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,j(e))}}(n);e.on("drain",l);var u=!1;function d(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==Q(r.pipes,e))&&!u&&(i("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function p(t){i("onerror",t),A(),e.removeListener("error",p),0===a(e,"error")&&x(e,t)}function f(){e.removeListener("finish",h),A()}function h(){i("onfinish"),e.removeListener("close",f),A()}function A(){i("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on(t,n)}(e,"error",p),e.once("close",f),e.once("finish",h),e.emit("pipe",n),r.flowing||(i("pipe resume"),n.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Q(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},E.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,i("on readable",r.length,r.reading),r.length?D(this):r.reading||o.nextTick(L,this))),n},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&o.nextTick(N,this),n},E.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||o.nextTick(N,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(R,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o||(n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var a=0;a<k.length;a++)e.on(k[a],this.emit.bind(this,k[a]));return this._read=function(t){i("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=n(828)),p(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=U,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(e,t){return void 0===f&&(f=n(265)),f(E,e,t)})},473:(e,t,n)=>{"use strict";e.exports=u;var r=n(106).q,o=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(656);function l(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new i);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush((function(t,n){p(e,t,n)}))}function p(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(717)(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new o("_transform()"))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},323:(e,t,n)=>{"use strict";var r,o=n(155);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var o=r.callback;t.pendingcb--,o(void 0),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=E,E.WritableState=C;var a,s={deprecate:n(927)},c=n(194),l=n(764).Buffer,u=n.g.Uint8Array||function(){},d=n(29),p=n(94).getHighWaterMark,f=n(106).q,h=f.ERR_INVALID_ARG_TYPE,A=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,v=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,y=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,x=d.errorOrDestroy;function k(){}function C(e,t,a){r=r||n(656),e=e||{},"boolean"!=typeof a&&(a=t instanceof r),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(_,e,t),e._writableState.errorEmitted=!0,x(e,r)):(i(r),e._writableState.errorEmitted=!0,x(e,r),_(e,t))}(e,n,r,t,i);else{var a=I(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||M(e,n),r?o.nextTick(T,e,n,a,i):T(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function E(e){var t=this instanceof(r=r||n(656));if(!t&&!a.call(E,this))return new E(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function B(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function T(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),_(e,t)}function M(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)o[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;o.allBuffers=c,B(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(B(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function D(e,t){e._final((function(n){t.pendingcb--,n&&x(e,n),t.prefinished=!0,e.emit("prefinish"),_(e,t)}))}function _(e,t){var n=I(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,o.nextTick(D,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(717)(E,c),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===E&&e&&e._writableState instanceof C}})):a=function(e){return e instanceof this},E.prototype.pipe=function(){x(this,new g)},E.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=e,l.isBuffer(r)||r instanceof u);return s&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=k),i.ending?function(e,t){var n=new y;x(e,n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i;return null===n?i=new b:"string"==typeof n||t.objectMode||(i=new h("chunk",["string","Buffer"],n)),!i||(x(e,i),o.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,o,i){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,n)),t}(t,r,o);r!==a&&(n=!0,o="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else B(e,t,!1,s,r,o,i);return c}(this,i,s,e,t,n)),a},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||M(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,n){n(new A("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,_(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=d.destroy,E.prototype._undestroy=d.undestroy,E.prototype._destroy=function(e,t){t(e)}},828:(e,t,n)=>{"use strict";var r,o=n(155);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(86),s=Symbol("lastResolve"),c=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),p=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function A(e){var t=e[s];if(null!==t){var n=e[f].read();null!==n&&(e[d]=null,e[s]=null,e[c]=null,t(h(n,!1)))}}function m(e){o.nextTick(A,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise((function(t,n){o.nextTick((function(){e[l]?n(e[l]):t(h(void 0,!0))}))}));var n,r=this[d];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[u]?n(h(void 0,!0)):t[p](n,r)}),r)}}(r,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(h(i,!1));n=new Promise(this[p])}return this[d]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[f].destroy(null,(function(e){e?n(e):t(h(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(v,(i(t={},f,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,p,{value:function(e,t){var r=n[f].read();r?(n[d]=null,n[s]=null,n[c]=null,e(h(r,!1))):(n[s]=e,n[c]=t)},writable:!0}),t));return n[d]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[c];return null!==t&&(n[d]=null,n[s]=null,n[c]=null,t(e)),void(n[l]=e)}var r=n[s];null!==r&&(n[d]=null,n[s]=null,n[c]=null,r(h(void 0,!0))),n[u]=!0})),e.on("readable",m.bind(null,n)),n}},686:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(764).Buffer,s=n(862).inspect,c=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t;return(t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,n,r,o=a.allocUnsafe(e>>>0),i=this.head,s=0;i;)t=i.data,n=o,r=s,a.prototype.copy.call(t,n,r),s+=i.data.length,i=i.next;return o}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var o=t.data,i=e>o.length?o.length:e;if(i===o.length?r+=o:r+=o.slice(0,e),0==(e-=i)){i===o.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=o.slice(i));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var o=n.data,i=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,i),0==(e-=i)){i===o.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(i));break}++r}return this.length-=r,t}},{key:c,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&i(e.prototype,t),e}()},29:(e,t,n)=>{"use strict";var r=n(155);function o(e,t){a(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(a,this,e)):r.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?r.nextTick(i,n):(n._writableState.errorEmitted=!0,r.nextTick(o,n,e)):r.nextTick(o,n,e):t?(r.nextTick(i,n),t(e)):r.nextTick(i,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},86:(e,t,n)=>{"use strict";var r=n(106).q.ERR_STREAM_PREMATURE_CLOSE;function o(){}e.exports=function e(t,n,i){if("function"==typeof n)return e(t,null,n);n||(n={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r)}}}(i||o);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){s=!1,l=!0,a||i.call(t)},d=t._readableState&&t._readableState.endEmitted,p=function(){a=!1,d=!0,s||i.call(t)},f=function(e){i.call(t,e)},h=function(){var e;return a&&!d?(t._readableState&&t._readableState.ended||(e=new r),i.call(t,e)):s&&!l?(t._writableState&&t._writableState.ended||(e=new r),i.call(t,e)):void 0},A=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",h),t.req?A():t.on("request",A)):s&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",p),t.on("finish",u),!1!==n.error&&t.on("error",f),t.on("close",h),function(){t.removeListener("complete",u),t.removeListener("abort",h),t.removeListener("request",A),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("end",p),t.removeListener("error",f),t.removeListener("close",h)}}},265:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},472:(e,t,n)=>{"use strict";var r,o=n(106).q,i=o.ERR_MISSING_ARGS,a=o.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e,t,o,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(86)),r(e,{readable:t,writable:o},(function(e){if(e)return i(e);s=!0,i()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void i(t||new a("pipe"))}}function l(e){e()}function u(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var a=t.map((function(e,n){var i=n<t.length-1;return c(e,i,n>0,(function(e){r||(r=e),e&&a.forEach(l),i||(a.forEach(l),o(r))}))}));return t.reduce(u)}},94:(e,t,n)=>{"use strict";var r=n(106).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,o){var i=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,o,n);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new r(o?n:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},194:(e,t,n)=>{e.exports=n(187).EventEmitter},553:(e,t,n)=>{"use strict";var r=n(509).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=p,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=a(t[r]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--r<n||-2===o?0:(o=a(t[r]))>=0?(o>0&&(e.lastNeed=o-2),o):--r<n||-2===o?0:(o=a(t[r]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},927:(e,t,n)=>{function r(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},881:e=>{e.exports={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}}},888:(e,t,n)=>{var r=n(229),o=n(388),i=n(501),a=n(673);e.exports={xml2js:r,xml2json:o,js2xml:i,json2xml:a}},501:(e,t,n)=>{var r,o,i=n(740),a=n(881).isArray;function s(e,t,n){return(!n&&e.spaces?"\n":"")+Array(t+1).join(e.spaces)}function c(e,t,n){if(t.ignoreAttributes)return"";"attributesFn"in t&&(e=t.attributesFn(e,o,r));var i,a,c,l,u=[];for(i in e)e.hasOwnProperty(i)&&null!==e[i]&&void 0!==e[i]&&(l=t.noQuotesForNativeAttributes&&"string"!=typeof e[i]?"":'"',a=(a=""+e[i]).replace(/"/g,"&quot;"),c="attributeNameFn"in t?t.attributeNameFn(i,a,o,r):i,u.push(t.spaces&&t.indentAttributes?s(t,n+1,!1):" "),u.push(c+"="+l+("attributeValueFn"in t?t.attributeValueFn(a,i,o,r):a)+l));return e&&Object.keys(e).length&&t.spaces&&t.indentAttributes&&u.push(s(t,n,!1)),u.join("")}function l(e,t,n){return r=e,o="xml",t.ignoreDeclaration?"":"<?xml"+c(e[t.attributesKey],t,n)+"?>"}function u(e,t,n){if(t.ignoreInstruction)return"";var i;for(i in e)if(e.hasOwnProperty(i))break;var a="instructionNameFn"in t?t.instructionNameFn(i,e[i],o,r):i;if("object"==typeof e[i])return r=e,o=a,"<?"+a+c(e[i][t.attributesKey],t,n)+"?>";var s=e[i]?e[i]:"";return"instructionFn"in t&&(s=t.instructionFn(s,i,o,r)),"<?"+a+(s?" "+s:"")+"?>"}function d(e,t){return t.ignoreComment?"":"\x3c!--"+("commentFn"in t?t.commentFn(e,o,r):e)+"--\x3e"}function p(e,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(e,o,r):e.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(e,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(e,o,r):e)+">"}function h(e,t){return t.ignoreText?"":(e=(e=(e=""+e).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(e,o,r):e)}function A(e,t,n,i){return e.reduce((function(e,a){var l=s(t,n,i&&!e);switch(a.type){case"element":return e+l+function(e,t,n){r=e,o=e.name;var i=[],a="elementNameFn"in t?t.elementNameFn(e.name,e):e.name;i.push("<"+a),e[t.attributesKey]&&i.push(c(e[t.attributesKey],t,n));var s=e[t.elementsKey]&&e[t.elementsKey].length||e[t.attributesKey]&&"preserve"===e[t.attributesKey]["xml:space"];return s||(s="fullTagEmptyElementFn"in t?t.fullTagEmptyElementFn(e.name,e):t.fullTagEmptyElement),s?(i.push(">"),e[t.elementsKey]&&e[t.elementsKey].length&&(i.push(A(e[t.elementsKey],t,n+1)),r=e,o=e.name),i.push(t.spaces&&function(e,t){var n;if(e.elements&&e.elements.length)for(n=0;n<e.elements.length;++n)switch(e.elements[n][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;default:return!0}return!1}(e,t)?"\n"+Array(n+1).join(t.spaces):""),i.push("</"+a+">")):i.push("/>"),i.join("")}(a,t,n);case"comment":return e+l+d(a[t.commentKey],t);case"doctype":return e+l+f(a[t.doctypeKey],t);case"cdata":return e+(t.indentCdata?l:"")+p(a[t.cdataKey],t);case"text":return e+(t.indentText?l:"")+h(a[t.textKey],t);case"instruction":var m={};return m[a[t.nameKey]]=a[t.attributesKey]?a:a[t.instructionKey],e+(t.indentInstruction?l:"")+u(m,t,n)}}),"")}function m(e,t,n){var r;for(r in e)if(e.hasOwnProperty(r))switch(r){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||n)return!0;break;case t.cdataKey:if(t.indentCdata||n)return!0;break;case t.instructionKey:if(t.indentInstruction||n)return!0;break;case t.doctypeKey:case t.commentKey:default:return!0}return!1}function g(e,t,n,i,a){r=e,o=t;var l="elementNameFn"in n?n.elementNameFn(t,e):t;if(null==e||""===e)return"fullTagEmptyElementFn"in n&&n.fullTagEmptyElementFn(t,e)||n.fullTagEmptyElement?"<"+l+"></"+l+">":"<"+l+"/>";var u=[];if(t){if(u.push("<"+l),"object"!=typeof e)return u.push(">"+h(e,n)+"</"+l+">"),u.join("");e[n.attributesKey]&&u.push(c(e[n.attributesKey],n,i));var d=m(e,n,!0)||e[n.attributesKey]&&"preserve"===e[n.attributesKey]["xml:space"];if(d||(d="fullTagEmptyElementFn"in n?n.fullTagEmptyElementFn(t,e):n.fullTagEmptyElement),!d)return u.push("/>"),u.join("");u.push(">")}return u.push(v(e,n,i+1,!1)),r=e,o=t,t&&u.push((a?s(n,i,!1):"")+"</"+l+">"),u.join("")}function v(e,t,n,r){var o,i,c,A=[];for(i in e)if(e.hasOwnProperty(i))for(c=a(e[i])?e[i]:[e[i]],o=0;o<c.length;++o){switch(i){case t.declarationKey:A.push(l(c[o],t,n));break;case t.instructionKey:A.push((t.indentInstruction?s(t,n,r):"")+u(c[o],t,n));break;case t.attributesKey:case t.parentKey:break;case t.textKey:A.push((t.indentText?s(t,n,r):"")+h(c[o],t));break;case t.cdataKey:A.push((t.indentCdata?s(t,n,r):"")+p(c[o],t));break;case t.doctypeKey:A.push(s(t,n,r)+f(c[o],t));break;case t.commentKey:A.push(s(t,n,r)+d(c[o],t));break;default:A.push(s(t,n,r)+g(c[o],i,t,n,m(c[o],t)))}r=r&&!A.length}return A.join("")}e.exports=function(e,t){t=function(e){var t=i.copyOptions(e);return i.ensureFlagExists("ignoreDeclaration",t),i.ensureFlagExists("ignoreInstruction",t),i.ensureFlagExists("ignoreAttributes",t),i.ensureFlagExists("ignoreText",t),i.ensureFlagExists("ignoreComment",t),i.ensureFlagExists("ignoreCdata",t),i.ensureFlagExists("ignoreDoctype",t),i.ensureFlagExists("compact",t),i.ensureFlagExists("indentText",t),i.ensureFlagExists("indentCdata",t),i.ensureFlagExists("indentAttributes",t),i.ensureFlagExists("indentInstruction",t),i.ensureFlagExists("fullTagEmptyElement",t),i.ensureFlagExists("noQuotesForNativeAttributes",t),i.ensureSpacesExists(t),"number"==typeof t.spaces&&(t.spaces=Array(t.spaces+1).join(" ")),i.ensureKeyExists("declaration",t),i.ensureKeyExists("instruction",t),i.ensureKeyExists("attributes",t),i.ensureKeyExists("text",t),i.ensureKeyExists("comment",t),i.ensureKeyExists("cdata",t),i.ensureKeyExists("doctype",t),i.ensureKeyExists("type",t),i.ensureKeyExists("name",t),i.ensureKeyExists("elements",t),i.checkFnExists("doctype",t),i.checkFnExists("instruction",t),i.checkFnExists("cdata",t),i.checkFnExists("comment",t),i.checkFnExists("text",t),i.checkFnExists("instructionName",t),i.checkFnExists("elementName",t),i.checkFnExists("attributeName",t),i.checkFnExists("attributeValue",t),i.checkFnExists("attributes",t),i.checkFnExists("fullTagEmptyElement",t),t}(t);var n=[];return r=e,o="_root_",t.compact?n.push(v(e,t,0,!0)):(e[t.declarationKey]&&n.push(l(e[t.declarationKey],t,0)),e[t.elementsKey]&&e[t.elementsKey].length&&n.push(A(e[t.elementsKey],t,0,!n.length))),n.join("")}},673:(e,t,n)=>{var r=n(501);e.exports=function(e,t){e instanceof Buffer&&(e=e.toString());var n=null;if("string"==typeof e)try{n=JSON.parse(e)}catch(e){throw new Error("The JSON structure is invalid")}else n=e;return r(n,t)}},740:(e,t,n)=>{var r=n(881).isArray;e.exports={copyOptions:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},ensureFlagExists:function(e,t){e in t&&"boolean"==typeof t[e]||(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||"number"!=typeof e.spaces&&"string"!=typeof e.spaces)&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){"alwaysArray"in e&&("boolean"==typeof e.alwaysArray||r(e.alwaysArray))||(e.alwaysArray=!1)},ensureKeyExists:function(e,t){e+"Key"in t&&"string"==typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}}},229:(e,t,n)=>{var r,o,i=n(99),a=n(740),s=n(881).isArray;function c(e){var t=Number(e);if(!isNaN(t))return t;var n=e.toLowerCase();return"true"===n||"false"!==n&&e}function l(e,t){var n;if(r.compact){if(!o[r[e+"Key"]]&&(s(r.alwaysArray)?-1!==r.alwaysArray.indexOf(r[e+"Key"]):r.alwaysArray)&&(o[r[e+"Key"]]=[]),o[r[e+"Key"]]&&!s(o[r[e+"Key"]])&&(o[r[e+"Key"]]=[o[r[e+"Key"]]]),e+"Fn"in r&&"string"==typeof t&&(t=r[e+"Fn"](t,o)),"instruction"===e&&("instructionFn"in r||"instructionNameFn"in r))for(n in t)if(t.hasOwnProperty(n))if("instructionFn"in r)t[n]=r.instructionFn(t[n],n,o);else{var i=t[n];delete t[n],t[r.instructionNameFn(n,i,o)]=i}s(o[r[e+"Key"]])?o[r[e+"Key"]].push(t):o[r[e+"Key"]]=t}else{o[r.elementsKey]||(o[r.elementsKey]=[]);var a={};if(a[r.typeKey]=e,"instruction"===e){for(n in t)if(t.hasOwnProperty(n))break;a[r.nameKey]="instructionNameFn"in r?r.instructionNameFn(n,t,o):n,r.instructionHasAttributes?(a[r.attributesKey]=t[n][r.attributesKey],"instructionFn"in r&&(a[r.attributesKey]=r.instructionFn(a[r.attributesKey],n,o))):("instructionFn"in r&&(t[n]=r.instructionFn(t[n],n,o)),a[r.instructionKey]=t[n])}else e+"Fn"in r&&(t=r[e+"Fn"](t,o)),a[r[e+"Key"]]=t;r.addParent&&(a[r.parentKey]=o),o[r.elementsKey].push(a)}}function u(e){var t;if("attributesFn"in r&&e&&(e=r.attributesFn(e,o)),(r.trim||"attributeValueFn"in r||"attributeNameFn"in r||r.nativeTypeAttributes)&&e)for(t in e)if(e.hasOwnProperty(t)&&(r.trim&&(e[t]=e[t].trim()),r.nativeTypeAttributes&&(e[t]=c(e[t])),"attributeValueFn"in r&&(e[t]=r.attributeValueFn(e[t],t,o)),"attributeNameFn"in r)){var n=e[t];delete e[t],e[r.attributeNameFn(t,e[t],o)]=n}return e}function d(e){var t={};if(e.body&&("xml"===e.name.toLowerCase()||r.instructionHasAttributes)){for(var n,i=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(n=i.exec(e.body));)t[n[1]]=n[2]||n[3]||n[4];t=u(t)}if("xml"===e.name.toLowerCase()){if(r.ignoreDeclaration)return;o[r.declarationKey]={},Object.keys(t).length&&(o[r.declarationKey][r.attributesKey]=t),r.addParent&&(o[r.declarationKey][r.parentKey]=o)}else{if(r.ignoreInstruction)return;r.trim&&(e.body=e.body.trim());var a={};r.instructionHasAttributes&&Object.keys(t).length?(a[e.name]={},a[e.name][r.attributesKey]=t):a[e.name]=e.body,l("instruction",a)}}function p(e,t){var n;if("object"==typeof e&&(t=e.attributes,e=e.name),t=u(t),"elementNameFn"in r&&(e=r.elementNameFn(e,o)),r.compact){var i;if(n={},!r.ignoreAttributes&&t&&Object.keys(t).length)for(i in n[r.attributesKey]={},t)t.hasOwnProperty(i)&&(n[r.attributesKey][i]=t[i]);!(e in o)&&(s(r.alwaysArray)?-1!==r.alwaysArray.indexOf(e):r.alwaysArray)&&(o[e]=[]),o[e]&&!s(o[e])&&(o[e]=[o[e]]),s(o[e])?o[e].push(n):o[e]=n}else o[r.elementsKey]||(o[r.elementsKey]=[]),(n={})[r.typeKey]="element",n[r.nameKey]=e,!r.ignoreAttributes&&t&&Object.keys(t).length&&(n[r.attributesKey]=t),r.alwaysChildren&&(n[r.elementsKey]=[]),o[r.elementsKey].push(n);n[r.parentKey]=o,o=n}function f(e){r.ignoreText||(e.trim()||r.captureSpacesBetweenElements)&&(r.trim&&(e=e.trim()),r.nativeType&&(e=c(e)),r.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),l("text",e))}function h(e){r.ignoreComment||(r.trim&&(e=e.trim()),l("comment",e))}function A(e){var t=o[r.parentKey];r.addParent||delete o[r.parentKey],o=t}function m(e){r.ignoreCdata||(r.trim&&(e=e.trim()),l("cdata",e))}function g(e){r.ignoreDoctype||(e=e.replace(/^ /,""),r.trim&&(e=e.trim()),l("doctype",e))}function v(e){e.note=e}e.exports=function(e,t){var n=i.parser(!0,{}),s={};if(o=s,r=function(e){return r=a.copyOptions(e),a.ensureFlagExists("ignoreDeclaration",r),a.ensureFlagExists("ignoreInstruction",r),a.ensureFlagExists("ignoreAttributes",r),a.ensureFlagExists("ignoreText",r),a.ensureFlagExists("ignoreComment",r),a.ensureFlagExists("ignoreCdata",r),a.ensureFlagExists("ignoreDoctype",r),a.ensureFlagExists("compact",r),a.ensureFlagExists("alwaysChildren",r),a.ensureFlagExists("addParent",r),a.ensureFlagExists("trim",r),a.ensureFlagExists("nativeType",r),a.ensureFlagExists("nativeTypeAttributes",r),a.ensureFlagExists("sanitize",r),a.ensureFlagExists("instructionHasAttributes",r),a.ensureFlagExists("captureSpacesBetweenElements",r),a.ensureAlwaysArrayExists(r),a.ensureKeyExists("declaration",r),a.ensureKeyExists("instruction",r),a.ensureKeyExists("attributes",r),a.ensureKeyExists("text",r),a.ensureKeyExists("comment",r),a.ensureKeyExists("cdata",r),a.ensureKeyExists("doctype",r),a.ensureKeyExists("type",r),a.ensureKeyExists("name",r),a.ensureKeyExists("elements",r),a.ensureKeyExists("parent",r),a.checkFnExists("doctype",r),a.checkFnExists("instruction",r),a.checkFnExists("cdata",r),a.checkFnExists("comment",r),a.checkFnExists("text",r),a.checkFnExists("instructionName",r),a.checkFnExists("elementName",r),a.checkFnExists("attributeName",r),a.checkFnExists("attributeValue",r),a.checkFnExists("attributes",r),r}(t),n.opt={strictEntities:!0},n.onopentag=p,n.ontext=f,n.oncomment=h,n.onclosetag=A,n.onerror=v,n.oncdata=m,n.ondoctype=g,n.onprocessinginstruction=d,n.write(e).close(),s[r.elementsKey]){var c=s[r.elementsKey];delete s[r.elementsKey],s[r.elementsKey]=c,delete s.text}return s}},388:(e,t,n)=>{var r=n(740),o=n(229);e.exports=function(e,t){var n,i,a;return n=function(e){var t=r.copyOptions(e);return r.ensureSpacesExists(t),t}(t),i=o(e,n),a="compact"in n&&n.compact?"_parent":"parent",("addParent"in n&&n.addParent?JSON.stringify(i,(function(e,t){return e===a?"_":t}),n.spaces):JSON.stringify(i,null,n.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},255:e=>{var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};e.exports=function(e){return e&&e.replace?e.replace(/([&"<>'])/g,(function(e,n){return t[n]})):e}},479:(e,t,n)=>{var r=n(155),o=n(255),i=n(830).Stream;function a(e,t,n){n=n||0;var r,i,s=(r=t,new Array(n||0).join(r||"")),c=e;if("object"==typeof e&&(c=e[i=Object.keys(e)[0]])&&c._elem)return c._elem.name=i,c._elem.icount=n,c._elem.indent=t,c._elem.indents=s,c._elem.interrupt=c,c._elem;var l,u=[],d=[];function p(e){Object.keys(e).forEach((function(t){u.push(function(e,t){return e+'="'+o(t)+'"'}(t,e[t]))}))}switch(typeof c){case"object":if(null===c)break;c._attr&&p(c._attr),c._cdata&&d.push(("<![CDATA["+c._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),c.forEach&&(l=!1,d.push(""),c.forEach((function(e){"object"==typeof e?"_attr"==Object.keys(e)[0]?p(e._attr):d.push(a(e,t,n+1)):(d.pop(),l=!0,d.push(o(e)))})),l||d.push(""));break;default:d.push(o(c))}return{name:i,interrupt:!1,attributes:u,content:d,icount:n,indents:s,indent:t}}function s(e,t,n){if("object"!=typeof t)return e(!1,t);var r=t.interrupt?1:t.content.length;function o(){for(;t.content.length;){var o=t.content.shift();if(void 0!==o){if(i(o))return;s(e,o)}}e(!1,(r>1?t.indents:"")+(t.name?"</"+t.name+">":"")+(t.indent&&!n?"\n":"")),n&&n()}function i(t){return!!t.interrupt&&(t.interrupt.append=e,t.interrupt.end=o,t.interrupt=!1,e(!0),!0)}if(e(!1,t.indents+(t.name?"<"+t.name:"")+(t.attributes.length?" "+t.attributes.join(" "):"")+(r?t.name?">":"":t.name?"/>":"")+(t.indent&&r>1?"\n":"")),!r)return e(!1,t.indent?"\n":"");i(t)||o()}e.exports=function(e,t){"object"!=typeof t&&(t={indent:t});var n,o,c=t.stream?new i:null,l="",u=!1,d=t.indent?!0===t.indent?"    ":t.indent:"",p=!0;function f(e){p?r.nextTick(e):e()}function h(e,t){if(void 0!==t&&(l+=t),e&&!u&&(c=c||new i,u=!0),e&&u){var n=l;f((function(){c.emit("data",n)})),l=""}}function A(e,t){s(h,a(e,d,d?1:0),t)}function m(){if(c){var e=l;f((function(){c.emit("data",e),c.emit("end"),c.readable=!1,c.emit("close")}))}}return f((function(){p=!1})),t.declaration&&(o={version:"1.0",encoding:(n=t.declaration).encoding||"UTF-8"},n.standalone&&(o.standalone=n.standalone),A({"?xml":{_attr:o}}),l=l.replace("/>","?>")),e&&e.forEach?e.forEach((function(t,n){var r;n+1===e.length&&(r=m),A(t,r)})):A(e,m),c?(c.readable=!0,c):l},e.exports.element=e.exports.Element=function(){return{_elem:a(Array.prototype.slice.call(arguments)),push:function(e){if(!this.append)throw new Error("not assigned to a parent!");var t=this,n=this._elem.indent;s(this.append,a(e,n,this._elem.icount+(n?1:0)),(function(){t.append(!0)}))},close:function(e){void 0!==e&&this.push(e),this.end&&this.end()}}}},862:()=>{},964:()=>{}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{AbstractNumbering:()=>sa,Alignment:()=>Y,AlignmentAttributes:()=>W,AlignmentType:()=>F,Attributes:()=>s,BaseEmphasisMark:()=>pe,BaseXmlComponent:()=>e,Body:()=>br,Bookmark:()=>Qn,BookmarkEnd:()=>Hn,BookmarkStart:()=>Pn,Border:()=>X,BorderElement:()=>q,BorderStyle:()=>z,Column:()=>wr,ColumnAttributes:()=>yr,ColumnBreak:()=>xn,Columns:()=>$n,ColumnsAttributes:()=>Jn,ConcreteHyperlink:()=>Rn,ConcreteNumbering:()=>ua,DeletedTextRun:()=>gs,DocGridAttributes:()=>er,Document:()=>Ya,DocumentAttributes:()=>xr,DocumentBackground:()=>Cr,DocumentBackgroundAttributes:()=>kr,DocumentDefaults:()=>Ka,DocumentGrid:()=>tr,DotEmphasisMark:()=>he,Drawing:()=>dn,DropCapType:()=>Ir,EMPTY_OBJECT:()=>t,EmphasisMark:()=>fe,EmphasisMarkType:()=>V,ExternalHyperlink:()=>Un,File:()=>Ya,FootNoteReferenceRunAttributes:()=>as,FootNotes:()=>Pi,Footer:()=>is,FooterWrapper:()=>Si,FootnoteReference:()=>ss,FootnoteReferenceRun:()=>cs,FrameAnchorType:()=>Dr,FrameProperties:()=>Or,FramePropertiesAttributes:()=>Sr,FrameWrap:()=>_r,GridSpan:()=>zo,Header:()=>os,HeaderFooterReference:()=>Xn,HeaderFooterReferenceType:()=>Xe,HeaderFooterType:()=>Je,HeaderWrapper:()=>Gi,HeadingLevel:()=>Ve,HeightRule:()=>ti,HorizontalPosition:()=>pt,HorizontalPositionAlign:()=>bs,HorizontalPositionRelativeFrom:()=>Ue,HpsMeasureElement:()=>L,HyperlinkType:()=>qe,IgnoreIfEmptyXmlComponent:()=>i,ImageRun:()=>pn,ImportDotx:()=>Ss,ImportedRootElementAttributes:()=>p,ImportedXmlComponent:()=>d,Indent:()=>ee,InitializableXmlComponent:()=>h,InsertedTextRun:()=>us,InternalHyperlink:()=>jn,LeaderType:()=>Ge,Level:()=>ra,LevelBase:()=>na,LevelForOverride:()=>oa,LevelFormat:()=>qi,LevelOverride:()=>pa,LevelSuffix:()=>Zi,LineNumberAttributes:()=>nr,LineNumberRestartFormat:()=>$e,LineNumberType:()=>rr,LineRuleType:()=>He,Math:()=>Rr,MathAccentCharacter:()=>Hr,MathAngledBrackets:()=>To,MathBase:()=>Vr,MathCurlyBrackets:()=>Bo,MathDegree:()=>uo,MathDenominator:()=>Fr,MathFraction:()=>Qr,MathFunction:()=>vo,MathFunctionName:()=>mo,MathFunctionProperties:()=>go,MathLimitLocation:()=>Gr,MathNArayProperties:()=>Xr,MathNumerator:()=>zr,MathPreSubSuperScript:()=>co,MathPreSubSuperScriptProperties:()=>so,MathRadical:()=>Ao,MathRadicalProperties:()=>ho,MathRoundBrackets:()=>Co,MathRun:()=>Ur,MathSquareBrackets:()=>Eo,MathSubScript:()=>oo,MathSubScriptElement:()=>Jr,MathSubScriptProperties:()=>ro,MathSubSuperScript:()=>ao,MathSubSuperScriptProperties:()=>io,MathSum:()=>eo,MathSuperScript:()=>no,MathSuperScriptElement:()=>$r,MathSuperScriptProperties:()=>to,Media:()=>Wi,NumberFormat:()=>ws,NumberProperties:()=>Dn,NumberValueElement:()=>j,Numbering:()=>Aa,OnOffElement:()=>N,OutlineLevel:()=>Vn,OverlapType:()=>Zo,Packer:()=>Ms,PageBorderDisplay:()=>et,PageBorderOffsetFrom:()=>tt,PageBorderZOrder:()=>nt,PageBorders:()=>ir,PageBreak:()=>wn,PageBreakBefore:()=>kn,PageMargin:()=>sr,PageMarginAttributes:()=>ar,PageNumber:()=>G,PageNumberSeparator:()=>rt,PageNumberType:()=>lr,PageNumberTypeAttributes:()=>cr,PageOrientation:()=>ot,PageReference:()=>Wn,PageSize:()=>dr,PageSizeAttributes:()=>ur,PageTextDirection:()=>fr,PageTextDirectionType:()=>it,Paragraph:()=>Lr,ParagraphProperties:()=>Nr,ParagraphPropertiesDefaults:()=>Ha,RelativeHorizontalPosition:()=>Jo,RelativeVerticalPosition:()=>$o,Run:()=>Me,RunFonts:()=>ye,RunProperties:()=>Ee,RunPropertiesDefaults:()=>Va,SectionProperties:()=>vr,SectionType:()=>at,SectionTypeAttributes:()=>hr,SequentialIdentifier:()=>An,Shading:()=>de,ShadingType:()=>H,SimpleField:()=>vn,SimpleMailMergeField:()=>bn,SimplePos:()=>ct,Spacing:()=>En,StringContainer:()=>U,StringValueElement:()=>R,Style:()=>Bn,StyleForCharacter:()=>Ta,StyleForParagraph:()=>Ba,StyleLevel:()=>rs,Styles:()=>Pa,SymbolRun:()=>Se,TDirection:()=>Vo,Tab:()=>mn,TabAttributes:()=>Mn,TabStop:()=>Tn,TabStopItem:()=>In,TabStopPosition:()=>We,TabStopType:()=>Ke,Table:()=>ui,TableAnchorType:()=>Xo,TableBorders:()=>qo,TableCell:()=>Go,TableCellBorders:()=>Uo,TableFloatOptionsAttributes:()=>ii,TableFloatProperties:()=>ai,TableLayout:()=>ci,TableLayoutType:()=>ei,TableOfContents:()=>ns,TableOverlap:()=>oi,TableProperties:()=>li,TableRow:()=>hi,TableRowHeight:()=>pi,TableRowHeightAttributes:()=>di,TableRowProperties:()=>fi,TableWidthElement:()=>Ro,TextDirection:()=>No,TextRun:()=>Ie,TextWrappingSide:()=>Qe,TextWrappingType:()=>ze,ThematicBreak:()=>J,Type:()=>Ar,Underline:()=>Ce,UnderlineType:()=>K,VerticalAlign:()=>Ze,VerticalAlignAttributes:()=>Yn,VerticalAlignElement:()=>qn,VerticalMerge:()=>Po,VerticalMergeType:()=>Oo,VerticalPosition:()=>ht,VerticalPositionAlign:()=>ys,VerticalPositionRelativeFrom:()=>Fe,WORKAROUND:()=>qa,WORKAROUND2:()=>Yi,WORKAROUND3:()=>f,WORKAROUND4:()=>lo,WidthType:()=>_o,WrapNone:()=>Vt,WrapSquare:()=>Gt,WrapTight:()=>Yt,WrapTopAndBottom:()=>Zt,XmlAttributeComponent:()=>a,XmlComponent:()=>o,convertInchesToTwip:()=>Le,convertMillimetersToTwip:()=>Ne,convertToXmlComponent:()=>l,dateTimeValue:()=>O,decimalNumber:()=>A,eighthPointMeasureValue:()=>_,hexColorValue:()=>C,hpsMeasureValue:()=>B,longHexNumber:()=>v,measurementOrPercentValue:()=>D,percentageValue:()=>I,pointMeasureValue:()=>S,positiveUniversalMeasureValue:()=>k,sectionMarginDefaults:()=>mr,sectionPageSizeDefaults:()=>gr,shortHexNumber:()=>b,signedHpsMeasureValue:()=>T,signedTwipsMeasureValue:()=>E,twipsMeasureValue:()=>M,uCharHexNumber:()=>y,uniqueId:()=>je,uniqueNumericId:()=>Re,universalMeasureValue:()=>w,unsignedDecimalNumber:()=>m});class e{constructor(e){this.rootKey=e}}const t=Object.seal({});class o extends e{constructor(e){super(e),this.root=new Array}prepForXml(n){var r;const o=this.root.map((t=>t instanceof e?t.prepForXml(n):t)).filter((e=>void 0!==e));return{[this.rootKey]:o.length?1===o.length&&(null===(r=o[0])||void 0===r?void 0:r._attr)?o[0]:o:t}}addChildElement(e){return this.root.push(e),this}}class i extends o{prepForXml(e){const t=super.prepForXml(e);if(t&&("object"!=typeof t[this.rootKey]||Object.keys(t[this.rootKey]).length))return t}}class a extends e{constructor(e){super("_attr"),this.root=e}prepForXml(e){const t={};return Object.keys(this.root).forEach((e=>{const n=this.root[e];if(void 0!==n){const r=this.xmlKeys&&this.xmlKeys[e]||e;t[r]=n}})),{_attr:t}}set(e){this.root=e}}class s extends a{constructor(){super(...arguments),this.xmlKeys={val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"}}}var c=n(888);function l(e){switch(e.type){case void 0:case"element":const t=new d(e.name,e.attributes),n=e.elements||[];for(const e of n){const n=l(e);void 0!==n&&t.push(n)}return t;case"text":return e.text;default:return}}class u extends a{}class d extends o{static fromXmlString(e){return l((0,c.xml2js)(e,{compact:!1}))}constructor(e,t){super(e),t&&this.root.push(new u(t))}push(e){this.root.push(e)}}class p extends o{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}const f="";class h extends o{constructor(e,t){super(e),t&&(this.root=t.root)}}function A(e){if(isNaN(e))throw new Error(`Invalid value '${e}' specified. Must be an integer.`);return Math.floor(e)}function m(e){const t=A(e);if(t<0)throw new Error(`Invalid value '${e}' specified. Must be a positive integer.`);return t}function g(e,t){const n=2*t;if(e.length!==n||isNaN(Number("0x"+e)))throw new Error(`Invalid hex value '${e}'. Expected ${n} digit hex value`);return e}function v(e){return g(e,4)}function b(e){return g(e,2)}function y(e){return g(e,1)}function w(e){const t=e.slice(-2);if(!x.includes(t))throw new Error(`Invalid unit '${t}' specified. Valid units are ${x.join(", ")}`);const n=e.substring(0,e.length-2);if(isNaN(Number(n)))throw new Error(`Invalid value '${n}' specified. Expected a valid number.`);return`${Number(n)}${t}`}const x=["mm","cm","in","pt","pc","pi"];function k(e){const t=w(e);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t}function C(e){return"auto"===e?e:g("#"===e.charAt(0)?e.substring(1):e,3)}function E(e){return"string"==typeof e?w(e):A(e)}function B(e){return"string"==typeof e?k(e):m(e)}function T(e){return"string"==typeof e?w(e):A(e)}function M(e){return"string"==typeof e?k(e):m(e)}function I(e){if("%"!==e.slice(-1))throw new Error(`Invalid value '${e}'. Expected percentage value (eg '55%')`);const t=e.substring(0,e.length-1);if(isNaN(Number(t)))throw new Error(`Invalid value '${t}' specified. Expected a valid number.`);return`${Number(t)}%`}function D(e){return"number"==typeof e?A(e):"%"===e.slice(-1)?I(e):w(e)}const _=m,S=m;function O(e){return e.toISOString()}class N extends o{constructor(e,t=!0){super(e),!0!==t&&this.root.push(new s({val:t}))}}class L extends o{constructor(e,t){super(e),this.root.push(new s({val:B(t)}))}}class R extends o{constructor(e,t){super(e),this.root.push(new s({val:t}))}}class j extends o{constructor(e,t){super(e),this.root.push(new s({val:t}))}}class U extends o{constructor(e,t){super(e),this.root.push(t)}}var F,z,Q,P,H,V,K,G;!function(e){e.START="start",e.END="end",e.CENTER="center",e.BOTH="both",e.JUSTIFIED="both",e.DISTRIBUTE="distribute",e.LEFT="left",e.RIGHT="right"}(F||(F={}));class W extends a{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class Y extends o{constructor(e){super("w:jc"),this.root.push(new W({val:e}))}}class q extends o{constructor(e,{color:t,size:n,space:r,style:o}){super(e),this.root.push(new Z({style:o,color:void 0===t?void 0:C(t),size:void 0===n?void 0:_(n),space:void 0===r?void 0:S(r)}))}}class Z extends a{constructor(){super(...arguments),this.xmlKeys={style:"w:val",color:"w:color",size:"w:sz",space:"w:space"}}}!function(e){e.SINGLE="single",e.DASH_DOT_STROKED="dashDotStroked",e.DASHED="dashed",e.DASH_SMALL_GAP="dashSmallGap",e.DOT_DASH="dotDash",e.DOT_DOT_DASH="dotDotDash",e.DOTTED="dotted",e.DOUBLE="double",e.DOUBLE_WAVE="doubleWave",e.INSET="inset",e.NIL="nil",e.NONE="none",e.OUTSET="outset",e.THICK="thick",e.THICK_THIN_LARGE_GAP="thickThinLargeGap",e.THICK_THIN_MEDIUM_GAP="thickThinMediumGap",e.THICK_THIN_SMALL_GAP="thickThinSmallGap",e.THIN_THICK_LARGE_GAP="thinThickLargeGap",e.THIN_THICK_MEDIUM_GAP="thinThickMediumGap",e.THIN_THICK_SMALL_GAP="thinThickSmallGap",e.THIN_THICK_THIN_LARGE_GAP="thinThickThinLargeGap",e.THIN_THICK_THIN_MEDIUM_GAP="thinThickThinMediumGap",e.THIN_THICK_THIN_SMALL_GAP="thinThickThinSmallGap",e.THREE_D_EMBOSS="threeDEmboss",e.THREE_D_ENGRAVE="threeDEngrave",e.TRIPLE="triple",e.WAVE="wave"}(z||(z={}));class X extends i{constructor(e){super("w:pBdr"),e.top&&this.root.push(new q("w:top",e.top)),e.bottom&&this.root.push(new q("w:bottom",e.bottom)),e.left&&this.root.push(new q("w:left",e.left)),e.right&&this.root.push(new q("w:right",e.right))}}class J extends o{constructor(){super("w:pBdr");const e=new q("w:bottom",{color:"auto",space:1,style:z.SINGLE,size:6});this.root.push(e)}}class $ extends a{constructor(){super(...arguments),this.xmlKeys={start:"w:start",end:"w:end",left:"w:left",right:"w:right",hanging:"w:hanging",firstLine:"w:firstLine"}}}class ee extends o{constructor({start:e,end:t,left:n,right:r,hanging:o,firstLine:i}){super("w:ind"),this.root.push(new $({start:void 0===e?void 0:E(e),end:void 0===t?void 0:E(t),left:void 0===n?void 0:E(n),right:void 0===r?void 0:E(r),hanging:void 0===o?void 0:M(o),firstLine:void 0===i?void 0:M(i)}))}}class te extends o{constructor(){super("w:br")}}!function(e){e.BEGIN="begin",e.END="end",e.SEPARATE="separate"}(Q||(Q={}));class ne extends a{constructor(){super(...arguments),this.xmlKeys={type:"w:fldCharType",dirty:"w:dirty"}}}class re extends o{constructor(e){super("w:fldChar"),this.root.push(new ne({type:Q.BEGIN,dirty:e}))}}class oe extends o{constructor(e){super("w:fldChar"),this.root.push(new ne({type:Q.SEPARATE,dirty:e}))}}class ie extends o{constructor(e){super("w:fldChar"),this.root.push(new ne({type:Q.END,dirty:e}))}}!function(e){e.DEFAULT="default",e.PRESERVE="preserve"}(P||(P={}));class ae extends a{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class se extends o{constructor(){super("w:instrText"),this.root.push(new ae({space:P.PRESERVE})),this.root.push("PAGE")}}class ce extends o{constructor(){super("w:instrText"),this.root.push(new ae({space:P.PRESERVE})),this.root.push("NUMPAGES")}}class le extends o{constructor(){super("w:instrText"),this.root.push(new ae({space:P.PRESERVE})),this.root.push("SECTIONPAGES")}}class ue extends a{constructor(){super(...arguments),this.xmlKeys={fill:"w:fill",color:"w:color",type:"w:val"}}}class de extends o{constructor({fill:e,color:t,type:n}){super("w:shd"),this.root.push(new ue({fill:void 0===e?void 0:C(e),color:void 0===t?void 0:C(t),type:n}))}}!function(e){e.CLEAR="clear",e.DIAGONAL_CROSS="diagCross",e.DIAGONAL_STRIPE="diagStripe",e.HORIZONTAL_CROSS="horzCross",e.HORIZONTAL_STRIPE="horzStripe",e.NIL="nil",e.PERCENT_5="pct5",e.PERCENT_10="pct10",e.PERCENT_12="pct12",e.PERCENT_15="pct15",e.PERCENT_20="pct20",e.PERCENT_25="pct25",e.PERCENT_30="pct30",e.PERCENT_35="pct35",e.PERCENT_37="pct37",e.PERCENT_40="pct40",e.PERCENT_45="pct45",e.PERCENT_50="pct50",e.PERCENT_55="pct55",e.PERCENT_60="pct60",e.PERCENT_62="pct62",e.PERCENT_65="pct65",e.PERCENT_70="pct70",e.PERCENT_75="pct75",e.PERCENT_80="pct80",e.PERCENT_85="pct85",e.PERCENT_87="pct87",e.PERCENT_90="pct90",e.PERCENT_95="pct95",e.REVERSE_DIAGONAL_STRIPE="reverseDiagStripe",e.SOLID="solid",e.THIN_DIAGONAL_CROSS="thinDiagCross",e.THIN_DIAGONAL_STRIPE="thinDiagStripe",e.THIN_HORIZONTAL_CROSS="thinHorzCross",e.THIN_REVERSE_DIAGONAL_STRIPE="thinReverseDiagStripe",e.THIN_VERTICAL_STRIPE="thinVertStripe",e.VERTICAL_STRIPE="vertStripe"}(H||(H={})),function(e){e.DOT="dot"}(V||(V={}));class pe extends o{constructor(e){super("w:em"),this.root.push(new s({val:e}))}}class fe extends pe{constructor(e=V.DOT){super(e)}}class he extends pe{constructor(){super(V.DOT)}}class Ae extends o{constructor(e){super("w:spacing"),this.root.push(new s({val:E(e)}))}}class me extends o{constructor(e){super("w:color"),this.root.push(new s({val:C(e)}))}}class ge extends o{constructor(e){super("w:highlight"),this.root.push(new s({val:e}))}}class ve extends o{constructor(e){super("w:highlightCs"),this.root.push(new s({val:e}))}}class be extends a{constructor(){super(...arguments),this.xmlKeys={ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"}}}class ye extends o{constructor(e,t){if(super("w:rFonts"),"string"==typeof e){const n=e;this.root.push(new be({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:t}))}else{const t=e;this.root.push(new be(t))}}}class we extends o{constructor(e){super("w:vertAlign"),this.root.push(new s({val:e}))}}class xe extends we{constructor(){super("superscript")}}class ke extends we{constructor(){super("subscript")}}!function(e){e.SINGLE="single",e.WORDS="words",e.DOUBLE="double",e.THICK="thick",e.DOTTED="dotted",e.DOTTEDHEAVY="dottedHeavy",e.DASH="dash",e.DASHEDHEAVY="dashedHeavy",e.DASHLONG="dashLong",e.DASHLONGHEAVY="dashLongHeavy",e.DOTDASH="dotDash",e.DASHDOTHEAVY="dashDotHeavy",e.DOTDOTDASH="dotDotDash",e.DASHDOTDOTHEAVY="dashDotDotHeavy",e.WAVE="wave",e.WAVYHEAVY="wavyHeavy",e.WAVYDOUBLE="wavyDouble"}(K||(K={}));class Ce extends o{constructor(e=K.SINGLE,t){super("w:u"),this.root.push(new s({val:e,color:void 0===t?void 0:C(t)}))}}class Ee extends i{constructor(e){var t,n;if(super("w:rPr"),!e)return;void 0!==e.bold&&this.push(new N("w:b",e.bold)),(void 0===e.boldComplexScript&&void 0!==e.bold||e.boldComplexScript)&&this.push(new N("w:bCs",null!==(t=e.boldComplexScript)&&void 0!==t?t:e.bold)),void 0!==e.italics&&this.push(new N("w:i",e.italics)),(void 0===e.italicsComplexScript&&void 0!==e.italics||e.italicsComplexScript)&&this.push(new N("w:iCs",null!==(n=e.italicsComplexScript)&&void 0!==n?n:e.italics)),e.underline&&this.push(new Ce(e.underline.type,e.underline.color)),e.emphasisMark&&this.push(new fe(e.emphasisMark.type)),e.color&&this.push(new me(e.color)),void 0!==e.size&&this.push(new L("w:sz",e.size));const r=void 0===e.sizeComplexScript||!0===e.sizeComplexScript?e.size:e.sizeComplexScript;r&&this.push(new L("w:szCs",r)),void 0!==e.rightToLeft&&this.push(new N("w:rtl",e.rightToLeft)),void 0!==e.smallCaps?this.push(new N("w:smallCaps",e.smallCaps)):void 0!==e.allCaps&&this.push(new N("w:caps",e.allCaps)),void 0!==e.strike&&this.push(new N("w:strike",e.strike)),void 0!==e.doubleStrike&&this.push(new N("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new ke),e.superScript&&this.push(new xe),e.style&&this.push(new R("w:rStyle",e.style)),e.font&&("string"==typeof e.font?this.push(new ye(e.font)):"name"in e.font?this.push(new ye(e.font.name,e.font.hint)):this.push(new ye(e.font))),e.highlight&&this.push(new ge(e.highlight));const o=void 0===e.highlightComplexScript||!0===e.highlightComplexScript?e.highlight:e.highlightComplexScript;o&&this.push(new ve(o)),e.characterSpacing&&this.push(new Ae(e.characterSpacing)),void 0!==e.emboss&&this.push(new N("w:emboss",e.emboss)),void 0!==e.imprint&&this.push(new N("w:imprint",e.imprint)),e.shading&&this.push(new de(e.shading))}push(e){this.root.push(e)}}class Be extends a{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class Te extends o{constructor(e){super("w:t"),this.root.push(new Be({space:P.PRESERVE})),this.root.push(e)}}!function(e){e.CURRENT="CURRENT",e.TOTAL_PAGES="TOTAL_PAGES",e.TOTAL_PAGES_IN_SECTION="TOTAL_PAGES_IN_SECTION"}(G||(G={}));class Me extends o{constructor(e){if(super("w:r"),this.properties=new Ee(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new te);if(e.children)for(const t of e.children)if("string"!=typeof t)this.root.push(t);else switch(t){case G.CURRENT:this.root.push(new re),this.root.push(new se),this.root.push(new oe),this.root.push(new ie);break;case G.TOTAL_PAGES:this.root.push(new re),this.root.push(new ce),this.root.push(new oe),this.root.push(new ie);break;case G.TOTAL_PAGES_IN_SECTION:this.root.push(new re),this.root.push(new le),this.root.push(new oe),this.root.push(new ie);break;default:this.root.push(new Te(t))}else e.text&&this.root.push(new Te(e.text))}}class Ie extends Me{constructor(e){if("string"==typeof e)return super({}),this.root.push(new Te(e)),this;super(e)}}class De extends a{constructor(){super(...arguments),this.xmlKeys={char:"w:char",symbolfont:"w:font"}}}class _e extends o{constructor(e="",t="Wingdings"){super("w:sym"),this.root.push(new De({char:e,symbolfont:t}))}}class Se extends Me{constructor(e){if("string"==typeof e)return super({}),void this.root.push(new _e(e));super(e),this.root.push(new _e(e.char,e.symbolfont))}}let Oe=0;const Ne=e=>Math.floor(e/25.4*72*20),Le=e=>Math.floor(72*e*20),Re=()=>++Oe,je=()=>((e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t})().toLowerCase();var Ue,Fe,ze,Qe,Pe,He,Ve,Ke,Ge,We,Ye,qe,Ze,Xe,Je,$e,et,tt,nt,rt,ot,it,at;!function(e){e.CHARACTER="character",e.COLUMN="column",e.INSIDE_MARGIN="insideMargin",e.LEFT_MARGIN="leftMargin",e.MARGIN="margin",e.OUTSIDE_MARGIN="outsideMargin",e.PAGE="page",e.RIGHT_MARGIN="rightMargin"}(Ue||(Ue={})),function(e){e.BOTTOM_MARGIN="bottomMargin",e.INSIDE_MARGIN="insideMargin",e.LINE="line",e.MARGIN="margin",e.OUTSIDE_MARGIN="outsideMargin",e.PAGE="page",e.PARAGRAPH="paragraph",e.TOP_MARGIN="topMargin"}(Fe||(Fe={}));class st extends a{constructor(){super(...arguments),this.xmlKeys={x:"x",y:"y"}}}class ct extends o{constructor(){super("wp:simplePos"),this.root.push(new st({x:0,y:0}))}}class lt extends o{constructor(e){super("wp:align"),this.root.push(e)}}class ut extends o{constructor(e){super("wp:posOffset"),this.root.push(e.toString())}}class dt extends a{constructor(){super(...arguments),this.xmlKeys={relativeFrom:"relativeFrom"}}}class pt extends o{constructor(e){if(super("wp:positionH"),this.root.push(new dt({relativeFrom:e.relative||Ue.PAGE})),e.align)this.root.push(new lt(e.align));else{if(void 0===e.offset)throw new Error("There is no configuration provided for floating position (Align or offset)");this.root.push(new ut(e.offset))}}}class ft extends a{constructor(){super(...arguments),this.xmlKeys={relativeFrom:"relativeFrom"}}}class ht extends o{constructor(e){if(super("wp:positionV"),this.root.push(new ft({relativeFrom:e.relative||Fe.PAGE})),e.align)this.root.push(new lt(e.align));else{if(void 0===e.offset)throw new Error("There is no configuration provided for floating position (Align or offset)");this.root.push(new ut(e.offset))}}}class At extends a{constructor(){super(...arguments),this.xmlKeys={uri:"uri"}}}class mt extends a{constructor(){super(...arguments),this.xmlKeys={embed:"r:embed",cstate:"cstate"}}}class gt extends o{constructor(e){super("a:blip"),this.root.push(new mt({embed:`rId{${e.fileName}}`,cstate:"none"}))}}class vt extends o{constructor(){super("a:srcRect")}}class bt extends o{constructor(){super("a:fillRect")}}class yt extends o{constructor(){super("a:stretch"),this.root.push(new bt)}}class wt extends o{constructor(e){super("pic:blipFill"),this.root.push(new gt(e)),this.root.push(new vt),this.root.push(new yt)}}class xt extends a{constructor(){super(...arguments),this.xmlKeys={noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"}}}class kt extends o{constructor(){super("a:picLocks"),this.root.push(new xt({noChangeAspect:1,noChangeArrowheads:1}))}}class Ct extends o{constructor(){super("pic:cNvPicPr"),this.root.push(new kt)}}class Et extends a{constructor(){super(...arguments),this.xmlKeys={id:"id",name:"name",descr:"descr"}}}class Bt extends o{constructor(){super("pic:cNvPr"),this.root.push(new Et({id:0,name:"",descr:""}))}}class Tt extends o{constructor(){super("pic:nvPicPr"),this.root.push(new Bt),this.root.push(new Ct)}}class Mt extends a{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns:pic"}}}class It extends a{constructor(){super(...arguments),this.xmlKeys={cx:"cx",cy:"cy"}}}class Dt extends o{constructor(e,t){super("a:ext"),this.attributes=new It({cx:e,cy:t}),this.root.push(this.attributes)}}class _t extends a{constructor(){super(...arguments),this.xmlKeys={x:"x",y:"y"}}}class St extends o{constructor(){super("a:off"),this.root.push(new _t({x:0,y:0}))}}class Ot extends a{constructor(){super(...arguments),this.xmlKeys={flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"}}}class Nt extends o{constructor(e){var t,n;super("a:xfrm"),this.root.push(new Ot({flipVertical:null===(t=e.flip)||void 0===t?void 0:t.vertical,flipHorizontal:null===(n=e.flip)||void 0===n?void 0:n.horizontal,rotation:e.rotation})),this.extents=new Dt(e.emus.x,e.emus.y),this.root.push(new St),this.root.push(this.extents)}}class Lt extends o{constructor(){super("a:avLst")}}class Rt extends a{constructor(){super(...arguments),this.xmlKeys={prst:"prst"}}}class jt extends o{constructor(){super("a:prstGeom"),this.root.push(new Rt({prst:"rect"})),this.root.push(new Lt)}}class Ut extends a{constructor(){super(...arguments),this.xmlKeys={bwMode:"bwMode"}}}class Ft extends o{constructor(e){super("pic:spPr"),this.root.push(new Ut({bwMode:"auto"})),this.form=new Nt(e),this.root.push(this.form),this.root.push(new jt)}}class zt extends o{constructor(e,t){super("pic:pic"),this.root.push(new Mt({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new Tt),this.root.push(new wt(e)),this.root.push(new Ft(t))}}class Qt extends o{constructor(e,t){super("a:graphicData"),this.root.push(new At({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new zt(e,t),this.root.push(this.pic)}}class Pt extends a{constructor(){super(...arguments),this.xmlKeys={a:"xmlns:a"}}}class Ht extends o{constructor(e,t){super("a:graphic"),this.root.push(new Pt({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new Qt(e,t),this.root.push(this.data)}}!function(e){e[e.NONE=0]="NONE",e[e.SQUARE=1]="SQUARE",e[e.TIGHT=2]="TIGHT",e[e.TOP_AND_BOTTOM=3]="TOP_AND_BOTTOM"}(ze||(ze={})),function(e){e.BOTH_SIDES="bothSides",e.LEFT="left",e.RIGHT="right",e.LARGEST="largest"}(Qe||(Qe={}));class Vt extends o{constructor(){super("wp:wrapNone")}}class Kt extends a{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"}}}class Gt extends o{constructor(e,t={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new Kt({wrapText:e.side||Qe.BOTH_SIDES,distT:t.top,distB:t.bottom,distL:t.left,distR:t.right}))}}class Wt extends a{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB"}}}class Yt extends o{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new Wt({distT:e.top,distB:e.bottom}))}}class qt extends a{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB"}}}class Zt extends o{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new qt({distT:e.top,distB:e.bottom}))}}class Xt extends a{constructor(){super(...arguments),this.xmlKeys={id:"id",name:"name",descr:"descr"}}}class Jt extends o{constructor(){super("wp:docPr"),this.root.push(new Xt({id:0,name:"",descr:""}))}}class $t extends a{constructor(){super(...arguments),this.xmlKeys={b:"b",l:"l",r:"r",t:"t"}}}class en extends o{constructor(){super("wp:effectExtent"),this.root.push(new $t({b:0,l:0,r:0,t:0}))}}class tn extends a{constructor(){super(...arguments),this.xmlKeys={cx:"cx",cy:"cy"}}}class nn extends o{constructor(e,t){super("wp:extent"),this.attributes=new tn({cx:e,cy:t}),this.root.push(this.attributes)}}class rn extends a{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"}}}class on extends o{constructor(){super("a:graphicFrameLocks"),this.root.push(new rn({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}class an extends o{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new on)}}class sn extends a{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"}}}class cn extends o{constructor(e,t,n){super("wp:anchor");const r=Object.assign({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},n.floating);if(this.root.push(new sn({distT:r.margins&&r.margins.top||0,distB:r.margins&&r.margins.bottom||0,distL:r.margins&&r.margins.left||0,distR:r.margins&&r.margins.right||0,simplePos:"0",allowOverlap:!0===r.allowOverlap?"1":"0",behindDoc:!0===r.behindDocument?"1":"0",locked:!0===r.lockAnchor?"1":"0",layoutInCell:!0===r.layoutInCell?"1":"0",relativeHeight:r.zIndex?r.zIndex:t.emus.y})),this.root.push(new ct),this.root.push(new pt(r.horizontalPosition)),this.root.push(new ht(r.verticalPosition)),this.root.push(new nn(t.emus.x,t.emus.y)),this.root.push(new en),void 0!==n.floating&&void 0!==n.floating.wrap)switch(n.floating.wrap.type){case ze.SQUARE:this.root.push(new Gt(n.floating.wrap,n.floating.margins));break;case ze.TIGHT:this.root.push(new Yt(n.floating.margins));break;case ze.TOP_AND_BOTTOM:this.root.push(new Zt(n.floating.margins));break;case ze.NONE:default:this.root.push(new Vt)}else this.root.push(new Vt);this.root.push(new Jt),this.root.push(new an),this.root.push(new Ht(e,t))}}class ln extends a{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR"}}}class un extends o{constructor(e,t){super("wp:inline"),this.root.push(new ln({distT:0,distB:0,distL:0,distR:0})),this.extent=new nn(t.emus.x,t.emus.y),this.graphic=new Ht(e,t),this.root.push(this.extent),this.root.push(new en),this.root.push(new Jt),this.root.push(new an),this.root.push(this.graphic)}}class dn extends o{constructor(e,t={}){super("w:drawing"),t.floating?this.root.push(new cn(e,e.transformation,t)):(this.inline=new un(e,e.transformation),this.root.push(this.inline))}}class pn extends Me{constructor(e){super({}),this.key=`${je()}.png`;const t="string"==typeof e.data?this.convertDataURIToBinary(e.data):e.data;this.imageData={stream:t,fileName:this.key,transformation:{pixels:{x:Math.round(e.transformation.width),y:Math.round(e.transformation.height)},emus:{x:Math.round(9525*e.transformation.width),y:Math.round(9525*e.transformation.height)},flip:e.transformation.flip,rotation:e.transformation.rotation?6e4*e.transformation.rotation:void 0}};const n=new dn(this.imageData,{floating:e.floating});this.root.push(n)}prepForXml(e){return e.file.Media.addImage(this.key,this.imageData),super.prepForXml(e)}convertDataURIToBinary(e){const t=";base64,",r=e.indexOf(t)+t.length;return"function"==typeof atob?new Uint8Array(atob(e.substring(r)).split("").map((e=>e.charCodeAt(0)))):new(n(764).Buffer)(e,"base64")}}class fn extends a{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class hn extends o{constructor(e){super("w:instrText"),this.root.push(new fn({space:P.PRESERVE})),this.root.push(`SEQ ${e}`)}}class An extends Me{constructor(e){super({}),this.root.push(new re(!0)),this.root.push(new hn(e)),this.root.push(new oe),this.root.push(new ie)}}class mn extends o{constructor(){super("w:tab")}}class gn extends a{constructor(){super(...arguments),this.xmlKeys={instr:"w:instr"}}}class vn extends o{constructor(e,t){super("w:fldSimple"),this.root.push(new gn({instr:e})),void 0!==t&&this.root.push(new Ie(t))}}class bn extends vn{constructor(e){super(` MERGEFIELD ${e} `,`«${e}»`)}}!function(e){e.COLUMN="column",e.PAGE="page"}(Pe||(Pe={}));class yn extends o{constructor(e){super("w:br"),this.root.push(new s({type:e}))}}class wn extends Me{constructor(){super({}),this.root.push(new yn(Pe.PAGE))}}class xn extends Me{constructor(){super({}),this.root.push(new yn(Pe.COLUMN))}}class kn extends o{constructor(){super("w:pageBreakBefore")}}!function(e){e.AT_LEAST="atLeast",e.EXACTLY="exactly",e.AUTO="auto"}(He||(He={}));class Cn extends a{constructor(){super(...arguments),this.xmlKeys={after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"}}}class En extends o{constructor(e){super("w:spacing"),this.root.push(new Cn(e))}}!function(e){e.HEADING_1="Heading1",e.HEADING_2="Heading2",e.HEADING_3="Heading3",e.HEADING_4="Heading4",e.HEADING_5="Heading5",e.HEADING_6="Heading6",e.TITLE="Title"}(Ve||(Ve={}));class Bn extends o{constructor(e){super("w:pStyle"),this.root.push(new s({val:e}))}}class Tn extends o{constructor(e,t,n){super("w:tabs"),this.root.push(new In(e,t,n))}}!function(e){e.LEFT="left",e.RIGHT="right",e.CENTER="center",e.BAR="bar",e.CLEAR="clear",e.DECIMAL="decimal",e.END="end",e.NUM="num",e.START="start"}(Ke||(Ke={})),function(e){e.DOT="dot",e.HYPHEN="hyphen",e.MIDDLE_DOT="middleDot",e.NONE="none",e.UNDERSCORE="underscore"}(Ge||(Ge={})),function(e){e[e.MAX=9026]="MAX"}(We||(We={}));class Mn extends a{constructor(){super(...arguments),this.xmlKeys={val:"w:val",pos:"w:pos",leader:"w:leader"}}}class In extends o{constructor(e,t,n){super("w:tab"),this.root.push(new Mn({val:e,pos:t,leader:n}))}}class Dn extends o{constructor(e,t){super("w:numPr"),this.root.push(new _n(t)),this.root.push(new Sn(e))}}class _n extends o{constructor(e){super("w:ilvl"),this.root.push(new s({val:e}))}}class Sn extends o{constructor(e){super("w:numId"),this.root.push(new s({val:"string"==typeof e?`{${e}}`:e}))}}class On extends a{constructor(){super(...arguments),this.xmlKeys={id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"}}}!function(e){e.EXTERNAL="External"}(Ye||(Ye={}));class Nn extends o{constructor(e,t,n,r){super("Relationship"),this.root.push(new On({id:e,type:t,target:n,targetMode:r}))}}class Ln extends a{constructor(){super(...arguments),this.xmlKeys={id:"r:id",history:"w:history",anchor:"w:anchor"}}}!function(e){e.INTERNAL="INTERNAL",e.EXTERNAL="EXTERNAL"}(qe||(qe={}));class Rn extends o{constructor(e,t,n){super("w:hyperlink"),this.linkId=t;const r={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},o=new Ln(r);this.root.push(o),e.forEach((e=>{this.root.push(e)}))}}class jn extends Rn{constructor(e){super(e.children,je(),e.anchor)}}class Un{constructor(e){this.options=e}}class Fn extends a{constructor(){super(...arguments),this.xmlKeys={id:"w:id",name:"w:name"}}}class zn extends a{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}class Qn{constructor(e){const t=Re();this.start=new Pn(e.id,t),this.children=e.children,this.end=new Hn(t)}}class Pn extends o{constructor(e,t){super("w:bookmarkStart");const n=new Fn({name:e,id:t});this.root.push(n)}}class Hn extends o{constructor(e){super("w:bookmarkEnd");const t=new zn({id:e});this.root.push(t)}}class Vn extends o{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new s({val:e}))}}class Kn extends a{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class Gn extends o{constructor(e,t={}){super("w:instrText"),this.root.push(new Kn({space:P.PRESERVE}));let n=`PAGEREF ${e}`;t.hyperlink&&(n=`${n} \\h`),t.useRelativePosition&&(n=`${n} \\p`),this.root.push(n)}}class Wn extends Me{constructor(e,t={}){super({children:[new re(!0),new Gn(e,t),new ie]})}}!function(e){e.BOTH="both",e.BOTTOM="bottom",e.CENTER="center",e.TOP="top"}(Ze||(Ze={}));class Yn extends a{constructor(){super(...arguments),this.xmlKeys={verticalAlign:"w:val"}}}class qn extends o{constructor(e){super("w:vAlign"),this.root.push(new Yn({verticalAlign:e}))}}!function(e){e.DEFAULT="default",e.FIRST="first",e.EVEN="even"}(Xe||(Xe={}));class Zn extends a{constructor(){super(...arguments),this.xmlKeys={type:"w:type",id:"r:id"}}}!function(e){e.HEADER="w:headerReference",e.FOOTER="w:footerReference"}(Je||(Je={}));class Xn extends o{constructor(e,t){super(e),this.root.push(new Zn({type:t.type||Xe.DEFAULT,id:`rId${t.id}`}))}}class Jn extends a{constructor(){super(...arguments),this.xmlKeys={space:"w:space",count:"w:num",separate:"w:sep",equalWidth:"w:equalWidth"}}}class $n extends o{constructor({space:e,count:t,separate:n,equalWidth:r,children:o}){super("w:cols"),this.root.push(new Jn({space:void 0===e?void 0:M(e),count:void 0===t?void 0:A(t),separate:n,equalWidth:r})),!r&&o&&o.forEach((e=>this.addChildElement(e)))}}class er extends a{constructor(){super(...arguments),this.xmlKeys={linePitch:"w:linePitch"}}}class tr extends o{constructor(e){super("w:docGrid"),this.root.push(new er({linePitch:A(e)}))}}!function(e){e.NEW_PAGE="newPage",e.NEW_SECTION="newSection",e.CONTINUOUS="continuous"}($e||($e={}));class nr extends a{constructor(){super(...arguments),this.xmlKeys={countBy:"w:countBy",start:"w:start",restart:"w:restart",distance:"w:distance"}}}class rr extends o{constructor({countBy:e,start:t,restart:n,distance:r}){super("w:lnNumType"),this.root.push(new nr({countBy:void 0===e?void 0:A(e),start:void 0===t?void 0:A(t),restart:n,distance:void 0===r?void 0:M(r)}))}}!function(e){e.ALL_PAGES="allPages",e.FIRST_PAGE="firstPage",e.NOT_FIRST_PAGE="notFirstPage"}(et||(et={})),function(e){e.PAGE="page",e.TEXT="text"}(tt||(tt={})),function(e){e.BACK="back",e.FRONT="front"}(nt||(nt={}));class or extends a{constructor(){super(...arguments),this.xmlKeys={display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"}}}class ir extends i{constructor(e){super("w:pgBorders"),e&&(e.pageBorders?this.root.push(new or({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new or({})),e.pageBorderTop&&this.root.push(new q("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new q("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new q("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new q("w:right",e.pageBorderRight)))}}class ar extends a{constructor(){super(...arguments),this.xmlKeys={top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter"}}}class sr extends o{constructor(e,t,n,r,o,i,a){super("w:pgMar"),this.root.push(new ar({top:E(e),right:M(t),bottom:E(n),left:M(r),header:M(o),footer:M(i),gutter:M(a)}))}}!function(e){e.HYPHEN="hyphen",e.PERIOD="period",e.COLON="colon",e.EM_DASH="emDash",e.EN_DASH="endash"}(rt||(rt={}));class cr extends a{constructor(){super(...arguments),this.xmlKeys={start:"w:start",formatType:"w:fmt",separator:"w:chapSep"}}}class lr extends o{constructor({start:e,formatType:t,separator:n}){super("w:pgNumType"),this.root.push(new cr({start:void 0===e?void 0:A(e),formatType:t,separator:n}))}}!function(e){e.PORTRAIT="portrait",e.LANDSCAPE="landscape"}(ot||(ot={}));class ur extends a{constructor(){super(...arguments),this.xmlKeys={width:"w:w",height:"w:h",orientation:"w:orient"}}}class dr extends o{constructor(e,t,n){super("w:pgSz");const r=n===ot.LANDSCAPE,o=M(e),i=M(t);this.root.push(new ur({width:r?i:o,height:r?o:i,orientation:n}))}}!function(e){e.LEFT_TO_RIGHT_TOP_TO_BOTTOM="lrTb",e.TOP_TO_BOTTOM_RIGHT_TO_LEFT="tbRl"}(it||(it={}));class pr extends a{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class fr extends o{constructor(e){super("w:textDirection"),this.root.push(new pr({val:e}))}}!function(e){e.NEXT_PAGE="nextPage",e.NEXT_COLUMN="nextColumn",e.CONTINUOUS="continuous",e.EVEN_PAGE="evenPage",e.ODD_PAGE="oddPage"}(at||(at={}));class hr extends a{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class Ar extends o{constructor(e){super("w:type"),this.root.push(new hr({val:e}))}}const mr={TOP:"1in",RIGHT:"1in",BOTTOM:"1in",LEFT:"1in",HEADER:708,FOOTER:708,GUTTER:0},gr={WIDTH:11906,HEIGHT:16838,ORIENTATION:ot.PORTRAIT};class vr extends o{constructor({page:{size:{width:e=gr.WIDTH,height:t=gr.HEIGHT,orientation:n=gr.ORIENTATION}={},margin:{top:r=mr.TOP,right:o=mr.RIGHT,bottom:i=mr.BOTTOM,left:a=mr.LEFT,header:s=mr.HEADER,footer:c=mr.FOOTER,gutter:l=mr.GUTTER}={},pageNumbers:u={},borders:d,textDirection:p}={},grid:{linePitch:f=360}={},headerWrapperGroup:h={},footerWrapperGroup:A={},lineNumbers:m,titlePage:g,verticalAlign:v,column:b,type:y}={}){super("w:sectPr"),this.addHeaderFooterGroup(Je.HEADER,h),this.addHeaderFooterGroup(Je.FOOTER,A),y&&this.root.push(new Ar(y)),this.root.push(new dr(e,t,n)),this.root.push(new sr(r,o,i,a,s,c,l)),d&&this.root.push(new ir(d)),m&&this.root.push(new rr(m)),this.root.push(new lr(u)),b&&this.root.push(new $n(b)),v&&this.root.push(new qn(v)),void 0!==g&&this.root.push(new N("w:titlePg",g)),p&&this.root.push(new fr(p)),this.root.push(new tr(f))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new Xn(e,{type:Xe.DEFAULT,id:t.default.View.ReferenceId})),t.first&&this.root.push(new Xn(e,{type:Xe.FIRST,id:t.first.View.ReferenceId})),t.even&&this.root.push(new Xn(e,{type:Xe.EVEN,id:t.even.View.ReferenceId}))}}class br extends o{constructor(){super("w:body"),this.sections=[]}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new vr(e))}prepForXml(e){return 1===this.sections.length&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new Lr({}),n=new Nr({});return n.push(e),t.addChildElement(n),t}}class yr extends a{constructor(){super(...arguments),this.xmlKeys={width:"w:w",space:"w:space"}}}class wr extends o{constructor({width:e,space:t}){super("w:col"),this.root.push(new yr({width:M(e),space:void 0===t?void 0:M(t)}))}}class xr extends a{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"}}}class kr extends a{constructor(){super(...arguments),this.xmlKeys={color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"}}}class Cr extends o{constructor(e){super("w:background"),this.root.push(new kr({color:void 0===e.color?void 0:C(e.color),themeColor:e.themeColor,themeShade:void 0===e.themeShade?void 0:y(e.themeShade),themeTint:void 0===e.themeTint?void 0:y(e.themeTint)}))}}class Er extends o{constructor(e){super("w:document"),this.root.push(new xr({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.body=new br,this.root.push(new Cr(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class Br extends a{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns"}}}class Tr extends o{constructor(){super("Relationships"),this.root.push(new Br({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}addRelationship(e){this.root.push(e)}createRelationship(e,t,n,r){const o=new Nn(`rId${e}`,t,n,r);return this.addRelationship(o),o}get RelationshipCount(){return this.root.length-1}}class Mr{constructor(e){this.document=new Er(e),this.relationships=new Tr}get View(){return this.document}get Relationships(){return this.relationships}}var Ir,Dr,_r;!function(e){e.NONE="none",e.DROP="drop",e.MARGIN="margin"}(Ir||(Ir={})),function(e){e.MARGIN="margin",e.PAGE="page",e.TEXT="text"}(Dr||(Dr={})),function(e){e.AROUND="around",e.AUTO="auto",e.NONE="none",e.NOT_BESIDE="notBeside",e.THROUGH="through",e.TIGHT="tight"}(_r||(_r={}));class Sr extends a{constructor(){super(...arguments),this.xmlKeys={anchorLock:"w:anchorLock",dropCap:"w:dropCap",width:"w:w",height:"w:h",x:"w:x",y:"w:y",anchorHorizontal:"w:hAnchor",anchorVertical:"w:vAnchor",spaceHorizontal:"w:hSpace",spaceVertical:"w:vSpace",rule:"w:hRule",alignmentX:"w:xAlign",alignmentY:"w:yAlign",lines:"w:lines",wrap:"w:wrap"}}}class Or extends o{constructor(e){var t,n;super("w:framePr"),this.root.push(new Sr({anchorLock:e.anchorLock,dropCap:e.dropCap,width:e.width,height:e.height,x:e.position.x,y:e.position.y,anchorHorizontal:e.anchor.horizontal,anchorVertical:e.anchor.vertical,spaceHorizontal:null===(t=e.space)||void 0===t?void 0:t.horizontal,spaceVertical:null===(n=e.space)||void 0===n?void 0:n.vertical,rule:e.rule,alignmentX:e.alignment.x,alignmentY:e.alignment.y,lines:e.lines,wrap:e.wrap}))}}class Nr extends i{constructor(e){var t,n;if(super("w:pPr"),this.numberingReferences=[],!e)return this;if(e.heading&&this.push(new Bn(e.heading)),e.bullet&&this.push(new Bn("ListParagraph")),e.numbering&&(e.style||e.heading||e.numbering.custom||this.push(new Bn("ListParagraph"))),e.style&&this.push(new Bn(e.style)),void 0!==e.keepNext&&this.push(new N("w:keepNext",e.keepNext)),void 0!==e.keepLines&&this.push(new N("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new kn),e.frame&&this.push(new Or(e.frame)),void 0!==e.widowControl&&this.push(new N("w:widowControl",e.widowControl)),e.bullet&&this.push(new Dn(1,e.bullet.level)),e.numbering&&(this.numberingReferences.push({reference:e.numbering.reference,instance:null!==(t=e.numbering.instance)&&void 0!==t?t:0}),this.push(new Dn(`${e.numbering.reference}-${null!==(n=e.numbering.instance)&&void 0!==n?n:0}`,e.numbering.level))),e.border&&this.push(new X(e.border)),e.thematicBreak&&this.push(new J),e.shading&&this.push(new de(e.shading)),e.rightTabStop&&this.push(new Tn(Ke.RIGHT,e.rightTabStop)),e.tabStops)for(const t of e.tabStops)this.push(new Tn(t.type,t.position,t.leader));e.leftTabStop&&this.push(new Tn(Ke.LEFT,e.leftTabStop)),void 0!==e.bidirectional&&this.push(new N("w:bidi",e.contextualSpacing)),e.spacing&&this.push(new En(e.spacing)),e.indent&&this.push(new ee(e.indent)),void 0!==e.contextualSpacing&&this.push(new N("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new Y(e.alignment)),void 0!==e.outlineLevel&&this.push(new Vn(e.outlineLevel)),void 0!==e.suppressLineNumbers&&this.push(new N("w:suppressLineNumbers",e.suppressLineNumbers))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof Mr)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class Lr extends o{constructor(e){if(super("w:p"),"string"==typeof e)return this.properties=new Nr({}),this.root.push(this.properties),this.root.push(new Ie(e)),this;if(this.properties=new Nr(e),this.root.push(this.properties),e.text&&this.root.push(new Ie(e.text)),e.children)for(const t of e.children)if(t instanceof Qn){this.root.push(t.start);for(const e of t.children)this.root.push(e);this.root.push(t.end)}else this.root.push(t)}prepForXml(e){for(const t of this.root)if(t instanceof Un){const n=this.root.indexOf(t),r=new Rn(t.options.children,je());e.viewWrapper.Relationships.createRelationship(r.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,Ye.EXTERNAL),this.root[n]=r}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}class Rr extends o{constructor(e){super("m:oMath");for(const t of e.children)this.root.push(t)}}class jr extends o{constructor(e){super("m:t"),this.root.push(e)}}class Ur extends o{constructor(e){super("m:r"),this.root.push(new jr(e))}}class Fr extends o{constructor(e){super("m:den");for(const t of e)this.root.push(t)}}class zr extends o{constructor(e){super("m:num");for(const t of e)this.root.push(t)}}class Qr extends o{constructor(e){super("m:f"),this.root.push(new zr(e.numerator)),this.root.push(new Fr(e.denominator))}}class Pr extends a{constructor(){super(...arguments),this.xmlKeys={accent:"m:val"}}}class Hr extends o{constructor(e){super("m:chr"),this.root.push(new Pr({accent:e}))}}class Vr extends o{constructor(e){super("m:e");for(const t of e)this.root.push(t)}}class Kr extends a{constructor(){super(...arguments),this.xmlKeys={value:"m:val"}}}class Gr extends o{constructor(){super("m:limLoc"),this.root.push(new Kr({value:"undOvr"}))}}class Wr extends a{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class Yr extends o{constructor(){super("m:subHide"),this.root.push(new Wr({hide:1}))}}class qr extends a{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class Zr extends o{constructor(){super("m:supHide"),this.root.push(new qr({hide:1}))}}class Xr extends o{constructor(e,t,n){super("m:naryPr"),this.root.push(new Hr(e)),this.root.push(new Gr),t||this.root.push(new Zr),n||this.root.push(new Yr)}}class Jr extends o{constructor(e){super("m:sub");for(const t of e)this.root.push(t)}}class $r extends o{constructor(e){super("m:sup");for(const t of e)this.root.push(t)}}class eo extends o{constructor(e){super("m:nary"),this.root.push(new Xr("∑",!!e.superScript,!!e.subScript)),e.subScript&&this.root.push(new Jr(e.subScript)),e.superScript&&this.root.push(new $r(e.superScript)),this.root.push(new Vr(e.children))}}class to extends o{constructor(){super("m:sSupPr")}}class no extends o{constructor(e){super("m:sSup"),this.root.push(new to),this.root.push(new Vr(e.children)),this.root.push(new $r(e.superScript))}}class ro extends o{constructor(){super("m:sSubPr")}}class oo extends o{constructor(e){super("m:sSub"),this.root.push(new ro),this.root.push(new Vr(e.children)),this.root.push(new Jr(e.subScript))}}class io extends o{constructor(){super("m:sSubSupPr")}}class ao extends o{constructor(e){super("m:sSubSup"),this.root.push(new io),this.root.push(new Vr(e.children)),this.root.push(new Jr(e.subScript)),this.root.push(new $r(e.superScript))}}class so extends o{constructor(){super("m:sPrePr")}}class co extends o{constructor(e){super("m:sPre"),this.root.push(new so),this.root.push(new Vr(e.children)),this.root.push(new Jr(e.subScript)),this.root.push(new $r(e.superScript))}}const lo="";class uo extends o{constructor(e){if(super("m:deg"),e)for(const t of e)this.root.push(t)}}class po extends a{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class fo extends o{constructor(){super("m:degHide"),this.root.push(new po({hide:1}))}}class ho extends o{constructor(e){super("m:radPr"),e||this.root.push(new fo)}}class Ao extends o{constructor(e){super("m:rad"),this.root.push(new ho(!!e.degree)),this.root.push(new uo(e.degree)),this.root.push(new Vr(e.children))}}class mo extends o{constructor(e){super("m:fName");for(const t of e)this.root.push(t)}}class go extends o{constructor(){super("m:funcPr")}}class vo extends o{constructor(e){super("m:func"),this.root.push(new go),this.root.push(new mo(e.name)),this.root.push(new Vr(e.children))}}class bo extends a{constructor(){super(...arguments),this.xmlKeys={character:"m:val"}}}class yo extends o{constructor(e){super("m:begChr"),this.root.push(new bo({character:e}))}}class wo extends a{constructor(){super(...arguments),this.xmlKeys={character:"m:val"}}}class xo extends o{constructor(e){super("m:endChr"),this.root.push(new wo({character:e}))}}class ko extends o{constructor(e){super("m:dPr"),e&&(this.root.push(new yo(e.beginningCharacter)),this.root.push(new xo(e.endingCharacter)))}}class Co extends o{constructor(e){super("m:d"),this.root.push(new ko),this.root.push(new Vr(e.children))}}class Eo extends o{constructor(e){super("m:d"),this.root.push(new ko({beginningCharacter:"[",endingCharacter:"]"})),this.root.push(new Vr(e.children))}}class Bo extends o{constructor(e){super("m:d"),this.root.push(new ko({beginningCharacter:"{",endingCharacter:"}"})),this.root.push(new Vr(e.children))}}class To extends o{constructor(e){super("m:d"),this.root.push(new ko({beginningCharacter:"〈",endingCharacter:"〉"})),this.root.push(new Vr(e.children))}}class Mo extends o{constructor(e){super("w:tblGrid");for(const t of e)this.root.push(new Do(t))}}class Io extends a{constructor(){super(...arguments),this.xmlKeys={w:"w:w"}}}class Do extends o{constructor(e){super("w:gridCol"),void 0!==e&&this.root.push(new Io({w:M(e)}))}}var _o,So,Oo,No;!function(e){e.AUTO="auto",e.DXA="dxa",e.NIL="nil",e.PERCENTAGE="pct"}(_o||(_o={}));class Lo extends a{constructor(){super(...arguments),this.xmlKeys={type:"w:type",size:"w:w"}}}class Ro extends o{constructor(e,{type:t=_o.AUTO,size:n}){super(e);let r=n;t===_o.PERCENTAGE&&"number"==typeof n&&(r=`${n}%`),this.root.push(new Lo({type:t,size:D(r)}))}}!function(e){e.TABLE="w:tblCellMar",e.TABLE_CELL="w:tcMar"}(So||(So={}));class jo extends i{constructor(e,{marginUnitType:t=_o.DXA,top:n,left:r,bottom:o,right:i}){super(e),void 0!==n&&this.root.push(new Ro("w:top",{type:t,size:n})),void 0!==r&&this.root.push(new Ro("w:left",{type:t,size:r})),void 0!==o&&this.root.push(new Ro("w:bottom",{type:t,size:o})),void 0!==i&&this.root.push(new Ro("w:right",{type:t,size:i}))}}class Uo extends i{constructor(e){super("w:tcBorders"),e.top&&this.root.push(new q("w:top",e.top)),e.start&&this.root.push(new q("w:start",e.start)),e.left&&this.root.push(new q("w:left",e.left)),e.bottom&&this.root.push(new q("w:bottom",e.bottom)),e.end&&this.root.push(new q("w:end",e.end)),e.right&&this.root.push(new q("w:right",e.right))}}class Fo extends a{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class zo extends o{constructor(e){super("w:gridSpan"),this.root.push(new Fo({val:A(e)}))}}!function(e){e.CONTINUE="continue",e.RESTART="restart"}(Oo||(Oo={}));class Qo extends a{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class Po extends o{constructor(e){super("w:vMerge"),this.root.push(new Qo({val:e}))}}!function(e){e.BOTTOM_TO_TOP_LEFT_TO_RIGHT="btLr",e.LEFT_TO_RIGHT_TOP_TO_BOTTOM="lrTb",e.TOP_TO_BOTTOM_RIGHT_TO_LEFT="tbRl"}(No||(No={}));class Ho extends a{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class Vo extends o{constructor(e){super("w:textDirection"),this.root.push(new Ho({val:e}))}}class Ko extends i{constructor(e){super("w:tcPr"),e.width&&this.root.push(new Ro("w:tcW",e.width)),e.columnSpan&&this.root.push(new zo(e.columnSpan)),e.verticalMerge?this.root.push(new Po(e.verticalMerge)):e.rowSpan&&e.rowSpan>1&&this.root.push(new Po(Oo.RESTART)),e.borders&&this.root.push(new Uo(e.borders)),e.shading&&this.root.push(new de(e.shading)),e.margins&&this.root.push(new jo(So.TABLE_CELL,e.margins)),e.textDirection&&this.root.push(new Vo(e.textDirection)),e.verticalAlign&&this.root.push(new qn(e.verticalAlign))}}class Go extends o{constructor(e){super("w:tc"),this.options=e,this.root.push(new Ko(e));for(const t of e.children)this.root.push(t)}prepForXml(e){return this.root[this.root.length-1]instanceof Lr||this.root.push(new Lr({})),super.prepForXml(e)}}const Wo={style:z.NONE,size:0,color:"auto"},Yo={style:z.SINGLE,size:4,color:"auto"};class qo extends o{constructor(e){super("w:tblBorders"),e.top?this.root.push(new q("w:top",e.top)):this.root.push(new q("w:top",Yo)),e.left?this.root.push(new q("w:left",e.left)):this.root.push(new q("w:left",Yo)),e.bottom?this.root.push(new q("w:bottom",e.bottom)):this.root.push(new q("w:bottom",Yo)),e.right?this.root.push(new q("w:right",e.right)):this.root.push(new q("w:right",Yo)),e.insideHorizontal?this.root.push(new q("w:insideH",e.insideHorizontal)):this.root.push(new q("w:insideH",Yo)),e.insideVertical?this.root.push(new q("w:insideV",e.insideVertical)):this.root.push(new q("w:insideV",Yo))}}var Zo,Xo,Jo,$o,ei,ti,ni;qo.NONE={top:Wo,bottom:Wo,left:Wo,right:Wo,insideHorizontal:Wo,insideVertical:Wo},function(e){e.NEVER="never",e.OVERLAP="overlap"}(Zo||(Zo={}));class ri extends a{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class oi extends o{constructor(e){super("w:tblOverlap"),this.root.push(new ri({val:e}))}}!function(e){e.MARGIN="margin",e.PAGE="page",e.TEXT="text"}(Xo||(Xo={})),function(e){e.CENTER="center",e.INSIDE="inside",e.LEFT="left",e.OUTSIDE="outside",e.RIGHT="right"}(Jo||(Jo={})),function(e){e.CENTER="center",e.INSIDE="inside",e.BOTTOM="bottom",e.OUTSIDE="outside",e.INLINE="inline",e.TOP="top"}($o||($o={}));class ii extends a{constructor(){super(...arguments),this.xmlKeys={horizontalAnchor:"w:horzAnchor",verticalAnchor:"w:vertAnchor",absoluteHorizontalPosition:"w:tblpX",relativeHorizontalPosition:"w:tblpXSpec",absoluteVerticalPosition:"w:tblpY",relativeVerticalPosition:"w:tblpYSpec",bottomFromText:"w:bottomFromText",topFromText:"w:topFromText",leftFromText:"w:leftFromText",rightFromText:"w:rightFromText"}}}class ai extends o{constructor(e){var{leftFromText:t,rightFromText:n,topFromText:r,bottomFromText:o,absoluteHorizontalPosition:i,absoluteVerticalPosition:a}=e,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["leftFromText","rightFromText","topFromText","bottomFromText","absoluteHorizontalPosition","absoluteVerticalPosition"]);super("w:tblpPr"),this.root.push(new ii(Object.assign({leftFromText:void 0===t?void 0:M(t),rightFromText:void 0===n?void 0:M(n),topFromText:void 0===r?void 0:M(r),bottomFromText:void 0===o?void 0:M(o),absoluteHorizontalPosition:void 0===i?void 0:E(i),absoluteVerticalPosition:void 0===a?void 0:E(a)},s))),s.overlap&&this.root.push(new oi(s.overlap))}}!function(e){e.AUTOFIT="autofit",e.FIXED="fixed"}(ei||(ei={}));class si extends a{constructor(){super(...arguments),this.xmlKeys={type:"w:type"}}}class ci extends o{constructor(e){super("w:tblLayout"),this.root.push(new si({type:e}))}}class li extends i{constructor(e){super("w:tblPr"),e.style&&this.root.push(new R("w:tblStyle",e.style)),e.float&&this.root.push(new ai(e.float)),void 0!==e.visuallyRightToLeft&&this.root.push(new N("w:bidiVisual",e.visuallyRightToLeft)),e.width&&this.root.push(new Ro("w:tblW",e.width)),e.alignment&&this.root.push(new Y(e.alignment)),e.indent&&this.root.push(new Ro("w:tblInd",e.indent)),e.borders&&this.root.push(new qo(e.borders)),e.shading&&this.root.push(new de(e.shading)),e.layout&&this.root.push(new ci(e.layout)),e.cellMargin&&this.root.push(new jo(So.TABLE,e.cellMargin))}}class ui extends o{constructor({rows:e,width:t,columnWidths:n=Array(Math.max(...e.map((e=>e.CellCount)))).fill(100),margins:r,indent:o,float:i,layout:a,style:s,borders:c,alignment:l,visuallyRightToLeft:u}){super("w:tbl"),this.root.push(new li({borders:null!=c?c:{},width:null!=t?t:{size:100},indent:o,float:i,layout:a,style:s,alignment:l,cellMargin:r,visuallyRightToLeft:u})),this.root.push(new Mo(n));for(const t of e)this.root.push(t);e.forEach(((t,n)=>{if(n===e.length-1)return;let r=0;t.cells.forEach((t=>{if(t.options.rowSpan&&t.options.rowSpan>1){const o=new Go({rowSpan:t.options.rowSpan-1,columnSpan:t.options.columnSpan,borders:t.options.borders,children:[],verticalMerge:Oo.CONTINUE});e[n+1].addCellToColumnIndex(o,r)}r+=t.options.columnSpan||1}))}))}}!function(e){e.AUTO="auto",e.ATLEAST="atLeast",e.EXACT="exact"}(ti||(ti={}));class di extends a{constructor(){super(...arguments),this.xmlKeys={value:"w:val",rule:"w:hRule"}}}class pi extends o{constructor(e,t){super("w:trHeight"),this.root.push(new di({value:M(e),rule:t}))}}class fi extends i{constructor(e){super("w:trPr"),void 0!==e.cantSplit&&this.root.push(new N("w:cantSplit",e.cantSplit)),void 0!==e.tableHeader&&this.root.push(new N("w:tblHeader",e.tableHeader)),e.height&&this.root.push(new pi(e.height.value,e.height.rule))}}class hi extends o{constructor(e){super("w:tr"),this.options=e,this.root.push(new fi(e));for(const t of e.children)this.root.push(t)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter((e=>e instanceof Go))}addCellToIndex(e,t){this.root.splice(t+1,0,e)}addCellToColumnIndex(e,t){const n=this.columnIndexToRootIndex(t,!0);this.addCellToIndex(e,n-1)}rootIndexToColumnIndex(e){if(e<1||e>=this.root.length)throw new Error("cell 'rootIndex' should between 1 to "+(this.root.length-1));let t=0;for(let n=1;n<e;n++)t+=this.root[n].options.columnSpan||1;return t}columnIndexToRootIndex(e,t=!1){if(e<0)throw new Error("cell 'columnIndex' should not less than zero");let n=0,r=1;for(;n<=e;){if(r>=this.root.length){if(t)return this.root.length;throw new Error("cell 'columnIndex' should not great than "+(n-1))}const e=this.root[r];r+=1,n+=e&&e.options.columnSpan||1}return r-1}}class Ai extends a{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns",vt:"xmlns:vt"}}}class mi extends o{constructor(){super("Properties"),this.root.push(new Ai({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class gi extends a{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns"}}}class vi extends a{constructor(){super(...arguments),this.xmlKeys={contentType:"ContentType",extension:"Extension"}}}class bi extends o{constructor(e,t){super("Default"),this.root.push(new vi({contentType:e,extension:t}))}}class yi extends a{constructor(){super(...arguments),this.xmlKeys={contentType:"ContentType",partName:"PartName"}}}class wi extends o{constructor(e,t){super("Override"),this.root.push(new yi({contentType:e,partName:t}))}}class xi extends o{constructor(){super("Types"),this.root.push(new gi({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new bi("image/png","png")),this.root.push(new bi("image/jpeg","jpeg")),this.root.push(new bi("image/jpeg","jpg")),this.root.push(new bi("image/bmp","bmp")),this.root.push(new bi("image/gif","gif")),this.root.push(new bi("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new bi("application/xml","xml")),this.root.push(new wi("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new wi("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new wi("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new wi("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new wi("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new wi("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new wi("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new wi("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml"))}addFooter(e){this.root.push(new wi("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new wi("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class ki extends o{constructor(e){super("cp:coreProperties"),this.root.push(new xr({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new U("dc:title",e.title)),e.subject&&this.root.push(new U("dc:subject",e.subject)),e.creator&&this.root.push(new U("dc:creator",e.creator)),e.keywords&&this.root.push(new U("cp:keywords",e.keywords)),e.description&&this.root.push(new U("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new U("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new U("cp:revision",String(e.revision))),this.root.push(new Ci("dcterms:created")),this.root.push(new Ci("dcterms:modified"))}}class Ci extends o{constructor(e){super(e),this.root.push(new xr({type:"dcterms:W3CDTF"})),this.root.push(O(new Date))}}class Ei extends a{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns",vt:"xmlns:vt"}}}class Bi extends a{constructor(){super(...arguments),this.xmlKeys={fmtid:"fmtid",pid:"pid",name:"name"}}}class Ti extends o{constructor(e,t){super("property"),this.root.push(new Bi({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new Mi(t.value))}}class Mi extends o{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class Ii extends o{constructor(e){super("Properties"),this.properties=[],this.root.push(new Ei({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach((e=>this.root.push(e))),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new Ti(this.nextId++,e))}}class Di extends a{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"}}}class _i extends h{constructor(e,t){super("w:ftr",t),this.refId=e,t||this.root.push(new Di({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}}class Si{constructor(e,t,n){this.media=e,this.footer=new _i(t,n),this.relationships=new Tr}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class Oi extends a{constructor(){super(...arguments),this.xmlKeys={type:"w:type",id:"w:id"}}}class Ni extends o{constructor(){super("w:footnoteRef")}}class Li extends Me{constructor(){super({style:"FootnoteReference"}),this.root.push(new Ni)}}!function(e){e.SEPERATOR="separator",e.CONTINUATION_SEPERATOR="continuationSeparator"}(ni||(ni={}));class Ri extends o{constructor(e){super("w:footnote"),this.root.push(new Oi({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const n=e.children[t];0===t&&n.addRunToFront(new Li),this.root.push(n)}}}class ji extends o{constructor(){super("w:continuationSeparator")}}class Ui extends Me{constructor(){super({}),this.root.push(new ji)}}class Fi extends o{constructor(){super("w:separator")}}class zi extends Me{constructor(){super({}),this.root.push(new Fi)}}class Qi extends a{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"}}}class Pi extends o{constructor(){super("w:footnotes"),this.root.push(new Qi({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Ri({id:-1,type:ni.SEPERATOR,children:[new Lr({spacing:{after:0,line:240,lineRule:He.AUTO},children:[new zi]})]});this.root.push(e);const t=new Ri({id:0,type:ni.CONTINUATION_SEPERATOR,children:[new Lr({spacing:{after:0,line:240,lineRule:He.AUTO},children:[new Ui]})]});this.root.push(t)}createFootNote(e,t){const n=new Ri({id:e,children:t});this.root.push(n)}}class Hi{constructor(){this.footnotess=new Pi,this.relationships=new Tr}get View(){return this.footnotess}get Relationships(){return this.relationships}}class Vi extends a{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"}}}class Ki extends h{constructor(e,t){super("w:hdr",t),this.refId=e,t||this.root.push(new Vi({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}}class Gi{constructor(e,t,n){this.media=e,this.header=new Ki(t,n),this.relationships=new Tr}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class Wi{constructor(){this.map=new Map}addMedia(e,t){const n=`${je()}.png`,r={stream:"string"==typeof e?this.convertDataURIToBinary(e):e,fileName:n,transformation:{pixels:{x:Math.round(t.width),y:Math.round(t.height)},emus:{x:Math.round(9525*t.width),y:Math.round(9525*t.height)},flip:t.flip,rotation:t.rotation?6e4*t.rotation:void 0}};return this.map.set(n,r),r}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}convertDataURIToBinary(e){const t=";base64,",r=e.indexOf(t)+t.length;return"function"==typeof atob?new Uint8Array(atob(e.substring(r)).split("").map((e=>e.charCodeAt(0)))):new(n(764).Buffer)(e,"base64")}}const Yi="";var qi,Zi;!function(e){e.BULLET="bullet",e.CARDINAL_TEXT="cardinalText",e.CHICAGO="chicago",e.DECIMAL="decimal",e.DECIMAL_ENCLOSED_CIRCLE="decimalEnclosedCircle",e.DECIMAL_ENCLOSED_FULLSTOP="decimalEnclosedFullstop",e.DECIMAL_ENCLOSED_PARENTHESES="decimalEnclosedParen",e.DECIMAL_ZERO="decimalZero",e.LOWER_LETTER="lowerLetter",e.LOWER_ROMAN="lowerRoman",e.NONE="none",e.ORDINAL_TEXT="ordinalText",e.UPPER_LETTER="upperLetter",e.UPPER_ROMAN="upperRoman"}(qi||(qi={}));class Xi extends a{constructor(){super(...arguments),this.xmlKeys={ilvl:"w:ilvl",tentative:"w15:tentative"}}}class Ji extends o{constructor(e){super("w:numFmt"),this.root.push(new s({val:e}))}}class $i extends o{constructor(e){super("w:lvlText"),this.root.push(new s({val:e}))}}class ea extends o{constructor(e){super("w:lvlJc"),this.root.push(new s({val:e}))}}!function(e){e.NOTHING="nothing",e.SPACE="space",e.TAB="tab"}(Zi||(Zi={}));class ta extends o{constructor(e){super("w:suff"),this.root.push(new s({val:e}))}}class na extends o{constructor({level:e,format:t,text:n,alignment:r=F.START,start:o=1,style:i,suffix:a}){super("w:lvl"),this.root.push(new j("w:start",A(o))),t&&this.root.push(new Ji(t)),a&&this.root.push(new ta(a)),n&&this.root.push(new $i(n)),this.root.push(new ea(r)),this.paragraphProperties=new Nr(i&&i.paragraph),this.runProperties=new Ee(i&&i.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),this.root.push(new Xi({ilvl:A(e),tentative:1}))}}class ra extends na{constructor(e){super(e)}}class oa extends na{}class ia extends o{constructor(e){super("w:multiLevelType"),this.root.push(new s({val:e}))}}class aa extends a{constructor(){super(...arguments),this.xmlKeys={abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"}}}class sa extends o{constructor(e,t){super("w:abstractNum"),this.root.push(new aa({abstractNumId:A(e),restartNumberingAfterBreak:0})),this.root.push(new ia("hybridMultilevel")),this.id=e;for(const e of t)this.root.push(new ra(e))}}class ca extends o{constructor(e){super("w:abstractNumId"),this.root.push(new s({val:e}))}}class la extends a{constructor(){super(...arguments),this.xmlKeys={numId:"w:numId"}}}class ua extends o{constructor(e){super("w:num"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new la({numId:A(e.numId)})),this.root.push(new ca(A(e.abstractNumId))),e.overrideLevel&&this.root.push(new pa(e.overrideLevel.num,e.overrideLevel.start))}}class da extends a{constructor(){super(...arguments),this.xmlKeys={ilvl:"w:ilvl"}}}class pa extends o{constructor(e,t){super("w:lvlOverride"),this.root.push(new da({ilvl:e})),void 0!==t&&this.root.push(new ha(t))}}class fa extends a{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class ha extends o{constructor(e){super("w:startOverride"),this.root.push(new fa({val:e}))}}class Aa extends o{constructor(e){super("w:numbering"),this.abstractNumberingMap=new Map,this.concreteNumberingMap=new Map,this.referenceConfigMap=new Map,this.root.push(new xr({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new sa(Re(),[{level:0,format:qi.BULLET,text:"●",alignment:F.LEFT,style:{paragraph:{indent:{left:Le(.5),hanging:Le(.25)}}}},{level:1,format:qi.BULLET,text:"○",alignment:F.LEFT,style:{paragraph:{indent:{left:Le(1),hanging:Le(.25)}}}},{level:2,format:qi.BULLET,text:"■",alignment:F.LEFT,style:{paragraph:{indent:{left:2160,hanging:Le(.25)}}}},{level:3,format:qi.BULLET,text:"●",alignment:F.LEFT,style:{paragraph:{indent:{left:2880,hanging:Le(.25)}}}},{level:4,format:qi.BULLET,text:"○",alignment:F.LEFT,style:{paragraph:{indent:{left:3600,hanging:Le(.25)}}}},{level:5,format:qi.BULLET,text:"■",alignment:F.LEFT,style:{paragraph:{indent:{left:4320,hanging:Le(.25)}}}},{level:6,format:qi.BULLET,text:"●",alignment:F.LEFT,style:{paragraph:{indent:{left:5040,hanging:Le(.25)}}}},{level:7,format:qi.BULLET,text:"●",alignment:F.LEFT,style:{paragraph:{indent:{left:5760,hanging:Le(.25)}}}},{level:8,format:qi.BULLET,text:"●",alignment:F.LEFT,style:{paragraph:{indent:{left:6480,hanging:Le(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new ua({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevel:{num:0,start:1}})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const t of e.config)this.abstractNumberingMap.set(t.reference,new sa(Re(),t.levels)),this.referenceConfigMap.set(t.reference,t.levels)}prepForXml(e){for(const e of this.abstractNumberingMap.values())this.root.push(e);for(const e of this.concreteNumberingMap.values())this.root.push(e);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const n=this.abstractNumberingMap.get(e);if(!n)return;const r=`${e}-${t}`;if(this.concreteNumberingMap.has(r))return;const o={numId:Re(),abstractNumId:n.id,reference:e,instance:t,overrideLevel:{num:0,start:1}},i=this.referenceConfigMap.get(e),a=i&&i[0].start;a&&Number.isInteger(a)&&(o.overrideLevel={num:0,start:a}),this.concreteNumberingMap.set(r,new ua(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class ma extends a{constructor(){super(...arguments),this.xmlKeys={version:"w:val",name:"w:name",uri:"w:uri"}}}class ga extends o{constructor(e){super("w:compatSetting"),this.root.push(new ma({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class va extends o{constructor(e){super("w:compat"),void 0!==e.doNotExpandShiftReturn&&this.root.push(new N("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.version&&this.root.push(new ga(e.version))}}class ba extends a{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"}}}class ya extends o{constructor(e){super("w:settings"),this.root.push(new ba({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new N("w:displayBackgroundShape",!0)),void 0!==e.trackRevisions&&this.root.push(new N("w:trackRevisions",e.trackRevisions)),void 0!==e.evenAndOddHeaders&&this.root.push(new N("w:evenAndOddHeaders",e.evenAndOddHeaders)),void 0!==e.updateFields&&this.root.push(new N("w:updateFields",e.updateFields)),this.root.push(new va({version:e.compatabilityModeVersion||15}))}}class wa extends a{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class xa extends o{constructor(e){super("w:name"),this.root.push(new wa({val:e}))}}class ka extends o{constructor(e){super("w:uiPriority"),this.root.push(new wa({val:A(e)}))}}class Ca extends a{constructor(){super(...arguments),this.xmlKeys={type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"}}}class Ea extends o{constructor(e,t){super("w:style"),this.root.push(new Ca(e)),t.name&&this.root.push(new xa(t.name)),t.basedOn&&this.root.push(new R("w:basedOn",t.basedOn)),t.next&&this.root.push(new R("w:next",t.next)),t.link&&this.root.push(new R("w:link",t.link)),void 0!==t.uiPriority&&this.root.push(new ka(t.uiPriority)),void 0!==t.semiHidden&&this.root.push(new N("w:semiHidden",t.semiHidden)),void 0!==t.unhideWhenUsed&&this.root.push(new N("w:unhideWhenUsed",t.unhideWhenUsed)),void 0!==t.quickFormat&&this.root.push(new N("w:qFormat",t.quickFormat))}}class Ba extends Ea{constructor(e){super({type:"paragraph",styleId:e.id},e),this.paragraphProperties=new Nr(e.paragraph),this.runProperties=new Ee(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Ta extends Ea{constructor(e){super({type:"character",styleId:e.id},Object.assign({uiPriority:99,unhideWhenUsed:!0},e)),this.runProperties=new Ee(e.run),this.root.push(this.runProperties)}}class Ma extends Ba{constructor(e){super(Object.assign(Object.assign({},e),{basedOn:"Normal",next:"Normal",quickFormat:!0}))}}class Ia extends Ma{constructor(e){super(Object.assign(Object.assign({},e),{id:"Title",name:"Title"}))}}class Da extends Ma{constructor(e){super(Object.assign(Object.assign({},e),{id:"Heading1",name:"Heading 1"}))}}class _a extends Ma{constructor(e){super(Object.assign(Object.assign({},e),{id:"Heading2",name:"Heading 2"}))}}class Sa extends Ma{constructor(e){super(Object.assign(Object.assign({},e),{id:"Heading3",name:"Heading 3"}))}}class Oa extends Ma{constructor(e){super(Object.assign(Object.assign({},e),{id:"Heading4",name:"Heading 4"}))}}class Na extends Ma{constructor(e){super(Object.assign(Object.assign({},e),{id:"Heading5",name:"Heading 5"}))}}class La extends Ma{constructor(e){super(Object.assign(Object.assign({},e),{id:"Heading6",name:"Heading 6"}))}}class Ra extends Ma{constructor(e){super(Object.assign(Object.assign({},e),{id:"Strong",name:"Strong"}))}}class ja extends Ba{constructor(e){super(Object.assign(Object.assign({},e),{id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0}))}}class Ua extends Ba{constructor(e){super(Object.assign(Object.assign({},e),{id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:He.AUTO}},run:{size:20}}))}}class Fa extends Ta{constructor(e){super(Object.assign(Object.assign({},e),{id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}}))}}class za extends Ta{constructor(e){super(Object.assign(Object.assign({},e),{id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}}))}}class Qa extends Ta{constructor(e){super(Object.assign(Object.assign({},e),{id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:K.SINGLE}}}))}}class Pa extends o{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new Ba(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new Ta(t))}}class Ha extends o{constructor(e){super("w:pPrDefault"),this.root.push(new Nr(e))}}class Va extends o{constructor(e){super("w:rPrDefault"),this.root.push(new Ee(e))}}class Ka extends o{constructor(e){super("w:docDefaults"),this.runPropertiesDefaults=new Va(e.run),this.paragraphPropertiesDefaults=new Ha(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class Ga{newInstance(e){const t=(0,c.xml2js)(e,{compact:!1});let n;for(const e of t.elements||[])"w:styles"===e.name&&(n=e);if(void 0===n)throw new Error("can not find styles element");const r=n.elements||[];return new Pa({initialStyles:new p(n.attributes),importedStyles:r.map((e=>l(e)))})}}class Wa{newInstance(e={}){var t;return{initialStyles:new xr({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new Ka(null!==(t=e.document)&&void 0!==t?t:{}),new Ia(Object.assign({run:{size:56}},e.title)),new Da(Object.assign({run:{color:"2E74B5",size:32}},e.heading1)),new _a(Object.assign({run:{color:"2E74B5",size:26}},e.heading2)),new Sa(Object.assign({run:{color:"1F4D78",size:24}},e.heading3)),new Oa(Object.assign({run:{color:"2E74B5",italics:!0}},e.heading4)),new Na(Object.assign({run:{color:"2E74B5"}},e.heading5)),new La(Object.assign({run:{color:"1F4D78"}},e.heading6)),new Ra(Object.assign({run:{bold:!0}},e.strong)),new ja(e.listParagraph||{}),new Qa(e.hyperlink||{}),new Fa(e.footnoteReference||{}),new Ua(e.footnoteText||{}),new za(e.footnoteTextChar||{})]}}}class Ya{constructor(e,t={}){var n,r,o,i,a,s;if(this.currentRelationshipId=1,this.headers=[],this.footers=[],this.coreProperties=new ki(Object.assign(Object.assign({},e),{creator:null!==(n=e.creator)&&void 0!==n?n:"Un-named",revision:null!==(r=e.revision)&&void 0!==r?r:1,lastModifiedBy:null!==(o=e.lastModifiedBy)&&void 0!==o?o:"Un-named"})),this.numbering=new Aa(e.numbering?e.numbering:{config:[]}),this.fileRelationships=new Tr,this.customProperties=new Ii(null!==(i=e.customProperties)&&void 0!==i?i:[]),this.appProperties=new mi,this.footnotesWrapper=new Hi,this.contentTypes=new xi,this.documentWrapper=new Mr({background:e.background||{}}),this.settings=new ya({compatabilityModeVersion:e.compatabilityModeVersion,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:null===(a=e.features)||void 0===a?void 0:a.trackRevisions,updateFields:null===(s=e.features)||void 0===s?void 0:s.updateFields}),this.media=t.template&&t.template.media?t.template.media:new Wi,t.template&&(this.currentRelationshipId=t.template.currentRelationshipId+1),t.template&&e.externalStyles)throw Error("can not use both template and external styles");if(t.template){const e=new Ga;this.styles=e.newInstance(t.template.styles)}else if(e.externalStyles){const t=new Ga;this.styles=t.newInstance(e.externalStyles)}else if(e.styles){const t=(new Wa).newInstance(e.styles.default);this.styles=new Pa(Object.assign(Object.assign({},t),e.styles))}else{const e=new Wa;this.styles=new Pa(e.newInstance())}if(this.addDefaultRelationships(),t.template&&t.template.headers)for(const e of t.template.headers)this.addHeaderToDocument(e.header,e.type);if(t.template&&t.template.footers)for(const e of t.template.footers)this.addFooterToDocument(e.footer,e.type);for(const t of e.sections)this.addSection(t);if(e.footnotes)for(const t in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(t),e.footnotes[t].children)}addSection({headers:e={},footers:t={},children:n,properties:r}){this.documentWrapper.View.Body.addSection(Object.assign(Object.assign({},r),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(const e of n)this.documentWrapper.View.add(e)}createHeader(e){const t=new Gi(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addHeaderToDocument(t),t}createFooter(e){const t=new Si(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=Xe.DEFAULT){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=Xe.DEFAULT){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map((e=>e.header))}get Footers(){return this.footers.map((e=>e.footer))}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}}const qa="";class Za extends a{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class Xa extends o{constructor(e={}){super("w:instrText"),this.properties=e,this.root.push(new Za({space:P.PRESERVE}));let t="TOC";this.properties.captionLabel&&(t=`${t} \\a "${this.properties.captionLabel}"`),this.properties.entriesFromBookmark&&(t=`${t} \\b "${this.properties.entriesFromBookmark}"`),this.properties.captionLabelIncludingNumbers&&(t=`${t} \\c "${this.properties.captionLabelIncludingNumbers}"`),this.properties.sequenceAndPageNumbersSeparator&&(t=`${t} \\d "${this.properties.sequenceAndPageNumbersSeparator}"`),this.properties.tcFieldIdentifier&&(t=`${t} \\f "${this.properties.tcFieldIdentifier}"`),this.properties.hyperlink&&(t=`${t} \\h`),this.properties.tcFieldLevelRange&&(t=`${t} \\l "${this.properties.tcFieldLevelRange}"`),this.properties.pageNumbersEntryLevelsRange&&(t=`${t} \\n "${this.properties.pageNumbersEntryLevelsRange}"`),this.properties.headingStyleRange&&(t=`${t} \\o "${this.properties.headingStyleRange}"`),this.properties.entryAndPageNumberSeparator&&(t=`${t} \\p "${this.properties.entryAndPageNumberSeparator}"`),this.properties.seqFieldIdentifierForPrefix&&(t=`${t} \\s "${this.properties.seqFieldIdentifierForPrefix}"`),this.properties.stylesWithLevels&&this.properties.stylesWithLevels.length&&(t=`${t} \\t "${this.properties.stylesWithLevels.map((e=>`${e.styleName},${e.level}`)).join(",")}"`),this.properties.useAppliedParagraphOutlineLevel&&(t=`${t} \\u`),this.properties.preserveTabInEntries&&(t=`${t} \\w`),this.properties.preserveNewLineInEntries&&(t=`${t} \\x`),this.properties.hideTabAndPageNumbersInWebView&&(t=`${t} \\z`),this.root.push(t)}}class Ja extends o{constructor(){super("w:sdtContent")}}class $a extends a{constructor(){super(...arguments),this.xmlKeys={alias:"w:val"}}}class es extends o{constructor(e){super("w:alias"),this.root.push(new $a({alias:e}))}}class ts extends o{constructor(e){super("w:sdtPr"),this.root.push(new es(e))}}class ns extends o{constructor(e="Table of Contents",t){super("w:sdt"),this.root.push(new ts(e));const n=new Ja,r=new Lr({children:[new Me({children:[new re(!0),new Xa(t),new oe]})]});n.addChildElement(r);const o=new Lr({children:[new Me({children:[new ie]})]});n.addChildElement(o),this.root.push(n)}}class rs{constructor(e,t){this.styleName=e,this.level=t}}class os{constructor(e={children:[]}){this.options=e}}class is{constructor(e={children:[]}){this.options=e}}class as extends a{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}class ss extends o{constructor(e){super("w:footnoteReference"),this.root.push(new as({id:e}))}}class cs extends Me{constructor(e){super({style:"FootnoteReference"}),this.root.push(new ss(e))}}class ls extends a{constructor(){super(...arguments),this.xmlKeys={id:"w:id",author:"w:author",date:"w:date"}}}class us extends o{constructor(e){super("w:ins"),this.root.push(new ls({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Ie(e))}}class ds extends a{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class ps extends o{constructor(){super("w:delInstrText"),this.root.push(new ds({space:P.PRESERVE})),this.root.push("PAGE")}}class fs extends o{constructor(){super("w:delInstrText"),this.root.push(new ds({space:P.PRESERVE})),this.root.push("NUMPAGES")}}class hs extends o{constructor(){super("w:delInstrText"),this.root.push(new ds({space:P.PRESERVE})),this.root.push("SECTIONPAGES")}}class As extends a{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class ms extends o{constructor(e){super("w:delText"),this.root.push(new As({space:P.PRESERVE})),this.root.push(e)}}class gs extends o{constructor(e){super("w:del"),this.root.push(new ls({id:e.id,author:e.author,date:e.date})),this.deletedTextRunWrapper=new vs(e),this.addChildElement(this.deletedTextRunWrapper)}}class vs extends o{constructor(e){if(super("w:r"),this.root.push(new Ee(e)),e.children)for(const t of e.children)if("string"!=typeof t)this.root.push(t);else switch(t){case G.CURRENT:this.root.push(new re),this.root.push(new ps),this.root.push(new oe),this.root.push(new ie);break;case G.TOTAL_PAGES:this.root.push(new re),this.root.push(new fs),this.root.push(new oe),this.root.push(new ie);break;case G.TOTAL_PAGES_IN_SECTION:this.root.push(new re),this.root.push(new hs),this.root.push(new oe),this.root.push(new ie);break;default:this.root.push(new ms(t))}else e.text&&this.root.push(new ms(e.text));if(e.break)for(let t=0;t<e.break;t++)this.root.splice(1,0,new te)}}var bs,ys,ws;!function(e){e.CENTER="center",e.INSIDE="inside",e.LEFT="left",e.OUTSIDE="outside",e.RIGHT="right"}(bs||(bs={})),function(e){e.BOTTOM="bottom",e.CENTER="center",e.INSIDE="inside",e.OUTSIDE="outside",e.TOP="top"}(ys||(ys={})),function(e){e.DECIMAL="decimal",e.UPPER_ROMAN="upperRoman",e.LOWER_ROMAN="lowerRoman",e.UPPER_LETTER="upperLetter",e.LOWER_LETTER="lowerLetter",e.ORDINAL="ordinal",e.CARDINAL_TEXT="cardinalText",e.ORDINAL_TEXT="ordinalText",e.HEX="hex",e.CHICAGO="chicago",e.IDEOGRAPH_DIGITAL="ideographDigital",e.JAPANESE_COUNTING="japaneseCounting",e.AIUEO="aiueo",e.IROHA="iroha",e.DECIMAL_FULL_WIDTH="decimalFullWidth",e.DECIMAL_HALF_WIDTH="decimalHalfWidth",e.JAPANESE_LEGAL="japaneseLegal",e.JAPANESE_DIGITAL_TEN_THOUSAND="japaneseDigitalTenThousand",e.DECIMAL_ENCLOSED_CIRCLE="decimalEnclosedCircle",e.DECIMAL_FULL_WIDTH_2="decimalFullWidth2",e.AIUEO_FULL_WIDTH="aiueoFullWidth",e.IROHA_FULL_WIDTH="irohaFullWidth",e.DECIMAL_ZERO="decimalZero",e.BULLET="bullet",e.GANADA="ganada",e.CHOSUNG="chosung",e.DECIMAL_ENCLOSED_FULL_STOP="decimalEnclosedFullstop",e.DECIMAL_ENCLOSED_PAREN="decimalEnclosedParen",e.DECIMAL_ENCLOSED_CIRCLE_CHINESE="decimalEnclosedCircleChinese",e.IDEOGRAPH_ENCLOSED_CIRCLE="ideographEnclosedCircle",e.IDEOGRAPH_TRADITIONAL="ideographTraditional",e.IDEOGRAPH_ZODIAC="ideographZodiac",e.IDEOGRAPH_ZODIAC_TRADITIONAL="ideographZodiacTraditional",e.TAIWANESE_COUNTING="taiwaneseCounting",e.IDEOGRAPH_LEGAL_TRADITIONAL="ideographLegalTraditional",e.TAIWANESE_COUNTING_THOUSAND="taiwaneseCountingThousand",e.TAIWANESE_DIGITAL="taiwaneseDigital",e.CHINESE_COUNTING="chineseCounting",e.CHINESE_LEGAL_SIMPLIFIED="chineseLegalSimplified",e.CHINESE_COUNTING_TEN_THOUSAND="chineseCountingThousand",e.KOREAN_DIGITAL="koreanDigital",e.KOREAN_COUNTING="koreanCounting",e.KOREAN_LEGAL="koreanLegal",e.KOREAN_DIGITAL_2="koreanDigital2",e.VIETNAMESE_COUNTING="vietnameseCounting",e.RUSSIAN_LOWER="russianLower",e.RUSSIAN_UPPER="russianUpper",e.NONE="none",e.NUMBER_IN_DASH="numberInDash",e.HEBREW_1="hebrew1",e.HEBREW_2="hebrew2",e.ARABIC_ALPHA="arabicAlpha",e.ARABIC_ABJAD="arabicAbjad",e.HINDI_VOWELS="hindiVowels",e.HINDI_CONSONANTS="hindiConsonants",e.HINDI_NUMBERS="hindiNumbers",e.HINDI_COUNTING="hindiCounting",e.THAI_LETTERS="thaiLetters",e.THAI_NUMBERS="thaiNumbers",e.THAI_COUNTING="thaiCounting",e.BAHT_TEXT="bahtText",e.DOLLAR_TEXT="dollarText"}(ws||(ws={}));var xs=n(733),ks=n(479);class Cs{format(e,t={}){const n=e.prepForXml(t);if(n)return n;throw Error("XMLComponent did not format correctly")}}class Es{replace(e,t,n){let r=e;return t.forEach(((e,t)=>{r=r.replace(new RegExp(`{${e.fileName}}`,"g"),(n+t).toString())})),r}getMediaData(e,t){return t.Array.filter((t=>e.search(`{${t.fileName}}`)>0))}}class Bs{replace(e,t){let n=e;for(const e of t)n=n.replace(new RegExp(`{${e.reference}-${e.instance}}`,"g"),e.numId.toString());return n}}var Ts=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};class Ms{static toBuffer(e,t){return Ts(this,void 0,void 0,(function*(){const n=this.compiler.compile(e,t);return yield n.generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}))}static toBase64String(e,t){return Ts(this,void 0,void 0,(function*(){const n=this.compiler.compile(e,t);return yield n.generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}))}static toBlob(e,t){return Ts(this,void 0,void 0,(function*(){const n=this.compiler.compile(e,t);return yield n.generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}))}}Ms.compiler=new class{constructor(){this.formatter=new Cs,this.imageReplacer=new Es,this.numberingReplacer=new Bs}compile(e,t){const n=new xs,r=this.xmlifyFile(e,t);for(const e in r){if(!r[e])continue;const t=r[e];if(Array.isArray(t))for(const e of t)n.file(e.path,e.data);else n.file(t.path,t.data)}for(const t of e.Media.Array){const e=t.stream;n.file(`word/media/${t.fileName}`,e)}return n}xmlifyFile(e,t){const n=e.Document.Relationships.RelationshipCount+1,r=ks(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(r,e.Media);return{Relationships:{data:(()=>(o.forEach(((t,r)=>{e.Document.Relationships.createRelationship(n+r,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${t.fileName}`)})),ks(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e}),{indent:t,declaration:{encoding:"UTF-8"}})))(),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const t=this.imageReplacer.replace(r,o,n);return this.numberingReplacer.replace(t,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const n=ks(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(n,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:ks(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:ks(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:ks(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map(((n,r)=>{const o=ks(this.formatter.format(n.View,{viewWrapper:n,file:e}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(o,e.Media).forEach(((e,t)=>{n.Relationships.createRelationship(t,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${e.fileName}`)})),{data:ks(this.formatter.format(n.Relationships,{viewWrapper:n,file:e}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${r+1}.xml.rels`}})),FooterRelationships:e.Footers.map(((n,r)=>{const o=ks(this.formatter.format(n.View,{viewWrapper:n,file:e}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(o,e.Media).forEach(((e,t)=>{n.Relationships.createRelationship(t,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${e.fileName}`)})),{data:ks(this.formatter.format(n.Relationships,{viewWrapper:n,file:e}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${r+1}.xml.rels`}})),Headers:e.Headers.map(((n,r)=>{const o=ks(this.formatter.format(n.View,{viewWrapper:n,file:e}),{indent:t,declaration:{encoding:"UTF-8"}}),i=this.imageReplacer.getMediaData(o,e.Media);return{data:this.imageReplacer.replace(o,i,0),path:`word/header${r+1}.xml`}})),Footers:e.Footers.map(((n,r)=>{const o=ks(this.formatter.format(n.View,{viewWrapper:n,file:e}),{indent:t,declaration:{encoding:"UTF-8"}}),i=this.imageReplacer.getMediaData(o,e.Media);return{data:this.imageReplacer.replace(o,i,0),path:`word/footer${r+1}.xml`}})),ContentTypes:{data:ks(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:ks(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:ks(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:ks(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:ks(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:ks(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"}}}};var Is=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const Ds={"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header":"header","http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer":"footer","http://schemas.openxmlformats.org/officeDocument/2006/relationships/image":"image","http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink":"hyperlink"};var _s;!function(e){e.HEADER="header",e.FOOTER="footer",e.IMAGE="image",e.HYPERLINK="hyperlink"}(_s||(_s={}));class Ss{extract(e){return Is(this,void 0,void 0,(function*(){const t=yield xs.loadAsync(e),n=yield t.files["word/document.xml"].async("text"),r=yield t.files["word/_rels/document.xml.rels"].async("text"),o=this.extractDocumentRefs(n),i=this.findReferenceFiles(r),a=new Wi;return{headers:yield this.createHeaders(t,o,i,a,0),footers:yield this.createFooters(t,o,i,a,o.headers.length),currentRelationshipId:o.footers.length+o.headers.length,styles:yield t.files["word/styles.xml"].async("text"),titlePageIsDefined:this.checkIfTitlePageIsDefined(n),media:a}}))}createFooters(e,t,n,r,o){return Is(this,void 0,void 0,(function*(){const i=t.footers.map(((t,i)=>Is(this,void 0,void 0,(function*(){const a=n.find((e=>e.id===t.id));if(null===a||!a)throw new Error(`Can not find target file for id ${t.id}`);const s=yield e.files[`word/${a.target}`].async("text"),u=(0,c.xml2js)(s,{compact:!1,captureSpacesBetweenElements:!0});if(!u.elements)return;const d=l(u.elements.reduce(((e,t)=>"w:ftr"===t.name?t:e))),p=new Si(r,o+i,d);return yield this.addRelationshipToWrapper(a,e,p,r),{type:t.type,footer:p}})))).filter((e=>!!e));return Promise.all(i)}))}createHeaders(e,t,n,r,o){return Is(this,void 0,void 0,(function*(){const i=t.headers.map(((t,i)=>Is(this,void 0,void 0,(function*(){const a=n.find((e=>e.id===t.id));if(null===a||!a)throw new Error(`Can not find target file for id ${t.id}`);const s=yield e.files[`word/${a.target}`].async("text"),u=(0,c.xml2js)(s,{compact:!1,captureSpacesBetweenElements:!0});if(!u.elements)return;const d=l(u.elements.reduce(((e,t)=>"w:hdr"===t.name?t:e))),p=new Gi(r,o+i,d);return yield this.addRelationshipToWrapper(a,e,p,r),{type:t.type,header:p}})))).filter((e=>!!e));return Promise.all(i)}))}addRelationshipToWrapper(e,t,n,r){return Is(this,void 0,void 0,(function*(){const o=t.files[`word/_rels/${e.target}.rels`];if(!o)return;const i=yield o.async("text"),a=this.findReferenceFiles(i).filter((e=>e.type===_s.IMAGE)),s=this.findReferenceFiles(i).filter((e=>e.type===_s.HYPERLINK));for(const e of a){const o=yield t.files[`word/${e.target}`].async("nodebuffer"),i=r.addMedia(o,{width:100,height:100});n.Relationships.createRelationship(e.id,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${i.fileName}`)}for(const e of s)n.Relationships.createRelationship(e.id,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",e.target,Ye.EXTERNAL)}))}findReferenceFiles(e){const t=(0,c.xml2js)(e,{compact:!0});return(Array.isArray(t.Relationships.Relationship)?t.Relationships.Relationship:[t.Relationships.Relationship]).map((e=>{if(void 0===e._attributes)throw Error("relationship element has no attributes");return{id:this.parseRefId(e._attributes.Id),type:Ds[e._attributes.Type],target:e._attributes.Target}})).filter((e=>null!==e.type))}extractDocumentRefs(e){const t=(0,c.xml2js)(e,{compact:!0})["w:document"]["w:body"]["w:sectPr"],n=t["w:headerReference"];let r;r=void 0===n?[]:Array.isArray(n)?n:[n];const o=r.map((e=>{if(void 0===e._attributes)throw Error("header reference element has no attributes");return{type:e._attributes["w:type"],id:this.parseRefId(e._attributes["r:id"])}})),i=t["w:footerReference"];let a;return a=void 0===i?[]:Array.isArray(i)?i:[i],{headers:o,footers:a.map((e=>{if(void 0===e._attributes)throw Error("footer reference element has no attributes");return{type:e._attributes["w:type"],id:this.parseRefId(e._attributes["r:id"])}}))}}checkIfTitlePageIsDefined(e){return void 0!==(0,c.xml2js)(e,{compact:!0})["w:document"]["w:body"]["w:sectPr"]["w:titlePg"]}parseRefId(e){const t=/^rId(\d+)$/.exec(e);if(null===t)throw new Error("Invalid ref id");return parseInt(t[1],10)}}})(),r})()},3593:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detector=void 0;const r=n(9375),o=Object.keys(r.typeHandlers),i={56:"psd",66:"bmp",68:"dds",71:"gif",73:"tiff",77:"tiff",82:"webp",105:"icns",137:"png",255:"jpg"};t.detector=function(e){const t=e[0];if(t in i){const n=i[t];if(n&&r.typeHandlers[n].validate(e))return n}return o.find((t=>r.typeHandlers[t].validate(e)))}},9137:function(e,t,n){"use strict";var r=n(4155),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.types=t.setConcurrency=t.disableTypes=t.disableFS=t.imageSize=void 0;const i=n(3668),a=n(6146),s=n(5227),c=n(9375),l=n(3593),u=524288,d=new s.default({concurrency:100,autostart:!0}),p={disabledFS:!1,disabledTypes:[]};function f(e,t){const n=l.detector(e);if(void 0!==n){if(p.disabledTypes.indexOf(n)>-1)throw new TypeError("disabled file type: "+n);if(n in c.typeHandlers){const r=c.typeHandlers[n].calculate(e,t);if(void 0!==r)return r.type=n,r}}throw new TypeError("unsupported file type: "+n+" (file: "+t+")")}function h(e,t){if(Buffer.isBuffer(e))return f(e);if("string"!=typeof e||p.disabledFS)throw new TypeError("invalid invocation. input should be a Buffer");const n=a.resolve(e);if("function"!=typeof t){return f(function(e){const t=i.openSync(e,"r"),{size:n}=i.fstatSync(t);if(n<=0)throw i.closeSync(t),new Error("Empty file");const r=Math.min(n,u),o=Buffer.alloc(r);return i.readSync(t,o,0,r,0),i.closeSync(t),o}(n),n)}d.push((()=>function(e){return o(this,void 0,void 0,(function*(){const t=yield i.promises.open(e,"r"),{size:n}=yield t.stat();if(n<=0)throw yield t.close(),new Error("Empty file");const r=Math.min(n,u),o=Buffer.alloc(r);return yield t.read(o,0,r,0),yield t.close(),o}))}(n).then((e=>r.nextTick(t,null,f(e,n)))).catch(t)))}e.exports=t=h,t.default=h,t.imageSize=h;t.disableFS=e=>{p.disabledFS=e};t.disableTypes=e=>{p.disabledTypes=e};t.setConcurrency=e=>{d.concurrency=e},t.types=Object.keys(c.typeHandlers)},127:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readUInt=void 0,t.readUInt=function(e,t,n,r){return n=n||0,e["readUInt"+t+(r?"BE":"LE")].call(e,n)}},9375:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeHandlers=void 0;const r=n(8009),o=n(3370),i=n(80),a=n(8843),s=n(8118),c=n(3778),l=n(6559),u=n(4985),d=n(5241),p=n(350),f=n(8111),h=n(4646),A=n(4052),m=n(2925),g=n(1438),v=n(1602);t.typeHandlers={bmp:r.BMP,cur:o.CUR,dds:i.DDS,gif:a.GIF,icns:s.ICNS,ico:c.ICO,j2c:l.J2C,jp2:u.JP2,jpg:d.JPG,ktx:p.KTX,png:f.PNG,pnm:h.PNM,psd:A.PSD,svg:m.SVG,tiff:g.TIFF,webp:v.WEBP}},8009:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BMP=void 0,t.BMP={validate:e=>"BM"===e.toString("ascii",0,2),calculate:e=>({height:Math.abs(e.readInt32LE(22)),width:e.readUInt32LE(18)})}},3370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CUR=void 0;const r=n(3778);t.CUR={validate:e=>0===e.readUInt16LE(0)&&2===e.readUInt16LE(2),calculate:e=>r.ICO.calculate(e)}},80:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DDS=void 0,t.DDS={validate:e=>542327876===e.readUInt32LE(0),calculate:e=>({height:e.readUInt32LE(12),width:e.readUInt32LE(16)})}},8843:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GIF=void 0;const n=/^GIF8[79]a/;t.GIF={validate(e){const t=e.toString("ascii",0,6);return n.test(t)},calculate:e=>({height:e.readUInt16LE(8),width:e.readUInt16LE(6)})}},8118:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICNS=void 0;const n={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function r(e,t){const n=t+4;return[e.toString("ascii",t,n),e.readUInt32BE(n)]}function o(e){const t=n[e];return{width:t,height:t,type:e}}t.ICNS={validate:e=>"icns"===e.toString("ascii",0,4),calculate(e){const t=e.length,n=e.readUInt32BE(4);let i=8,a=r(e,i),s=o(a[0]);if(i+=a[1],i===n)return s;const c={height:s.height,images:[s],width:s.width};for(;i<n&&i<t;)a=r(e,i),s=o(a[0]),i+=a[1],c.images.push(s);return c}}},3778:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICO=void 0;function n(e,t){const n=e.readUInt8(t);return 0===n?256:n}function r(e,t){const r=6+16*t;return{height:n(e,r+1),width:n(e,r)}}t.ICO={validate:e=>0===e.readUInt16LE(0)&&1===e.readUInt16LE(2),calculate(e){const t=e.readUInt16LE(4),n=r(e,0);if(1===t)return n;const o=[n];for(let n=1;n<t;n+=1)o.push(r(e,n));return{height:n.height,images:o,width:n.width}}}},6559:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.J2C=void 0,t.J2C={validate:e=>"ff4fff51"===e.toString("hex",0,4),calculate:e=>({height:e.readUInt32BE(12),width:e.readUInt32BE(8)})}},4985:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JP2=void 0;const n="66747970",r="6a703268",o="6a502020",i="72726571",a=e=>({height:e.readUInt32BE(4),width:e.readUInt32BE(8)});t.JP2={validate(e){const t=e.toString("hex",4,8),r=e.readUInt32BE(0);if(t!==o||r<1)return!1;const i=r+4,a=e.readUInt32BE(r);return e.slice(i,i+a).toString("hex",0,4)===n},calculate(e){const t=e.readUInt32BE(0);let n=t+4+e.readUInt16BE(t+2);switch(e.toString("hex",n,n+4)){case i:return n=n+4+4+(e=>{const t=e.readUInt8(0);let n=1+2*t;return n=n+2+e.readUInt16BE(n)*(2+t),n+2+e.readUInt16BE(n)*(16+t)})(e.slice(n+4)),a(e.slice(n+8,n+24));case r:return a(e.slice(n+8,n+24));default:throw new TypeError("Unsupported header found: "+e.toString("ascii",n,n+4))}}}},5241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JPG=void 0;const r=n(127);function o(e){return"45786966"===e.toString("hex",2,6)}function i(e,t){return{height:e.readUInt16BE(t),width:e.readUInt16BE(t+2)}}function a(e,t){const n=e.slice(2,t),o=n.toString("hex",6,8),i="4d4d"===o;if(i||"4949"===o)return function(e,t){const n=r.readUInt(e,16,14,t);for(let o=0;o<n;o++){const n=16+12*o,i=n+12;if(n>e.length)return;const a=e.slice(n,i);if(274===r.readUInt(a,16,0,t)){if(3!==r.readUInt(a,16,2,t))return;if(1!==r.readUInt(a,32,4,t))return;return r.readUInt(a,16,8,t)}}}(n,i)}function s(e,t){if(t>e.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(255!==e[t])throw new TypeError("Invalid JPG, marker table corrupted")}t.JPG={validate:e=>"ffd8"===e.toString("hex",0,2),calculate(e){let t,n;for(e=e.slice(4);e.length;){const r=e.readUInt16BE(0);if(o(e)&&(t=a(e,r)),s(e,r),n=e[r+1],192===n||193===n||194===n){const n=i(e,r+5);return t?{height:n.height,orientation:t,width:n.width}:n}e=e.slice(r+2)}throw new TypeError("Invalid JPG, no size found")}}},350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KTX=void 0;t.KTX={validate:e=>"KTX 11"===e.toString("ascii",1,7),calculate:e=>({height:e.readUInt32LE(40),width:e.readUInt32LE(36)})}},8111:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PNG=void 0;const n="CgBI";t.PNG={validate(e){if("PNG\r\n\n"===e.toString("ascii",1,8)){let t=e.toString("ascii",12,16);if(t===n&&(t=e.toString("ascii",28,32)),"IHDR"!==t)throw new TypeError("Invalid PNG");return!0}return!1},calculate:e=>e.toString("ascii",12,16)===n?{height:e.readUInt32BE(36),width:e.readUInt32BE(32)}:{height:e.readUInt32BE(20),width:e.readUInt32BE(16)}}},4646:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PNM=void 0;const n={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},r=Object.keys(n),o={default:e=>{let t=[];for(;e.length>0;){const n=e.shift();if("#"!==n[0]){t=n.split(" ");break}}if(2===t.length)return{height:parseInt(t[1],10),width:parseInt(t[0],10)};throw new TypeError("Invalid PNM")},pam:e=>{const t={};for(;e.length>0;){const n=e.shift();if(n.length>16||n.charCodeAt(0)>128)continue;const[r,o]=n.split(" ");if(r&&o&&(t[r.toLowerCase()]=parseInt(o,10)),t.height&&t.width)break}if(t.height&&t.width)return{height:t.height,width:t.width};throw new TypeError("Invalid PAM")}};t.PNM={validate(e){const t=e.toString("ascii",0,2);return r.includes(t)},calculate(e){const t=e.toString("ascii",0,2),r=n[t],i=e.toString("ascii",3).split(/[\r\n]+/);return(o[r]||o.default)(i)}}},4052:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PSD=void 0,t.PSD={validate:e=>"8BPS"===e.toString("ascii",0,4),calculate:e=>({height:e.readUInt32BE(14),width:e.readUInt32BE(18)})}},2925:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVG=void 0;const n=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,r={height:/\sheight=(['"])([^%]+?)\1/,root:n,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},o=2.54,i={in:96,cm:96/o,em:16,ex:8,m:96/o*100,mm:96/o/10,pc:96/72/12,pt:96/72,px:1},a=new RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(i).join("|")})?$`);function s(e){const t=a.exec(e);if(t)return Math.round(Number(t[1])*(i[t[2]]||1))}function c(e){const t=e.split(" ");return{height:s(t[3]),width:s(t[2])}}t.SVG={validate(e){const t=String(e);return n.test(t)},calculate(e){const t=e.toString("utf8").match(r.root);if(t){const e=function(e){const t=e.match(r.width),n=e.match(r.height),o=e.match(r.viewbox);return{height:n&&s(n[2]),viewbox:o&&c(o[2]),width:t&&s(t[2])}}(t[0]);if(e.width&&e.height)return function(e){return{height:e.height,width:e.width}}(e);if(e.viewbox)return function(e,t){const n=t.width/t.height;return e.width?{height:Math.floor(e.width/n),width:e.width}:e.height?{height:e.height,width:Math.floor(e.height*n)}:{height:t.height,width:t.width}}(e,e.viewbox)}throw new TypeError("Invalid SVG")}}},1438:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TIFF=void 0;const r=n(1553),o=n(127);function i(e,t){const n=o.readUInt(e,16,8,t);return(o.readUInt(e,16,10,t)<<16)+n}function a(e){if(e.length>24)return e.slice(12)}const s=["49492a00","4d4d002a"];t.TIFF={validate:e=>s.includes(e.toString("hex",0,4)),calculate(e,t){if(!t)throw new TypeError("Tiff doesn't support buffer");const n="BE"===function(e){const t=e.toString("ascii",0,2);return"II"===t?"LE":"MM"===t?"BE":void 0}(e),s=function(e,t){const n={};let r=e;for(;r&&r.length;){const e=o.readUInt(r,16,0,t),s=o.readUInt(r,16,2,t),c=o.readUInt(r,32,4,t);if(0===e)break;1!==c||3!==s&&4!==s||(n[e]=i(r,t)),r=a(r)}return n}(function(e,t,n){const i=o.readUInt(e,32,4,n);let a=1024;const s=r.statSync(t).size;i+a>s&&(a=s-i-10);const c=Buffer.alloc(a),l=r.openSync(t,"r");return r.readSync(l,c,0,a,i),r.closeSync(l),c.slice(2)}(e,t,n),n),c=s[256],l=s[257];if(!c||!l)throw new TypeError("Invalid Tiff. Missing tags");return{height:l,width:c}}}},1602:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEBP=void 0,t.WEBP={validate(e){const t="RIFF"===e.toString("ascii",0,4),n="WEBP"===e.toString("ascii",8,12),r="VP8"===e.toString("ascii",12,15);return t&&n&&r},calculate(e){const t=e.toString("ascii",12,16);if(e=e.slice(20,30),"VP8X"===t){const t=e[0],n=0==(1&t);if(0==(192&t)&&n)return function(e){return{height:1+e.readUIntLE(7,3),width:1+e.readUIntLE(4,3)}}(e);throw new TypeError("Invalid WebP")}if("VP8 "===t&&47!==e[0])return function(e){return{height:16383&e.readInt16LE(8),width:16383&e.readInt16LE(6)}}(e);const n=e.toString("hex",3,6);if("VP8L"===t&&"9d012a"!==n)return function(e){return{height:1+((15&e[4])<<10|e[3]<<2|(192&e[2])>>6),width:1+((63&e[2])<<8|e[1])}}(e);throw new TypeError("Invalid WebP")}}},6357:function(e){e.exports=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function n(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function i(e){var t={exports:{}};return e(t,t.exports),t.exports}var a=i((function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function n(t){e.exports.defaults=t}e.exports={defaults:t(),getDefaults:t,changeDefaults:n}})),s=/[&<>"']/,c=/[&<>"']/g,l=/[<>"']|&(?!#?\w+;)/,u=/[<>"']|&(?!#?\w+;)/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},p=function(e){return d[e]};function f(e,t){if(t){if(s.test(e))return e.replace(c,p)}else if(l.test(e))return e.replace(u,p);return e}var h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function A(e){return e.replace(h,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var m=/(^|[^\[])\^/g;function g(e,t){e=e.source||e,t=t||"";var n={replace:function(t,r){return r=(r=r.source||r).replace(m,"$1"),e=e.replace(t,r),n},getRegex:function(){return new RegExp(e,t)}};return n}var v=/[^\w:]/g,b=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function y(e,t,n){if(e){var r;try{r=decodeURIComponent(A(n)).replace(v,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!b.test(n)&&(n=E(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}var w={},x=/^[^:]+:\/*[^/]*$/,k=/^([^:]+:)[\s\S]*$/,C=/^([^:]+:\/*[^/]*)[\s\S]*$/;function E(e,t){w[" "+e]||(x.test(e)?w[" "+e]=e+"/":w[" "+e]=M(e,"/",!0));var n=-1===(e=w[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(k,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(C,"$1")+t:e+t}function B(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function T(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,o=t;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function M(e,t,n){var r=e.length;if(0===r)return"";for(var o=0;o<r;){var i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.substr(0,r-o)}function I(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,o=0;o<n;o++)if("\\"===e[o])o++;else if(e[o]===t[0])r++;else if(e[o]===t[1]&&--r<0)return o;return-1}function D(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function _(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}var S={escape:f,unescape:A,edit:g,cleanUrl:y,resolveUrl:E,noopTest:{exec:function(){}},merge:B,splitCells:T,rtrim:M,findClosingBracket:I,checkSanitizeDeprecation:D,repeatString:_},O=a.defaults,N=S.rtrim,L=S.splitCells,R=S.escape,j=S.findClosingBracket;function U(e,t,n){var r=t.href,o=t.title?R(t.title):null,i=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:r,title:o,text:i}:{type:"image",raw:n,href:r,title:o,text:R(i)}}function F(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var r=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=r.length?e.slice(r.length):e})).join("\n")}var z=function(){function e(e){this.options=e||O}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:N(n,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],r=F(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:r}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var r=N(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n}}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:L(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){var r,o=n.align.length;for(r=0;r<o;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(o=n.cells.length,r=0;r<o;r++)n.cells[r]=L(n.cells[r],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,r,o,i,a,s,c,l,u=t[0],d=t[2],p=d.length>1,f={type:"list",raw:u,ordered:p,start:p?+d.slice(0,-1):"",loose:!1,items:[]},h=t[0].match(this.rules.block.item),A=!1,m=h.length;o=this.rules.block.listItemStart.exec(h[0]);for(var g=0;g<m;g++){if(u=n=h[g],g!==m-1){if(i=this.rules.block.listItemStart.exec(h[g+1]),this.options.pedantic?i[1].length>o[1].length:i[1].length>o[0].length||i[1].length>3){h.splice(g,2,h[g]+"\n"+h[g+1]),g--,m--;continue}(!this.options.pedantic||this.options.smartLists?i[2][i[2].length-1]!==d[d.length-1]:p===(1===i[2].length))&&(a=h.slice(g+1).join("\n"),f.raw=f.raw.substring(0,f.raw.length-a.length),g=m-1),o=i}r=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(r-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+r+"}","gm"),"")),s=A||/\n\n(?!\s*$)/.test(n),g!==m-1&&(A="\n"===n.charAt(n.length-1),s||(s=A)),s&&(f.loose=!0),this.options.gfm&&(l=void 0,(c=/^\[[ xX]\] /.test(n))&&(l=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:u,task:c,checked:l,loose:s,text:n})}return f}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):R(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:L(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var r,o=n.align.length;for(r=0;r<o;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(o=n.cells.length,r=0;r<o;r++)n.cells[r]=L(n.cells[r].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0]}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:R(t[1])}},t.tag=function(e,t,n){var r=this.rules.inline.tag.exec(e);if(r)return!t&&/^<a /i.test(r[0])?t=!0:t&&/^<\/a>/i.test(r[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):R(r[0]):r[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=N(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var o=j(t[2],"()");if(o>-1){var i=(0===t[0].indexOf("!")?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,i).trim(),t[3]=""}}var a=t[2],s="";if(this.options.pedantic){var c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);c&&(a=c[1],s=c[3])}else s=t[3]?t[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(a=this.options.pedantic&&!/>$/.test(n)?a.slice(1):a.slice(1,-1)),U(t,{href:a?a.replace(this.rules.inline._escapes,"$1"):a,title:s?s.replace(this.rules.inline._escapes,"$1"):s},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=t[r.toLowerCase()])||!r.href){var o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return U(n,r,n[0])}},t.emStrong=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.emStrong.lDelim.exec(e);if(r&&(!r[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var o=r[1]||r[2]||"";if(!o||o&&(""===n||this.rules.inline.punctuation.exec(n))){var i,a,s=r[0].length-1,c=s,l=0,u="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+s);null!=(r=u.exec(t));)if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(a=i.length,r[3]||r[4])c+=a;else if(!((r[5]||r[6])&&s%3)||(s+a)%3){if(!((c-=a)>0)){if(c+l-a<=0&&!t.slice(u.lastIndex).match(u)&&(a=Math.min(a,a+c+l)),Math.min(s,a)%2)return{type:"em",raw:e.slice(0,s+r.index+a+1),text:e.slice(1,s+r.index+a)};if(Math.min(s,a)%2==0)return{type:"strong",raw:e.slice(0,s+r.index+a+1),text:e.slice(2,s+r.index+a-1)}}}else l+=a}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),o=/^ /.test(n)&&/ $/.test(n);return r&&o&&(n=n.substring(1,n.length-1)),n=R(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}},t.autolink=function(e,t){var n,r,o=this.rules.inline.autolink.exec(e);if(o)return r="@"===o[2]?"mailto:"+(n=R(this.options.mangle?t(o[1]):o[1])):n=R(o[1]),{type:"link",raw:o[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},t.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var r,o;if("@"===n[2])o="mailto:"+(r=R(this.options.mangle?t(n[0]):n[0]));else{var i;do{i=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(i!==n[0]);r=R(n[0]),o="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}},t.inlineText=function(e,t,n){var r,o=this.rules.inline.text.exec(e);if(o)return r=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):R(o[0]):o[0]:R(this.options.smartypants?n(o[0]):o[0]),{type:"text",raw:o[0],text:r}},e}(),Q=S.noopTest,P=S.edit,H=S.merge,V={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:Q,table:Q,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};V.def=P(V.def).replace("label",V._label).replace("title",V._title).getRegex(),V.bullet=/(?:[*+-]|\d{1,9}[.)])/,V.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,V.item=P(V.item,"gm").replace(/bull/g,V.bullet).getRegex(),V.listItemStart=P(/^( *)(bull)/).replace("bull",V.bullet).getRegex(),V.list=P(V.list).replace(/bull/g,V.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+V.def.source+")").getRegex(),V._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",V._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,V.html=P(V.html,"i").replace("comment",V._comment).replace("tag",V._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),V.paragraph=P(V._paragraph).replace("hr",V.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",V._tag).getRegex(),V.blockquote=P(V.blockquote).replace("paragraph",V.paragraph).getRegex(),V.normal=H({},V),V.gfm=H({},V.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),V.gfm.nptable=P(V.gfm.nptable).replace("hr",V.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",V._tag).getRegex(),V.gfm.table=P(V.gfm.table).replace("hr",V.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",V._tag).getRegex(),V.pedantic=H({},V.normal,{html:P("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",V._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Q,paragraph:P(V.normal._paragraph).replace("hr",V.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",V.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var K={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Q,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Q,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};K.punctuation=P(K.punctuation).replace(/punctuation/g,K._punctuation).getRegex(),K.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,K.escapedEmSt=/\\\*|\\_/g,K._comment=P(V._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),K.emStrong.lDelim=P(K.emStrong.lDelim).replace(/punct/g,K._punctuation).getRegex(),K.emStrong.rDelimAst=P(K.emStrong.rDelimAst,"g").replace(/punct/g,K._punctuation).getRegex(),K.emStrong.rDelimUnd=P(K.emStrong.rDelimUnd,"g").replace(/punct/g,K._punctuation).getRegex(),K._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,K._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,K._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,K.autolink=P(K.autolink).replace("scheme",K._scheme).replace("email",K._email).getRegex(),K._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,K.tag=P(K.tag).replace("comment",K._comment).replace("attribute",K._attribute).getRegex(),K._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,K._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,K._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,K.link=P(K.link).replace("label",K._label).replace("href",K._href).replace("title",K._title).getRegex(),K.reflink=P(K.reflink).replace("label",K._label).getRegex(),K.reflinkSearch=P(K.reflinkSearch,"g").replace("reflink",K.reflink).replace("nolink",K.nolink).getRegex(),K.normal=H({},K),K.pedantic=H({},K.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:P(/^!?\[(label)\]\((.*?)\)/).replace("label",K._label).getRegex(),reflink:P(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",K._label).getRegex()}),K.gfm=H({},K.normal,{escape:P(K.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),K.gfm.url=P(K.gfm.url,"i").replace("email",K.gfm._extended_email).getRegex(),K.breaks=H({},K.gfm,{br:P(K.br).replace("{2,}","*").getRegex(),text:P(K.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var G={block:V,inline:K},W=a.defaults,Y=G.block,q=G.inline,Z=S.repeatString;function X(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function J(e){var t,n,r="",o=e.length;for(t=0;t<o;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var $=function(){function e(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||W,this.options.tokenizer=this.options.tokenizer||new z,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:Y.normal,inline:q.normal};this.options.pedantic?(t.block=Y.pedantic,t.inline=q.pedantic):this.options.gfm&&(t.block=Y.gfm,this.options.breaks?t.inline=q.breaks:t.inline=q.gfm),this.tokenizer.rules=t}e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)};var n=e.prototype;return n.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},n.blockTokens=function(e,t,n){var r,o,i,a;for(void 0===t&&(t=[]),void 0===n&&(n=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),(a=t[t.length-1])&&"paragraph"===a.type?(a.raw+="\n"+r.raw,a.text+="\n"+r.text):t.push(r);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),i=r.items.length,o=0;o<i;o++)r.items[o].tokens=this.blockTokens(r.items[o].text,[],!1);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.paragraph(e)))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),(a=t[t.length-1])&&"text"===a.type?(a.raw+="\n"+r.raw,a.text+="\n"+r.text):t.push(r);else if(e){var s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}return t},n.inline=function(e){var t,n,r,o,i,a,s=e.length;for(t=0;t<s;t++)switch((a=e[t]).type){case"paragraph":case"text":case"heading":a.tokens=[],this.inlineTokens(a.text,a.tokens);break;case"table":for(a.tokens={header:[],cells:[]},o=a.header.length,n=0;n<o;n++)a.tokens.header[n]=[],this.inlineTokens(a.header[n],a.tokens.header[n]);for(o=a.cells.length,n=0;n<o;n++)for(i=a.cells[n],a.tokens.cells[n]=[],r=0;r<i.length;r++)a.tokens.cells[n][r]=[],this.inlineTokens(i[r],a.tokens.cells[n][r]);break;case"blockquote":this.inline(a.tokens);break;case"list":for(o=a.items.length,n=0;n<o;n++)this.inline(a.items[n].tokens)}return e},n.inlineTokens=function(e,t,n,r){var o,i;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var a,s,c,l=e;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(u.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(l));)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,a.index)+"["+Z("a",a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,a.index)+"["+Z("a",a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,a.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(s||(c=""),s=!1,o=this.tokenizer.escape(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.tag(e,n,r)){e=e.substring(o.raw.length),n=o.inLink,r=o.inRawBlock;var d=t[t.length-1];d&&"text"===o.type&&"text"===d.type?(d.raw+=o.raw,d.text+=o.text):t.push(o)}else if(o=this.tokenizer.link(e))e=e.substring(o.raw.length),"link"===o.type&&(o.tokens=this.inlineTokens(o.text,[],!0,r)),t.push(o);else if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);var p=t[t.length-1];"link"===o.type?(o.tokens=this.inlineTokens(o.text,[],!0,r),t.push(o)):p&&"text"===o.type&&"text"===p.type?(p.raw+=o.raw,p.text+=o.text):t.push(o)}else if(o=this.tokenizer.emStrong(e,l,c))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],n,r),t.push(o);else if(o=this.tokenizer.codespan(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.br(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.del(e))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],n,r),t.push(o);else if(o=this.tokenizer.autolink(e,J))e=e.substring(o.raw.length),t.push(o);else if(n||!(o=this.tokenizer.url(e,J))){if(o=this.tokenizer.inlineText(e,r,X))e=e.substring(o.raw.length),"_"!==o.raw.slice(-1)&&(c=o.raw.slice(-1)),s=!0,(i=t[t.length-1])&&"text"===i.type?(i.raw+=o.raw,i.text+=o.text):t.push(o);else if(e){var f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}else e=e.substring(o.raw.length),t.push(o);return t},t(e,null,[{key:"rules",get:function(){return{block:Y,inline:q}}}]),e}(),ee=a.defaults,te=S.cleanUrl,ne=S.escape,re=function(){function e(e){this.options=e||ee}var t=e.prototype;return t.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,r);null!=o&&o!==e&&(n=!0,e=o)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+ne(r,!0)+'">'+(n?e:ne(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:ne(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+ne(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},t.image=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),oe=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),ie=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{n=e+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),ae=a.defaults,se=S.unescape,ce=function(){function e(e){this.options=e||ae,this.options.renderer=this.options.renderer||new re,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new oe,this.slugger=new ie}e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var n,r,o,i,a,s,c,l,u,d,p,f,h,A,m,g,v,b,y="",w=e.length;for(n=0;n<w;n++)switch((d=e[n]).type){case"space":continue;case"hr":y+=this.renderer.hr();continue;case"heading":y+=this.renderer.heading(this.parseInline(d.tokens),d.depth,se(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":y+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(l="",c="",i=d.header.length,r=0;r<i;r++)c+=this.renderer.tablecell(this.parseInline(d.tokens.header[r]),{header:!0,align:d.align[r]});for(l+=this.renderer.tablerow(c),u="",i=d.cells.length,r=0;r<i;r++){for(c="",a=(s=d.tokens.cells[r]).length,o=0;o<a;o++)c+=this.renderer.tablecell(this.parseInline(s[o]),{header:!1,align:d.align[o]});u+=this.renderer.tablerow(c)}y+=this.renderer.table(l,u);continue;case"blockquote":u=this.parse(d.tokens),y+=this.renderer.blockquote(u);continue;case"list":for(p=d.ordered,f=d.start,h=d.loose,i=d.items.length,u="",r=0;r<i;r++)g=(m=d.items[r]).checked,v=m.task,A="",m.task&&(b=this.renderer.checkbox(g),h?m.tokens.length>0&&"text"===m.tokens[0].type?(m.tokens[0].text=b+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=b+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:b}):A+=b),A+=this.parse(m.tokens,h),u+=this.renderer.listitem(A,v,g);y+=this.renderer.list(u,p,f);continue;case"html":y+=this.renderer.html(d.text);continue;case"paragraph":y+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(u=d.tokens?this.parseInline(d.tokens):d.text;n+1<w&&"text"===e[n+1].type;)u+="\n"+((d=e[++n]).tokens?this.parseInline(d.tokens):d.text);y+=t?this.renderer.paragraph(u):u;continue;default:var x='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(x);throw new Error(x)}return y},t.parseInline=function(e,t){t=t||this.renderer;var n,r,o="",i=e.length;for(n=0;n<i;n++)switch((r=e[n]).type){case"escape":o+=t.text(r.text);break;case"html":o+=t.html(r.text);break;case"link":o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":o+=t.image(r.href,r.title,r.text);break;case"strong":o+=t.strong(this.parseInline(r.tokens,t));break;case"em":o+=t.em(this.parseInline(r.tokens,t));break;case"codespan":o+=t.codespan(r.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(r.tokens,t));break;case"text":o+=t.text(r.text);break;default:var a='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}return o},e}(),le=S.merge,ue=S.checkSanitizeDeprecation,de=S.escape,pe=a.getDefaults,fe=a.changeDefaults,he=a.defaults;function Ae(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=le({},Ae.defaults,t||{}),ue(t),n){var r,o=t.highlight;try{r=$.lex(e,t)}catch(e){return n(e)}var i=function(e){var i;if(!e)try{i=ce.parse(r,t)}catch(t){e=t}return t.highlight=o,e?n(e):n(null,i)};if(!o||o.length<3)return i();if(delete t.highlight,!r.length)return i();var a=0;return Ae.walkTokens(r,(function(e){"code"===e.type&&(a++,setTimeout((function(){o(e.text,e.lang,(function(t,n){if(t)return i(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--a&&i()}))}),0))})),void(0===a&&i())}try{var s=$.lex(e,t);return t.walkTokens&&Ae.walkTokens(s,t.walkTokens),ce.parse(s,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+de(e.message+"",!0)+"</pre>";throw e}}return Ae.options=Ae.setOptions=function(e){return le(Ae.defaults,e),fe(Ae.defaults),Ae},Ae.getDefaults=pe,Ae.defaults=he,Ae.use=function(e){var t=le({},e);if(e.renderer&&function(){var n=Ae.defaults.renderer||new re,r=function(t){var r=n[t];n[t]=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=e.renderer[t].apply(n,i);return!1===s&&(s=r.apply(n,i)),s}};for(var o in e.renderer)r(o);t.renderer=n}(),e.tokenizer&&function(){var n=Ae.defaults.tokenizer||new z,r=function(t){var r=n[t];n[t]=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=e.tokenizer[t].apply(n,i);return!1===s&&(s=r.apply(n,i)),s}};for(var o in e.tokenizer)r(o);t.tokenizer=n}(),e.walkTokens){var n=Ae.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens(t),n&&n(t)}}Ae.setOptions(t)},Ae.walkTokens=function(e,t){for(var n,r=o(e);!(n=r()).done;){var i=n.value;switch(t(i),i.type){case"table":for(var a,s=o(i.tokens.header);!(a=s()).done;){var c=a.value;Ae.walkTokens(c,t)}for(var l,u=o(i.tokens.cells);!(l=u()).done;)for(var d,p=o(l.value);!(d=p()).done;){var f=d.value;Ae.walkTokens(f,t)}break;case"list":Ae.walkTokens(i.items,t);break;default:i.tokens&&Ae.walkTokens(i.tokens,t)}}},Ae.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=le({},Ae.defaults,t||{}),ue(t);try{var n=$.lexInline(e,t);return t.walkTokens&&Ae.walkTokens(n,t.walkTokens),ce.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+de(e.message+"",!0)+"</pre>";throw e}},Ae.Parser=ce,Ae.parser=ce.parse,Ae.Renderer=re,Ae.TextRenderer=oe,Ae.Lexer=$,Ae.lexer=$.lex,Ae.Tokenizer=z,Ae.Slugger=ie,Ae.parse=Ae,Ae}()},5227:(e,t,n)=>{var r=n(5717),o=n(7187).EventEmitter;function i(e){if(!(this instanceof i))return new i(e);o.call(this),e=e||{},this.concurrency=e.concurrency||1/0,this.timeout=e.timeout||0,this.autostart=e.autostart||!1,this.results=e.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}e.exports=i,e.exports.default=i,r(i,o);["pop","shift","indexOf","lastIndexOf"].forEach((function(e){i.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}})),i.prototype.slice=function(e,t){return this.jobs=this.jobs.slice(e,t),this},i.prototype.reverse=function(){return this.jobs.reverse(),this};function a(){for(var e in this.timers){var t=this.timers[e];delete this.timers[e],clearTimeout(t)}}function s(e){var t=this;function n(e){t.end(e)}this.on("error",n),this.on("end",(function r(o){t.removeListener("error",n),t.removeListener("end",r),e(o,this.results)}))}function c(e){this.session++,this.running=!1,this.emit("end",e)}["push","unshift","splice"].forEach((function(e){i.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this.autostart&&this.start(),t}})),Object.defineProperty(i.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),i.prototype.start=function(e){if(e&&s.call(this,e),this.running=!0,!(this.pending>=this.concurrency))if(0!==this.jobs.length){var t=this,n=this.jobs.shift(),r=!0,o=this.session,i=null,a=!1,l=null,u=n.hasOwnProperty("timeout")?n.timeout:this.timeout;u&&(i=setTimeout((function(){a=!0,t.listeners("timeout").length>0?t.emit("timeout",p,n):p()}),u),this.timers[i]=i),this.results&&(l=this.results.length,this.results[l]=null),this.pending++,t.emit("start",n);var d=n(p);d&&d.then&&"function"==typeof d.then&&d.then((function(e){return p(null,e)})).catch((function(e){return p(e||!0)})),this.running&&this.jobs.length>0&&this.start()}else 0===this.pending&&c.call(this);function p(e,s){r&&t.session===o&&(r=!1,t.pending--,null!==i&&(delete t.timers[i],clearTimeout(i)),e?t.emit("error",e,n):!1===a&&(null!==l&&(t.results[l]=Array.prototype.slice.call(arguments,1)),t.emit("success",s,n)),t.session===o&&(0===t.pending&&0===t.jobs.length?c.call(t):t.running&&t.start()))}},i.prototype.stop=function(){this.running=!1},i.prototype.end=function(e){a.call(this),this.jobs.length=0,this.pending=0,c.call(this,e)}},5893:()=>{},8374:()=>{},1553:()=>{},3668:()=>{},6146:()=>{}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};return(()=>{"use strict";n.r(r),n.d(r,{AccessDeniedError:()=>Gi,AgentSelector:()=>ya,AutoSuggest:()=>Aa,BASE_URL_HEADER_KEY:()=>kQ,BLOCK_ATTR:()=>Ui,BLOCK_TYPE:()=>Qi,BOX_TYPE:()=>Pi,BlockCommands:()=>ka,BlockMenuButton:()=>da,CHOOSE_TEMPLATE_IMAGE_SRC:()=>aX,CREATE_TEMPLATE_IMAGE_SRC:()=>iX,CommentsContainer:()=>Ca,ContextMenu:()=>va,Dialog:()=>sa,DialogInputType:()=>qi,EDITOR_CLASS:()=>Vi,EDITOR_EVENT:()=>zi,EMBED_TYPE:()=>aa,EditableToolbar:()=>ha,EditorImpl:()=>OX,FILL_CHAR:()=>Zi,FILL_CHAR_REG:()=>Xi,FilePreviewType:()=>ra,FloatMenu:()=>ba,Hidable:()=>ca,INPUT_DIALOG_CLASS:()=>Hi,ITEM_SEP:()=>ga,Icons:()=>qo,ImageDragTool:()=>LX,InvalidParamError:()=>Yi,MARKER_HEIGHT_EXPAND:()=>na,MARKER_TOOLBAR_HEIGHT:()=>ea,MARKER_WIDTH_EXPAND:()=>ta,Menu:()=>ua,MenuItem:()=>Ti,NODE_TYPE:()=>Fi,NotSupportError:()=>Wi,Popover:()=>la,PopoverDialog:()=>iD,ReservedMediaSrcType:()=>oa,ResizeTool:()=>VX,RichTextDocument:()=>Yo,RichTextOperations:()=>_o,SPACE_CHAR:()=>Ji,SPACE_CHAR_REG:()=>$i,SelectionDetailType:()=>ia,TEMPLATE_PLACEHOLDER:()=>sX,TOKEN_HEADER_KEY:()=>xQ,TextCommands:()=>xa,TextToolbar:()=>fa,ToDocX:()=>vu,Toolbar:()=>pa,Tooltip:()=>ma,assert:()=>w,blockData2DocBlock:()=>Ea,blockDataToDocBlock:()=>Ma,blockUtils:()=>u,boxUtils:()=>c,changeResourceIdToUrl:()=>Yv,containerUtils:()=>h,createEditor:()=>GX,createEditorPromise:()=>WX,createEmptyDocWithTitle:()=>M,doc2Text:()=>o,doc2docx:()=>bu,doc2markdown:()=>cl,docData2BlockData:()=>Ba,docData2Text:()=>Cn,domUtils:()=>s,embedBlockUtils:()=>d,embedUtils:()=>l,encodeResourceName:()=>Ta,escapeMarkdownText:()=>Dc,genId:()=>B,getAllResources:()=>Gv,getCurrentCommandBlock:()=>ZX,getCurrentCommandTarget:()=>qX,getEditor:()=>YX,getFileUrlByHash:()=>EQ,getLastDragOverBlock:()=>jX,getListNumber:()=>xn,getOfflineDocData:()=>$X,getPrefixInfo:()=>sv,hideCurrentPopover:()=>XX,html2Doc:()=>Ic,i18n:()=>ju,isReservedMediaSrc:()=>wa,keyboardTypes:()=>a,listBlockUtils:()=>p,markdown2Doc:()=>Yc,mergeLangs:()=>Fu,newOfflineDoc:()=>JX,parseDoc:()=>t,registerCurrentCommandTarget:()=>nJ,request:()=>CQ,selectionActions:()=>f,selectionUtils:()=>A,setCommandTargetCallback:()=>tJ,setEditor:()=>eJ,setLang:()=>Uu,syncOfflineDoc:()=>FX,t:()=>zu,tableBlockDataToMarkdown:()=>tl,text2doc:()=>zX,tippy:()=>e,uploadDocThumbnail:()=>MQ,uploadFile:()=>BQ,uploadResource:()=>TQ});var e={};n.r(e),n.d(e,{animateFill:()=>Rt,createSingleton:()=>Ot,default:()=>Vt,delegate:()=>Lt,followCursor:()=>zt,hideAll:()=>_t,inlinePositioning:()=>Qt,roundArrow:()=>je,sticky:()=>Pt});var t={};n.r(t),n.d(t,{CellGrid:()=>qt,CellRow:()=>Yt,enumAllBlocks:()=>tn,parseAllText:()=>en,parseBlocks:()=>Zt,parseComplexBlock:()=>Xt,parseDoc:()=>$t,parseTable:()=>Jt});var o={};n.r(o),n.d(o,{blocks2Text:()=>En,docData2Text:()=>Cn,docData2TextWithoutTitle:()=>Tn,getDocTitle:()=>Bn});var i={};n.r(i),n.d(i,{default:()=>qo});var a={};n.r(a),n.d(a,{hasAltOnly:()=>ai,hasCtrlOrCmd:()=>oi,hasCtrlOrCmdOnly:()=>ii,isBackspace:()=>di,isControlEvent:()=>ni,isDelete:()=>ui,isEnterOnly:()=>si,isEscape:()=>li,isMac:()=>Jo,isMoveForward:()=>ti,isNavigationKey:()=>ei,isPrintableKey:()=>$o,isShiftEnter:()=>ci,isShiftTab:()=>fi,isShortcutEvent:()=>ri,isTab:()=>pi,replaceShortcutCtrlOrCmd:()=>Ai,shortcutToDisplayText:()=>hi});var s={};n.r(s),n.d(s,{addClass:()=>Qa,animatedScrollTo:()=>Es,caretPositionFromPoint:()=>Ns,createButton:()=>As,createCheckbox:()=>fs,createElement:()=>ps,createIconButton:()=>hs,createStyle:()=>Ms,exitFullscreen:()=>js,fileToDataUrl:()=>ws,filterForHtmlToText:()=>rs,filterForTextToHtml:()=>os,fixContainerForFullscreen:()=>xs,getClosestElement:()=>Ls,getDomRect:()=>_s,getElementByClass:()=>Ss,getElementTop:()=>Ts,getEndOffset:()=>Pa,getFirstDeepChild:()=>Ha,getIndex:()=>Va,getLastDeepChild:()=>Ka,getNearestElement:()=>ss,getRangeRect:()=>Ds,getScrollContainer:()=>cs,getScrollContainerRect:()=>ls,hasClass:()=>Ga,imageToFile:()=>Os,inlineImage:()=>Is,isChildNode:()=>ts,isDarkMode:()=>Bs,isEqual:()=>Wa,isMouseInPopoverTarget:()=>ks,isNodeBefore:()=>is,isPointNearbyElementLeft:()=>us,isTag:()=>Ya,isVisible:()=>qa,loadCssPromise:()=>bs,loadJsPromise:()=>gs,moveCaretToLineEnd:()=>as,nextDeepChild:()=>Za,nodeInRange:()=>ns,prevDeepChild:()=>Xa,removeClass:()=>Ja,removeClassByReg:()=>$a,requestFullscreen:()=>Rs,scrollIntoView:()=>ds,splitTextNode:()=>es,stringToDataUrl:()=>ys});var c={};n.r(c),n.d(c,{boxDataToRichTextOp:()=>Sd,boxToRichTextOp:()=>Od,createBox:()=>Ld,createBoxData:()=>vd,createVirtualNode:()=>jd,createVirtualNodeFromBoxElement:()=>Ud,getAllBoxPrefix:()=>Fd,getBoxByPrefix:()=>xd,getBoxClassByElem:()=>Dd,getBoxClassByTextSuffix:()=>zd,getBoxClassByType:()=>bd,getBoxId:()=>Md,getBoxType:()=>Id,getBoxTypeByClass:()=>yd,getParentBox:()=>Ed,getToolbarOptions:()=>_d,handleBoxClicked:()=>Pd,handleBoxInserted:()=>Qd,insertBoxToBlock:()=>Hd,isBox:()=>Cd,isBoxData:()=>Td,isBoxInput:()=>Vd,isInBox:()=>Bd,registerBoxType:()=>wd,removeBoxPrefix:()=>kd,richTextOpToBoxData:()=>Nd});var l={};n.r(l),n.d(l,{adjustArrowMove:()=>Ip,clearSelection:()=>Cp,createEmbed:()=>gp,createEmbedBlockData:()=>Ep,deleteEmbed:()=>vp,getAllEmbedAutoSuggestItems:()=>Dp,getAllEmbedMenuItems:()=>Mp,getAllEmbedTypes:()=>Tp,getBlockEmbedType:()=>mp,getChildEmbed:()=>Ap,getEmbedClass:()=>fp,getEmbedClassByType:()=>up,getEmbedType:()=>dp,getEmbedTypeByClass:()=>Bp,getFileDisplayType:()=>pp,getParentEmbed:()=>hp,isEmbed:()=>bp,nodeInEmber:()=>yp,registerEmbed:()=>wp,saveData:()=>xp,saveSelectionData:()=>kp});var u={};n.r(u),n.d(u,{accept:()=>dh,addBlockComment:()=>vf,addBlockInlineStyle:()=>Hh,applyStyles:()=>Uh,blockData2DocBlock:()=>ah,canInsertBlock:()=>ch,canInsertBox:()=>sh,cancelEntireSelected:()=>rA,clearBlockStyles:()=>df,clearSelection:()=>gf,createBlock:()=>Kp,createBlockData:()=>If,createBlockTemplateData:()=>Mf,createRange:()=>Sf,createSplittedBlockData:()=>lh,createTextBlockData:()=>Df,deleteNotAllowed:()=>aA,dragBlockContent:()=>cA,dragNotAllowed:()=>sA,executeBlockCommand:()=>qf,executeTextCommand:()=>Yf,fixEmptyContainer:()=>oA,getAllBlockAutoSuggestItems:()=>iA,getAllBlockMenuItems:()=>Eh,getAllBlockPrefix:()=>nf,getBlockAbstract:()=>Zp,getBlockAlign:()=>Ph,getBlockBoxes:()=>yh,getBlockClass:()=>Pp,getBlockClassByTextSuffix:()=>wh,getBlockClassByType:()=>Qp,getBlockCommandStatus:()=>qh,getBlockComments:()=>wf,getBlockContent:()=>Gp,getBlockHeading:()=>ff,getBlockId:()=>zp,getBlockInlineStyle:()=>Vh,getBlockLockInfoFromBlock:()=>Xp,getBlockOptions:()=>Lf,getBlockOptionsByType:()=>Rf,getBlockPadding:()=>sf,getBlockPlainText:()=>Ch,getBlockPositionMarkingLine:()=>Wh,getBlockPrefix:()=>xh,getBlockRichText:()=>Hp,getBlockStyleState:()=>cf,getBlockStyles:()=>uf,getBlockTextLength:()=>Kf,getBlockToolsContainer:()=>Wp,getBlockType:()=>Rp,getBlockTypeByClass:()=>kh,getCaretPos:()=>Wf,getChildContainersData:()=>_f,getCommentInfo:()=>ih,getContainerAlign:()=>tA,getContextMenuData:()=>eh,getCurrentCommandBlock:()=>Bh,getParentComplexBlock:()=>Mh,getSlidingTool:()=>Kh,getSlidingToolContainer:()=>Gh,getSubContainerInComplexBlock:()=>Xf,getTextCommandStatus:()=>Zf,getTextElement:()=>Vf,getTextToolbarOptions:()=>$f,getToolbarOptions:()=>Jf,handleBlockClicked:()=>ph,handleBlockDataChanged:()=>Bf,handleBlockDeleted:()=>Cf,handleBlockFocusChanged:()=>vh,handleBlockInserted:()=>xf,handleBlockLoaded:()=>kf,handleBlockMouseDown:()=>Ah,handleBlockMouseEnter:()=>fh,handleBlockMouseLeave:()=>hh,handleBlockMouseMove:()=>gh,handleBlockReload:()=>Ef,handleBlockTextChanged:()=>Tf,handleChildBlockChanged:()=>zh,handleKeydownEvent:()=>ef,handlePaste:()=>uh,handleSelectionChanged:()=>Of,highlightText:()=>Ih,insertBlockByMenuCommand:()=>Th,isBlock:()=>jp,isBlockContent:()=>Fp,isBlockFocused:()=>bh,isBlockHover:()=>mh,isBlockLocked:()=>Af,isBlockQuoted:()=>rf,isBlockRemoved:()=>th,isCodeBlock:()=>$h,isComplexBlock:()=>Ff,isComplexBlockType:()=>Qf,isContainer:()=>Up,isEmbedBlock:()=>Hf,isEmptyTextBlock:()=>Gf,isEntireSelected:()=>nA,isExpiredMarkerVisible:()=>Nh,isImageBlock:()=>Zh,isInCodeBlock:()=>eA,isInComplexBlock:()=>zf,isSingleImageBlock:()=>Xh,isTableBlock:()=>Jh,isTextType:()=>jf,isTextTypeBlock:()=>Uf,isVisible:()=>Fh,nodeInBlockTools:()=>Yp,notify:()=>nh,registerBlockType:()=>tf,removeBlockComment:()=>bf,removeComment:()=>oh,replaceBlockRichText:()=>Vp,replaceChildrenId:()=>Pf,saveData:()=>hf,saveSelectionData:()=>mf,setBlockComments:()=>yf,setBlockPadding:()=>af,setBlockQuoted:()=>of,setBlockStartMarker:()=>Lh,setBlockStopMarker:()=>Rh,setBlockStyleState:()=>lf,setBlockStyles:()=>pf,setExpiredMarkerVisible:()=>Oh,toHtml:()=>Yh,toMarkdown:()=>jh,toText:()=>rh,updateBlockAlign:()=>Qh,updateBlockData:()=>Jp,updateBlockLockStatus:()=>qp,updateBlockMarker:()=>Sh,updateBlockText:()=>$p,updateBlockWidth:()=>Dh});var d={};n.r(d),n.d(d,{createRange:()=>Fw,fixAllBlocksSelection:()=>Qw,getCaretPos:()=>Uw,getChildEmbed:()=>Nw,getEmbedContainer:()=>Ow,getEmbedType:()=>Lw,getToolbarOptions:()=>Pw});var p={};n.r(p),n.d(p,{convertBlockToList:()=>UI,fixBrotherListStart:()=>YM,fixListParent:()=>wI,isAllTypeList:()=>jI,modifyList:()=>qM,toMindmap:()=>uI});var f={};n.r(f),n.d(f,{clearContainer:()=>d_,clearSelection:()=>l_,clearSelectionCore:()=>c_,deleteBlockText:()=>r_,insertBlockRichText:()=>i_,insertBlockText:()=>o_,mergeBlock:()=>n_,remoteDeleteBlocks:()=>u_});var h={};n.r(h),n.d(h,{autoScroll:()=>fL,createBlock:()=>_N,createContainer:()=>JN,deleteBlock:()=>zN,destroyContainer:()=>tL,executeBlockCommand:()=>uL,executeTextCommand:()=>dL,fixSelection:()=>hL,getAllBlocks:()=>SN,getAllBlocksInComplexBlock:()=>AL,getAllTypedBlocks:()=>yL,getBlockByIndex:()=>BN,getBlockCount:()=>ON,getBlockIndex:()=>TN,getCaretPos:()=>iL,getCaretPosDeep:()=>aL,getContainerId:()=>eL,getCurrentBlockIndex:()=>VN,getDetailCommandStatus:()=>EL,getEditorAllBlocks:()=>ML,getFirstVisibleBlock:()=>RN,getFocusedBlock:()=>DN,getLastBlock:()=>NN,getNextBlock:()=>IN,getNextBlockInDeep:()=>gL,getNextVisibleBlockInDeep:()=>bL,getParentBlock:()=>wN,getParentContainer:()=>kN,getPreviousBlock:()=>MN,getPreviousBlockInDeep:()=>mL,getPreviousVisibleBlockInDeep:()=>vL,getRootContainer:()=>EN,getTopBlock:()=>xN,handleContainerKeydown:()=>KN,inSameContainer:()=>CN,insertBlock:()=>LN,isBlockExclusive:()=>wL,isEqualCaretPos:()=>lL,isFullSelected:()=>IL,isMainContainer:()=>pL,loadBlocks:()=>nL,processQuickInput:()=>GN,reloadBlock:()=>WN,remoteDeleteBlock:()=>QN,remoteInsertBlock:()=>jN,remoteUpdateBlockData:()=>FN,remoteUpdateBlockText:()=>HN,saveData:()=>rL,setBlockExclusive:()=>xL,setCaretPos:()=>sL,tryAutoAppendNewTextBlock:()=>DL,tryRestoreCaretPos:()=>cL,updateBlockData:()=>UN,updateBlockText:()=>PN,updateBlockToolsFixedButton:()=>TL,updateCommandStatus:()=>BL,updateContainer:()=>$N});var A={};n.r(A),n.d(A,{collapseToEnd:()=>RL,getCaretDetail:()=>aR,getCaretType:()=>sR,getFirstLineOffset:()=>oR,getLastLineOffset:()=>iR,getLineEndOffset:()=>nR,getLineHomeOffset:()=>tR,getOffsetOfLine:()=>rR,getRange:()=>NL,getRangeDetail:()=>QL,getSelectedBlocks:()=>pR,getSelectedBlocksInComplexBlock:()=>qL,getSelectedBlocksInDeep:()=>ZL,getSelectedBlocksInRoot:()=>XL,getSelectedRootBlocks:()=>$L,getSelectedTextBlocks:()=>JL,getSelection:()=>OL,getSelectionDetail:()=>PL,getSelectionDirect:()=>LL,isCollapsed:()=>jL,isEqualSelectionDetail:()=>lR,isLineEndsWithBr:()=>fR,isSelected:()=>UL,isSelectionWritable:()=>dR,selectBlock:()=>KL,selectBlockChild:()=>WL,selectBlocks:()=>VL,selectBlocksWithDirect:()=>HL,selectBox:()=>GL,selectCompositionSpanFillChar:()=>YL,transformBlockOffset:()=>uR,tryMoveCaretToBlock:()=>cR});n(5666),n(6253),n(851),n(7732),n(6108),n(9371),n(8837),n(5767),n(522),n(9115),n(6997),n(1181),n(2310),n(1246),n(951),n(8416),n(1876),n(4899),n(1466);var m=n(7187),g=n.n(m),v=new m.EventEmitter;v.setMaxListeners(0);var b=new Function("try {return this===window;}catch(e){ return false;}"),y=null;function w(e,t){if(!e){var n=new Error(t);if(n.stack){var r=n.stack.split("\n");if(r.length>1)if(n.lineNumber&&n.columnNumber){var o=r[1].match(/(.*)@(.*):(\d+):(\d+)/);o&&(n.lineNumber=+o[3],n.columnNumber=+o[4],n.fileName=o[2]),r.splice(0,1)}else r.splice(1,1);n.stack=r.join("\n")}throw n.code="Assert",n}}b()&&(y=window.onerror,window.onerror=function(e,t,n,r,o){o&&o instanceof Error&&"Assert"===o.code&&v.emit("failure",e),y&&y(e,t,n,r,o)});var x=n(9560),k=n.n(x);let C=e=>crypto.getRandomValues(new Uint8Array(e));var E=((e,t)=>((e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return()=>{let i="";for(;;){let a=n(o),s=o;for(;s--;)if(i+=e[a[s]&r]||"",i.length===t)return i}}})(e,t,C))("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_",8);const B=function(){return"_".concat(E())};function T(){return{blocks:[{id:B(),type:"text",text:[]}],comments:{}}}function M(e){var t=B(),n=[];return e&&n.push({insert:e}),{blocks:[{id:t,type:"text",text:n,heading:1},{id:B(),type:"text",text:[]}],comments:{},meta:{}}}function I(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function D(e){return e instanceof I(e).Element||e instanceof Element}function _(e){return e instanceof I(e).HTMLElement||e instanceof HTMLElement}function S(e){return"undefined"!=typeof ShadowRoot&&(e instanceof I(e).ShadowRoot||e instanceof ShadowRoot)}var O=Math.max,N=Math.min,L=Math.round;function R(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,o=1;if(_(e)&&t){var i=e.offsetHeight,a=e.offsetWidth;a>0&&(r=L(n.width)/a||1),i>0&&(o=L(n.height)/i||1)}return{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function j(e){var t=I(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function U(e){return e?(e.nodeName||"").toLowerCase():null}function F(e){return((D(e)?e.ownerDocument:e.document)||window.document).documentElement}function z(e){return R(F(e)).left+j(e).scrollLeft}function Q(e){return I(e).getComputedStyle(e)}function P(e){var t=Q(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function H(e,t,n){void 0===n&&(n=!1);var r=_(t),o=_(t)&&function(e){var t=e.getBoundingClientRect(),n=L(t.width)/e.offsetWidth||1,r=L(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=F(t),a=R(e,o),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==U(t)||P(i))&&(s=function(e){return e!==I(e)&&_(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:j(e);var t}(t)),_(t)?((c=R(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=z(i))),{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function V(e){var t=R(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function K(e){return"html"===U(e)?e:e.assignedSlot||e.parentNode||(S(e)?e.host:null)||F(e)}function G(e){return["html","body","#document"].indexOf(U(e))>=0?e.ownerDocument.body:_(e)&&P(e)?e:G(K(e))}function W(e,t){var n;void 0===t&&(t=[]);var r=G(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=I(r),a=o?[i].concat(i.visualViewport||[],P(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(W(K(a)))}function Y(e){return["table","td","th"].indexOf(U(e))>=0}function q(e){return _(e)&&"fixed"!==Q(e).position?e.offsetParent:null}function Z(e){for(var t=I(e),n=q(e);n&&Y(n)&&"static"===Q(n).position;)n=q(n);return n&&("html"===U(n)||"body"===U(n)&&"static"===Q(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&_(e)&&"fixed"===Q(e).position)return null;for(var n=K(e);_(n)&&["html","body"].indexOf(U(n))<0;){var r=Q(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var X="top",J="bottom",$="right",ee="left",te="auto",ne=[X,J,$,ee],re="start",oe="end",ie="viewport",ae="popper",se=ne.reduce((function(e,t){return e.concat([t+"-"+re,t+"-"+oe])}),[]),ce=[].concat(ne,[te]).reduce((function(e,t){return e.concat([t,t+"-"+re,t+"-"+oe])}),[]),le=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ue(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}var de={placement:"bottom",modifiers:[],strategy:"absolute"};function pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function fe(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?de:o;return function(e,t,n){void 0===n&&(n=i);var o,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},de,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,u={state:s,setOptions:function(n){var o="function"==typeof n?n(s.options):n;d(),s.options=Object.assign({},i,s.options,o),s.scrollParents={reference:D(e)?W(e):e.contextElement?W(e.contextElement):[],popper:W(t)};var a=function(e){var t=ue(e);return le.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,s.options.modifiers)));return s.orderedModifiers=a.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var i=o({state:s,name:t,instance:u,options:r}),a=function(){};c.push(i||a)}})),u.update()},forceUpdate:function(){if(!l){var e=s.elements,t=e.reference,n=e.popper;if(pe(t,n)){s.rects={reference:H(t,Z(n),"fixed"===s.options.strategy),popper:V(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var o=s.orderedModifiers[r],i=o.fn,a=o.options,c=void 0===a?{}:a,d=o.name;"function"==typeof i&&(s=i({state:s,options:c,name:d,instance:u})||s)}else s.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(e){u.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(o())}))}))),a}),destroy:function(){d(),l=!0}};if(!pe(e,t))return u;function d(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var he={passive:!0};function Ae(e){return e.split("-")[0]}function me(e){return e.split("-")[1]}function ge(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ve(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?Ae(o):null,a=o?me(o):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(i){case X:t={x:s,y:n.y-r.height};break;case J:t={x:s,y:n.y+n.height};break;case $:t={x:n.x+n.width,y:c};break;case ee:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=i?ge(i):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case re:t[l]=t[l]-(n[u]/2-r[u]/2);break;case oe:t[l]=t[l]+(n[u]/2-r[u]/2)}}return t}var be={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ye(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=!0===u?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:L(t*r)/r||0,y:L(n*r)/r||0}}(a):"function"==typeof u?u(a):a,f=p.x,h=void 0===f?0:f,A=p.y,m=void 0===A?0:A,g=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),b=ee,y=X,w=window;if(l){var x=Z(n),k="clientHeight",C="clientWidth";if(x===I(n)&&"static"!==Q(x=F(n)).position&&"absolute"===s&&(k="scrollHeight",C="scrollWidth"),x=x,o===X||(o===ee||o===$)&&i===oe)y=J,m-=(d&&w.visualViewport?w.visualViewport.height:x[k])-r.height,m*=c?1:-1;if(o===ee||(o===X||o===J)&&i===oe)b=$,h-=(d&&w.visualViewport?w.visualViewport.width:x[C])-r.width,h*=c?1:-1}var E,B=Object.assign({position:s},l&&be);return c?Object.assign({},B,((E={})[y]=v?"0":"",E[b]=g?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",E)):Object.assign({},B,((t={})[y]=v?m+"px":"",t[b]=g?h+"px":"",t.transform="",t))}const we={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];_(o)&&U(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});_(r)&&U(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var xe={left:"right",right:"left",bottom:"top",top:"bottom"};function ke(e){return e.replace(/left|right|bottom|top/g,(function(e){return xe[e]}))}var Ce={start:"end",end:"start"};function Ee(e){return e.replace(/start|end/g,(function(e){return Ce[e]}))}function Be(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&S(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Te(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Me(e,t){return t===ie?Te(function(e){var t=I(e),n=F(e),r=t.visualViewport,o=n.clientWidth,i=n.clientHeight,a=0,s=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:o,height:i,x:a+z(e),y:s}}(e)):D(t)?function(e){var t=R(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Te(function(e){var t,n=F(e),r=j(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=O(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=O(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+z(e),c=-r.scrollTop;return"rtl"===Q(o||n).direction&&(s+=O(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:c}}(F(e)))}function Ie(e,t,n){var r="clippingParents"===t?function(e){var t=W(K(e)),n=["absolute","fixed"].indexOf(Q(e).position)>=0,r=n&&_(e)?Z(e):e;return D(r)?t.filter((function(e){return D(e)&&Be(e,r)&&"body"!==U(e)&&(!n||"static"!==Q(e).position)})):[]}(e):[].concat(t),o=[].concat(r,[n]),i=o[0],a=o.reduce((function(t,n){var r=Me(e,n);return t.top=O(r.top,t.top),t.right=N(r.right,t.right),t.bottom=N(r.bottom,t.bottom),t.left=O(r.left,t.left),t}),Me(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function De(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function _e(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Se(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.boundary,a=void 0===i?"clippingParents":i,s=n.rootBoundary,c=void 0===s?ie:s,l=n.elementContext,u=void 0===l?ae:l,d=n.altBoundary,p=void 0!==d&&d,f=n.padding,h=void 0===f?0:f,A=De("number"!=typeof h?h:_e(h,ne)),m=u===ae?"reference":ae,g=e.rects.popper,v=e.elements[p?m:u],b=Ie(D(v)?v:v.contextElement||F(e.elements.popper),a,c),y=R(e.elements.reference),w=ve({reference:y,element:g,strategy:"absolute",placement:o}),x=Te(Object.assign({},g,w)),k=u===ae?x:y,C={top:b.top-k.top+A.top,bottom:k.bottom-b.bottom+A.bottom,left:b.left-k.left+A.left,right:k.right-b.right+A.right},E=e.modifiersData.offset;if(u===ae&&E){var B=E[o];Object.keys(C).forEach((function(e){var t=[$,J].indexOf(e)>=0?1:-1,n=[X,J].indexOf(e)>=0?"y":"x";C[e]+=B[n]*t}))}return C}function Oe(e,t,n){return O(e,N(t,n))}function Ne(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Le(e){return[X,$,J,ee].some((function(t){return e[t]>=0}))}var Re=fe({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,c=I(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",n.update,he)})),s&&c.addEventListener("resize",n.update,he),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",n.update,he)})),s&&c.removeEventListener("resize",n.update,he)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ve({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,c=void 0===s||s,l={placement:Ae(t.placement),variation:me(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ye(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ye(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},we,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=ce.reduce((function(e,n){return e[n]=function(e,t,n){var r=Ae(e),o=[ee,X].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[ee,$].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,h=void 0===f||f,A=n.allowedAutoPlacements,m=t.options.placement,g=Ae(m),v=c||(g===m||!h?[ke(m)]:function(e){if(Ae(e)===te)return[];var t=ke(e);return[Ee(e),t,Ee(t)]}(m)),b=[m].concat(v).reduce((function(e,n){return e.concat(Ae(n)===te?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?ce:c,u=me(r),d=u?s?se:se.filter((function(e){return me(e)===u})):ne,p=d.filter((function(e){return l.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,n){return t[n]=Se(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[Ae(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:h,allowedAutoPlacements:A}):n)}),[]),y=t.rects.reference,w=t.rects.popper,x=new Map,k=!0,C=b[0],E=0;E<b.length;E++){var B=b[E],T=Ae(B),M=me(B)===re,I=[X,J].indexOf(T)>=0,D=I?"width":"height",_=Se(t,{placement:B,boundary:u,rootBoundary:d,altBoundary:p,padding:l}),S=I?M?$:ee:M?J:X;y[D]>w[D]&&(S=ke(S));var O=ke(S),N=[];if(i&&N.push(_[T]<=0),s&&N.push(_[S]<=0,_[O]<=0),N.every((function(e){return e}))){C=B,k=!1;break}x.set(B,N)}if(k)for(var L=function(e){var t=b.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},R=h?3:1;R>0;R--){if("break"===L(R))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,p=n.tether,f=void 0===p||p,h=n.tetherOffset,A=void 0===h?0:h,m=Se(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),g=Ae(t.placement),v=me(t.placement),b=!v,y=ge(g),w="x"===y?"y":"x",x=t.modifiersData.popperOffsets,k=t.rects.reference,C=t.rects.popper,E="function"==typeof A?A(Object.assign({},t.rects,{placement:t.placement})):A,B="number"==typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(x){if(i){var I,D="y"===y?X:ee,_="y"===y?J:$,S="y"===y?"height":"width",L=x[y],R=L+m[D],j=L-m[_],U=f?-C[S]/2:0,F=v===re?k[S]:C[S],z=v===re?-C[S]:-k[S],Q=t.elements.arrow,P=f&&Q?V(Q):{width:0,height:0},H=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},K=H[D],G=H[_],W=Oe(0,k[S],P[S]),Y=b?k[S]/2-U-W-K-B.mainAxis:F-W-K-B.mainAxis,q=b?-k[S]/2+U+W+G+B.mainAxis:z+W+G+B.mainAxis,te=t.elements.arrow&&Z(t.elements.arrow),ne=te?"y"===y?te.clientTop||0:te.clientLeft||0:0,oe=null!=(I=null==T?void 0:T[y])?I:0,ie=L+q-oe,ae=Oe(f?N(R,L+Y-oe-ne):R,L,f?O(j,ie):j);x[y]=ae,M[y]=ae-L}if(s){var se,ce="x"===y?X:ee,le="x"===y?J:$,ue=x[w],de="y"===w?"height":"width",pe=ue+m[ce],fe=ue-m[le],he=-1!==[X,ee].indexOf(g),ve=null!=(se=null==T?void 0:T[w])?se:0,be=he?pe:ue-k[de]-C[de]-ve+B.altAxis,ye=he?ue+k[de]+C[de]-ve-B.altAxis:fe,we=f&&he?function(e,t,n){var r=Oe(e,t,n);return r>n?n:r}(be,ue,ye):Oe(f?be:pe,ue,f?ye:fe);x[w]=we,M[w]=we-ue}t.modifiersData[r]=M}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Ae(n.placement),c=ge(s),l=[ee,$].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return De("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:_e(e,ne))}(o.padding,n),d=V(i),p="y"===c?X:ee,f="y"===c?J:$,h=n.rects.reference[l]+n.rects.reference[c]-a[c]-n.rects.popper[l],A=a[c]-n.rects.reference[c],m=Z(i),g=m?"y"===c?m.clientHeight||0:m.clientWidth||0:0,v=h/2-A/2,b=u[p],y=g-d[l]-u[f],w=g/2-d[l]/2+v,x=Oe(b,w,y),k=c;n.modifiersData[r]=((t={})[k]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Be(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Se(t,{elementContext:"reference"}),s=Se(t,{altBoundary:!0}),c=Ne(a,r),l=Ne(s,o,i),u=Le(c),d=Le(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),je='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',Ue="tippy-content",Fe="tippy-backdrop",ze="tippy-arrow",Qe="tippy-svg-arrow",Pe={passive:!0,capture:!0},He=function(){return document.body};function Ve(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function Ke(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function Ge(e,t){return"function"==typeof e?e.apply(void 0,t):e}function We(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function Ye(e,t){var n=Object.assign({},e);return t.forEach((function(e){delete n[e]})),n}function qe(e){return[].concat(e)}function Ze(e,t){-1===e.indexOf(t)&&e.push(t)}function Xe(e){return e.split("-")[0]}function Je(e){return[].slice.call(e)}function $e(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function et(){return document.createElement("div")}function tt(e){return["Element","Fragment"].some((function(t){return Ke(e,t)}))}function nt(e){return Ke(e,"MouseEvent")}function rt(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function ot(e){return tt(e)?[e]:function(e){return Ke(e,"NodeList")}(e)?Je(e):Array.isArray(e)?e:Je(document.querySelectorAll(e))}function it(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function at(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function st(e){var t,n=qe(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function ct(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function lt(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var ut={isTouch:!1},dt=0;function pt(){ut.isTouch||(ut.isTouch=!0,window.performance&&document.addEventListener("mousemove",ft))}function ft(){var e=performance.now();e-dt<20&&(ut.isTouch=!1,document.removeEventListener("mousemove",ft)),dt=e}function ht(){var e=document.activeElement;if(rt(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var At=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var mt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},gt=Object.assign({appendTo:He,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},mt,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),vt=Object.keys(gt);function bt(e){var t=(e.plugins||[]).reduce((function(t,n){var r,o=n.name,i=n.defaultValue;o&&(t[o]=void 0!==e[o]?e[o]:null!=(r=gt[o])?r:i);return t}),{});return Object.assign({},e,t)}function yt(e,t){var n=Object.assign({},t,{content:Ge(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(bt(Object.assign({},gt,{plugins:t}))):vt).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},gt.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function wt(e,t){e.innerHTML=t}function xt(e){var t=et();return!0===e?t.className=ze:(t.className=Qe,tt(e)?t.appendChild(e):wt(t,e)),t}function kt(e,t){tt(t.content)?(wt(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?wt(e,t.content):e.textContent=t.content)}function Ct(e){var t=e.firstElementChild,n=Je(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(Ue)})),arrow:n.find((function(e){return e.classList.contains(ze)||e.classList.contains(Qe)})),backdrop:n.find((function(e){return e.classList.contains(Fe)}))}}function Et(e){var t=et(),n=et();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=et();function o(n,r){var o=Ct(t),i=o.box,a=o.content,s=o.arrow;r.theme?i.setAttribute("data-theme",r.theme):i.removeAttribute("data-theme"),"string"==typeof r.animation?i.setAttribute("data-animation",r.animation):i.removeAttribute("data-animation"),r.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?i.setAttribute("role",r.role):i.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||kt(a,e.props),r.arrow?s?n.arrow!==r.arrow&&(i.removeChild(s),i.appendChild(xt(r.arrow))):i.appendChild(xt(r.arrow)):s&&i.removeChild(s)}return r.className=Ue,r.setAttribute("data-state","hidden"),kt(r,e.props),t.appendChild(n),n.appendChild(r),o(e.props,e.props),{popper:t,onUpdate:o}}Et.$$tippy=!0;var Bt=1,Tt=[],Mt=[];function It(e,t){var n,r,o,i,a,s,c,l,u=yt(e,Object.assign({},gt,bt($e(t)))),d=!1,p=!1,f=!1,h=!1,A=[],m=We(W,u.interactiveDebounce),g=Bt++,v=(l=u.plugins).filter((function(e,t){return l.indexOf(e)===t})),b={id:g,reference:e,popper:et(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:v,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(o)},setProps:function(t){0;if(b.state.isDestroyed)return;O("onBeforeUpdate",[b,t]),K();var n=b.props,r=yt(e,Object.assign({},n,$e(t),{ignoreAttributes:!0}));b.props=r,V(),n.interactiveDebounce!==r.interactiveDebounce&&(R(),m=We(W,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?qe(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");L(),S(),x&&x(n,r);b.popperInstance&&(X(),$().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));O("onAfterUpdate",[b,t])},setContent:function(e){b.setProps({content:e})},show:function(){0;var e=b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,r=ut.isTouch&&!b.props.touch,o=Ve(b.props.duration,0,gt.duration);if(e||t||n||r)return;if(M().hasAttribute("disabled"))return;if(O("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,T()&&(w.style.visibility="visible");S(),z(),b.state.isMounted||(w.style.transition="none");if(T()){var i=D(),a=i.box,c=i.content;it([a,c],0)}s=function(){var e;if(b.state.isVisible&&!h){if(h=!0,w.offsetHeight,w.style.transition=b.props.moveTransition,T()&&b.props.animation){var t=D(),n=t.box,r=t.content;it([n,r],o),at([n,r],"visible")}N(),L(),Ze(Mt,b),null==(e=b.popperInstance)||e.forceUpdate(),O("onMount",[b]),b.props.animation&&T()&&function(e,t){P(e,t)}(o,(function(){b.state.isShown=!0,O("onShown",[b])}))}},function(){var e,t=b.props.appendTo,n=M();e=b.props.interactive&&t===He||"parent"===t?n.parentNode:Ge(t,[n]);e.contains(w)||e.appendChild(w);b.state.isMounted=!0,X(),!1}()},hide:function(){0;var e=!b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,r=Ve(b.props.duration,1,gt.duration);if(e||t||n)return;if(O("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,h=!1,d=!1,T()&&(w.style.visibility="hidden");if(R(),Q(),S(!0),T()){var o=D(),i=o.box,a=o.content;b.props.animation&&(it([i,a],r),at([i,a],"hidden"))}N(),L(),b.props.animation?T()&&function(e,t){P(e,(function(){!b.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&t()}))}(r,b.unmount):b.unmount()},hideWithInteractivity:function(e){0;I().addEventListener("mousemove",m),Ze(Tt,m),m(e)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){0;b.state.isVisible&&b.hide();if(!b.state.isMounted)return;J(),$().forEach((function(e){e._tippy.unmount()})),w.parentNode&&w.parentNode.removeChild(w);Mt=Mt.filter((function(e){return e!==b})),b.state.isMounted=!1,O("onHidden",[b])},destroy:function(){0;if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),K(),delete e._tippy,b.state.isDestroyed=!0,O("onDestroy",[b])}};if(!u.render)return b;var y=u.render(b),w=y.popper,x=y.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+b.id,b.popper=w,e._tippy=b,w._tippy=b;var k=v.map((function(e){return e.fn(b)})),C=e.hasAttribute("aria-expanded");return V(),L(),S(),O("onCreate",[b]),u.showOnCreate&&ee(),w.addEventListener("mouseenter",(function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()})),w.addEventListener("mouseleave",(function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&I().addEventListener("mousemove",m)})),b;function E(){var e=b.props.touch;return Array.isArray(e)?e:[e,0]}function B(){return"hold"===E()[0]}function T(){var e;return!(null==(e=b.props.render)||!e.$$tippy)}function M(){return c||e}function I(){var e=M().parentNode;return e?st(e):document}function D(){return Ct(w)}function _(e){return b.state.isMounted&&!b.state.isVisible||ut.isTouch||i&&"focus"===i.type?0:Ve(b.props.delay,e?0:1,gt.delay)}function S(e){void 0===e&&(e=!1),w.style.pointerEvents=b.props.interactive&&!e?"":"none",w.style.zIndex=""+b.props.zIndex}function O(e,t,n){var r;(void 0===n&&(n=!0),k.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=b.props)[e].apply(r,t)}function N(){var t=b.props.aria;if(t.content){var n="aria-"+t.content,r=w.id;qe(b.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(b.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var o=t&&t.replace(r,"").trim();o?e.setAttribute(n,o):e.removeAttribute(n)}}))}}function L(){!C&&b.props.aria.expanded&&qe(b.props.triggerTarget||e).forEach((function(e){b.props.interactive?e.setAttribute("aria-expanded",b.state.isVisible&&e===M()?"true":"false"):e.removeAttribute("aria-expanded")}))}function R(){I().removeEventListener("mousemove",m),Tt=Tt.filter((function(e){return e!==m}))}function j(t){if(!ut.isTouch||!f&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!b.props.interactive||!lt(w,n)){if(qe(b.props.triggerTarget||e).some((function(e){return lt(e,n)}))){if(ut.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else O("onClickOutside",[b,t]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),p=!0,setTimeout((function(){p=!1})),b.state.isMounted||Q())}}}function U(){f=!0}function F(){f=!1}function z(){var e=I();e.addEventListener("mousedown",j,!0),e.addEventListener("touchend",j,Pe),e.addEventListener("touchstart",F,Pe),e.addEventListener("touchmove",U,Pe)}function Q(){var e=I();e.removeEventListener("mousedown",j,!0),e.removeEventListener("touchend",j,Pe),e.removeEventListener("touchstart",F,Pe),e.removeEventListener("touchmove",U,Pe)}function P(e,t){var n=D().box;function r(e){e.target===n&&(ct(n,"remove",r),t())}if(0===e)return t();ct(n,"remove",a),ct(n,"add",r),a=r}function H(t,n,r){void 0===r&&(r=!1),qe(b.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),A.push({node:e,eventType:t,handler:n,options:r})}))}function V(){var e;B()&&(H("touchstart",G,{passive:!0}),H("touchend",Y,{passive:!0})),(e=b.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(H(e,G),e){case"mouseenter":H("mouseleave",Y);break;case"focus":H(At?"focusout":"blur",q);break;case"focusin":H("focusout",q)}}))}function K(){A.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,o=e.options;t.removeEventListener(n,r,o)})),A=[]}function G(e){var t,n=!1;if(b.state.isEnabled&&!Z(e)&&!p){var r="focus"===(null==(t=i)?void 0:t.type);i=e,c=e.currentTarget,L(),!b.state.isVisible&&nt(e)&&Tt.forEach((function(t){return t(e)})),"click"===e.type&&(b.props.trigger.indexOf("mouseenter")<0||d)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:ee(e),"click"===e.type&&(d=!n),n&&!r&&te(e)}}function W(e){var t=e.target,n=M().contains(t)||w.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,o=e.popperState,i=e.props.interactiveBorder,a=Xe(o.placement),s=o.modifiersData.offset;if(!s)return!0;var c="bottom"===a?s.top.y:0,l="top"===a?s.bottom.y:0,u="right"===a?s.left.x:0,d="left"===a?s.right.x:0,p=t.top-r+c>i,f=r-t.bottom-l>i,h=t.left-n+u>i,A=n-t.right-d>i;return p||f||h||A}))}($().concat(w).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:u}:null})).filter(Boolean),e)&&(R(),te(e))}function Y(e){Z(e)||b.props.trigger.indexOf("click")>=0&&d||(b.props.interactive?b.hideWithInteractivity(e):te(e))}function q(e){b.props.trigger.indexOf("focusin")<0&&e.target!==M()||b.props.interactive&&e.relatedTarget&&w.contains(e.relatedTarget)||te(e)}function Z(e){return!!ut.isTouch&&B()!==e.type.indexOf("touch")>=0}function X(){J();var t=b.props,n=t.popperOptions,r=t.placement,o=t.offset,i=t.getReferenceClientRect,a=t.moveTransition,c=T()?Ct(w).arrow:null,l=i?{getBoundingClientRect:i,contextElement:i.contextElement||M()}:e,u=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(T()){var n=D().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];T()&&c&&u.push({name:"arrow",options:{element:c,padding:3}}),u.push.apply(u,(null==n?void 0:n.modifiers)||[]),b.popperInstance=Re(l,w,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:u}))}function J(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function $(){return Je(w.querySelectorAll("[data-tippy-root]"))}function ee(e){b.clearDelayTimeouts(),e&&O("onTrigger",[b,e]),z();var t=_(!0),r=E(),o=r[0],i=r[1];ut.isTouch&&"hold"===o&&i&&(t=i),t?n=setTimeout((function(){b.show()}),t):b.show()}function te(e){if(b.clearDelayTimeouts(),O("onUntrigger",[b,e]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&d)){var t=_(!1);t?r=setTimeout((function(){b.state.isVisible&&b.hide()}),t):o=requestAnimationFrame((function(){b.hide()}))}}else Q()}}function Dt(e,t){void 0===t&&(t={});var n=gt.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",pt,Pe),window.addEventListener("blur",ht);var r=Object.assign({},t,{plugins:n}),o=ot(e).reduce((function(e,t){var n=t&&It(t,r);return n&&e.push(n),e}),[]);return tt(e)?o[0]:o}Dt.defaultProps=gt,Dt.setDefaultProps=function(e){Object.keys(e).forEach((function(t){gt[t]=e[t]}))},Dt.currentInput=ut;var _t=function(e){var t=void 0===e?{}:e,n=t.exclude,r=t.duration;Mt.forEach((function(e){var t=!1;if(n&&(t=rt(n)?e.reference===n:e.popper===n.popper),!t){var o=e.props.duration;e.setProps({duration:r}),e.hide(),e.state.isDestroyed||e.setProps({duration:o})}}))},St=Object.assign({},we,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),Ot=function(e,t){var n;void 0===t&&(t={});var r,o=e,i=[],a=[],s=t.overrides,c=[],l=!1;function u(){a=o.map((function(e){return qe(e.props.triggerTarget||e.reference)})).reduce((function(e,t){return e.concat(t)}),[])}function d(){i=o.map((function(e){return e.reference}))}function p(e){o.forEach((function(t){e?t.enable():t.disable()}))}function f(e){return o.map((function(t){var n=t.setProps;return t.setProps=function(o){n(o),t.reference===r&&e.setProps(o)},function(){t.setProps=n}}))}function h(e,t){var n=a.indexOf(t);if(t!==r){r=t;var c=(s||[]).concat("content").reduce((function(e,t){return e[t]=o[n].props[t],e}),{});e.setProps(Object.assign({},c,{getReferenceClientRect:"function"==typeof c.getReferenceClientRect?c.getReferenceClientRect:function(){var e;return null==(e=i[n])?void 0:e.getBoundingClientRect()}}))}}p(!1),d(),u();var A={fn:function(){return{onDestroy:function(){p(!0)},onHidden:function(){r=null},onClickOutside:function(e){e.props.showOnCreate&&!l&&(l=!0,r=null)},onShow:function(e){e.props.showOnCreate&&!l&&(l=!0,h(e,i[0]))},onTrigger:function(e,t){h(e,t.currentTarget)}}}},m=Dt(et(),Object.assign({},Ye(t,["overrides"]),{plugins:[A].concat(t.plugins||[]),triggerTarget:a,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((null==(n=t.popperOptions)?void 0:n.modifiers)||[],[St])})})),g=m.show;m.show=function(e){if(g(),!r&&null==e)return h(m,i[0]);if(!r||null!=e){if("number"==typeof e)return i[e]&&h(m,i[e]);if(o.indexOf(e)>=0){var t=e.reference;return h(m,t)}return i.indexOf(e)>=0?h(m,e):void 0}},m.showNext=function(){var e=i[0];if(!r)return m.show(0);var t=i.indexOf(r);m.show(i[t+1]||e)},m.showPrevious=function(){var e=i[i.length-1];if(!r)return m.show(e);var t=i.indexOf(r),n=i[t-1]||e;m.show(n)};var v=m.setProps;return m.setProps=function(e){s=e.overrides||s,v(e)},m.setInstances=function(e){p(!0),c.forEach((function(e){return e()})),o=e,p(!1),d(),u(),c=f(m),m.setProps({triggerTarget:a})},c=f(m),m},Nt={mouseover:"mouseenter",focusin:"focus",click:"click"};function Lt(e,t){var n=[],r=[],o=!1,i=t.target,a=Ye(t,["target"]),s=Object.assign({},a,{trigger:"manual",touch:!1}),c=Object.assign({touch:gt.touch},a,{showOnCreate:!0}),l=Dt(e,s);function u(e){if(e.target&&!o){var n=e.target.closest(i);if(n){var a=n.getAttribute("data-tippy-trigger")||t.trigger||gt.trigger;if(!n._tippy&&!("touchstart"===e.type&&"boolean"==typeof c.touch||"touchstart"!==e.type&&a.indexOf(Nt[e.type])<0)){var s=Dt(n,c);s&&(r=r.concat(s))}}}}function d(e,t,r,o){void 0===o&&(o=!1),e.addEventListener(t,r,o),n.push({node:e,eventType:t,handler:r,options:o})}return qe(l).forEach((function(e){var t=e.destroy,i=e.enable,a=e.disable;e.destroy=function(e){void 0===e&&(e=!0),e&&r.forEach((function(e){e.destroy()})),r=[],n.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,o=e.options;t.removeEventListener(n,r,o)})),n=[],t()},e.enable=function(){i(),r.forEach((function(e){return e.enable()})),o=!1},e.disable=function(){a(),r.forEach((function(e){return e.disable()})),o=!0},function(e){var t=e.reference;d(t,"touchstart",u,Pe),d(t,"mouseover",u),d(t,"focusin",u),d(t,"click",u)}(e)})),l}var Rt={name:"animateFill",defaultValue:!1,fn:function(e){var t;if(null==(t=e.props.render)||!t.$$tippy)return{};var n=Ct(e.popper),r=n.box,o=n.content,i=e.props.animateFill?function(){var e=et();return e.className=Fe,at([e],"hidden"),e}():null;return{onCreate:function(){i&&(r.insertBefore(i,r.firstElementChild),r.setAttribute("data-animatefill",""),r.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(i){var e=r.style.transitionDuration,t=Number(e.replace("ms",""));o.style.transitionDelay=Math.round(t/10)+"ms",i.style.transitionDuration=e,at([i],"visible")}},onShow:function(){i&&(i.style.transitionDuration="0ms")},onHide:function(){i&&at([i],"hidden")}}}};var jt={clientX:0,clientY:0},Ut=[];function Ft(e){var t=e.clientX,n=e.clientY;jt={clientX:t,clientY:n}}var zt={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,n=st(e.props.triggerTarget||t),r=!1,o=!1,i=!0,a=e.props;function s(){return"initial"===e.props.followCursor&&e.state.isVisible}function c(){n.addEventListener("mousemove",d)}function l(){n.removeEventListener("mousemove",d)}function u(){r=!0,e.setProps({getReferenceClientRect:null}),r=!1}function d(n){var r=!n.target||t.contains(n.target),o=e.props.followCursor,i=n.clientX,a=n.clientY,s=t.getBoundingClientRect(),c=i-s.left,l=a-s.top;!r&&e.props.interactive||e.setProps({getReferenceClientRect:function(){var e=t.getBoundingClientRect(),n=i,r=a;"initial"===o&&(n=e.left+c,r=e.top+l);var s="horizontal"===o?e.top:r,u="vertical"===o?e.right:n,d="horizontal"===o?e.bottom:r,p="vertical"===o?e.left:n;return{width:u-p,height:d-s,top:s,right:u,bottom:d,left:p}}})}function p(){e.props.followCursor&&(Ut.push({instance:e,doc:n}),function(e){e.addEventListener("mousemove",Ft)}(n))}function f(){0===(Ut=Ut.filter((function(t){return t.instance!==e}))).filter((function(e){return e.doc===n})).length&&function(e){e.removeEventListener("mousemove",Ft)}(n)}return{onCreate:p,onDestroy:f,onBeforeUpdate:function(){a=e.props},onAfterUpdate:function(t,n){var i=n.followCursor;r||void 0!==i&&a.followCursor!==i&&(f(),i?(p(),!e.state.isMounted||o||s()||c()):(l(),u()))},onMount:function(){e.props.followCursor&&!o&&(i&&(d(jt),i=!1),s()||c())},onTrigger:function(e,t){nt(t)&&(jt={clientX:t.clientX,clientY:t.clientY}),o="focus"===t.type},onHidden:function(){e.props.followCursor&&(u(),l(),i=!0)}}}};var Qt={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t,n=e.reference;var r=-1,o=!1,i=[],a={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(o){var a=o.state;e.props.inlinePositioning&&(-1!==i.indexOf(a.placement)&&(i=[]),t!==a.placement&&-1===i.indexOf(a.placement)&&(i.push(a.placement),e.setProps({getReferenceClientRect:function(){return function(e){return function(e,t,n,r){if(n.length<2||null===e)return t;if(2===n.length&&r>=0&&n[0].left>n[1].right)return n[r]||t;switch(e){case"top":case"bottom":var o=n[0],i=n[n.length-1],a="top"===e,s=o.top,c=i.bottom,l=a?o.left:i.left,u=a?o.right:i.right;return{top:s,bottom:c,left:l,right:u,width:u-l,height:c-s};case"left":case"right":var d=Math.min.apply(Math,n.map((function(e){return e.left}))),p=Math.max.apply(Math,n.map((function(e){return e.right}))),f=n.filter((function(t){return"left"===e?t.left===d:t.right===p})),h=f[0].top,A=f[f.length-1].bottom;return{top:h,bottom:A,left:d,right:p,width:p-d,height:A-h};default:return t}}(Xe(e),n.getBoundingClientRect(),Je(n.getClientRects()),r)}(a.placement)}})),t=a.placement)}};function s(){var t;o||(t=function(e,t){var n;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat(((null==(n=e.popperOptions)?void 0:n.modifiers)||[]).filter((function(e){return e.name!==t.name})),[t])})}}(e.props,a),o=!0,e.setProps(t),o=!1)}return{onCreate:s,onAfterUpdate:s,onTrigger:function(t,n){if(nt(n)){var o=Je(e.reference.getClientRects()),i=o.find((function(e){return e.left-2<=n.clientX&&e.right+2>=n.clientX&&e.top-2<=n.clientY&&e.bottom+2>=n.clientY})),a=o.indexOf(i);r=a>-1?a:r}},onHidden:function(){r=-1}}}};var Pt={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,n=e.popper;function r(t){return!0===e.props.sticky||e.props.sticky===t}var o=null,i=null;function a(){var s=r("reference")?(e.popperInstance?e.popperInstance.state.elements.reference:t).getBoundingClientRect():null,c=r("popper")?n.getBoundingClientRect():null;(s&&Ht(o,s)||c&&Ht(i,c))&&e.popperInstance&&e.popperInstance.update(),o=s,i=c,e.state.isMounted&&requestAnimationFrame(a)}return{onMount:function(){e.props.sticky&&a()}}}};function Ht(e,t){return!e||!t||(e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left)}Dt.setDefaultProps({render:Et});const Vt=Dt;n(8184),n(9357),n(5115),n(3276),n(7476),n(6059),n(5869),n(110);function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t,n){return t&&Gt(e.prototype,t),n&&Gt(e,n),e}var Yt=function(){function e(t){Kt(this,e),this._cells=[];for(var n=0;n<t;n++)this._cells.push(void 0)}return Wt(e,[{key:"cols",value:function(){return this._cells.length}},{key:"setCell",value:function(e,t){w(e>=0&&e<this.cols()),this._cells[e]=t}},{key:"getCell",value:function(e){w(e>=0&&e<this.cols());var t=this._cells[e];return w(t),t}},{key:"getCellAllowEmpty",value:function(e){return w(e>=0&&e<this.cols()),this._cells[e]}},{key:"getNextNonVirtualCell",value:function(e){return this._cells.slice(e+1).find((function(e){return!e.virtual}))}},{key:"forEach",value:function(e){this._cells.forEach(e)}}]),e}(),qt=function(){function e(t){Kt(this,e),this._data=t,this._rows=[];for(var n=0;n<this.rowCount;n++)this._rows.push(new Yt(this.colCount));this.fillGrid()}return Wt(e,[{key:"rowCount",get:function(){return this._data.rows}},{key:"colCount",get:function(){return this._data.cols}},{key:"getNextEmptyCell",value:function(e,t){for(var n=e,r=t;;){if((n+=1)===this.colCount&&(n=0,r+=1),r>=this.rowCount)return null;if(void 0===this._rows[r].getCellAllowEmpty(n))return{col:n,row:r}}}},{key:"fillGrid",value:function(){var e=this,t=this._data.children;w(t);var n=0,r=0;t.forEach((function(o,i){for(var a=e._data["".concat(o,"_colSpan")]||1,s=e._data["".concat(o,"_rowSpan")]||1,c=0;c<s;c++)for(var l=0;l<a;l++)e._rows[r+c].setCell(n+l,{col:n,row:r,cellId:o,virtual:0!==l||0!==c,colSpan:a,rowSpan:s});var u=e.getNextEmptyCell(n,r);u?(n=u.col,r=u.row):w(i===t.length-1)})),this._rows.forEach((function(e){e.forEach((function(e){w(e),w(e.cellId)}))}))}},{key:"getCell",value:function(e){var t=e.col,n=e.row,r=this._rows[n];w(r);var o=r.getCell(t);return w(o),o}},{key:"getRow",value:function(e){var t=this._rows[e];return w(t),t}},{key:"forEach",value:function(e){this._rows.forEach(e)}}]),e}();function Zt(e,t,n,r){t.forEach((function(t){if((null==r?void 0:r.onBeginBlock)&&r.onBeginBlock(e,t.id,t.type,t,n),null==r?void 0:r.onText){var o=t.text;if(o)if(w(Array.isArray(o)),o.length>0)o.forEach((function(n){(null==r?void 0:r.onText)&&r.onText(e,t.id,n.insert,n.attributes||{})}))}(null==r?void 0:r.onEndBlock)&&r.onEndBlock(e,t.id)}))}function Xt(e,t,n){w(t.children),w(Array.isArray(t.children)),t.children.forEach((function(t){if(n.onChild){var r=e[t];w(r),w(Array.isArray(r)),n.onChild(e,t,r)}}))}function Jt(e,t,n){var r=t.cols,o=t.rows;w(r>1),w(o>=1),(null==n?void 0:n.onBeginTable)&&n.onBeginTable(e,t.id,r,o,t);for(var i=new qt(t),a=0;a<i.rowCount;a++)for(var s=0;s<i.colCount;s++){var c=i.getCell({col:s,row:a}),l=e[c.cellId];w(l),w(Array.isArray(l)),(null==n?void 0:n.onTableCell)&&(null==n||n.onTableCell(e,s,a,c.cellId,!!c.virtual,l))}(null==n?void 0:n.onEndTable)&&n.onEndTable(e,t.id)}function $t(e,t){w(e.blocks),w(e.comments),Zt(e,e.blocks,null,t)}function en(e,t){$t(e,{onText:t.onText,onBeginBlock:function(n,r,o,i,a){t.onBeginBlock&&t.onBeginBlock(e,r,o,i,a),i.children&&Xt(n,i,{onChild:function(e,r,o){Zt(n,o,i,t)}})},onEndBlock:t.onEndBlock})}function tn(e,t){$t(e,{onBeginBlock:function(e,n,r,o,i){t(e,n,r,o,i),o.children&&Xt(e,o,{onChild:function(n,r,i){Zt(e,i,o,{onBeginBlock:function(n,r,o,i,a){return t(e,r,o,i,a)}})}})}})}n(8977),n(4531);var nn=n(2307),rn=n.n(nn);function on(e){return function(e){if(Array.isArray(e))return an(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return an(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sn(e){w(e),w(e.blocks);for(var t=e.blocks,n=0,r=0;r<t.length;r+=1){var o=t[r];if(o.text&&o.text.length)for(var i=0;i<o.text.length;i+=1){var a=o.text[i];a.insert&&a.insert.length&&(n+=a.insert.length)}}return n}function cn(e){var t;return("text"===e.type||"list"===e.type)&&(!e.text||0===(null===(t=e.text)||void 0===t?void 0:t.length))}function ln(e){return!(e.blocks.length>1)&&(w(1===e.blocks.length),cn(e.blocks[0]))}function un(e){for(var t=0,n=0;n<e.length&&" "===e[n];n+=1)t+=1;return 0===t?e:new Array(t).fill(" ").join("")+e.substr(t)}function dn(e){for(var t=0,n=0;n<e.length&&" "===e[n];n+=1)t+=1;return 0===t?e:new Array(t).fill(" ").join("")+e.substr(t)}var pn=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/~/g,"\\~"],[/\$/g,"\\$"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]],fn=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/`/g,"\\`"],[/~/g,"\\~"],[/\$/g,"\\$"],[/\[/g,"\\["],[/\]/g,"\\]"],[/_/g,"\\_"]];function hn(e,t){return t.escapeText?function(e,t){return(t?pn:fn).reduce((function(e,t){return e.replace(t[0],t[1])}),e)}(e,t.isLeading):e}function An(e,t){var n="";return e.forEach((function(e,r){var o,i,a,s,c;if(e.insert){var l=0===r;if(e.attributes&&!0===e.attributes.box){var u=hn(null!==(o=e.attributes.text)&&void 0!==o?o:"",{escapeText:t,isLeading:l});if("br"===e.attributes.type)return void(n+="\n");if("math"===e.attributes.type)return void(n+="$".concat(e.attributes.tex.trim().replace("\n"," "),"$"));if("wiki-link"===e.attributes.type){var d=null!==(i=e.attributes.linkId)&&void 0!==i?i:"";return d&&(d=" id=".concat(d)),void(n+="[[".concat(hn(null!==(a=e.attributes.name)&&void 0!==a?a:"",{escapeText:t,isLeading:l})).concat(d,"]]"))}return"tag"===e.attributes.type?void(n+="#".concat(u,"#")):"mention"===e.attributes.type?void(n+="@".concat(u)):void(n+=u)}var p=hn(null!==(s=e.insert)&&void 0!==s?s:"",{escapeText:t,isLeading:l});e.attributes?e.attributes["style-bold"]&&e.attributes["style-italic"]?n+="***".concat(p,"***"):e.attributes["style-bold"]?n+="**".concat(p,"**"):e.attributes["style-italic"]?n+="*".concat(p,"*"):e.attributes["style-strikethrough"]?n+="~~".concat(p,"~~"):e.attributes["style-code"]?n+="`".concat(null!==(c=e.insert)&&void 0!==c?c:"","`"):e.attributes.link?n+="[".concat(p,"](").concat(e.attributes.link,")"):n+=p:n+=p}})),n}function mn(e){return e?[{insert:e}]:[]}function gn(e){return{id:B(),type:"text",text:mn(e)}}function vn(e){if(e.length<=1)return e;var t,n,r=[],o=e[0];r.push(o);for(var i=1;i<e.length;i+=1){var a=e[i];n=a,void 0===(t=o).insert||void 0===n.insert||void 0!==t.delete||void 0!==n.delete||void 0!==t.retain||void 0!==n.retain||void 0!==t.attributes&&void 0===n.attributes||void 0===t.attributes&&void 0!==n.attributes||!(void 0===t.attributes?(w(void 0===n.attributes),1):(w(t.attributes&&n.attributes),rn()(t.attributes,n.attributes)))?(r.push(a),o=a):(w("string"==typeof o.insert),w("string"==typeof a.insert),o.insert+=a.insert)}return r}function bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wn=[function(e){return"".concat(e)},function e(t){if(t<=0)return"".concat(t);var n=(t-1)%26,r=Math.floor((t-1)/26),o="abcdefghijklmnopqrstuvwxyz"[n];return r?e(r)+o:o},function(e){var t="",n=e;return Object.entries({M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}).forEach((function(e){for(var r=bn(e,2),o=r[0],i=r[1];n>=i;)t+=o,n-=i})),t.toLowerCase()}];function xn(e,t){return w(e>=1),(0,wn[(e-1)%wn.length])(t)}var kn=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.images=[],this.lines=[],this.line="",this.visibleTextOnly=!1,this.withEmbedPlaceholder=!1,this.onBeginBlock=function(e,n,r,o){var i;if(!t.visibleTextOnly&&("embed"===r&&o&&"hr"===o.embedType&&(t.line="---"),"embed"===r&&o&&"image"===o.embedType&&(t.images.push(o.embedData.src),t.withEmbedPlaceholder&&(t.line="[图片]")),"embed"===r&&o&&"video"===o.embedType&&t.withEmbedPlaceholder&&(t.line="[视频]"),"list"===o.type&&!o.textOnly)){var a=null!==(i=o.level)&&void 0!==i?i:1;if(o.ordered){var s=xn(a,o.start);t.line="".concat(s,". ")}else t.line="• ";for(var c=1;c<a;c++)t.line="  ".concat(t.line)}},this.onText=function(e,n,r,o){if(o&&o.box)return"mention"===o.type&&(t.line+="@"),void(t.line+=o.text||"");t.line+=r},this.onEndBlock=function(){t.lines.push(dn(t.line)),t.line=""}};function Cn(e,t,n){var r=new kn;(null==n?void 0:n.visibleTextOnly)&&(r.visibleTextOnly=!0),(null==n?void 0:n.withEmbedPlaceholder)&&(r.withEmbedPlaceholder=!0),en(e,r),r.line&&r.lines.push(r.line);var o=r.lines.join("\n");return t?[o,r.images]:o}function En(e,t,n,r){return Cn(Object.assign({blocks:e,comments:t||{},meta:{}},n||{}),!1,{withEmbedPlaceholder:r})}function Bn(e){var t=e.blocks;if(!t||t.length<1)return"";var n=t[0];return 1!==n.heading?"":n.text?En([n]).trim():""}function Tn(e){var t=Cn(e),n=Bn(e);return t.startsWith(n)?t.substr(n.length).trim():t}var Mn=n(1296),In=n.n(Mn),Dn=n(3465),_n=n.n(Dn),Sn=n(8764),On={err:1001,msg:"user auth error",name:"AuthError"},Nn={err:1003,msg:"Too many user connected",name:"MaxUserError"},Ln={err:1004,msg:"document server changed, reload it",name:"RequestReloadError"},Rn="x-live-editor-token",jn="x-live-editor-base-url",Un=[On,{err:1002,msg:"you don't have required permission",name:"PermissionError"},Nn,Ln,{err:1005,msg:"app id must be at least 2 chars, doc id must be at least 5 chars",name:"DocIdError"},{err:1028,msg:"upload file ext not allowed",name:"FileExtError"}];function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pn(e,t){Object.entries(e).forEach((function(n){var r=zn(n,2),o=r[0],i=r[1];if("insert"===o&&"string"==typeof i){var a=function(e,t){var n=e.indexOf("{{");if(-1===n)return null;var r=e,o="";do{var i=r.indexOf("}}",n);if(-1===i)return null;var a=t[r.substr(n+2,i-n-2)];a?(o+=r.substr(0,n),o+=a):o+=r.substr(0,i+2),n=(r=r.substr(i+2)).indexOf("{{")}while(-1!==n);return o+r}(i,t);a&&(e[o]=a)}else"object"===Fn(i)&&Pn(i,t)}))}function Hn(e,t){w(e,"template is undefined or null"),w(e.blocks,"no blocks");var n=JSON.parse(JSON.stringify(e));return Object.entries(n).forEach((function(e){Pn(zn(e,2)[1],t)})),n}n(3946),n(6620);var Vn,Kn=n(6357),Gn=n.n(Kn),Wn=[{name:"Plain Text",key:"plain text",aliases:["text","txt"]},{name:"JavaScript",key:"javascript",aliases:["js","jsx","mjs","cjs"]},{name:"Python",key:"python",aliases:["py","gyp","ipython"]},{name:"Java",key:"java",aliases:["jsp"]},{name:"Go",key:"go",aliases:["golang"]},{name:"Ruby",key:"ruby",aliases:["rb","gemspec","podspec","thor","irb"]},{name:"TypeScript",key:"typescript",aliases:["ts"]},{name:"HTML",key:"html",aliases:["html","xhtml"]},{name:"CSS",key:"css"},{name:"C/C++",key:"clike",aliases:["c","cpp","cc","h","c++","h++","hpp","hh","hxx","cxx"]},{name:"PHP",key:"php",aliases:["php","php3","php4","php5","php6","php7","php8"]},{name:"C#",key:"csharp",aliases:["cs","c#"]},{name:"Scala",key:"scala"},{name:"Shell",key:"bash",aliases:["console"]},{name:"Dart",key:"dart"},{name:"Rust",key:"rust",aliases:["rs"]},{name:"Kotlin",key:"kotlin"},{name:"Swift",key:"swift"},{name:"PowerShell",key:"powershell",aliases:["ps","ps1"]},{name:"Groovy",key:"groovy"},{name:"-",key:"-"},{name:"ABAP",key:"abap"},{name:"ActionScript",key:"actionscript"},{name:"Ada",key:"ada"},{name:"AppleScript",key:"applescript",aliases:["osascript"]},{name:"Arduino",key:"arduino"},{name:"ASP.NET (C#)",key:"aspnet"},{name:"Atom",key:"atom",aliases:["atom"]},{name:"AutoHotkey",key:"autohotkey",aliases:["ahk"]},{name:"AutoIt",key:"autoit"},{name:"Bash",key:"bash",aliases:["sh","zsh"]},{name:"BASIC",key:"basic"},{name:"Batch",key:"batch"},{name:"Clojure",key:"clojure",aliases:["clj"]},{name:"CoffeeScript",key:"coffeescript",aliases:["coffee","cson","iced"]},{name:"D",key:"d"},{name:"Diff",key:"diff"},{name:"Docker",key:"docker",aliases:["docker"]},{name:"EditorConfig",key:"editorconfig"},{name:"Elixir",key:"elixir"},{name:"Elm",key:"elm"},{name:"ERB",key:"erb"},{name:"Erlang",key:"erlang",aliases:["erl"]},{name:"F#",key:"fsharp"},{name:"Fortran",key:"fortran",aliases:["f90","f95"]},{name:"GraphQL",key:"graphql"},{name:"Haskell",key:"haskell",aliases:["hs"]},{name:"Haxe",key:"haxe"},{name:"JSON",key:"json"},{name:"Julia",key:"julia"},{name:"Web App Manifest",key:"json"},{name:"LaTeX",key:"latex",aliases:["TeX"]},{name:"TeX ",key:"latex"},{name:"ConTeXt",key:"latex"},{name:"Less",key:"less"},{name:"Lisp",key:"lisp"},{name:"LiveScript",key:"livescript"},{name:"Lua",key:"lua"},{name:"Makefile",key:"makefile",aliases:["mk","mak","make"]},{name:"Markdown",key:"markdown",aliases:["md","mkdown","mkd"]},{name:"Markup templating",key:"markup-templating"},{name:"Mathematica",key:"mathematica",aliases:["wolfram","nb","wl"]},{name:"MathML",key:"mathml"},{name:"MATLAB",key:"matlab"},{name:"NASM",key:"nasm"},{name:"nginx",key:"nginx",aliases:["nginxconf"]},{name:"Objective-C",key:"objectivec",aliases:["m","mm"]},{name:"OCaml",key:"ocaml",aliases:["ml"]},{name:"Object Pascal",key:"pascal"},{name:"Pascal",key:"pascal",aliases:["dpr","dfm","pas","pascal","freepascal","lazarus","lpr","lfm"]},{name:"Perl",key:"perl",aliases:["pl","pm"]},{name:"PL/SQL",key:"plsql"},{name:"Prolog",key:"prolog"},{name:"Puppet",key:"puppet"},{name:"PureScript",key:"purescript"},{name:"QML",key:"qml",aliases:["qt"]},{name:"R",key:"r"},{name:"Racket",key:"racket"},{name:"React JSX",key:"jsx"},{name:"React TSX",key:"tsx"},{name:"Reason",key:"reason"},{name:"reStructuredText",key:"rest"},{name:"RSS",key:"rss",aliases:["rss","atom"]},{name:"Sass (Sass)",key:"sass"},{name:"Sass (Scss)",key:"scss"},{name:"Smalltalk",key:"smalltalk",aliases:["st"]},{name:"Splunk SPL",key:"splunk-spl"},{name:"SQL",key:"sql"},{name:"SSML",key:"ssml"},{name:"SVG",key:"svg",aliases:["svg"]},{name:"Tcl",key:"tcl",aliases:["tk"]},{name:"Textile",key:"textile"},{name:"TypoScript",key:"typoscript",aliases:["tsconfig"]},{name:"Vala",key:"vala"},{name:"VB.Net",key:"vbnet"},{name:"Verilog",key:"verilog",aliases:["v","sv","svh"]},{name:"VHDL",key:"vhdl"},{name:"vim",key:"vim"},{name:"VBA",key:"visual-basic"},{name:"Visual Basic",key:"visual-basic"},{name:"Wiki markup",key:"wiki"},{name:"YAML",key:"yaml",aliases:["yml","YAML"]},{name:"XQuery",key:"xquery"},{name:"XML",key:"xml",aliases:["xml"]}];function Yn(e){if(!e)return"Plain Text";e=e.toLocaleLowerCase();for(var t=0;t<Wn.length;t++){var n=Wn[t];if(n.name.toLocaleLowerCase()===e)return n.key;if(n.key.toLocaleLowerCase()===e)return n.key;if(n.aliases&&-1!==n.aliases.indexOf(e))return n.key}return"Plain Text"}function qn(e){Vn||(Vn=document.createElement("textarea")),Vn.innerHTML=e;var t=0===Vn.childNodes.length?"":Vn.childNodes[0].nodeValue;return null!=t?t:""}var Zn=/highlight-(?:text|source)-([a-z0-9]+)/;function Xn(e){e.addRule("highlightedCodeBlock",{filter:function(e){var t=e.firstChild;return"DIV"===e.nodeName&&Zn.test(e.className)&&t&&"PRE"===t.nodeName},replacement:function(e,t,n){var r=((t.className||"").match(Zn)||[null,""])[1];return"\n\n"+n.fence+r+"\n"+t.firstChild.textContent+"\n"+n.fence+"\n\n"}})}function Jn(e){e.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(e){return"~"+e+"~"}})}var $n=Array.prototype.indexOf,er={};function tr(e,t){var n=" ";return 0===$n.call(t.parentNode.childNodes,t)&&(n="| "),n+(e=(e=e.replace(/\r\n/g,"\n").replace(/\n/g," ")).replace(/\|/g,"\\|"))+" |"}function nr(e,t){var n=e.getAttribute("colspan")||1;return n<=1?"":(" "+t+" |").repeat(n-1)}function rr(e){for(var t=e.parentNode;t;){if("TABLE"===t.nodeName)return!0;t=t.parentNode}return!1}function or(e){for(var t in e.keep((function(e){return"TABLE"===e.nodeName&&rr(e)})),er)e.addRule(t,er[t])}function ir(e){e.addRule("taskListItems",{filter:function(e){return"checkbox"===e.type&&"LI"===e.parentNode.nodeName},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}})}function ar(e,t){return Array(t+1).join(e)}er.tableCell={filter:["th","td"],replacement:function(e,t){return tr(e,t)+nr(t,"")}},er.tableRow={filter:"tr",replacement:function(e,t){var n="",r={left:":--",right:"--:",center:":-:"};if(function(e){var t=e.parentNode,n=t;"THEAD"!==t.nodeName&&"TFOOT"!==t.nodeName&&"TBODY"!==t.nodeName||(n=t.parentNode);return"TABLE"===n.nodeName&&n.rows[0]===e}(t))for(var o=0;o<t.childNodes.length;o++){var i="---",a=(t.childNodes[o].getAttribute("align")||"").toLowerCase();a&&(i=r[a]||i),n+=tr(i,t.childNodes[o])+nr(t.childNodes[o],i)}return"\n"+e+(n?"\n"+n:"")}},er.table={filter:function(e){return"TABLE"===e.nodeName&&!rr(e)},replacement:function(e){return"\n\n"+(e=e.replace("\n\n","\n"))+"\n\n"}},er.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}},er.captionSection={filter:"caption",replacement:function(e,t){return"TABLE"===t.parentNode.nodeName&&t.parentNode.childNodes[0]===t?e:""}};var sr=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function cr(e){return pr(e,sr)}var lr=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function ur(e){return pr(e,lr)}var dr=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function pr(e,t){return t.indexOf(e.nodeName)>=0}function fr(e,t){return e.getElementsByTagName&&t.some((function(t){return e.getElementsByTagName(t).length}))}var hr={};function Ar(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function mr(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function gr(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];if(vr(o,t,n))return o}}function vr(e,t,n){var r=e.filter;if("string"==typeof r){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else{if("function"!=typeof r)throw new TypeError("`filter` needs to be a string, array, or function");if(r.call(e,t,n))return!0}}function br(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function yr(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}hr.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},hr.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},hr.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));return"setext"===n.headingStyle&&r<3?"\n\n"+e+"\n"+ar(1===r?"=":"-",e.length)+"\n\n":"\n\n"+ar("#",r)+" "+e+"\n\n"}},hr.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},hr.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},hr.listItem={filter:"li",replacement:function(e,t,n){if(-1!==e.replace(/^\n+/,"").indexOf("\n")){const r=e.replace(/^\n+/,"").split("\n");return r[0]=hr.listItem.replacement(r[0],t,n),r[0].endsWith("\n")&&(r[0]=r[0].substr(0,r[0].length-1)),r.join("\n")}e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var r=n.bulletListMarker+" ",o=t.parentNode;if("OL"===o.nodeName){var i=o.getAttribute("start"),a=Array.prototype.indexOf.call(o.children,t);r=(i?Number(i)+a:a+1)+". "}return r+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},hr.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},hr.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){for(var r,o=((t.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],i=t.firstChild.textContent,a=n.fence.charAt(0),s=3,c=new RegExp("^"+a+"{3,}","gm");r=c.exec(i);)r[0].length>=s&&(s=r[0].length+1);var l=ar(a,s);return"\n\n"+l+o+"\n"+i.replace(/\n$/,"")+"\n"+l+"\n\n"}},hr.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},hr.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href"),r=Ar(t.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+(e=e.replace(/\n/g,""))+"]("+n+r+")"}},hr.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var r,o,i=t.getAttribute("href"),a=Ar(t.getAttribute("title"));switch(a&&(a=' "'+a+'"'),n.linkReferenceStyle){case"collapsed":r="["+e+"][]",o="["+e+"]: "+i+a;break;case"shortcut":r="["+e+"]",o="["+e+"]: "+i+a;break;default:var s=this.references.length+1;r="["+e+"]["+s+"]",o="["+s+"]: "+i+a}return this.references.push(o),r},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},hr.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},hr.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},hr.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];-1!==r.indexOf(n);)n+="`";return n+t+e+t+n}},hr.image={filter:"img",replacement:function(e,t){var n=Ar(t.getAttribute("alt")),r=t.getAttribute("src")||"",o=Ar(t.getAttribute("title"));return r?"!["+n+"]("+r+(o?' "'+o+'"':"")+")":""}},mr.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=gr(this.array,e,this.options))||(t=gr(this._keep,e,this.options))||(t=gr(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var wr="undefined"!=typeof window?window:{};var xr,kr=function(){var e=wr.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?wr.DOMParser:(xr=function(){},function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){window.ActiveXObject&&(e=!0)}return e}()?xr.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}:xr.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t},xr);function Cr(e){if(3!==e.nodeType){if(1===e.nodeType){if("PRE"===e.tagName||"CODE"===e.tagName)return;e.childNodes.forEach(Cr)}}else{const t=e.textContent;t&&t.startsWith(" ")&&function(e){const t=e.parentElement;if(!t)return!1;const n=t.parentElement;if(!n)return!0;if("SPAN"===n.tagName||"CODE"===n.tagName)return!1;if("SPAN"===t.tagName||"CODE"===t.tagName||"turndown-root"===t.id){const e=t.previousSibling;if(!e)return!0;if("BR"===e.tagName)return!0}return!1}(e)&&(e.textContent=function(e){let t=0;for(let n=0;n<e.length&&" "===e[n];n+=1)t+=1;return 0===t?e:new Array(t).fill(" ").join("")+e.substr(t)}(t))}}function Er(e,t){var n;"string"==typeof e?n=(Br=Br||new kr).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):n=e.cloneNode(!0);return Cr(n),function(e){var t=e.element,n=e.isBlock,r=e.isVoid,o=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!o(t)){for(var i=null,a=!1,s=null,c=yr(s,t,o);c!==t;){if(3===c.nodeType||4===c.nodeType){var l=c.data.replace(/[ \r\n\t]+/g," ");if(i&&!/ $/.test(i.data)||a||" "!==l[0]||(l=l.substr(1)),!l){c=br(c);continue}c.data=l,i=c}else{if(1!==c.nodeType){c=br(c);continue}n(c)||"BR"===c.nodeName?(i&&(i.data=i.data.replace(/ $/,"")),i=null,a=!1):r(c)||o(c)?(i=null,a=!0):i&&(a=!1)}var u=yr(s,c,o);s=c,c=u}i&&(i.data=i.data.replace(/ $/,""),i.data||br(i))}}({element:n,isBlock:cr,isVoid:ur,isPre:t.preformattedCode?Tr:null}),n}var Br;function Tr(e){return"PRE"===e.nodeName||"CODE"===e.nodeName}function Mr(e,t){return e.isBlock=cr(e),e.isCode="CODE"===e.nodeName||e.parentNode.isCode,e.isBlank=function(e){return!ur(e)&&!function(e){return pr(e,dr)}(e)&&/^\s*$/i.test(e.textContent)&&!e.textContent.startsWith(" ")&&!function(e){return fr(e,lr)}(e)&&!function(e){return fr(e,dr)}(e)}(e),e.flankingWhitespace=function(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=function(e){var t=e.match(/^(([ \t\r\n]*)(\s*))[\s\S]*?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}(e.textContent);n.leadingAscii&&Ir("left",e,t)&&(n.leading=n.leadingNonAscii);n.trailingAscii&&Ir("right",e,t)&&(n.trailing=n.trailingNonAscii);return{leading:n.leading,trailing:n.trailing}}(e,t),e}function Ir(e,t,n){var r,o,i;return"left"===e?(r=t.previousSibling,o=/ $/):(r=t.nextSibling,o=/^ /),r&&(3===r.nodeType?i=o.test(r.nodeValue):n.preformattedCode&&"CODE"===r.nodeName?i=!1:1!==r.nodeType||cr(r)||(i=o.test(r.textContent))),i}var Dr=Array.prototype.reduce,_r=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/\$/g,"\\$"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Sr(e){if(!(this instanceof Sr))return new Sr(e);var t={rules:hr,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}({},t,e),this.rules=new mr(this.options)}function Or(e){var t=this;return Dr.call(e.childNodes,(function(e,n){var r="";return 3===(n=new Mr(n,t.options)).nodeType?r=n.isCode?n.nodeValue:t.escape(n.nodeValue):1===n.nodeType&&(r=Lr.call(t,n)),Rr(e,r)}),"")}function Nr(e){var t=this;return this.rules.forEach((function(n){"function"==typeof n.append&&(e=Rr(e,n.append(t.options)))})),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Lr(e){var t=this.rules.forNode(e),n=Or.call(this,e),r=e.flankingWhitespace;if((r.leading||r.trailing)&&(n=n.trim()),r.leading)n=n.replace(/^\u2003+/g,"");else if(n.startsWith(" "))return t.replacement(n,e,this.options)+r.trailing;return r.leading+t.replacement(n,e,this.options)+r.trailing}function Rr(e,t){var n=function(e){for(var t=e.length;t>0&&"\n"===e[t-1];)t--;return e.substring(0,t)}(e),r=function(e){return e.replace(/^\n*/,"")}(t),o=Math.max(e.length-n.length,t.length-r.length);return n+"\n\n".substring(0,o)+r}Sr.prototype={turndown:function(e){if(!function(e){return null!=e&&("string"==typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))}(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";var t="";return function(e){const t=String.prototype.trim;try{String.prototype.trim=function(e){return function(){return this.startsWith(" ")?this.endsWith(" ")?this:this.trimRight():e.apply(this)}}(t),e()}finally{String.prototype.trim=t}}((()=>{const n=new Er(e,this.options);var r=Or.call(this,n);t=(t=Nr.call(this,r)).replace(/(?!^)\u2003/gm," ")})),t},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!=typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return _r.reduce((function(e,t){return e.replace(t[0],t[1])}),e)}};const jr=Sr,Ur="function"==typeof atob,Fr="function"==typeof btoa,zr="function"==typeof Buffer,Qr="function"==typeof TextDecoder?new TextDecoder:void 0,Pr="function"==typeof TextEncoder?new TextEncoder:void 0,Hr=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],Vr=(e=>{let t={};return e.forEach(((e,n)=>t[e]=n)),t})(Hr),Kr=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Gr=String.fromCharCode.bind(String),Wr="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=(e=>e))=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),Yr=e=>e.replace(/[+\/]/g,(e=>"+"==e?"-":"_")).replace(/=+$/m,""),qr=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Zr=e=>{let t,n,r,o,i="";const a=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|o,i+=Hr[t>>18&63]+Hr[t>>12&63]+Hr[t>>6&63]+Hr[63&t]}return a?i.slice(0,a-3)+"===".substring(a):i},Xr=Fr?e=>btoa(e):zr?e=>Buffer.from(e,"binary").toString("base64"):Zr,Jr=zr?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(Gr.apply(null,e.subarray(n,n+4096)));return Xr(t.join(""))},$r=(e,t=!1)=>t?Yr(Jr(e)):Jr(e),eo=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?Gr(192|t>>>6)+Gr(128|63&t):Gr(224|t>>>12&15)+Gr(128|t>>>6&63)+Gr(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return Gr(240|t>>>18&7)+Gr(128|t>>>12&63)+Gr(128|t>>>6&63)+Gr(128|63&t)},to=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,no=e=>e.replace(to,eo),ro=zr?e=>Buffer.from(e,"utf8").toString("base64"):Pr?e=>Jr(Pr.encode(e)):e=>Xr(no(e)),oo=(e,t=!1)=>t?Yr(ro(e)):ro(e),io=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ao=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return Gr(55296+(t>>>10))+Gr(56320+(1023&t));case 3:return Gr((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Gr((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},so=e=>e.replace(io,ao),co=e=>{if(e=e.replace(/\s+/g,""),!Kr.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n,r,o="";for(let i=0;i<e.length;)t=Vr[e.charAt(i++)]<<18|Vr[e.charAt(i++)]<<12|(n=Vr[e.charAt(i++)])<<6|(r=Vr[e.charAt(i++)]),o+=64===n?Gr(t>>16&255):64===r?Gr(t>>16&255,t>>8&255):Gr(t>>16&255,t>>8&255,255&t);return o},lo=Ur?e=>atob(qr(e)):zr?e=>Buffer.from(e,"base64").toString("binary"):co,uo=zr?e=>Wr(Buffer.from(e,"base64")):e=>Wr(lo(e),(e=>e.charCodeAt(0))),po=e=>uo(ho(e)),fo=zr?e=>Buffer.from(e,"base64").toString("utf8"):Qr?e=>Qr.decode(uo(e)):e=>so(lo(e)),ho=e=>qr(e.replace(/[-_]/g,(e=>"-"==e?"+":"/"))),Ao=e=>fo(ho(e)),mo=oo,go=Ao,vo=$r,bo=po;function yo(e){return"string"==typeof e?mo(e,!0):vo(e,!0)}function wo(e){return go(e)}function xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const ko=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._acquired=!1,this._waitingResolvers=[],this._acquired=!1,this._waitingResolvers=[]}var t,n,r;return t=e,(n=[{key:"acquireAsync",value:function(e){var t=this;return this._acquired?new Promise((function(n,r){t._waitingResolvers.push(n),e&&e>0&&setTimeout((function(){var o=t._waitingResolvers.indexOf(n);if(-1===o);else{t._waitingResolvers.splice(o,1);var i=new Error("lock timeout: ".concat(e,", waiting resolves: ").concat(t._waitingResolvers.length));r(i)}}),e)})):(this._acquired=!0,Promise.resolve())}},{key:"tryAcquire",value:function(){return!this._acquired&&(this._acquired=!0,!0)}},{key:"release",value:function(){if(!this._acquired)throw new Error("Cannot release an unacquired lock");if(this._waitingResolvers.length>0){var e=this._waitingResolvers.shift();w(e),e(void 0)}else this._acquired=!1}},{key:"acquired",value:function(){return this._acquired}},{key:"debug",value:function(){var e=this._waitingResolvers.length;return console.log("waiting resolves: ".concat(e)),{waitingCount:e}}}])&&xo(t.prototype,n),r&&xo(t,r),e}();function Co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Eo=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const Bo=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._map=new Map}var t,n,r;return t=e,(n=[{key:"getLocker",value:function(e){var t=this._map.get(e);return t||(t=new ko,this._map.set(e,t)),t}},{key:"lock",value:function(e,t){return Eo(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.getLocker(e),n.next=3,r.acquireAsync(t);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"release",value:function(e){this.getLocker(e).release()}},{key:"remove",value:function(e){this.isLocking(e)||this._map.delete(e)}},{key:"isLocking",value:function(e){return!!this._map.has(e)&&this.getLocker(e).acquired()}}])&&Co(t.prototype,n),r&&Co(t,r),e}());n(1520),n(2139),n(6702);var To=n(8895),Mo=n.n(To);const Io={type:{name:"rich-text",uri:"http://sharejs.org/types/rich-text/v1",create:function(e){return new(Mo())(e)},apply:function(e,t){var n=new(Mo())(e),r=new(Mo())(t);return n.compose(r).ops},compose:function(e,t){var n=new(Mo())(e),r=new(Mo())(t);return n.compose(r).ops},diff:function(e,t){var n=new(Mo())(e),r=new(Mo())(t);return n.diff(r).ops},transform:function(e,t,n){var r=new(Mo())(e);return new(Mo())(t).transform(r,"left"===n).ops},transformCursor:function(e,t,n){return t.transformPosition(e,!n)},normalize:function(e){return e},serialize:function(e){return e.ops},deserialize:function(e){return e},transformPresence:function(e,t,n){if(!e)return null;var r=new(Mo())(t),o=this.transformCursor(e.index,r,n),i=this.transformCursor(e.index+e.length,r,n);return Object.assign(Object.assign({},e),{index:o,length:i-o})}}};function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.delta=t instanceof e?Io.type.create(t.toOps()):Io.type.create(t)}var t,n,r;return t=e,r=[{key:"from",value:function(t){if(!t)return new e([]);if(t instanceof e)return t;if(Array.isArray(t))return new e(t);throw new Error("unknown data type: ".concat(t))}},{key:"createDeleteOp",value:function(t,n){w(n>0),w(t>=0);var r=[];return 0!==t&&r.push({retain:t}),r.push({delete:n}),new e(r)}},{key:"createInsertOp",value:function(t,n){if(w(t>=0),0===n.length)return new e([]);var r=[];return t>0&&r.push({retain:t}),r.push({insert:n}),new e(r)}},{key:"createInsertWithAttributes",value:function(t,n,r){w(t>=0);var o=[];return t>0&&o.push({retain:t}),o.push({insert:n,attributes:r}),new e(o)}},{key:"createInsertBoxOp",value:function(e,t){return this.createInsertWithAttributes(e," ",t)}}],(n=[{key:"toOps",value:function(){return Io.type.serialize(this.delta).concat()}},{key:"isDeleteOpOnly",value:function(){var e=this.toOps();return!(e.length>2)&&(1===e.length?void 0!==e[0].delete:(w(2===e.length),void 0!==e[0].retain&&void 0!==e[1].delete))}},{key:"isInsertOpOnly",value:function(){var e=this.toOps();return!(e.length>2)&&(1===e.length?void 0!==e[0].insert:(w(2===e.length),void 0!==e[0].retain&&void 0!==e[1].insert))}},{key:"isAttributesOnly",value:function(){var e=this.toOps();return!(e.length>2)&&(1===e.length?void 0===e[0].insert&&void 0===e[0].delete&&void 0!==e[0].attributes:(w(2===e.length),void 0!==e[0].retain&&void 0!==e[1].attributes))}},{key:"getOffset",value:function(){var e=this.toOps();return w(e.length<=2&&e.length>0),1===e.length?0:(w(2===e.length),w(void 0!==e[0].retain),e[0].retain)}},{key:"splitToSingleOpOps",value:function(){var t=[],n=this.toOps();if(0===n.length)return[this];if(1===n.length)return[this];if(2===n.length&&(this.isDeleteOpOnly()||this.isInsertOpOnly()||this.isAttributesOnly()))return[this];for(var r=function(t,n){return new e(t>0?[{retain:t},n]:[n])},o=0;n.length>0;){var i=n[0];if(void 0!==i.retain&&void 0===i.attributes){w(i.retain>0),w(n.length>1);var a=n[1];w(a.delete||void 0!==a.insert||void 0!==a.attributes),o+=i.retain,t.push(r(o,a)),void 0!==a.delete?o-=a.delete:void 0!==a.insert?o+=a.insert.length:(w(void 0!==a.attributes),w(void 0!==a.retain),o+=a.retain),n.splice(0,2)}else w(i.delete||void 0!==i.insert||void 0!==i.attributes),t.push(r(o,i)),n.shift(),void 0!==i.retain&&(w(void 0!==i.attributes),o+=i.retain),i.insert&&(o+=i.insert.length)}return t}}])&&Do(t.prototype,n),r&&Do(t,r),e}();n(75);function So(e){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e){return function(e){if(Array.isArray(e))return Ro(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Lo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function No(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||Lo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lo(e,t){if(e){if("string"==typeof e)return Ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ro(e,t):void 0}}function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fo(e,t){if(t&&("object"===So(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zo(e){var t="function"==typeof Map?new Map:void 0;return(zo=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Qo(e,arguments,Vo(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ho(r,e)})(e)}function Qo(e,t,n){return(Qo=Po()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Ho(o,n.prototype),o}).apply(null,arguments)}function Po(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ho(e,t){return(Ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vo(e){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ko={start:-1,end:-1},Go=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ho(e,t)}(o,e);var t,n,r=(t=o,n=Po(),function(){var e,r=Vo(t);if(n){var o=Vo(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Fo(this,e)});function o(e){var t;Uo(this,o);var n="invalid data: ".concat(JSON.stringify(e,null,2));return(t=r.call(this,n)).code="NotValidDocument",t}return o}(zo(Error));function Wo(e){if(!Yo.isDocument(e))throw new Go(e)}var Yo=function(){function e(t){Uo(this,e),t instanceof e?(this.delta=Io.type.create(t.toOps()),Wo(this.toOps())):(Wo(t),this.delta=Io.type.create(t))}var t,n,r;return t=e,r=[{key:"isDocument",value:function(e){w(e);for(var t=0;t<e.length;t++){var n=e[t];if(null===n.insert||void 0===n.insert)return!1;if(void 0!==n.retain)return!1;if(void 0!==n.delete)return!1}return!0}},{key:"isEqual",value:function(e,t){var n=e.autoMerge(),r=t.autoMerge();return rn()(n,r)}},{key:"getOpLength",value:function(e){return w("string"==typeof e.insert),e.insert.length}},{key:"create",value:function(t){return w(-1===t.indexOf("\n")),new e(t?[{insert:t}]:[])}},{key:"createWithAttributes",value:function(t,n){return w(t),w(-1===t.indexOf("\n")),new e([{insert:t,attributes:n}])}},{key:"from",value:function(t){if(!t)return new e([]);if(t instanceof e)return t;if(Array.isArray(t))return new e(t);throw new Error("unknown data type: ".concat(t))}},{key:"isEmpty",value:function(t){var n=null;return!(n=t instanceof e?t.toOps():t)||0===n.length||1===n.length&&""===n[0].insert}},{key:"applyStyleToDocument",value:function(t,n,r){var o=t.clone().toOps();return o.forEach((function(e){if(!e.attributes||!0!==e.attributes.box)if(void 0===r){if(!e.attributes)return;if(void 0===e.attributes[n])return;delete e.attributes[n],0===Object.keys(e.attributes).length&&delete e.attributes}else e.attributes||(e.attributes={}),e.attributes[n]=r})),new e([]).compose(new _o(o))}},{key:"combine",value:function(t,n){var r=t.toOps(),o=n.toOps();return new e([].concat(Oo(r),Oo(o)))}},{key:"fromText",value:function(t){return new e(_o.createInsertOp(0,t).toOps())}},{key:"fromAttributedText",value:function(t,n){return 0===Object.keys(n).length?e.fromText(t):new e(_o.createInsertWithAttributes(0,t,n).toOps())}}],(n=[{key:"clone",value:function(){return new e(this.toOps())}},{key:"diff",value:function(e){var t=Io.type.serialize(this.delta),n=Io.type.serialize(e.delta);return new _o(Io.type.diff(t,n))}},{key:"toOps",value:function(){return _n()(Io.type.serialize(this.delta))}},{key:"compose",value:function(e){return this.delta=Io.type.create(Io.type.compose(this.delta.ops,e.delta.ops)),Wo(this.toOps()),this}},{key:"autoMerge",value:function(){var t=new e([]);return t.compose(new _o(this.toOps())),this.delta=t.delta,Wo(this.toOps()),this}},{key:"composeWithCaret",value:function(e,t){return this.compose(e),t<0?t:new(Mo())(e.toOps()).transformPosition(t)}},{key:"composeWithCarets",value:function(e,t){this.compose(e);var n=new(Mo())(e.toOps());return t.map((function(e){return e<0?e:n.transformPosition(e)}))}},{key:"transformOffset",value:function(e,t){var n=e.diff(this),r=new(Mo())(n.toOps());return t.map((function(e){return r.transformPosition(e)}))}},{key:"applyStyle",value:function(t,n,r,o){w(t<n);var i=No(this.split(n),2),a=i[0],s=i[1],c=No(a.split(t),2),l=c[0],u=c[1],d=e.applyStyleToDocument(u,r,o),p=new e([]).compose(new _o([].concat(Oo(l.toOps()),Oo(d.toOps()),Oo(s.toOps()))));return this.delta=Io.type.create(p.toOps()),this}},{key:"addStyle",value:function(e,t,n,r){return this.applyStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){return this.applyStyle(e,t,n,void 0)}},{key:"removeAllStyles",value:function(){var e=this.toOps();return e.forEach((function(e){e.attributes&&!e.attributes.box&&(Array.from(Object.keys(e.attributes)).forEach((function(t){(t.startsWith("style-")||t.startsWith("inline-style-"))&&delete e.attributes[t]})),0===Object.keys(e.attributes).length&&delete e.attributes)})),this.delta=Io.type.create(e),this}},{key:"removeBackground",value:function(){var e=this.toOps();return e.forEach((function(e){e.attributes&&!e.attributes.box&&(Array.from(Object.keys(e.attributes)).forEach((function(t){t.startsWith("style-bg")&&delete e.attributes[t],t.startsWith("inline-style-background-color")&&delete e.attributes[t]})),0===Object.keys(e.attributes).length&&delete e.attributes)})),this.delta=Io.type.create(e),this}},{key:"removeColor",value:function(){var e=this.toOps();return e.forEach((function(e){e.attributes&&!e.attributes.box&&(Array.from(Object.keys(e.attributes)).forEach((function(t){t.startsWith("style-color")&&delete e.attributes[t],t.startsWith("inline-style-color")&&delete e.attributes[t]})),0===Object.keys(e.attributes).length&&delete e.attributes)})),this.delta=Io.type.create(e),this}},{key:"getOpAt",value:function(t){for(var n=this.delta.ops,r=0,o=0;o<n.length;o++){var i=n[o];w("string"==typeof i.insert);var a=r+e.getOpLength(i);if(a>t)return[i];if(a===t){var s=[i];return o<n.length-1&&s.push(n[o+1]),s}r=a}return[]}},{key:"getOpRangeAt",value:function(e){var t=this.getOpAt(e);return 0===t.length?{start:-1,end:-1}:this.getOpRange(t[0])}},{key:"getAttributesAt",value:function(e){var t=this.getOpAt(e);return 1===t.length?t[0].attributes:2===t.length?t[1].attributes:void 0}},{key:"getOpRange",value:function(t){for(var n=this.delta.ops,r=0,o=0;o<n.length;o++){var i=n[o];if(w("string"==typeof i.insert),i===t)return{start:r,end:r+e.getOpLength(i)};r+=e.getOpLength(i)}return{start:-1,end:-1}}},{key:"expandRange",value:function(e){var t=this.getOpAt(e);return 1===t.length?this.getOpRange(t[0]):Ko}},{key:"expandRangeToSameAttributes",value:function(e,t){w(t),w(Object.keys(t).length>0);var n=function(e,t){if(!e)return!1;var n=Object.keys(t);w(n.length>0);for(var r=0;r<n.length;r++){var o=n[r];if(e[o]!==t[o])return!1}return!0},r=this.getOpAt(e);if(1===r.length){var o=r[0];if(!o.attributes)return Ko;if(0===Object.keys(o.attributes).length)return Ko;w(o.attributes);var i=this.delta.ops,a=i.indexOf(o);w(-1!==a);for(var s=this.getOpRange(o),c=s.start,l=a-1;l>=0;l--)n(i[l].attributes,t)&&(c=this.getOpRange(i[l]).start);for(var u=s.end,d=a+1;d<i.length;d++)n(i[d].attributes,t)&&(u=this.getOpRange(i[d]).end);return{start:c,end:u}}return Ko}},{key:"getLength",value:function(){var t=0;return this.delta.ops.forEach((function(n){n.insert&&(w("string"==typeof n.insert),t+=e.getOpLength(n))})),t}},{key:"getCharAt",value:function(e){var t;if(e===this.getLength())return"";var n=No(this.splitToThree(e,1),2)[1].toOps();return 0===n.length?"":(w(1===n.length),(null===(t=n[0].attributes)||void 0===t?void 0:t.box)?-1:(w(n[0].insert),n[0].insert))}},{key:"splitToThree",value:function(e,t){w(e>=0),w(t>0),w(e+t<=this.getLength());var n=No(this.split(e+t),2),r=n[0],o=n[1],i=No(r.split(e),2);return[i[0],i[1],o]}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.toOps();if(0===t)return[new e([]),new e(r)];if(-1===t)return[new e(r),new e([])];for(var o=0,i=0;i<r.length;i++){var a=r[i];w(a),w("object"===So(a)),w("string"==typeof a.insert);var s=e.getOpLength(a);if(!(o+s<t)){if(o+s===t)return[new e(r.slice(0,i+1)),new e(r.slice(i+1))];w(o+s>t);var c=t-o,l=_n()(a);w(l),w(l.insert),w("string"==typeof l.insert),l.insert=l.insert.substr(0,c),a.insert=a.insert.substr(c),""===l.insert&&w(!1),""===a.insert&&w(!1);var u=new e([a].concat(Oo(r.slice(i+1)))),d=new e([].concat(Oo(r.splice(0,i)),[l]));return n&&(n.sourceOp=a),[d,u]}o+=s}throw new Error("invalid split offset: ".concat(t,", ").concat(JSON.stringify(r)))}},{key:"splitByCarets",value:function(t){if(0===t.length)return[this];t.sort((function(e,t){return t.offset-e.offset}));var n=[],r=this;return t.forEach((function(t){var o=!t.userId,i={},a=No(r.split(t.offset,i),2),s=a[0],c=a[1];if(o){var l=i.sourceOp;l&&l.attributes&&(t.attributes=Object.assign(Object.assign({},l.attributes),t.attributes))}e.isEmpty(c)||n.unshift(c),n.unshift(t),r=s})),e.isEmpty(r)||n.unshift(r),n}},{key:"getLastTextWithAttributes",value:function(){var t=this.clone().autoMerge(),n=t.delta.ops;return 0===n.length?t:new e([n[n.length-1]])}},{key:"toPlainText",value:function(e){var t=this.delta.ops,n="";return t.forEach((function(t){w("string"==typeof t.insert),t.attributes&&!0===t.attributes.box&&(null==e?void 0:e.fillCharForBox)?n+=Zi:n+=t.insert})),n}},{key:"toPlainTextWithFillChar",value:function(){return this.toPlainText({fillCharForBox:!0})}},{key:"removeAttributes",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.toOps();return r.forEach((function(r){r.attributes&&(n||r.attributes[e]===t)&&(delete r.attributes[e],0===Object.keys(r.attributes).length&&delete r.attributes)})),this.delta=Io.type.create(r),this}},{key:"removeAttributesByPrefix",value:function(e){var t=this.toOps();return t.forEach((function(t){t.attributes&&(Array.from(Object.keys(t.attributes)).forEach((function(n){n.startsWith(e)&&(w(t.attributes),delete t.attributes[n])})),0===Object.keys(t.attributes).length&&delete t.attributes)})),this.delta=Io.type.create(t),this}},{key:"getAttributesRange",value:function(t,n){var r=this.toOps(),o=0,i=[];r.forEach((function(r){w("string"==typeof r.insert),r.attributes&&r.attributes[t]===n&&i.push({start:o,end:o+e.getOpLength(r)}),o+=e.getOpLength(r)}));for(var a=i.length-1;a>0;a--){var s=i[a],c=i[a-1];c.end===s.start&&(c.end=s.end,i.splice(a,1))}return i}},{key:"updateOpAttributes",value:function(e,t,n){var r=this.toOps(),o=r.findIndex((function(n){return!!n.attributes&&n.attributes[e]===t}));w(-1!==o);var i=r[o];return w(i),i.attributes=Object.assign(Object.assign({},i.attributes),n),this.delta=new(Mo())(r),Wo(this.toOps()),!0}},{key:"sub",value:function(t,n){var r=this.getLength();if(w(t>=0&&t<=r),0===n)return new e([]);-1===n&&(n=r-t);var o=t+n;w(o>=0&&o<=r);var i=this.clone().split(o)[0];w(i);var a=i.split(t)[1];return w(a),a}},{key:"insert",value:function(t,n){if(0===t)return e.combine(n,this).autoMerge();if(-1===t)return e.combine(this,n).autoMerge();var r=No(this.split(t),2),o=r[0],i=r[1],a=e.combine(o,n);return e.combine(a,i).autoMerge()}},{key:"findAll",value:function(e){if(!e)return[];var t=e.length,n=this.toPlainTextWithFillChar().toLowerCase();e=e.toLowerCase();for(var r=n.indexOf(e,0),o=[];-1!==r;)o.push({start:r,end:r+t}),r=n.indexOf(e,r+t);return o}},{key:"replace",value:function(t,n,r){var o=this.clone(),i=o.getAttributesAt(t),a=o.compose(_o.createDeleteOp(t,n-t));return r?a=i?a.insert(t,e.fromAttributedText(r,i)):a.insert(t,e.fromText(r)):a}},{key:"replaceAll",value:function(e,t,n){var r=this.findAll(e),o=this.clone();return 0===r.length||(r.reverse().forEach((function(e){o=o.replace(e.start,e.end,t)})),n&&(n.count=r.length)),o}}])&&jo(t.prototype,n),r&&jo(t,r),e}();const qo={redoIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M10 6H5.5C3.567 6 2 7.567 2 9.5V9.5C2 11.433 3.567 13 5.5 13H7.2" stroke="currentColor"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M9.94739 2.8241L9.94739 9.8241L15.0003 6.2288L9.94739 2.8241Z" fill="currentColor"/>\n</svg>\n',undoIcon:'<svg width="16" height="16" viewBox="0 0 16 16" stroke="currentColor" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M6 6H10.5C12.433 6 14 7.567 14 9.5V9.5C14 11.433 12.433 13 10.5 13H8.8"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6.05261 2.8241L6.05261 9.8241L0.999714 6.2288L6.05261 2.8241Z" fill="currentColor"/>\n</svg>\n',findIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M4.5 5H11.5" stroke="currentColor" stroke-linecap="square" stroke-linejoin="round"/>\n<path d="M4.5 9H8.5" stroke="currentColor" stroke-linecap="square" stroke-linejoin="round"/>\n<path d="M14.5 14.5L12.8452 12.8452M12.8452 12.8452C13.1468 12.5436 13.3333 12.1269 13.3333 11.6667C13.3333 10.7462 12.5871 10 11.6667 10C10.7462 10 10 10.7462 10 11.6667C10 12.5871 10.7462 13.3333 11.6667 13.3333C12.1269 13.3333 12.5436 13.1468 12.8452 12.8452Z" stroke="currentColor" stroke-linecap="square"/>\n<path d="M8 15.5H2.5C1.94772 15.5 1.5 15.0523 1.5 14.5V1.5C1.5 0.947715 1.94772 0.5 2.5 0.5H13.5C14.0523 0.5 14.5 0.947715 14.5 1.5V8.57692" stroke="currentColor" stroke-linecap="square"/>\n</svg>\n',editIcon:'\n<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M9.71672 10.2247L14.0774 5.88027C14.9968 4.96425 16.4848 4.96703 17.4008 5.88647L18.1273 6.62635C19.0313 7.54705 19.0238 9.02441 18.1106 9.93595L13.7581 14.2806L12.474 15.5826L11.706 16.3428L10.4904 17.5723L10.1428 17.9144L10.0821 17.9692L10.0655 17.9819C10.0081 18.0339 9.94684 18.0868 9.87918 18.143L9.65465 18.3234C9.47423 18.4629 9.2779 18.5798 9.10147 18.6568L8.98973 18.7103L8.71727 18.8273L8.37271 18.9612C8.07694 19.0709 7.7673 19.1782 7.44486 19.2829C7.14007 19.3825 6.82902 19.4745 6.51043 19.5594L6.17526 19.6433L5.89775 19.7022L5.77346 19.7233C5.25644 19.7812 4.8244 19.685 4.54027 19.3282C4.27888 19.0123 4.22542 18.6149 4.296 18.1511C4.31271 18.0372 4.34002 17.9038 4.37807 17.7488L4.46854 17.4093L4.66623 16.7256L4.86109 16.0836L5.03893 15.5366L5.14647 15.2452L5.20136 15.1192L5.2232 15.0781C5.30116 14.8936 5.39463 14.7177 5.5035 14.5518C5.62953 14.3602 5.77709 14.1836 5.94173 14.0216L9.71672 10.2247ZM17.057 7.67724L16.3381 6.94515C16.0068 6.61259 15.4686 6.61158 15.1361 6.94291L14.5688 7.50806L16.4925 9.43177L17.0509 8.87433C17.3812 8.54462 17.3839 8.01026 17.057 7.67724ZM10.7768 11.2859L13.5061 8.56674L15.4309 10.4915L12.6942 13.2232L11.416 14.5194C11.1535 14.7756 10.8949 15.0316 10.6426 15.2849L9.10753 16.8294L8.98163 16.9381L8.73383 17.1394C8.67978 17.1811 8.62095 17.2193 8.55875 17.253L8.46311 17.2999C8.40348 17.3293 8.33672 17.3598 8.26069 17.3924L8.00264 17.4971C7.95428 17.5158 7.90306 17.5354 7.84872 17.5557C7.57519 17.6571 7.28482 17.7578 6.98035 17.8567C6.70087 17.9479 6.41619 18.0321 6.12682 18.1093L5.81567 18.1871L5.86054 18.0053L5.98049 17.5771L6.10439 17.1519L6.24948 16.6707L6.45556 16.0298L6.5392 15.8041L6.57353 15.7272C6.64799 15.56 6.6989 15.4642 6.7571 15.3755C6.80034 15.3098 6.85027 15.2453 6.90728 15.1816L8.3259 13.7408L10.7768 11.2859ZM19.0201 17.99H11.0341L10.0401 18.986H19.0201V17.99Z"/>\n</svg>\n\n',reSizeIcon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n<path d="M24 24H0V0h24v24z" fill="none"/><path d="M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8l2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z"/>\n</svg>',helpIcon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n<path d="M0 0h24v24H0z" fill="none"/><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"/>\n</svg>',linkIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_1191_136623)">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M13.4155 2.58243C11.7053 0.872263 8.93262 0.872262 7.22245 2.58243L6.58945 3.21543L7.29656 3.92253L7.92955 3.28954C9.2492 1.96989 11.3888 1.96989 12.7084 3.28954C14.0281 4.60918 14.0281 6.74875 12.7084 8.06839L12.0754 8.70139L12.7825 9.4085L13.4155 8.7755C15.1257 7.06533 15.1257 4.2926 13.4155 2.58243ZM3.28758 7.93151L3.92058 7.29851L3.21347 6.5914L2.58048 7.2244C0.870309 8.93457 0.87031 11.7073 2.58048 13.4175C4.29065 15.1276 7.06338 15.1276 8.77355 13.4175L9.40654 12.7845L8.69944 12.0774L8.06644 12.7104C6.7468 14.03 4.60723 14.03 3.28759 12.7104C1.96794 11.3907 1.96794 9.25115 3.28758 7.93151ZM10.1776 5.11443L5.1136 10.1784L5.82071 10.8855L10.8847 5.82154L10.1776 5.11443Z" fill="currentColor"/>\n</g>\n<defs>\n<clipPath id="clip0_1191_136623">\n<rect width="16" height="16" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n\n',linkOffIcon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" fill="currentColor">\n<path d="M0 0h24v24H0V0z" fill="none"/><path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/><path d="M0 24V0" fill="none"/>\n</svg>',moreIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M3.65499 6.6665C3.09433 6.6665 2.66699 7.1275 2.66699 7.67617C2.66699 8.2255 3.02633 8.64284 3.65499 8.6645C4.23833 8.6645 4.66399 8.26917 4.66399 7.67617C4.66399 7.1275 4.23899 6.6665 3.65499 6.6665ZM12.9883 6.6665C12.4277 6.6665 12.0003 7.1275 12.0003 7.67617C12.0003 8.2255 12.3597 8.64284 12.9883 8.6645C13.5717 8.6645 13.9973 8.26917 13.9973 7.67617C13.9973 7.1275 13.5723 6.6665 12.9883 6.6665ZM8.32166 6.6665C7.76099 6.6665 7.33399 7.1275 7.33399 7.67617C7.33399 8.2255 7.69299 8.64284 8.32166 8.6645C8.90499 8.6645 9.33066 8.26917 9.33066 7.67617C9.33066 7.1275 8.90566 6.6665 8.32166 6.6665Z" fill="currentColor"/>\n</svg>\n\n',deleteIcon:'\n<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8.73636 19.5H15.4396C16.5429 19.5 17.2568 18.828 17.3124 17.7382L17.7852 8.49573H18.5547C18.8978 8.49573 19.1667 8.22329 19.1667 7.88729C19.1667 7.55127 18.8978 7.27885 18.5547 7.27885H15.3098V6.2345C15.3098 5.16292 14.5959 4.5 13.4277 4.5H10.7204C9.56151 4.5 8.84761 5.16292 8.84761 6.2345V7.27885H5.61191C5.28741 7.27885 5 7.55127 5 7.88729C5 8.22329 5.28741 8.49573 5.61191 8.49573H6.38144L6.86354 17.7473C6.91917 18.8371 7.61452 19.5 8.73636 19.5ZM10.1641 6.32531C10.1641 5.95299 10.433 5.70779 10.8224 5.70779H13.335C13.7244 5.70779 13.984 5.95299 13.984 6.32531V7.27885H10.1641V6.32531ZM8.16154 17.602C8.18008 18.0016 8.46749 18.2831 8.85689 18.2831H15.3005C15.7084 18.2831 15.9866 18.0107 16.0051 17.602L16.4594 8.49573H7.67943L8.16154 17.602Z"/>\n</svg>\n',addCommentIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_1191_136660)">\n<path d="M3 12H3.5V11.5H3V12ZM4.70711 14.2929L4.35355 13.9393L4.35355 13.9393L4.70711 14.2929ZM7 12V11.5H6.79289L6.64645 11.6464L7 12ZM1.5 2C1.5 1.72386 1.72386 1.5 2 1.5V0.5C1.17157 0.5 0.5 1.17157 0.5 2H1.5ZM1.5 11V2H0.5V11H1.5ZM2 11.5C1.72386 11.5 1.5 11.2761 1.5 11H0.5C0.5 11.8284 1.17157 12.5 2 12.5V11.5ZM3 11.5H2V12.5H3V11.5ZM3.5 13.5858V12H2.5V13.5858H3.5ZM4.35355 13.9393C4.03857 14.2543 3.5 14.0312 3.5 13.5858H2.5C2.5 14.9221 4.11571 15.5914 5.06066 14.6464L4.35355 13.9393ZM6.64645 11.6464L4.35355 13.9393L5.06066 14.6464L7.35355 12.3536L6.64645 11.6464ZM14 11.5H7V12.5H14V11.5ZM14.5 11C14.5 11.2761 14.2761 11.5 14 11.5V12.5C14.8284 12.5 15.5 11.8284 15.5 11H14.5ZM14.5 2V11H15.5V2H14.5ZM14 1.5C14.2761 1.5 14.5 1.72386 14.5 2H15.5C15.5 1.17157 14.8284 0.5 14 0.5V1.5ZM2 1.5H14V0.5H2V1.5Z" fill="currentColor"/>\n<line x1="5.5" y1="6.5" x2="10.5" y2="6.5" stroke="currentColor"/>\n<line x1="8" y1="4" x2="8" y2="9" stroke="currentColor"/>\n</g>\n<defs>\n<clipPath id="clip0_1191_136660">\n<rect width="16" height="16" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n\n',arrowLeftIcon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n<path d="M0 0h24v24H0z" fill="none"/><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>\n</svg>',arrowRightIcon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n<path d="M0 0h24v24H0z" fill="none"/><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" fill="currentColor"/>\n</svg>',addCircleIcon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n<path d="M0 0h24v24H0z" fill="none"/><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>',moreCircleIcon:'<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect y="0.152344" width="16" height="17" rx="2" fill="transparent" />\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6.33341 3.48568C6.33341 4.22204 5.73645 4.81901 5.00008 4.81901C4.26371 4.81901 3.66675 4.22204 3.66675 3.48568C3.66675 2.7493 4.26371 2.15234 5.00008 2.15234C5.73645 2.15234 6.33341 2.7493 6.33341 3.48568ZM5.00008 9.48568C5.73645 9.48568 6.33341 8.88871 6.33341 8.15234C6.33341 7.41598 5.73645 6.81901 5.00008 6.81901C4.26371 6.81901 3.66675 7.41598 3.66675 8.15234C3.66675 8.88871 4.26371 9.48568 5.00008 9.48568ZM5.00008 14.1523C5.73645 14.1523 6.33341 13.5554 6.33341 12.819C6.33341 12.0826 5.73645 11.4857 5.00008 11.4857C4.26371 11.4857 3.66675 12.0826 3.66675 12.819C3.66675 13.5554 4.26371 14.1523 5.00008 14.1523Z" />\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12.3334 3.48568C12.3334 4.22204 11.7364 4.81901 11.0001 4.81901C10.2637 4.81901 9.66675 4.22204 9.66675 3.48568C9.66675 2.7493 10.2637 2.15234 11.0001 2.15234C11.7364 2.15234 12.3334 2.7493 12.3334 3.48568ZM11.0001 9.48568C11.7364 9.48568 12.3334 8.88871 12.3334 8.15234C12.3334 7.41598 11.7364 6.81901 11.0001 6.81901C10.2637 6.81901 9.66675 7.41598 9.66675 8.15234C9.66675 8.88871 10.2637 9.48568 11.0001 9.48568ZM11.0001 14.1523C11.7364 14.1523 12.3334 13.5554 12.3334 12.819C12.3334 12.0826 11.7364 11.4857 11.0001 11.4857C10.2637 11.4857 9.66675 12.0826 9.66675 12.819C9.66675 13.5554 10.2637 14.1523 11.0001 14.1523Z" />\n</svg>',boldIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<line x1="3.5" y1="0.5" x2="3.5" y2="15.5" stroke="currentColor"/>\n<path d="M4 8L7.5 8C9.433 8 11 6.433 11 4.5V4.5C11 2.567 9.433 1 7.5 1L4 1" stroke="currentColor"/>\n<path d="M4 15L9.5 15C11.433 15 13 13.433 13 11.5V11.5C13 9.567 11.433 8 9.5 8L4 8" stroke="currentColor"/>\n</svg>\n\n',italicIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<line x1="2" y1="14.5" x2="10" y2="14.5" stroke="currentColor"/>\n<line x1="6" y1="1.5" x2="14" y2="1.5" stroke="currentColor"/>\n<path d="M10.5 2L6 14" stroke="currentColor" stroke-linecap="square"/>\n</svg>\n\n',underlineIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M4 2V8C4 10.2091 5.79086 12 8 12V12C10.2091 12 12 10.2091 12 8V2" stroke="currentColor"/>\n<line x1="4" y1="14.5" x2="12" y2="14.5" stroke="currentColor"/>\n</svg>\n\n',strikethroughIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M8.32117 15.12C6.93451 15.12 5.84784 14.78 5.06117 14.1C4.27451 13.42 3.82117 12.42 3.70117 11.1H5.14117C5.32784 12.9267 6.42117 13.84 8.42117 13.84C9.46117 13.84 10.2478 13.62 10.7812 13.18C11.3278 12.74 11.6012 12.1 11.6012 11.26C11.6012 10.5 11.3878 9.92669 10.9612 9.54002C10.5345 9.15335 9.88784 8.88669 9.02117 8.74002L7.46117 8.48002C6.34117 8.29335 5.48117 7.91335 4.88117 7.34002C4.28117 6.75335 3.98117 5.93335 3.98117 4.88002C3.98117 3.66669 4.38784 2.72002 5.20117 2.04002C6.01451 1.36002 7.08784 1.02002 8.42117 1.02002C9.64784 1.02002 10.6478 1.34002 11.4212 1.98002C12.2078 2.60669 12.6745 3.56669 12.8212 4.86002H11.3812C11.2212 3.14002 10.2278 2.28002 8.40117 2.28002C7.45451 2.28002 6.71451 2.50669 6.18117 2.96002C5.66117 3.40002 5.40117 4.00669 5.40117 4.78002C5.40117 5.46002 5.60117 5.99335 6.00117 6.38002C6.41451 6.75335 7.03451 7.01335 7.86117 7.16002L9.46117 7.44002C10.6212 7.64002 11.5078 8.04002 12.1212 8.64002C12.7345 9.24002 13.0412 10.0867 13.0412 11.18C13.0412 12.4334 12.6212 13.4067 11.7812 14.1C10.9412 14.78 9.78784 15.12 8.32117 15.12Z" fill="currentColor"/>\n<line x1="1" y1="7.5" x2="15" y2="7.5" stroke="currentColor"/>\n</svg>\n\n',orderListIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<line x1="4" y1="3.5" x2="15" y2="3.5" stroke="currentColor"/>\n<line x1="4" y1="13.5" x2="15" y2="13.5" stroke="currentColor"/>\n<line x1="4" y1="8.5" x2="15" y2="8.5" stroke="currentColor"/>\n<path d="M1.39055 2.2748L0.810547 2.6948V1.9848L1.39055 1.5498H2.04555V4.9998H1.39055V2.2748Z" fill="currentColor"/>\n<path d="M0.507187 9.48012L1.65219 7.99512C1.77885 7.82512 1.84219 7.66345 1.84219 7.51012V7.44012C1.84219 7.32012 1.80885 7.22512 1.74219 7.15512C1.67885 7.08512 1.59219 7.05012 1.48219 7.05012C1.37219 7.05012 1.28552 7.08678 1.22219 7.16012C1.15885 7.23345 1.12719 7.33512 1.12719 7.46512V7.54512H0.492188V7.42512C0.492188 7.24512 0.532187 7.08512 0.612188 6.94512C0.695521 6.80512 0.813854 6.69512 0.967187 6.61512C1.12052 6.53512 1.30052 6.49512 1.50719 6.49512C1.70719 6.49512 1.88219 6.53678 2.03219 6.62012C2.18552 6.70345 2.30219 6.81512 2.38219 6.95512C2.46552 7.09512 2.50719 7.25012 2.50719 7.42012V7.50512C2.50719 7.65512 2.48052 7.79345 2.42719 7.92012C2.37385 8.04678 2.29552 8.17678 2.19219 8.31012L1.33219 9.42512H2.50719V10.0001H0.507187V9.48012Z" fill="currentColor"/>\n<path d="M1.48484 15.0551C1.16151 15.0551 0.909844 14.9785 0.729844 14.8251C0.553177 14.6685 0.464844 14.4485 0.464844 14.1651V14.0601H1.07484V14.1351C1.07484 14.2551 1.10818 14.3468 1.17484 14.4101C1.24484 14.4701 1.34484 14.5001 1.47484 14.5001C1.59818 14.5001 1.69484 14.4601 1.76484 14.3801C1.83818 14.3001 1.87484 14.1918 1.87484 14.0551V13.9651C1.87484 13.8151 1.83651 13.7001 1.75984 13.6201C1.68318 13.5401 1.57151 13.5001 1.42484 13.5001H1.24984V12.9451H1.41984C1.54651 12.9451 1.64484 12.9085 1.71484 12.8351C1.78484 12.7618 1.81984 12.6601 1.81984 12.5301V12.4551C1.81984 12.3285 1.78651 12.2301 1.71984 12.1601C1.65651 12.0868 1.56818 12.0501 1.45484 12.0501C1.33818 12.0501 1.24818 12.0835 1.18484 12.1501C1.12151 12.2135 1.08984 12.3018 1.08984 12.4151V12.5001H0.489844V12.4151C0.489844 12.1251 0.57651 11.9001 0.749844 11.7401C0.92651 11.5768 1.16984 11.4951 1.47984 11.4951C1.78318 11.4951 2.02151 11.5785 2.19484 11.7451C2.36818 11.9085 2.45484 12.1285 2.45484 12.4051V12.4801C2.45484 12.6301 2.41984 12.7651 2.34984 12.8851C2.27984 13.0018 2.17984 13.0951 2.04984 13.1651C2.19984 13.2285 2.31318 13.3285 2.38984 13.4651C2.46984 13.6018 2.50984 13.7668 2.50984 13.9601V14.0551C2.50984 14.2585 2.46651 14.4351 2.37984 14.5851C2.29318 14.7351 2.17151 14.8518 2.01484 14.9351C1.85818 15.0151 1.68151 15.0551 1.48484 15.0551Z" fill="currentColor"/>\n</svg>\n\n',unOrderListIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<line x1="4" y1="3.5" x2="15" y2="3.5" stroke="currentColor"/>\n<line x1="1" y1="3.5" x2="2" y2="3.5" stroke="currentColor"/>\n<line x1="4" y1="13.5" x2="15" y2="13.5" stroke="currentColor"/>\n<line x1="1" y1="13.5" x2="2" y2="13.5" stroke="currentColor"/>\n<line x1="4" y1="8.5" x2="15" y2="8.5" stroke="currentColor"/>\n<line x1="1" y1="8.5" x2="2" y2="8.5" stroke="currentColor"/>\n</svg>\n\n',checkIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect x="1.5" y="1.5" width="13" height="13" stroke="currentColor"/>\n<path d="M11.7109 5.5L7.12914 10.622L4.875 8.3125" stroke="currentColor" stroke-linecap="square" stroke-linejoin="round"/>\n</svg>\n',checkboxIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect x="1.5" y="1.5" width="13" height="13" stroke="currentColor"/>\n<path d="M11.7109 5.5L7.12914 10.622L4.875 8.3125" stroke="currentColor" stroke-linecap="square" stroke-linejoin="round"/>\n</svg>\n',alarmIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip-alarm)">\n<path d="M16 -0.000976562H0V15.999H16V-0.000976562Z" fill="white" fill-opacity="0.01"/>\n<path d="M1.66666 6.33203H14.3333V13.6654C14.3333 14.0336 14.0349 14.332 13.6667 14.332H2.33333C1.96514 14.332 1.66666 14.0336 1.66666 13.6654V6.33203Z" stroke="#999999" fill="none"/>\n<path d="M1.66666 3.33268C1.66666 2.96449 1.96514 2.66602 2.33333 2.66602H13.6667C14.0349 2.66602 14.3333 2.96449 14.3333 3.33268V6.33268H1.66666V3.33268Z" stroke="#999999" fill="none"/>\n<path d="M5.33334 10.332L7.33334 12.332L11.3333 8.33203" stroke="#999999" fill="none"/>\n<path d="M5.33334 1.66602V4.33268" stroke="#999999" fill="none"/>\n<path d="M10.6667 1.66602V4.33268" stroke="#999999" fill="none"/>\n</g>\n<defs>\n<clipPath id="clip-alarm">\n<rect width="16" height="16" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n',addUserIcon:'<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M5.27137 5.61819C6.60787 5.61819 7.69131 4.53475 7.69131 3.19825C7.69131 1.86176 6.60787 0.77832 5.27137 0.77832C3.93488 0.77832 2.85144 1.86176 2.85144 3.19825C2.85144 4.53475 3.93488 5.61819 5.27137 5.61819Z" stroke="#999999" stroke-linejoin="round" fill="none"/>\n<path d="M9.07413 10.8036H13.2226M11.1484 8.91895V13.1009V8.91895Z" stroke="#999999" stroke-linecap="square" fill="none"/>\n<path d="M8.03712 8.38281H5.20234C3.65344 8.38281 2.87899 8.38281 2.28739 8.68423C1.76699 8.94939 1.3439 9.3725 1.07875 9.89289C0.777313 10.4845 0.777313 11.2589 0.777313 12.8078V13.2227H8.03712" stroke="#999999" stroke-linecap="square" stroke-linejoin="round" fill="none"/>\n</svg>\n',heading1Icon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<line x1="1.5" y1="1" x2="1.5" y2="14" stroke="currentColor"/>\n<line x1="8.5" y1="1" x2="8.5" y2="14" stroke="currentColor"/>\n<line x1="2" y1="7.5" x2="8" y2="7.5" stroke="currentColor"/>\n<path d="M12.2821 8.5501L11.1221 9.3901V7.9701L12.2821 7.1001H13.5921V14.0001H12.2821V8.5501Z" fill="currentColor"/>\n</svg>\n\n',heading2Icon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M10.5144 12.9602L12.8044 9.99023C13.0577 9.65023 13.1844 9.3269 13.1844 9.02023V8.88023C13.1844 8.64023 13.1177 8.45023 12.9844 8.31023C12.8577 8.17023 12.6844 8.10023 12.4644 8.10023C12.2444 8.10023 12.071 8.17357 11.9444 8.32023C11.8177 8.4669 11.7544 8.67023 11.7544 8.93023V9.09023H10.4844V8.85023C10.4844 8.49023 10.5644 8.17023 10.7244 7.89023C10.891 7.61023 11.1277 7.39023 11.4344 7.23023C11.741 7.07023 12.101 6.99023 12.5144 6.99023C12.9144 6.99023 13.2644 7.07357 13.5644 7.24023C13.871 7.4069 14.1044 7.63023 14.2644 7.91023C14.431 8.19023 14.5144 8.50023 14.5144 8.84023V9.01023C14.5144 9.31023 14.461 9.5869 14.3544 9.84023C14.2477 10.0936 14.091 10.3536 13.8844 10.6202L12.1644 12.8502H14.5144V14.0002H10.5144V12.9602Z" fill="currentColor"/>\n<line x1="1.5" y1="1" x2="1.5" y2="14" stroke="currentColor"/>\n<line x1="8.5" y1="1" x2="8.5" y2="14" stroke="currentColor"/>\n<line x1="2" y1="7.5" x2="8" y2="7.5" stroke="currentColor"/>\n</svg>\n\n',heading3Icon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.4707 14.1102C11.824 14.1102 11.3207 13.9569 10.9607 13.6502C10.6073 13.3369 10.4307 12.8969 10.4307 12.3302V12.1202H11.6507V12.2702C11.6507 12.5102 11.7173 12.6936 11.8507 12.8202C11.9907 12.9402 12.1907 13.0002 12.4507 13.0002C12.6973 13.0002 12.8907 12.9202 13.0307 12.7602C13.1773 12.6002 13.2507 12.3836 13.2507 12.1102V11.9302C13.2507 11.6302 13.174 11.4002 13.0207 11.2402C12.8673 11.0802 12.644 11.0002 12.3507 11.0002H12.0007V9.89023H12.3407C12.594 9.89023 12.7907 9.8169 12.9307 9.67023C13.0707 9.52357 13.1407 9.32023 13.1407 9.06023V8.91023C13.1407 8.6569 13.074 8.46023 12.9407 8.32023C12.814 8.17357 12.6373 8.10023 12.4107 8.10023C12.1773 8.10023 11.9973 8.1669 11.8707 8.30023C11.744 8.4269 11.6807 8.60357 11.6807 8.83023V9.00023H10.4807V8.83023C10.4807 8.25023 10.654 7.80023 11.0007 7.48023C11.354 7.15357 11.8407 6.99023 12.4607 6.99023C13.0673 6.99023 13.544 7.1569 13.8907 7.49023C14.2373 7.8169 14.4107 8.2569 14.4107 8.81023V8.96023C14.4107 9.26023 14.3407 9.53023 14.2007 9.77023C14.0607 10.0036 13.8607 10.1902 13.6007 10.3302C13.9007 10.4569 14.1273 10.6569 14.2807 10.9302C14.4407 11.2036 14.5207 11.5336 14.5207 11.9202V12.1102C14.5207 12.5169 14.434 12.8702 14.2607 13.1702C14.0873 13.4702 13.844 13.7036 13.5307 13.8702C13.2173 14.0302 12.864 14.1102 12.4707 14.1102Z" fill="currentColor"/>\n<line x1="1.5" y1="1" x2="1.5" y2="14" stroke="currentColor"/>\n<line x1="8.5" y1="1" x2="8.5" y2="14" stroke="currentColor"/>\n<line x1="2" y1="7.5" x2="8" y2="7.5" stroke="currentColor"/>\n</svg>\n\n',heading4Icon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M14.7522 12.9001H14.1922V14.0001H12.8822V12.9001H10.2422V11.7501L12.2122 7.1001H13.5222L11.5522 11.7501H12.8822V10.1301H14.1922V11.7501H14.7522V12.9001Z" fill="currentColor"/>\n<line x1="1.5" y1="1" x2="1.5" y2="14" stroke="currentColor"/>\n<line x1="8.5" y1="1" x2="8.5" y2="14" stroke="currentColor"/>\n<line x1="2" y1="7.5" x2="8" y2="7.5" stroke="currentColor"/>\n</svg>\n\n',heading5Icon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.4646 14.1101C11.8646 14.1101 11.388 13.9601 11.0346 13.6601C10.688 13.3601 10.5146 12.9434 10.5146 12.4101V12.2601H11.7146V12.3201C11.7146 12.5334 11.7813 12.7001 11.9146 12.8201C12.048 12.9401 12.2313 13.0001 12.4646 13.0001C12.718 13.0001 12.9046 12.9201 13.0246 12.7601C13.1513 12.5934 13.2146 12.3534 13.2146 12.0401V11.5201C13.2146 11.1934 13.1513 10.9534 13.0246 10.8001C12.9046 10.6401 12.7146 10.5601 12.4546 10.5601C12.1213 10.5601 11.8846 10.7168 11.7446 11.0301H10.6146V7.1001H14.3446V8.2201H11.7446V9.7801C12.0113 9.56676 12.338 9.4601 12.7246 9.4601C13.3046 9.4601 13.7413 9.63343 14.0346 9.9801C14.3346 10.3201 14.4846 10.8101 14.4846 11.4501V12.1001C14.4846 12.7334 14.3046 13.2268 13.9446 13.5801C13.5913 13.9334 13.098 14.1101 12.4646 14.1101Z" fill="currentColor"/>\n<line x1="1.5" y1="1" x2="1.5" y2="14" stroke="currentColor"/>\n<line x1="8.5" y1="1" x2="8.5" y2="14" stroke="currentColor"/>\n<line x1="2" y1="7.5" x2="8" y2="7.5" stroke="currentColor"/>\n</svg>\n',heading6Icon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<line x1="1.5" y1="1" x2="1.5" y2="14" stroke="currentColor"/>\n<line x1="8.5" y1="1" x2="8.5" y2="14" stroke="currentColor"/>\n<line x1="2" y1="7.5" x2="8" y2="7.5" stroke="currentColor"/>\n<path d="M12.5021 14.1101C11.8354 14.1101 11.3121 13.9301 10.9321 13.5701C10.5587 13.2101 10.3721 12.7101 10.3721 12.0701V11.7601C10.3721 11.4868 10.4087 11.2268 10.4821 10.9801C10.5621 10.7334 10.6754 10.4634 10.8221 10.1701L12.4021 7.1001H13.7821L12.3521 9.8901C12.4987 9.82343 12.6654 9.7901 12.8521 9.7901C13.3921 9.7901 13.8221 9.96343 14.1421 10.3101C14.4687 10.6501 14.6321 11.1168 14.6321 11.7101V12.0301C14.6321 12.6834 14.4354 13.1934 14.0421 13.5601C13.6554 13.9268 13.1421 14.1101 12.5021 14.1101ZM12.5021 13.0001C12.7554 13.0001 12.9554 12.9201 13.1021 12.7601C13.2487 12.6001 13.3221 12.3768 13.3221 12.0901V11.7801C13.3221 11.4934 13.2487 11.2734 13.1021 11.1201C12.9554 10.9601 12.7554 10.8801 12.5021 10.8801C12.2487 10.8801 12.0487 10.9601 11.9021 11.1201C11.7621 11.2734 11.6921 11.4901 11.6921 11.7701V12.1001C11.6921 12.3801 11.7621 12.6001 11.9021 12.7601C12.0487 12.9201 12.2487 13.0001 12.5021 13.0001Z" fill="currentColor"/>\n</svg>\n\n',heading7Icon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M14.4846 7.1001V8.2401L12.3846 14.0001H11.0646L13.2046 8.2401H10.5146V7.1001H14.4846Z" fill="currentColor"/>\n<line x1="1.5" y1="1" x2="1.5" y2="14" stroke="currentColor"/>\n<line x1="8.5" y1="1" x2="8.5" y2="14" stroke="currentColor"/>\n<line x1="2" y1="7.5" x2="8" y2="7.5" stroke="currentColor"/>\n</svg>\n',heading8Icon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.493 14.1102C12.0864 14.1102 11.723 14.0302 11.403 13.8702C11.083 13.7036 10.8297 13.4669 10.643 13.1602C10.463 12.8536 10.373 12.5002 10.373 12.1002V11.8702C10.373 11.5569 10.4464 11.2702 10.593 11.0102C10.7397 10.7436 10.9464 10.5336 11.213 10.3802C10.9997 10.2536 10.8264 10.0769 10.693 9.85023C10.5664 9.6169 10.503 9.35023 10.503 9.05023V8.87023C10.503 8.53023 10.583 8.2169 10.743 7.93023C10.9097 7.64357 11.143 7.4169 11.443 7.25023C11.743 7.0769 12.0964 6.99023 12.503 6.99023C12.9097 6.99023 13.263 7.0769 13.563 7.25023C13.8697 7.4169 14.103 7.64357 14.263 7.93023C14.423 8.2169 14.503 8.53023 14.503 8.87023V9.05023C14.503 9.34357 14.4364 9.6069 14.303 9.84023C14.1697 10.0736 13.9997 10.2536 13.793 10.3802C14.0597 10.5402 14.263 10.7536 14.403 11.0202C14.5497 11.2802 14.623 11.5602 14.623 11.8602V12.0902C14.623 12.4969 14.5297 12.8536 14.343 13.1602C14.163 13.4669 13.9097 13.7036 13.583 13.8702C13.263 14.0302 12.8997 14.1102 12.493 14.1102ZM12.503 9.86023C12.7297 9.86023 12.9097 9.7869 13.043 9.64023C13.1764 9.4869 13.243 9.29357 13.243 9.06023V8.87023C13.243 8.65023 13.173 8.4669 13.033 8.32023C12.8997 8.17357 12.723 8.10023 12.503 8.10023C12.283 8.10023 12.103 8.17357 11.963 8.32023C11.8297 8.4669 11.763 8.65023 11.763 8.87023V9.06023C11.763 9.30023 11.8297 9.49357 11.963 9.64023C12.0964 9.7869 12.2764 9.86023 12.503 9.86023ZM12.503 13.0002C12.763 13.0002 12.9697 12.9169 13.123 12.7502C13.283 12.5836 13.363 12.3602 13.363 12.0802V11.8402C13.363 11.5736 13.283 11.3569 13.123 11.1902C12.9697 11.0236 12.763 10.9402 12.503 10.9402C12.2497 10.9402 12.043 11.0236 11.883 11.1902C11.723 11.3569 11.643 11.5736 11.643 11.8402V12.0802C11.643 12.3536 11.7197 12.5769 11.873 12.7502C12.0264 12.9169 12.2364 13.0002 12.503 13.0002Z" fill="currentColor"/>\n<line x1="1.5" y1="1" x2="1.5" y2="14" stroke="currentColor"/>\n<line x1="8.5" y1="1" x2="8.5" y2="14" stroke="currentColor"/>\n<line x1="2" y1="7.5" x2="8" y2="7.5" stroke="currentColor"/>\n</svg>\n',headingNIcon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M5.75 6C5.33579 6 5 6.33579 5 6.75V17.25C5 17.6642 5.33579 18 5.75 18C6.16421 18 6.5 17.6642 6.5 17.25V12.6333H11.2222V17.25C11.2222 17.6642 11.558 18 11.9722 18C12.3864 18 12.7222 17.6642 12.7222 17.25V6.75C12.7222 6.33579 12.3864 6 11.9722 6C11.558 6 11.2222 6.33579 11.2222 6.75V11.1333H6.5V6.75C6.5 6.33579 6.16421 6 5.75 6ZM14.7286 18C14.9389 18 15.1229 17.9211 15.254 17.7815C15.3847 17.6424 15.4572 17.4488 15.4572 17.2279V13.3327C15.4572 12.714 15.6451 12.2098 15.968 11.8612C16.2903 11.5134 16.7547 11.3122 17.3254 11.3122C17.8869 11.3122 18.2904 11.4731 18.555 11.766C18.8213 12.0607 18.9615 12.5049 18.9615 13.1006V17.2279C18.9615 17.4488 19.034 17.6424 19.1647 17.7815C19.2958 17.9211 19.4798 18 19.6901 18C19.9004 18 20.0844 17.9211 20.2155 17.7815C20.3461 17.6424 20.4187 17.4488 20.4187 17.2279V12.8757C20.4187 12.0021 20.1742 11.2814 19.7072 10.7783C19.2392 10.2742 18.5585 10 17.7099 10C16.6377 10 15.853 10.4302 15.3847 11.1253V10.7359C15.3847 10.5259 15.3158 10.3414 15.1916 10.2086C15.0669 10.0754 14.8919 10 14.6924 10C14.4928 10 14.3178 10.0754 14.1931 10.2086C14.0689 10.3414 14 10.5259 14 10.7359V17.2279C14 17.4488 14.0726 17.6424 14.2032 17.7815C14.3343 17.9211 14.5184 18 14.7286 18Z"/>\n</svg>\n',officeIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M6.49669 1C4.80282 1 3.0118 2.3515 3.0118 3.76237L3 10.6206M6.49669 1C8.41943 1 10.0154 2.60058 10.0154 4.17342M6.49669 1C7.43289 1 8.28684 1.42118 8.90405 1.96796C9.50746 2.50252 10.0154 3.29036 10.0154 4.17342M10.0154 4.17342L10.0154 9.61446C10.0154 10.4166 9.23033 11.2316 8 11.2316C6.91283 11.2316 6.01026 10.5735 6.01026 9.87981L5.98457 5.04102M3 10.6206C3 13.1126 5.38055 15 8 15M3 10.6206C3 12.9301 5.13252 15 8 15M8 15C10.6194 15 13 13.1988 13 10.7068M8 15C10.8675 15 13 13.0162 13 10.7068M13 10.7068V5.04102" stroke="currentColor" stroke-linecap="square" stroke-linejoin="round"/>\n<path d="M13 4V10C13 12.7614 10.7614 15 8 15C5.23858 15 3 12.7614 3 10V4.5" stroke="currentColor"/>\n<path d="M10 9V4.5C10 2.567 8.433 1 6.5 1C4.567 1 3 2.567 3 4.5" stroke="currentColor"/>\n<path d="M10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9V4" stroke="currentColor"/>\n</svg>\n',imageIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_1214_10264)">\n<path d="M2 14L9.5 7L15 12" stroke="currentColor"/>\n<path d="M5 6C5 6.27614 4.77614 6.5 4.5 6.5C4.22386 6.5 4 6.27614 4 6C4 5.72386 4.22386 5.5 4.5 5.5C4.77614 5.5 5 5.72386 5 6Z" fill="#606060" stroke="currentColor"/>\n<path d="M1 13V3C1 2.44772 1.44772 2 2 2H14C14.5523 2 15 2.44772 15 3V13C15 13.5523 14.5523 14 14 14H2C1.44772 14 1 13.5523 1 13Z" stroke="currentColor"/>\n</g>\n<defs>\n<clipPath id="clip0_1214_10264">\n<rect width="16" height="16" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n',videoIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect x="1.5" y="2.5" width="13" height="11" stroke="currentColor"/>\n<path d="M9.75115 7.50077C10.1074 7.73826 10.1074 8.26174 9.75115 8.49923L7.68282 9.87812C7.28409 10.1439 6.75 9.85811 6.75 9.37889L6.75 6.62111C6.75 6.14189 7.28409 5.85606 7.68282 6.12188L9.75115 7.50077Z" fill="#606060"/>\n</svg>\n',audioIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 3.98061V1.46907C12 1.31148 11.9458 1.18837 11.8375 1.09972C11.7291 1.01108 11.5962 0.981533 11.4386 1.01108L8.09972 1.735C7.73038 1.81871 7.54571 2.02062 7.54571 2.34072L7.57525 9.91228C7.59495 10.321 7.41767 10.5648 7.0434 10.6436L5.94275 10.8726C5.28286 11.0105 4.79286 11.2419 4.47276 11.5669C4.15759 11.887 4 12.2982 4 12.8006C4 13.293 4.1699 13.6944 4.5097 14.0046C4.85442 14.3198 5.30009 14.4774 5.84672 14.4774C6.09295 14.4774 6.35642 14.4306 6.63712 14.337C6.91782 14.2435 7.18129 14.0933 7.42752 13.8864C7.67375 13.6796 7.87565 13.4063 8.03324 13.0665C8.19083 12.7316 8.26962 12.3229 8.26962 11.8403L8.26962 5.62789C8.26962 5.42105 8.30163 5.27824 8.36565 5.19945C8.42967 5.11573 8.56017 5.05171 8.75716 5.00739L11.6824 4.36473C11.7809 4.34503 11.8572 4.30071 11.9114 4.23176C11.9705 4.16282 12 4.0791 12 3.98061Z" fill="currentColor"/>\n</svg>',fontColorIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3 14L8 2L13 14" stroke="currentColor"/>\n<path d="M5.5 9H10.5" stroke="currentColor" stroke-linecap="square"/>\n</svg>\n',alignLeftIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<line x1="1" y1="2.5" x2="15" y2="2.5" stroke="currentColor"/>\n<line x1="1" y1="10.5" x2="15" y2="10.5" stroke="currentColor"/>\n<line x1="1" y1="6.5" x2="9" y2="6.5" stroke="currentColor"/>\n<line x1="1" y1="14.5" x2="9" y2="14.5" stroke="currentColor"/>\n</svg>\n\n',alignCenterIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<line x1="1" y1="2.5" x2="15" y2="2.5" stroke="currentColor"/>\n<line x1="1" y1="10.5" x2="15" y2="10.5" stroke="currentColor"/>\n<line x1="4" y1="6.5" x2="12" y2="6.5" stroke="currentColor"/>\n<line x1="4" y1="14.5" x2="12" y2="14.5" stroke="currentColor"/>\n</svg>\n\n',alignRightIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<line x1="1" y1="2.5" x2="15" y2="2.5" stroke="currentColor"/>\n<line x1="1" y1="10.5" x2="15" y2="10.5" stroke="currentColor"/>\n<line x1="7" y1="6.5" x2="15" y2="6.5" stroke="currentColor"/>\n<line x1="7" y1="14.5" x2="15" y2="14.5" stroke="currentColor"/>\n</svg>\n\n',prevIcon:'\n<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 12 12" width="12">\n<path d="M3.7 6l4.65-4.65a.5.5 0 10-.7-.7L2.29 6l5.36 5.35a.5.5 0 10.7-.7L3.71 6z" fill-rule="nonzero"></path>\n</svg>',nextIcon:'\n<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 12 12" width="12">\n<path d="M8.09 6L3.44 1.35a.5.5 0 11.7-.7L9.5 6l-5.35 5.35a.5.5 0 01-.71-.7L8.09 6z"></path>\n</svg>',closeIcon:'\n<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n<path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n</svg>',quoteIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M3 3C2.44772 3 2 3.44772 2 4V7C2 7.55228 2.44772 8 3 8H6V8.14286C6 9.75581 4.62221 11.0001 2.92857 11.0001H2.42857V12.0001H2.92857C5.09208 12.0001 7 10.387 7 8.14286V7V5.57143V5.07143V4C7 3.44772 6.55228 3 6 3H3ZM10 3C9.44772 3 9 3.44772 9 4V7C9 7.55228 9.44772 8 10 8H12.9992V8.14272C12.9992 9.80945 11.8512 11 10.2129 11H9.71289V12H10.2129C12.4317 12 13.9992 10.3331 13.9992 8.14272V7.0413C13.9997 7.0276 14 7.01383 14 7V4C14 3.44772 13.5523 3 13 3H10Z" fill="currentColor"/>\n</svg>\n',lockIcon:'\n<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n<path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"></path>\n</svg>',unlockIcon:'\n<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n<path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h2c0-1.66 1.34-3 3-3s3 1.34 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"></path>\n</svg>',graphIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect x="9.5" y="7.5" width="5" height="2" stroke="currentColor"/>\n<rect x="4" y="6.70711" width="3" height="3" transform="rotate(45 4 6.70711)" stroke="currentColor"/>\n<rect x="9.5" y="12.5" width="5" height="2" stroke="currentColor"/>\n<path d="M9.5 8.5H6" stroke="currentColor"/>\n<path d="M9.5 13.5H6" stroke="currentColor"/>\n<path d="M6 13.5H4V10.5" stroke="currentColor"/>\n<path d="M4 6.5V4" stroke="currentColor"/>\n<rect x="2.5" y="1.5" width="3" height="3" rx="1.5" stroke="currentColor"/>\n</svg>\n',tableIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_1191_136620)">\n<path d="M2 3C2 2.44772 2.44772 2 3 2H13C13.5523 2 14 2.44772 14 3V4V13C14 13.5523 13.5523 14 13 14H3C2.44772 14 2 13.5523 2 13V3Z" stroke="currentColor"/>\n<path d="M2 6H14" stroke="currentColor"/>\n<path d="M6 2V14" stroke="currentColor"/>\n<path d="M2 10H14" stroke="currentColor"/>\n</g>\n<defs>\n<clipPath id="clip0_1191_136620">\n<rect width="16" height="16" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n\n',layoutIcon:'\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M7.416 19H16.592C18.192 19 19 18.1995 19 16.6146V7.37736C19 5.80046 18.192 5 16.592 5H7.416C5.816 5 5 5.80046 5 7.37736V16.6146C5 18.1995 5.816 19 7.416 19ZM7.456 17.6953C6.72 17.6953 6.312 17.303 6.312 16.5346V7.46541C6.312 6.69697 6.72 6.30475 7.456 6.30475H11.352V17.6953H7.456ZM16.544 6.30475C17.28 6.30475 17.696 6.69697 17.696 7.46541V16.5346C17.696 17.303 17.28 17.6953 16.544 17.6953H12.648V6.30475H16.544Z" />\n</svg>\n',webIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect x="1" y="2" width="14" height="12" rx="1" stroke="currentColor"/>\n<line x1="1" y1="6.5" x2="15" y2="6.5" stroke="currentColor"/>\n<line x1="3" y1="4.5" x2="5" y2="4.5" stroke="currentColor"/>\n<line x1="6" y1="4.5" x2="8" y2="4.5" stroke="currentColor"/>\n</svg>\n',textIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1 1.5H15" stroke="currentColor"/>\n<path d="M8 2L8 15" stroke="currentColor"/>\n<line x1="1.5" y1="2" x2="1.5" y2="3" stroke="currentColor"/>\n<line x1="14.5" y1="2" x2="14.5" y2="3" stroke="currentColor"/>\n<line x1="6" y1="14.5" x2="10" y2="14.5" stroke="currentColor"/>\n</svg>\n',mergeIcon:'\n<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" fill="currentColor">\n  <g>\n      <path d="M21,18 C21,19.1045695 20.1045695,20 19,20 L15,20 C13.8954305,20 13,19.1045695 13,18 L13,16.5 C13,16.2238576 13.2238576,16 13.5,16 C13.7761424,16 14,16.2238576 14,16.5 L14,18 C14,18.5128358 14.3860402,18.9355072 14.8833789,18.9932723 L15,19 L19,19 C19.5128358,19 19.9355072,18.6139598 19.9932723,18.1166211 L20,18 L20,16.5 C20,16.2238576 20.2238576,16 20.5,16 C20.7761424,16 21,16.2238576 21,16.5 L21,18 Z M19,4 C20.1045695,4 21,4.8954305 21,6 L21,7.5 C21,7.77614237 20.7761424,8 20.5,8 C20.2238576,8 20,7.77614237 20,7.5 L20,6 C20,5.44771525 19.5522847,5 19,5 L15,5 C14.4871642,5 14.0644928,5.38604019 14.0067277,5.88337887 L14,6 L14,7.5 C14,7.77614237 13.7761424,8 13.5,8 C13.2238576,8 13,7.77614237 13,7.5 L13,6 C13,4.8954305 13.8954305,4 15,4 L19,4 Z" id="形状结合"></path>\n      <path d="M4,16.5 C4,16.2238576 4.22385763,16 4.5,16 C4.77614237,16 5,16.2238576 5,16.5 L5,18 C5,18.5128358 5.38604019,18.9355072 5.88337887,18.9932723 L6,19 L10,19 C10.5128358,19 10.9355072,18.6139598 10.9932723,18.1166211 L11,18 L11,16.5 C11,16.2238576 11.2238576,16 11.5,16 C11.7761424,16 12,16.2238576 12,16.5 L12,18 C12,19.1045695 11.1045695,20 10,20 L6,20 C4.8954305,20 4,19.1045695 4,18 L4,16.5 Z M10,4 C11.1045695,4 12,4.8954305 12,6 L12,7.5 C12,7.77614237 11.7761424,8 11.5,8 C11.2238576,8 11,7.77614237 11,7.5 L11,6 C11,5.44771525 10.5522847,5 10,5 L6,5 C5.48716416,5 5.06449284,5.38604019 5.00672773,5.88337887 L5,6 L5,7.5 C5,7.77614237 4.77614237,8 4.5,8 C4.22385763,8 4,7.77614237 4,7.5 L4,6 C4,4.8954305 4.8954305,4 6,4 L10,4 Z" id="形状结合"></path>\n      <path d="M16.7532764,14.4062678 C16.911301,14.4062678 17.0434948,14.3546059 17.1498575,14.2512821 C17.2562203,14.1479582 17.3094017,14.0112061 17.3094017,13.8410256 C17.3094017,13.6830009 17.2547009,13.5492877 17.1452991,13.439886 L16.242735,12.5555556 L15.9145299,12.2638177 L16.3339031,12.2820513 L19.8131054,12.2820513 C19.9832858,12.2820513 20.1215575,12.2273504 20.2279202,12.1179487 C20.334283,12.008547 20.3874644,11.8717949 20.3874644,11.7076923 C20.3874644,11.5375119 20.334283,11.3977208 20.2279202,11.2883191 C20.1215575,11.1789174 19.9832858,11.1242165 19.8131054,11.1242165 L16.3430199,11.1242165 L15.9236467,11.1424501 L16.242735,10.8507123 L17.1452991,9.97549858 C17.2547009,9.86609687 17.3094017,9.73238367 17.3094017,9.57435897 C17.3094017,9.40417854 17.2562203,9.26590693 17.1498575,9.15954416 C17.0434948,9.05318139 16.911301,9 16.7532764,9 C16.5952517,9 16.4524217,9.06077873 16.3247863,9.18233618 L14.1823362,11.2792023 C14.0607787,11.388604 14,11.5299145 14,11.7031339 C14,11.8763533 14.0607787,12.0207028 14.1823362,12.1361823 L16.3247863,14.2421652 C16.4584995,14.351567 16.6013295,14.4062678 16.7532764,14.4062678 Z" id="路径"></path>\n      <path d="M8.24330484,14.4062678 C8.38309592,14.4062678 8.51984805,14.348528 8.65356125,14.2330484 L10.814245,12.1179487 C10.9297246,11.9963913 10.9859449,11.8550807 10.982906,11.6940171 C10.979867,11.5329535 10.9236467,11.3946819 10.814245,11.2792023 L8.65356125,9.16410256 C8.53808167,9.05470085 8.40132953,9 8.24330484,9 C8.07312441,9 7.9348528,9.05166192 7.82849003,9.15498575 C7.72212726,9.25830959 7.66894587,9.39506173 7.66894587,9.56524217 C7.66894587,9.72326686 7.72364672,9.85698006 7.83304843,9.96638177 L8.75384615,10.8415954 L9.07293447,11.1424501 L8.65356125,11.1150997 L5.16524217,11.1150997 C5.00721747,11.1150997 4.87350427,11.1698006 4.76410256,11.2792023 C4.65470085,11.388604 4.6,11.5283951 4.6,11.6985755 C4.6,11.8626781 4.65470085,11.9994302 4.76410256,12.1088319 C4.87350427,12.2182336 5.00721747,12.2729345 5.16524217,12.2729345 L8.65356125,12.2729345 L9.07293447,12.2638177 L8.75384615,12.5464387 L7.84216524,13.4307692 C7.72668566,13.5462488 7.66894587,13.679962 7.66894587,13.8319088 C7.66894587,13.9960114 7.72364672,14.1327635 7.83304843,14.2421652 C7.94245014,14.351567 8.07920228,14.4062678 8.24330484,14.4062678 Z" id="路径"></path>\n  </g>\n</svg>',splitIcon:'\n<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n  <g>\n      <path d="M9.74960632,25.25 C9.47385763,25.25 9.25,25.0261424 9.25,24.75 C9.25,24.5045401 9.42687516,24.3003916 9.66012437,24.2580557 L9.74960632,24.25 L12.75,24.25 C13.2628358,24.25 13.6855072,23.8639598 13.7432723,23.3666211 L13.75,23.25 L13.75,11.25 C13.75,10.6977153 13.3022847,10.25 12.75,10.25 L9.74960632,10.25 L9.749,10.249 L9.66012437,10.2419443 C9.42687516,10.1996084 9.25,9.99545989 9.25,9.75 C9.25,9.50454011 9.42687516,9.30039163 9.66012437,9.25805567 L9.74960632,9.25 L12.75,9.25 C13.8545695,9.25 14.75,10.1454305 14.75,11.25 L14.75,23.25 C14.75,24.3545695 13.8545695,25.25 12.75,25.25 L9.74960632,25.25 Z" transform="translate(12.000000, 17.250000) rotate(90.000000) translate(-12.000000, -17.250000) "></path>\n      <path d="M9.74960632,14.75 C9.47385763,14.75 9.25,14.5261424 9.25,14.25 C9.25,14.0045401 9.42687516,13.8003916 9.66012437,13.7580557 L9.74960632,13.75 L12.75,13.75 C13.2628358,13.75 13.6855072,13.3639598 13.7432723,12.8666211 L13.75,12.75 L13.75,0.75 C13.75,0.19771525 13.3022847,-0.25 12.75,-0.25 L9.74960632,-0.25 L9.749,-0.251 L9.66012437,-0.258055669 C9.42687516,-0.30039163 9.25,-0.504540111 9.25,-0.75 C9.25,-0.995459889 9.42687516,-1.19960837 9.66012437,-1.24194433 L9.74960632,-1.25 L12.75,-1.25 C13.8545695,-1.25 14.75,-0.3545695 14.75,0.75 L14.75,12.75 C14.75,13.8545695 13.8545695,14.75 12.75,14.75 L9.74960632,14.75 Z" transform="translate(12.000000, 6.750000) scale(1, -1) rotate(90.000000) translate(-12.000000, -6.750000) "></path>\n      <path d="M7.25327635,14.4062678 C7.41130104,14.4062678 7.54349478,14.3546059 7.64985755,14.2512821 C7.75622032,14.1479582 7.80940171,14.0112061 7.80940171,13.8410256 C7.80940171,13.6830009 7.75470085,13.5492877 7.64529915,13.439886 L6.74273504,12.5555556 L6.41452991,12.2638177 L6.83390313,12.2820513 L10.3131054,12.2820513 C10.4832858,12.2820513 10.6215575,12.2273504 10.7279202,12.1179487 C10.834283,12.008547 10.8874644,11.8717949 10.8874644,11.7076923 C10.8874644,11.5375119 10.834283,11.3977208 10.7279202,11.2883191 C10.6215575,11.1789174 10.4832858,11.1242165 10.3131054,11.1242165 L6.84301994,11.1242165 L6.42364672,11.1424501 L6.74273504,10.8507123 L7.64529915,9.97549858 C7.75470085,9.86609687 7.80940171,9.73238367 7.80940171,9.57435897 C7.80940171,9.40417854 7.75622032,9.26590693 7.64985755,9.15954416 C7.54349478,9.05318139 7.41130104,9 7.25327635,9 C7.09525166,9 6.95242165,9.06077873 6.82478632,9.18233618 L4.68233618,11.2792023 C4.56077873,11.388604 4.5,11.5299145 4.5,11.7031339 C4.5,11.8763533 4.56077873,12.0207028 4.68233618,12.1361823 L6.82478632,14.2421652 C6.95849953,14.351567 7.10132953,14.4062678 7.25327635,14.4062678 Z" id="路径"></path>\n      <path d="M16.8433048,14.4062678 C16.9830959,14.4062678 17.1198481,14.348528 17.2535613,14.2330484 L19.414245,12.1179487 C19.5297246,11.9963913 19.5859449,11.8550807 19.582906,11.6940171 C19.579867,11.5329535 19.5236467,11.3946819 19.414245,11.2792023 L17.2535613,9.16410256 C17.1380817,9.05470085 17.0013295,9 16.8433048,9 C16.6731244,9 16.5348528,9.05166192 16.42849,9.15498575 C16.3221273,9.25830959 16.2689459,9.39506173 16.2689459,9.56524217 C16.2689459,9.72326686 16.3236467,9.85698006 16.4330484,9.96638177 L17.3538462,10.8415954 L17.6729345,11.1424501 L17.2535613,11.1150997 L13.7652422,11.1150997 C13.6072175,11.1150997 13.4735043,11.1698006 13.3641026,11.2792023 C13.2547009,11.388604 13.2,11.5283951 13.2,11.6985755 C13.2,11.8626781 13.2547009,11.9994302 13.3641026,12.1088319 C13.4735043,12.2182336 13.6072175,12.2729345 13.7652422,12.2729345 L17.2535613,12.2729345 L17.6729345,12.2638177 L17.3538462,12.5464387 L16.4421652,13.4307692 C16.3266857,13.5462488 16.2689459,13.679962 16.2689459,13.8319088 C16.2689459,13.9960114 16.3236467,14.1327635 16.4330484,14.2421652 C16.5424501,14.351567 16.6792023,14.4062678 16.8433048,14.4062678 Z" id="路径"></path>\n  </g>\n</svg>',deleteRowIcon:'\n<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" fill="currentColor">\n<path d="M3,6 L19,6 L19,11 L3,11 L3,6 Z M19.4077072,12.4579597 L20.5390781,13.5893306 L18.6313708,15.4957574 L20.5420403,17.4077072 L19.4106694,18.5390781 L17.5,16.6271282 L15.5893306,18.5390781 L14.4579597,17.4077072 L16.3686292,15.4957574 L14.4609219,13.5893306 L15.5922928,12.4579597 L17.5,14.3643865 L19.4077072,12.4579597 Z M13,13 L13,18 L3,18 L3,13 L13,13 Z M12,14 L4,14 L4,17 L12,17 L12,14 Z M18,7 L18,10 L4,10 L4,7 L18,7 Z"></path>\n</svg>',deleteTableIcon:'\n<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M4 5C4 4.44772 4.44772 4 5 4H19C19.5523 4 20 4.44772 20 5V15H19H15V18V19H10H9H5C4.44771 19 4 18.5523 4 18V5ZM15 14H19V11H15V14ZM19 7.5V10H15V7H18.5C18.7761 7 19 7.22386 19 7.5ZM14 7V10H10V7H14ZM9 7V10H5V7.5C5 7.22386 5.22386 7 5.5 7H9ZM5 14V11H9V14H5ZM14 11H10V14H14V11ZM10 15H14V18H10V15ZM5 15V17.5C5 17.7761 5.22386 18 5.5 18H9V15H5ZM20.4077 15.458L21.5391 16.5893L19.6314 18.497L21.542 20.4077L20.4107 21.5391L18.5 19.6284L16.5893 21.5391L15.458 20.4077L17.3686 18.497L15.4609 16.5893L16.5923 15.458L18.5 17.3657L20.4077 15.458Z" />\n</svg>\n',deleteColIcon:'\n<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" fill="currentColor">\n<path d="M6,3 L11,3 L11,19 L6,19 L6,3 Z M17.4077072,14.466172 L18.5390781,15.5975429 L16.6313708,17.5039696 L18.5420403,19.4159195 L17.4106694,20.5472903 L15.5,18.6353405 L13.5893306,20.5472903 L12.4579597,19.4159195 L14.3686292,17.5039696 L12.4609219,15.5975429 L13.5922928,14.466172 L15.5,16.3725988 L17.4077072,14.466172 Z M10,4 L10,18 L7,18 L7,4 L10,4 Z M18,3.00821228 L18,13.0082123 L13,13.0082123 L13,3.00821228 L18,3.00821228 Z M17,4.00821228 L14,4.00821228 L14,12.0082123 L17,12.0082123 L17,4.00821228 Z"></path>\n</svg>',mindmapIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M8 8H15" stroke="currentColor" stroke-linecap="square" stroke-linejoin="round"/>\n<path d="M8 14H15" stroke="currentColor" stroke-linecap="square" stroke-linejoin="round"/>\n<path d="M8 2H15" stroke="currentColor" stroke-linecap="square" stroke-linejoin="round"/>\n<path d="M4 8H0C0 8 0.552283 8 1.33333 8M4 14C2 13.1429 3.33333 8 1.33333 8M4 2C2 2.85714 3.33333 8 1.33333 8" stroke="currentColor" stroke-linecap="square"/>\n</svg>\n\n',fitIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M2 6V2H14V14H10M2 8H8V14H2V8Z" stroke="currentColor" stroke-width="2"/>\n</svg>\n',fullscreenIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1.99978 13.996L6.5 9.49597" stroke="currentColor" stroke-width="2"/>\n<path d="M13.9973 1.99986L9.49707 6.49988" stroke="currentColor" stroke-width="2"/>\n<path d="M7 13.9961H2L2.00129 9" stroke="currentColor" stroke-width="2"/>\n<path d="M9 1.99998H13.9974L13.9961 7" stroke="currentColor" stroke-width="2"/>\n</svg>\n',exitFullscreenIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M5.99729 10.0039L1.49707 14.5039" stroke="currentColor" stroke-width="2"/>\n<path d="M9.99978 5.99611L14.5 1.49609" stroke="currentColor" stroke-width="2"/>\n<path d="M1 10.0039H5.99738L5.99608 15" stroke="currentColor" stroke-width="2"/>\n<path d="M14.9971 5.99611H9.99969L10.001 1" stroke="currentColor" stroke-width="2"/>\n</svg>\n',closeMindmapIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M3.59414 14L2 12.4059L6.40586 8L2 3.59414L3.59414 2L8 6.40586L12.4059 2L14 3.59414L9.59414 8L14 12.4059L12.4059 14L8 9.59414L3.59414 14Z" fill="currentColor"/>\n</svg>\n',unknownFileIcon:'\n<svg width="48" height="48" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 1C13.5 2.5 14 3 16 5V15.6087C16 15.7914 15.9638 15.9723 15.8934 16.1411C15.8231 16.3099 15.7199 16.4633 15.5899 16.5925C15.4599 16.7217 15.3056 16.8242 15.1358 16.8941C14.9659 16.964 14.7838 17 14.6 17H3.4C3.21615 17 3.0341 16.964 2.86424 16.8941C2.69439 16.8242 2.54005 16.7217 2.41005 16.5925C2.28005 16.4633 2.17693 16.3099 2.10657 16.1411C2.03621 15.9723 2 15.7914 2 15.6087V2.3913C2 2.2086 2.03621 2.02768 2.10657 1.85888C2.17693 1.69007 2.28005 1.5367 2.41005 1.4075C2.54005 1.27831 2.69439 1.17583 2.86424 1.10591C3.0341 1.03599 3.21615 1 3.4 1H12Z" fill="#C1C1C1"/>\n<path d="M12 1L14 3L16 5H13.3333C12.9797 5 12.6406 4.84675 12.3905 4.57397C12.1405 4.30119 12 3.93122 12 3.54546V1Z" fill="#EAEAEA"/>\n<g clip-path="url(#clip-unknown-file)">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7.81263 6.88456C7.91651 6.24786 8.38598 5.83639 9.00365 5.83995C9.51231 5.84291 9.98593 6.15986 10.1514 6.61183C10.334 7.11054 10.0941 7.44987 9.75884 7.76363C9.47022 8.03388 9.19166 8.31729 8.96016 8.64427C8.76873 8.91468 8.61883 9.20532 8.60867 9.55198C8.60146 9.7991 8.7438 9.9869 8.96052 9.99904C9.18907 10.0119 9.34929 9.89659 9.38651 9.65809C9.43352 9.35759 9.59203 9.12843 9.78232 8.91754C9.89965 8.7875 10.0213 8.66166 10.1429 8.53581C10.2232 8.45267 10.3036 8.36952 10.3827 8.28516C10.7117 7.9344 11.013 7.57334 10.9996 7.03365C10.9662 5.69037 9.72831 4.72222 8.4812 5.072C7.61685 5.31443 6.997 6.12702 7.00001 7.01359C7.00094 7.2833 7.14137 7.46043 7.36716 7.47666C7.59632 7.49316 7.75629 7.33895 7.78837 7.07107C7.78973 7.05973 7.79107 7.04838 7.79241 7.03703C7.7984 6.98609 7.80441 6.93509 7.81263 6.88456ZM8.50002 11.0105C8.5024 11.2835 8.71822 11.4984 8.99171 11.5C9.27207 11.5016 9.50447 11.2715 9.49993 10.9968C9.49572 10.7358 9.26103 10.5024 9.00037 10.5C8.72408 10.4975 8.49759 10.7286 8.50002 11.0105Z" fill="white"/>\n</g>\n<defs>\n<clipPath id="clip-unknown-file">\n<rect width="6" height="7" fill="white" transform="translate(6 6)"/>\n</clipPath>\n</defs>\n</svg>\n',excelFileIcon:'\n<svg width="48" height="48" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 1C13.5 2.5 14 3 16 5V15.6087C16 15.7914 15.9638 15.9723 15.8934 16.1411C15.8231 16.3099 15.7199 16.4633 15.5899 16.5925C15.4599 16.7217 15.3056 16.8242 15.1358 16.8941C14.9659 16.964 14.7838 17 14.6 17H3.4C3.21615 17 3.0341 16.964 2.86424 16.8941C2.69439 16.8242 2.54005 16.7217 2.41005 16.5925C2.28005 16.4633 2.17693 16.3099 2.10657 16.1411C2.03621 15.9723 2 15.7914 2 15.6087V2.3913C2 2.2086 2.03621 2.02768 2.10657 1.85888C2.17693 1.69007 2.28005 1.5367 2.41005 1.4075C2.54005 1.27831 2.69439 1.17583 2.86424 1.10591C3.0341 1.03599 3.21615 1 3.4 1H12Z" fill="#71C251"/>\n<path d="M12 1L14 3L16 5H13.3333C12.9797 5 12.6406 4.84675 12.3905 4.57397C12.1405 4.30119 12 3.93122 12 3.54546V1Z" fill="#B1E79C"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6.1318 11.8699C6.30754 12.0456 6.59246 12.0456 6.7682 11.8699L9.00092 9.63713L11.2323 11.8685C11.408 12.0442 11.6929 12.0442 11.8687 11.8685C12.0444 11.6928 12.0444 11.4078 11.8687 11.2321L9.63732 9.00074L11.8699 6.7682C12.0456 6.59246 12.0456 6.30754 11.8699 6.1318C11.6941 5.95607 11.4092 5.95607 11.2335 6.1318L9.00092 8.36434L6.76982 6.13324C6.59408 5.9575 6.30916 5.9575 6.13342 6.13324C5.95769 6.30897 5.95769 6.5939 6.13342 6.76963L8.36453 9.00074L6.1318 11.2335C5.95607 11.4092 5.95607 11.6941 6.1318 11.8699Z" fill="white"/>\n</svg>\n',pdfFileIcon:'\n<svg width="48" height="48" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 1C13.5 2.5 14 3 16 5V15.6087C16 15.7914 15.9638 15.9723 15.8934 16.1411C15.8231 16.3099 15.7199 16.4633 15.5899 16.5925C15.4599 16.7217 15.3056 16.8242 15.1358 16.8941C14.9659 16.964 14.7838 17 14.6 17H3.4C3.21615 17 3.0341 16.964 2.86424 16.8941C2.69439 16.8242 2.54005 16.7217 2.41005 16.5925C2.28005 16.4633 2.17693 16.3099 2.10657 16.1411C2.03621 15.9723 2 15.7914 2 15.6087V2.3913C2 2.2086 2.03621 2.02768 2.10657 1.85888C2.17693 1.69007 2.28005 1.5367 2.41005 1.4075C2.54005 1.27831 2.69439 1.17583 2.86424 1.10591C3.0341 1.03599 3.21615 1 3.4 1H12Z" fill="#DC5564"/>\n<path d="M12 1L14 3L16 5H13.3333C12.9797 5 12.6406 4.84675 12.3905 4.57397C12.1405 4.30119 12 3.93122 12 3.54546V1Z" fill="#EA99A2"/>\n<path d="M7.93434 10.4911C8.12474 10.4365 8.30954 10.3883 8.48794 10.347C8.80795 10.2726 9.14915 10.1989 9.48795 10.1296C9.18196 9.81944 8.90044 9.48948 8.64555 9.14229C8.42154 9.57518 8.17314 10.0453 7.93434 10.4914V10.4911ZM11.8524 9.7476C12.4536 9.7476 12.9508 10.0994 12.9964 10.5688C13.0484 11.1019 12.5344 11.4519 11.7612 11.4519C11.0864 11.4519 10.2384 10.8875 9.48795 10.13C10.536 9.91633 11.5608 9.7476 11.8524 9.7476ZM6.86433 12.4061C6.37233 13.0693 5.60232 13.1894 5.18751 12.7042C4.77151 12.2167 5.06791 11.5389 5.87632 11.2157C6.62033 10.9184 7.30873 10.6705 7.93434 10.4914C7.43033 11.4324 6.96913 12.265 6.86433 12.4061ZM7.87234 7.82371C7.47434 6.87983 7.75154 6.08515 8.47874 6.00594C9.20035 5.92746 9.66275 6.63741 9.43035 7.52419C9.39035 7.67524 9.05875 8.34466 8.64555 9.14265C8.31834 8.69687 8.04754 8.24003 7.87194 7.82371H7.87234ZM8.58995 7.66861C9.05035 8.67734 10.1832 9.99702 11.078 10.5305C10.2674 10.6665 9.46183 10.8262 8.66235 11.0094C8.01554 11.1597 7.26473 11.4121 6.43713 11.7345C6.91193 10.9019 8.17194 8.53882 8.58995 7.66861ZM6.16072 11.8439C5.75432 12.006 5.67592 12.1854 5.75432 12.2772C5.83232 12.3678 6.02952 12.3372 6.26832 12.0156C6.29432 11.981 6.35353 11.8815 6.43713 11.7345L6.16072 11.8439ZM11.7608 10.7692C11.9956 10.7692 12.1548 10.7305 12.2368 10.6749C12.2688 10.6528 12.274 10.6429 12.2728 10.6307C12.2644 10.5434 12.104 10.4303 11.8528 10.4303C11.7416 10.4303 11.4568 10.4682 11.0784 10.5305C11.332 10.6815 11.5664 10.7692 11.7612 10.7692H11.7608ZM8.72475 7.36098C8.79675 7.08725 8.77555 6.88683 8.69915 6.76967C8.65635 6.70372 8.60555 6.67941 8.56274 6.68383C8.51714 6.68898 8.47074 6.72693 8.43914 6.81756C8.38194 6.98114 8.40714 7.23867 8.54795 7.57245C8.56115 7.60414 8.57515 7.63619 8.58995 7.66824C8.66595 7.5113 8.71395 7.40298 8.72475 7.36098Z" fill="white"/>\n</svg>\n',wordFileIcon:'\n<svg width="48" height="48" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 1C13.5 2.5 14 3 16 5V15.6087C16 15.7914 15.9638 15.9723 15.8934 16.1411C15.8231 16.3099 15.7199 16.4633 15.5899 16.5925C15.4599 16.7217 15.3056 16.8242 15.1358 16.8941C14.9659 16.964 14.7838 17 14.6 17H3.4C3.21615 17 3.0341 16.964 2.86424 16.8941C2.69439 16.8242 2.54005 16.7217 2.41005 16.5925C2.28005 16.4633 2.17693 16.3099 2.10657 16.1411C2.03621 15.9723 2 15.7914 2 15.6087V2.3913C2 2.2086 2.03621 2.02768 2.10657 1.85888C2.17693 1.69007 2.28005 1.5367 2.41005 1.4075C2.54005 1.27831 2.69439 1.17583 2.86424 1.10591C3.0341 1.03599 3.21615 1 3.4 1H12Z" fill="#5587F0"/>\n<path d="M12 1L14 3L16 5H13.3333C12.9797 5 12.6406 4.84675 12.3905 4.57397C12.1405 4.30119 12 3.93122 12 3.54546V1Z" fill="#99B7F6"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6 6.45C6 6.20147 6.20147 6 6.45 6C6.69853 6 6.9 6.20147 6.9 6.45V10.4904L8.6314 8.76692C8.64128 8.75478 8.6519 8.74304 8.66324 8.73175C8.83938 8.55642 9.12495 8.55642 9.30109 8.73175L11.1 10.5224V6.45C11.1 6.20147 11.3015 6 11.55 6C11.7985 6 12 6.20147 12 6.45V11.55C12 11.7985 11.7985 12 11.55 12L11.5463 12C11.4154 12.0139 11.2795 11.971 11.1791 11.871L8.98391 9.68589L6.79482 11.865C6.71908 11.9404 6.6231 11.9833 6.5243 11.9939C6.50013 11.9979 6.47531 12 6.45 12C6.20147 12 6 11.7985 6 11.55V6.45Z" fill="white"/>\n</svg>\n',dwgFileIcon:'\n<svg width="48" height="48" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 1C13.5 2.5 14 3 16 5V15.6087C16 15.7914 15.9638 15.9723 15.8934 16.1411C15.8231 16.3099 15.7199 16.4633 15.5899 16.5925C15.4599 16.7217 15.3056 16.8242 15.1358 16.8941C14.9659 16.964 14.7838 17 14.6 17H3.4C3.21615 17 3.0341 16.964 2.86424 16.8941C2.69439 16.8242 2.54005 16.7217 2.41005 16.5925C2.28005 16.4633 2.17693 16.3099 2.10657 16.1411C2.03621 15.9723 2 15.7914 2 15.6087V2.3913C2 2.2086 2.03621 2.02768 2.10657 1.85888C2.17693 1.69007 2.28005 1.5367 2.41005 1.4075C2.54005 1.27831 2.69439 1.17583 2.86424 1.10591C3.0341 1.03599 3.21615 1 3.4 1H12Z" fill="#FFBE5A"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7.5 7.5V11.1H8.7C9.69411 11.1 10.5 10.2941 10.5 9.3C10.5 8.30589 9.69411 7.5 8.7 7.5H7.5ZM7 6C6.44772 6 6 6.44771 6 7V11.6C6 12.1523 6.44772 12.6 7 12.6H8.7C10.5225 12.6 12 11.1225 12 9.3C12 7.47746 10.5225 6 8.7 6H7Z" fill="white"/>\n<path d="M12 1L14 3L16 5H13.3333C12.9797 5 12.6406 4.84675 12.3905 4.57397C12.1405 4.30119 12 3.93122 12 3.54546V1Z" fill="#FFD89C"/>\n</svg>\n',rvtFileIcon:'\n<svg width="48" height="48" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 1C13.5 2.5 14 3 16 5V15.6087C16 15.7914 15.9638 15.9723 15.8934 16.1411C15.8231 16.3099 15.7199 16.4633 15.5899 16.5925C15.4599 16.7217 15.3056 16.8242 15.1358 16.8941C14.9659 16.964 14.7838 17 14.6 17H3.4C3.21615 17 3.0341 16.964 2.86424 16.8941C2.69439 16.8242 2.54005 16.7217 2.41005 16.5925C2.28005 16.4633 2.17693 16.3099 2.10657 16.1411C2.03621 15.9723 2 15.7914 2 15.6087V2.3913C2 2.2086 2.03621 2.02768 2.10657 1.85888C2.17693 1.69007 2.28005 1.5367 2.41005 1.4075C2.54005 1.27831 2.69439 1.17583 2.86424 1.10591C3.0341 1.03599 3.21615 1 3.4 1H12Z" fill="#6B77F3"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7.5 6.90039V8.70039H9.6C10.0971 8.70039 10.5 8.29745 10.5 7.80039C10.5 7.30333 10.0971 6.90039 9.6 6.90039H7.5ZM7 5.40039C6.44772 5.40039 6 5.84811 6 6.40039V7.0504V9.20039V12.1504C6 12.3989 6.20147 12.6004 6.45 12.6004C6.69853 12.6004 6.9 12.3989 6.9 12.1504V10.1955C6.93289 10.1987 6.96625 10.2004 7 10.2004H9.6C9.6944 10.2004 9.78753 10.1949 9.87909 10.1843L11.1521 12.3892C11.2764 12.6045 11.5516 12.6782 11.7668 12.554C11.982 12.4297 12.0558 12.1545 11.9315 11.9392L10.7564 9.90392C11.4977 9.4955 12 8.7066 12 7.80039C12 6.47491 10.9255 5.40039 9.6 5.40039H7Z" fill="white"/>\n<path d="M12 1L14 3L16 5H13.3333C12.9797 5 12.6406 4.84675 12.3905 4.57397C12.1405 4.30119 12 3.93122 12 3.54546V1Z" fill="#B5BBF9"/>\n</svg>\n',pptFileIcon:'\n<svg width="48" height="48" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 1C13.5 2.5 14 3 16 5V15.6087C16 15.7914 15.9638 15.9723 15.8934 16.1411C15.8231 16.3099 15.7199 16.4633 15.5899 16.5925C15.4599 16.7217 15.3056 16.8242 15.1358 16.8941C14.9659 16.964 14.7838 17 14.6 17H3.4C3.21615 17 3.0341 16.964 2.86424 16.8941C2.69439 16.8242 2.54005 16.7217 2.41005 16.5925C2.28005 16.4633 2.17693 16.3099 2.10657 16.1411C2.03621 15.9723 2 15.7914 2 15.6087V2.3913C2 2.2086 2.03621 2.02768 2.10657 1.85888C2.17693 1.69007 2.28005 1.5367 2.41005 1.4075C2.54005 1.27831 2.69439 1.17583 2.86424 1.10591C3.0341 1.03599 3.21615 1 3.4 1H12Z" fill="#FA5F87"/>\n<path d="M12 1L14 3L16 5H13.3333C12.9797 5 12.6406 4.84675 12.3905 4.57397C12.1405 4.30119 12 3.93122 12 3.54546V1Z" fill="#FDAFC3"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7.5 8.90039V6.90039H10C10.2761 6.90039 10.5 7.12425 10.5 7.40039V8.40039C10.5 8.67653 10.2761 8.90039 10 8.90039H7.5ZM6 6.40039C6 5.84811 6.44772 5.40039 7 5.40039H10C11.1046 5.40039 12 6.29582 12 7.40039V8.40039C12 9.50496 11.1046 10.4004 10 10.4004H7.5H6.9V12.1504C6.9 12.3989 6.69853 12.6004 6.45 12.6004C6.20147 12.6004 6 12.3989 6 12.1504V10.4004V8.90039V7.0504V6.40039Z" fill="white"/>\n</svg>\n',skpFileIcon:'\n<svg width="48" height="48" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 1C13.5 2.5 14 3 16 5V15.6087C16 15.7914 15.9638 15.9723 15.8934 16.1411C15.8231 16.3099 15.72 16.4633 15.5899 16.5925C15.4599 16.7217 15.3056 16.8242 15.1358 16.8941C14.9659 16.964 14.7838 17 14.6 17H3.4C3.21615 17 3.0341 16.964 2.86424 16.8941C2.69439 16.8242 2.54005 16.7217 2.41005 16.5925C2.28005 16.4633 2.17693 16.3099 2.10657 16.1411C2.03621 15.9723 2 15.7914 2 15.6087V2.3913C2 2.2086 2.03621 2.02768 2.10657 1.85888C2.17693 1.69007 2.28005 1.5367 2.41005 1.4075C2.54005 1.27831 2.69439 1.17583 2.86424 1.10591C3.0341 1.03599 3.21615 1 3.4 1H12Z" fill="#9773E3"/>\n<path d="M12 1L14 3L16 5H13.3333C12.9797 5 12.6406 4.84675 12.3905 4.57397C12.1405 4.30119 12 3.93122 12 3.54546V1Z" fill="#D8CAF4"/>\n<path d="M10.6499 6.375H8.21241C7.48753 6.375 6.8999 6.96263 6.8999 7.68751V7.68751C6.8999 8.41239 7.48753 9.00001 8.21241 9.00001H9.79277" stroke="white" stroke-width="1.2" stroke-linecap="round"/>\n<path d="M7.27488 11.025C6.94351 11.025 6.67488 11.2936 6.67488 11.625C6.67488 11.9564 6.94351 12.225 7.27488 12.225V11.025ZM9.71239 11.025H7.27488V12.225H9.71239V11.025ZM8.39989 9.59999H9.7124V8.39999H8.39989V9.59999ZM9.7124 9.59999C10.1059 9.59999 10.4249 9.91899 10.4249 10.3125H11.6249C11.6249 9.25624 10.7686 8.39999 9.7124 8.39999V9.59999ZM9.71239 12.225C10.7686 12.225 11.6249 11.3687 11.6249 10.3125H10.4249C10.4249 10.706 10.1059 11.025 9.71239 11.025V12.225Z" fill="white"/>\n</svg>\n',zipFileIcon:'\n<svg width="48" height="48" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 1C13.5 2.5 14 3 16 5V15.6087C16 15.7914 15.9638 15.9723 15.8934 16.1411C15.8231 16.3099 15.7199 16.4633 15.5899 16.5925C15.4599 16.7217 15.3056 16.8242 15.1358 16.8941C14.9659 16.964 14.7838 17 14.6 17H3.4C3.21615 17 3.0341 16.964 2.86424 16.8941C2.69439 16.8242 2.54005 16.7217 2.41005 16.5925C2.28005 16.4633 2.17693 16.3099 2.10657 16.1411C2.03621 15.9723 2 15.7914 2 15.6087V2.3913C2 2.2086 2.03621 2.02768 2.10657 1.85888C2.17693 1.69007 2.28005 1.5367 2.41005 1.4075C2.54005 1.27831 2.69439 1.17583 2.86424 1.10591C3.0341 1.03599 3.21615 1 3.4 1H12Z" fill="#F0DC5A"/>\n<path d="M12 1L14 3L16 5H13.3333C12.9797 5 12.6406 4.84675 12.3905 4.57397C12.1405 4.30119 12 3.93122 12 3.54546V1Z" fill="#F8EEAD"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7.1998 3H5.9998V3.9H4.7998V4.8H5.9998V5.69999H7.1998V4.79999H5.9998V3.9H7.1998V3ZM5.9998 5.70001H4.7998V6.60001H5.9998V7.5H4.7998V8.4H5.9998V9.3L4.7998 9.29999V11.8C4.7998 12.0761 5.02366 12.3 5.2998 12.3H6.6998C6.97595 12.3 7.1998 12.0761 7.1998 11.8V9.3V8.4L5.9998 8.4V7.5L7.1998 7.5V6.6H5.9998V5.70001ZM5.3998 11.4V10.8H6.5998V11.4H5.3998Z" fill="white"/>\n</svg>\n',txtFileIcon:'\n<svg width="48" height="48" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 1C13.5 2.5 14 3 16 5V15.6087C16 15.7914 15.9638 15.9723 15.8934 16.1411C15.8231 16.3099 15.7199 16.4633 15.5899 16.5925C15.4599 16.7217 15.3056 16.8242 15.1358 16.8941C14.9659 16.964 14.7838 17 14.6 17H3.4C3.21615 17 3.0341 16.964 2.86424 16.8941C2.69439 16.8242 2.54005 16.7217 2.41005 16.5925C2.28005 16.4633 2.17693 16.3099 2.10657 16.1411C2.03621 15.9723 2 15.7914 2 15.6087V2.3913C2 2.2086 2.03621 2.02768 2.10657 1.85888C2.17693 1.69007 2.28005 1.5367 2.41005 1.4075C2.54005 1.27831 2.69439 1.17583 2.86424 1.10591C3.0341 1.03599 3.21615 1 3.4 1H12Z" fill="#5587F0"/>\n<path d="M12 1L14 3L16 5H13.3333C12.9797 5 12.6406 4.84675 12.3905 4.57397C12.1405 4.30119 12 3.93122 12 3.54546V1Z" fill="#99B7F6"/>\n<rect x="10.2002" y="6.59961" width="0.9" height="4.8" rx="0.45" transform="rotate(90 10.2002 6.59961)" fill="white"/>\n<rect x="12.6001" y="10.8008" width="0.899998" height="7.2" rx="0.449999" transform="rotate(90 12.6001 10.8008)" fill="white"/>\n</svg>\n',imgFileIcon:'\n<svg width="48" height="48" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 1C13.5 2.5 14 3 16 5V15.6087C16 15.7914 15.9638 15.9723 15.8934 16.1411C15.8231 16.3099 15.7199 16.4633 15.5899 16.5925C15.4599 16.7217 15.3056 16.8242 15.1358 16.8941C14.9659 16.964 14.7838 17 14.6 17H3.4C3.21615 17 3.0341 16.964 2.86424 16.8941C2.69439 16.8242 2.54005 16.7217 2.41005 16.5925C2.28005 16.4633 2.17693 16.3099 2.10657 16.1411C2.03621 15.9723 2 15.7914 2 15.6087V2.3913C2 2.2086 2.03621 2.02768 2.10657 1.85888C2.17693 1.69007 2.28005 1.5367 2.41005 1.4075C2.54005 1.27831 2.69439 1.17583 2.86424 1.10591C3.0341 1.03599 3.21615 1 3.4 1H12Z" fill="#64D7B9"/>\n<path d="M12 1L14 3L16 5H13.3333C12.9797 5 12.6406 4.84675 12.3905 4.57397C12.1405 4.30119 12 3.93122 12 3.54546V1Z" fill="#A2E7D5"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10.7827 8.6L11.98 10.6741C12.0067 10.7333 12.0067 10.7926 11.98 10.8815C11.9268 10.9704 11.8736 11 11.7938 11H6.1796C6.12639 11 6.04656 10.9704 6.01996 10.8815C5.99335 10.8222 5.99335 10.7333 6.01996 10.6741L8.01552 7.08889C8.04213 7.02963 8.09534 7 8.17517 7C8.25499 7 8.3082 7.02963 8.33481 7.08889L9.79823 9.6963L10.4368 8.57037C10.4634 8.51111 10.5166 8.48148 10.5965 8.48148C10.6763 8.48148 10.7295 8.51111 10.7827 8.6ZM11.5 8C11.2222 8 11 7.77778 11 7.5C11 7.22222 11.2222 7 11.5 7C11.7778 7 12 7.22222 12 7.5C12 7.77778 11.7778 8 11.5 8Z" fill="white"/>\n</svg>\n',folderFileIcon:'\n<svg width="48" height="48" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M4.20019 16.2008H13.9002C15.5018 16.2008 16.8002 14.9024 16.8002 13.3008V8.10078V5.70078C16.8002 4.87235 16.1286 4.20078 15.3002 4.20078H9.58667C9.20959 4.20078 8.84633 4.05876 8.56925 3.80299L6.83114 2.19858C6.55406 1.94281 6.1908 1.80078 5.81372 1.80078H2.7002C1.87177 1.80078 1.2002 2.47235 1.2002 3.30078V13.2008C1.2002 14.8576 2.54334 16.2008 4.20019 16.2008Z" fill="#FFD89C"/>\n<path d="M1.2002 6.44922H16.8002V13.1992C16.8002 14.8561 15.4571 16.1992 13.8002 16.1992H4.20019C2.54334 16.1992 1.2002 14.8561 1.2002 13.1992V6.44922Z" fill="#FFBE5A"/>\n</svg>\n',openFolderFileIcon:'\n<svg width="48" height="48" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M4.18506 16.2008H13.6925C15.2941 16.2008 16.5925 14.9024 16.5925 13.3008V8.10078V7.20078C16.5925 5.54393 15.2493 4.20078 13.5925 4.20078H9.4806C9.10031 4.20078 8.73421 4.05633 8.45637 3.79666L6.75325 2.2049C6.47541 1.94523 6.10932 1.80078 5.72902 1.80078H4.18506C2.5282 1.80078 1.18506 3.14393 1.18506 4.80078V13.2008C1.18506 14.8576 2.5282 16.2008 4.18506 16.2008Z" fill="#FFD89C"/>\n<path d="M4.18506 16.2008H13.6925C15.2941 16.2008 16.5925 14.9024 16.5925 13.3008V8.10078V6.20078C16.5925 5.09621 15.697 4.20078 14.5925 4.20078H9.4806C9.10031 4.20078 8.73421 4.05633 8.45637 3.79666L6.75325 2.2049C6.47541 1.94523 6.10932 1.80078 5.72902 1.80078H3.18506C2.08049 1.80078 1.18506 2.69621 1.18506 3.80078V13.2008C1.18506 14.8576 2.5282 16.2008 4.18506 16.2008Z" fill="#FFD89C"/>\n<path d="M2.60618 9.68347C2.82051 9.09333 3.37561 8.70117 3.99662 8.70117H16.2506C17.2144 8.70117 17.9216 9.61825 17.6879 10.565L16.7171 14.4969C16.4698 15.4985 15.5809 16.2012 14.5612 16.2012H3.42389C1.87834 16.2012 0.804789 14.6433 1.33821 13.1746L2.60618 9.68347Z" fill="#FFBE5A"/>\n</svg>\n',officeFullscreenIcon:'\n<?xml version="1.0" encoding="UTF-8"?>\n<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="全屏" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <path d="M20,12 L20,20 L12,20 L12,18 L16.554,18 L12.3289322,13.7742136 L13.7431458,12.36 L18,16.617 L18,12 L20,12 Z M12,4 L12,6 L7.394,6 L11.65,10.2568542 L10.2357864,11.6710678 L6,7.436 L6,12 L4,12 L4,4 L12,4 Z"  fill-rule="nonzero" transform="translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) "></path>\n    </g>\n</svg>\n',officeDownloadIcon:'\n<?xml version="1.0" encoding="UTF-8"?>\n<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="下载" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <path d="M12.0047142,15.4920448 C12.1052838,15.4920448 12.2011393,15.473188 12.2922805,15.4354744 C12.3834217,15.3977608 12.48242,15.3286191 12.5892752,15.2280495 L15.5875074,12.3335298 C15.7383618,12.1826753 15.813789,12.0129641 15.813789,11.824396 C15.813789,11.6295423 15.7446474,11.4692595 15.6063642,11.3435474 C15.4680809,11.2178354 15.3046553,11.1549794 15.1160872,11.1549794 C14.8960911,11.1549794 14.7200943,11.2335494 14.5880966,11.3906895 L13.2964054,12.7578079 L12.702416,13.4083677 L12.7778433,12.0789629 L12.7778433,2.76370065 C12.7778433,2.56256138 12.702416,2.38499313 12.5515616,2.23099588 C12.4007071,2.07699863 12.2184247,2 12.0047142,2 C11.7910037,2 11.6087213,2.07699863 11.4578668,2.23099588 C11.3070124,2.38499313 11.2315852,2.56256138 11.2315852,2.76370065 L11.2315852,12.0789629 L11.3070124,13.4177961 L10.713023,12.7578079 L9.42133176,11.3906895 C9.28304852,11.2335494 9.10705166,11.1549794 8.89334119,11.1549794 C8.69848753,11.1549794 8.53349047,11.2178354 8.39835003,11.3435474 C8.26320959,11.4692595 8.19563936,11.6295423 8.19563936,11.824396 C8.19563936,12.0129641 8.27106659,12.1826753 8.42192104,12.3335298 L11.4201532,15.2280495 C11.5270084,15.3286191 11.6260067,15.3977608 11.7171479,15.4354744 C11.8082891,15.473188 11.9041446,15.4920448 12.0047142,15.4920448 Z M17.1243371,21.2999411 C18.0797486,21.2999411 18.7978786,21.0610882 19.2787272,20.5833824 C19.7595757,20.1056767 20,19.3985465 20,18.4619918 L20,9.63700648 C20,8.70045178 19.7595757,7.99175015 19.2787272,7.51090159 C18.7978786,7.03005303 18.0797486,6.78962876 17.1243371,6.78962876 L14.6823807,6.78962876 L14.6823807,8.41131408 L17.0583382,8.41131408 C17.4794736,8.41131408 17.8063249,8.52288352 18.0388922,8.74602239 C18.2714594,8.96916126 18.3877431,9.30386957 18.3877431,9.75014732 L18.3877431,18.3488509 C18.3877431,18.7888431 18.2714594,19.1204086 18.0388922,19.3435474 C17.8063249,19.5666863 17.4794736,19.6782557 17.0583382,19.6782557 L6.94166176,19.6782557 C6.52052642,19.6782557 6.19524651,19.5666863 5.96582204,19.3435474 C5.73639756,19.1204086 5.62168533,18.7888431 5.62168533,18.3488509 L5.62168533,9.75014732 C5.62168533,9.30386957 5.73639756,8.96916126 5.96582204,8.74602239 C6.19524651,8.52288352 6.52052642,8.41131408 6.94166176,8.41131408 L9.32704773,8.41131408 L9.32704773,6.78962876 L6.87566293,6.78962876 C5.92653703,6.78962876 5.20997839,7.02848163 4.72598704,7.50618739 C4.24199568,7.98389314 4,8.69416618 4,9.63700648 L4,18.4619918 C4,19.3985465 4.24199568,20.1056767 4.72598704,20.5833824 C5.20997839,21.0610882 5.92653703,21.2999411 6.87566293,21.2999411 L17.1243371,21.2999411 Z" id="2" fill-rule="nonzero"></path>\n    </g>\n</svg>\n',officeLinkIcon:'\n<?xml version="1.0" encoding="UTF-8"?>\n<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="文件链接" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <path d="M6.06086633,13.0717844 C6.29275039,13.0717844 6.49288841,12.9889687 6.66128041,12.8233372 C6.8296724,12.6577057 6.9138684,12.458948 6.9138684,12.2270639 C6.9138684,11.9951799 6.8296724,11.7978024 6.66128041,11.6349314 C6.49288841,11.4720605 6.29275039,11.390625 6.06086633,11.390625 L4.71925142,11.390625 C4.49288841,11.390625 4.29689117,11.4720605 4.1312597,11.6349314 C3.96562823,11.7978024 3.8828125,11.9951799 3.8828125,12.2270639 C3.8828125,12.458948 3.96562823,12.6577057 4.1312597,12.8233372 C4.29689117,12.9889687 4.49288841,13.0717844 4.71925142,13.0717844 L6.06086633,13.0717844 Z M19.1871603,12.9227161 C19.3859181,12.9227161 19.5515496,12.8564635 19.6840547,12.7239583 C19.8165599,12.5914532 19.8828125,12.4258217 19.8828125,12.2270639 C19.8828125,12.0338272 19.8165599,11.869576 19.6840547,11.7343103 C19.5515496,11.5990446 19.3859181,11.5314117 19.1871603,11.5314117 L9.28239842,11.5314117 C9.08916171,11.5314117 8.9249105,11.5990446 8.7896448,11.7343103 C8.6543791,11.869576 8.58674625,12.0338272 8.58674625,12.2270639 C8.58674625,12.4258217 8.6543791,12.5914532 8.7896448,12.7239583 C8.9249105,12.8564635 9.08916171,12.9227161 9.28239842,12.9227161 L19.1871603,12.9227161 Z" fill-rule="nonzero"></path>\n    </g>\n</svg>\n',officePreviewIcon:'\n<?xml version="1.0" encoding="UTF-8"?>\n<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="文件预览" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <path d="M19.284802,16.9498936 C19.4891443,16.9498936 19.6594295,17.0194267 19.7956577,17.158493 C19.9318859,17.2975593 20,17.4664254 20,17.6650915 C20,17.8694338 19.9318859,18.039719 19.7956577,18.1759472 C19.6594295,18.3121754 19.4891443,18.3802895 19.284802,18.3802895 L19.284802,18.3802895 L4.71519796,18.3802895 C4.51653186,18.3802895 4.34766567,18.3121754 4.2085994,18.1759472 C4.06953313,18.039719 4,17.8694338 4,17.6650915 C4,17.4664254 4.06953313,17.2975593 4.2085994,17.158493 C4.34766567,17.0194267 4.51653186,16.9498936 4.71519796,16.9498936 L4.71519796,16.9498936 Z M18.2486798,5.34099617 C18.8324532,5.34099617 19.2702832,5.48437911 19.5621699,5.77114499 C19.8540566,6.05791087 20,6.49062011 20,7.06927269 L20,7.06927269 L20,13.0806025 C20,13.6592551 19.8540566,14.0932445 19.5621699,14.3825708 C19.2702832,14.6718971 18.8324532,14.8165603 18.2486798,14.8165603 L18.2486798,14.8165603 L5.75132021,14.8165603 C5.16754681,14.8165603 4.72971675,14.6718971 4.43783005,14.3825708 C4.14594335,14.0932445 4,13.6592551 4,13.0806025 L4,13.0806025 L4,7.06927269 C4,6.49062011 4.14594335,6.05791087 4.43783005,5.77114499 C4.72971675,5.48437911 5.16754681,5.34099617 5.75132021,5.34099617 L5.75132021,5.34099617 Z M18.1027364,6.5930365 L5.88958233,6.5930365 C5.68474956,6.5930365 5.52728437,6.6468051 5.41718675,6.7543423 C5.30708913,6.86187951 5.25204033,7.02318532 5.25204033,7.23825973 L5.25204033,7.23825973 L5.25204033,12.9116155 C5.25204033,13.1266899 5.30708913,13.2879957 5.41718675,13.3955329 C5.52728437,13.5030701 5.68474956,13.5568387 5.88958233,13.5568387 L5.88958233,13.5568387 L18.1027364,13.5568387 C18.3075692,13.5568387 18.4650344,13.5030701 18.575132,13.3955329 C18.6852296,13.2879957 18.7402784,13.1266899 18.7402784,12.9116155 L18.7402784,12.9116155 L18.7402784,7.23825973 C18.7402784,7.02318532 18.6852296,6.86187951 18.575132,6.7543423 C18.4650344,6.6468051 18.3075692,6.5930365 18.1027364,6.5930365 L18.1027364,6.5930365 Z" id="形状结合" fill-rule="nonzero"></path>\n    </g>\n</svg>\n',officeCardIcon:'\n<?xml version="1.0" encoding="UTF-8"?>\n<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <path d="M19.284802,16.9726267 C19.4891443,16.9726267 19.6594295,17.0421598 19.7956577,17.1812261 C19.9318859,17.3202923 20,17.4891585 20,17.6878246 C20,17.8921669 19.9318859,18.0624521 19.7956577,18.1986803 C19.6594295,18.3349085 19.4891443,18.4030226 19.284802,18.4030226 L19.284802,18.4030226 L4.71519796,18.4030226 C4.51653186,18.4030226 4.34766567,18.3349085 4.2085994,18.1986803 C4.06953313,18.0624521 4,17.8921669 4,17.6878246 C4,17.4891585 4.06953313,17.3202923 4.2085994,17.1812261 C4.34766567,17.0421598 4.51653186,16.9726267 4.71519796,16.9726267 L4.71519796,16.9726267 Z M18.2486798,8.56372925 C18.8324532,8.56372925 19.2702832,8.70711219 19.5621699,8.99387807 C19.8540566,9.28064395 20,9.71335319 20,10.2920058 L20,10.2920058 L20,13.1033356 C20,13.6819882 19.8540566,14.1159776 19.5621699,14.4053039 C19.2702832,14.6946302 18.8324532,14.8392933 18.2486798,14.8392933 L18.2486798,14.8392933 L5.75132021,14.8392933 C5.16754681,14.8392933 4.72971675,14.6946302 4.43783005,14.4053039 C4.14594335,14.1159776 4,13.6819882 4,13.1033356 L4,13.1033356 L4,10.2920058 C4,9.71335319 4.14594335,9.28064395 4.43783005,8.99387807 C4.72971675,8.70711219 5.16754681,8.56372925 5.75132021,8.56372925 L5.75132021,8.56372925 Z M18.1027364,9.81576957 L5.88958233,9.81576957 C5.68474956,9.81576957 5.52728437,9.86953818 5.41718675,9.97707538 C5.30708913,10.0846126 5.25204033,10.2459184 5.25204033,10.4609928 L5.25204033,10.4609928 L5.25204033,12.9343485 C5.25204033,13.149423 5.30708913,13.3107288 5.41718675,13.418266 C5.52728437,13.5258032 5.68474956,13.5795718 5.88958233,13.5795718 L5.88958233,13.5795718 L18.1027364,13.5795718 C18.3075692,13.5795718 18.4650344,13.5258032 18.575132,13.418266 C18.6852296,13.3107288 18.7402784,13.149423 18.7402784,12.9343485 L18.7402784,12.9343485 L18.7402784,10.4609928 C18.7402784,10.2459184 18.6852296,10.0846126 18.575132,9.97707538 C18.4650344,9.86953818 18.3075692,9.81576957 18.1027364,9.81576957 L18.1027364,9.81576957 Z M19.284802,5 C19.4891443,5 19.6594295,5.06953313 19.7956577,5.2085994 C19.9318859,5.34766567 20,5.51653186 20,5.71519796 C20,5.91954023 19.9318859,6.08982546 19.7956577,6.22605364 C19.6594295,6.36228182 19.4891443,6.43039591 19.284802,6.43039591 L19.284802,6.43039591 L4.71519796,6.43039591 C4.51653186,6.43039591 4.34766567,6.36228182 4.2085994,6.22605364 C4.06953313,6.08982546 4,5.91954023 4,5.71519796 C4,5.51653186 4.06953313,5.34766567 4.2085994,5.2085994 C4.34766567,5.06953313 4.51653186,5 4.71519796,5 L4.71519796,5 Z" id="形状结合" fill-rule="nonzero"></path>\n    </g>\n</svg>\n',expandedIcon:'\n<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3.65394 6.406L6.6491 9.90287C6.69163 9.95587 6.74542 9.99876 6.80656 10.0284C6.86771 10.0581 6.93468 10.0738 7.00263 10.0744C7.07059 10.0738 7.13756 10.0581 7.19871 10.0284C7.25985 9.99876 7.31364 9.95587 7.35617 9.90287L10.3513 6.406C10.4239 6.32255 10.473 6.22129 10.4935 6.11261C10.514 6.00394 10.5052 5.89176 10.468 5.7876C10.4338 5.68566 10.3712 5.59565 10.2874 5.52824C10.2037 5.46082 10.1023 5.41883 9.99545 5.40723H4.00982C3.90284 5.41855 3.80138 5.46044 3.71758 5.5279C3.63378 5.59535 3.57118 5.68551 3.53727 5.7876C3.4998 5.89164 3.49076 6.00379 3.51106 6.11248C3.53137 6.22118 3.58028 6.3225 3.65278 6.406H3.65394Z" fill="#5587F0"/>\n</svg>\n',collapsedIcon:'\n<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M5.66589 11.0887L9.16276 8.09358C9.21576 8.05104 9.25864 7.99726 9.28831 7.93611C9.31797 7.87497 9.33367 7.808 9.33428 7.74004C9.33367 7.67208 9.31797 7.60511 9.28831 7.54397C9.25864 7.48283 9.21576 7.42904 9.16276 7.3865L5.66589 4.39135C5.58244 4.31877 5.48118 4.26971 5.3725 4.2492C5.26382 4.22869 5.15164 4.23749 5.04749 4.27467C4.94555 4.30884 4.85554 4.37151 4.78813 4.45527C4.72071 4.53902 4.67872 4.64034 4.66711 4.74722L4.66711 10.7329C4.67844 10.8398 4.72033 10.9413 4.78778 11.0251C4.85524 11.1089 4.9454 11.1715 5.04749 11.2054C5.15153 11.2429 5.26367 11.2519 5.37237 11.2316C5.48107 11.2113 5.58239 11.1624 5.66589 11.0899L5.66589 11.0887Z" fill="#5587F0"/>\n</svg>\n',loadingIcon:'\n<svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12 7.61719C11.4477 7.61719 11 7.16947 11 6.61719V3.61719C11 3.0649 11.4477 2.61719 12 2.61719C12.5523 2.61719 13 3.0649 13 3.61719V6.61719C13 7.16947 12.5523 7.61719 12 7.61719ZM4.92893 5.54612C5.31946 5.15559 5.95262 5.1556 6.34315 5.54612L8.46447 7.66744C8.85499 8.05796 8.85499 8.69113 8.46447 9.08165C8.07394 9.47218 7.44078 9.47218 7.05025 9.08165L4.92893 6.96033C4.53841 6.56981 4.53841 5.93664 4.92893 5.54612ZM15.5355 9.08165C15.145 8.69113 15.145 8.05796 15.5355 7.66744L17.6569 5.54612C18.0474 5.1556 18.6805 5.1556 19.0711 5.54612C19.4616 5.93664 19.4616 6.56981 19.0711 6.96033L16.9497 9.08165C16.5592 9.47218 15.9261 9.47218 15.5355 9.08165ZM2 12.6172C2 12.0649 2.44772 11.6172 3 11.6172L6 11.6172C6.55229 11.6172 7 12.0649 7 12.6172C7 13.1695 6.55228 13.6172 6 13.6172L3 13.6172C2.44772 13.6172 2 13.1695 2 12.6172ZM17 12.6172C17 12.0649 17.4477 11.6172 18 11.6172L21 11.6172C21.5523 11.6172 22 12.0649 22 12.6172C22 13.1695 21.5523 13.6172 21 13.6172L18 13.6172C17.4477 13.6172 17 13.1695 17 12.6172ZM15.5355 16.1527C15.9261 15.7622 16.5592 15.7622 16.9497 16.1527L19.0711 18.274C19.4616 18.6646 19.4616 19.2977 19.0711 19.6883C18.6805 20.0788 18.0474 20.0788 17.6569 19.6883L15.5355 17.5669C15.145 17.1764 15.145 16.5432 15.5355 16.1527ZM4.92893 19.6883C4.53841 19.2977 4.53841 18.6646 4.92893 18.274L7.05025 16.1527C7.44078 15.7622 8.07394 15.7622 8.46447 16.1527C8.85499 16.5432 8.85499 17.1764 8.46447 17.5669L6.34315 19.6883C5.95262 20.0788 5.31946 20.0788 4.92893 19.6883ZM12 22.6172C11.4477 22.6172 11 22.1695 11 21.6172V18.6172C11 18.0649 11.4477 17.6172 12 17.6172C12.5523 17.6172 13 18.0649 13 18.6172V21.6172C13 22.1695 12.5523 22.6172 12 22.6172Z" fill="#5587F0"/>\n<animateTransform attributeType="xml" attributeName="transform" type="rotate" values="0 12 12.5;360 12 12.5" dur="2s"  repeatCount="indefinite" />\n</g>\n</svg>\n',filePrefixIcon:'\n<svg width="18" height="19" viewBox="0 0 18 19" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip-file-prefix)">\n<path d="M6.01 10.5999C5.85 10.5999 5.7 10.5399 5.58 10.4199L3.98 8.82992C3.35 8.18992 3 7.34992 3 6.45992C3 5.56992 3.35 4.71992 3.98 4.08992C5.29 2.77992 7.41 2.77992 8.72 4.08992L10.31 5.67992C10.55 5.91992 10.55 6.29992 10.31 6.53992C10.07 6.77992 9.69 6.77992 9.45 6.53992L7.86 4.94992C7.03 4.11992 5.68 4.11992 4.85 4.94992C4.45 5.34992 4.23 5.88992 4.23 6.45992C4.23 7.02992 4.45 7.55992 4.85 7.96992L6.44 9.55992C6.68 9.79992 6.68 10.1799 6.44 10.4199C6.32 10.5399 6.16 10.5999 6.01 10.5999ZM11.65 15.1099C10.79 15.1099 9.93 14.7799 9.28 14.1299L7.4 12.2499C7.16 12.0099 7.16 11.6299 7.4 11.3899C7.64 11.1499 8.02 11.1499 8.26 11.3899L10.14 13.2699C10.97 14.0999 12.32 14.0999 13.15 13.2699C13.55 12.8699 13.77 12.3299 13.77 11.7599C13.77 11.1899 13.55 10.6599 13.15 10.2499L11.28 8.36992C11.04 8.12992 11.04 7.74992 11.28 7.50992C11.52 7.26992 11.9 7.26992 12.14 7.50992L14.02 9.38992C14.65 10.0199 15 10.8599 15 11.7599C15 12.6499 14.65 13.4999 14.02 14.1299C13.37 14.7799 12.51 15.1099 11.65 15.1099Z"/>\n<path d="M10.88 10.9717C10.67 11.1817 10.32 11.1817 10.1 10.9717L7.64004 8.51172C7.43004 8.30172 7.43004 7.95172 7.64004 7.73172C7.85004 7.52172 8.20004 7.52172 8.42004 7.73172L10.88 10.1917C11.1 10.4117 11.1 10.7517 10.88 10.9717Z"/>\n</g>\n<defs>\n<clipPath id="clip-file-prefix">\n<rect width="12" height="12" fill="white" transform="translate(3 3.11133)"/>\n</clipPath>\n</defs>\n</svg>\n',filePreviewIcon:'\n<svg width="18" height="12" viewBox="0 0 18 12" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M9.00423 0.619141C6.60209 0.619141 4.48707 1.91572 3.02208 3.13004C2.28013 3.74504 1.68135 4.35851 1.26781 4.81821C1.06065 5.04849 0.898956 5.24131 0.787993 5.37797C0.732487 5.44634 0.689602 5.50074 0.659997 5.53884C0.645192 5.5579 0.633701 5.57289 0.625605 5.58353L0.616017 5.59619L0.613151 5.6L0.612203 5.60126L0.611851 5.60174C0.611709 5.60193 0.61158 5.6021 1.14609 6.00094L0.61158 5.6021L0.313965 6.00094L0.61158 6.39979L1.14609 6.00094C0.61158 6.39979 0.611709 6.39996 0.611851 6.40015L0.612203 6.40062L0.613151 6.40189L0.616017 6.4057L0.625605 6.41836C0.633701 6.429 0.645192 6.44399 0.659997 6.46305C0.689602 6.50115 0.732487 6.55555 0.787993 6.62392C0.898956 6.76058 1.06065 6.9534 1.26781 7.18368C1.68135 7.64338 2.28013 8.25685 3.02208 8.87185C4.48707 10.0862 6.60209 11.3827 9.00423 11.3827C11.4064 11.3827 13.5214 10.0862 14.9864 8.87185C15.7283 8.25685 16.3271 7.64338 16.7407 7.18368C16.9478 6.9534 17.1095 6.76058 17.2205 6.62392C17.276 6.55555 17.3189 6.50115 17.3485 6.46305C17.3633 6.44399 17.3748 6.429 17.3829 6.41836L17.3924 6.4057L17.3953 6.40189L17.3963 6.40062L17.3966 6.40015C17.3968 6.39996 17.3969 6.39979 16.8624 6.00094L17.3969 6.39979L17.6945 6.00094L17.3969 5.6021L16.8624 6.00094C17.3969 5.6021 17.3968 5.60193 17.3966 5.60174L17.3963 5.60126L17.3953 5.6L17.3924 5.59619L17.3829 5.58353C17.3748 5.57289 17.3633 5.5579 17.3485 5.53884C17.3189 5.50074 17.276 5.44634 17.2205 5.37797C17.1095 5.24131 16.9478 5.04849 16.7407 4.81821C16.3271 4.35851 15.7283 3.74504 14.9864 3.13004C13.5214 1.91572 11.4064 0.619141 9.00423 0.619141ZM2.25943 6.29161C2.16327 6.18472 2.07817 6.08705 2.00481 6.00094C2.07817 5.91484 2.16327 5.81717 2.25943 5.71028C2.64118 5.28593 3.1932 4.72068 3.87329 4.15696C5.25239 3.01383 7.06644 1.95297 9.00423 1.95297C10.942 1.95297 12.7561 3.01383 14.1352 4.15696C14.8153 4.72068 15.3673 5.28593 15.749 5.71028C15.8452 5.81717 15.9303 5.91484 16.0037 6.00094C15.9303 6.08705 15.8452 6.18472 15.749 6.29161C15.3673 6.71596 14.8153 7.28121 14.1352 7.84493C12.7561 8.98806 10.942 10.0489 9.00423 10.0489C7.06644 10.0489 5.25239 8.98806 3.87329 7.84493C3.1932 7.28121 2.64118 6.71596 2.25943 6.29161ZM9.0041 3.37017C7.5508 3.37017 6.37265 4.54832 6.37265 6.00162C6.37265 7.45492 7.5508 8.63307 9.0041 8.63307C10.4574 8.63307 11.6356 7.45492 11.6356 6.00162C11.6356 4.54832 10.4574 3.37017 9.0041 3.37017ZM7.70648 6.00162C7.70648 5.28497 8.28746 4.704 9.0041 4.704C9.72075 4.704 10.3017 5.28497 10.3017 6.00162C10.3017 6.71827 9.72075 7.29924 9.0041 7.29924C8.28746 7.29924 7.70648 6.71827 7.70648 6.00162Z"/>\n</svg>\n',fileDownloadIcon:'\n<svg width="16" height="14" viewBox="0 0 16 14" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8.66479 8.00874L10.7489 5.92459L11.6875 6.86317L8.47291 10.0778L8.00362 10.5471L7.53433 10.0778L4.31972 6.86317L5.2583 5.92459L7.33743 8.00372V0.322266H8.66479V8.00874ZM15.0964 6.75164V13.1809V13.8445H14.4328H1.57432H0.910645V13.1809V6.75461H2.238V12.5172H13.7691V6.75164H15.0964Z"/>\n</svg>\n',commentIcon:'\n<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8.63999 19.5893C8.82172 19.5893 8.9891 19.5427 9.14214 19.4494C9.29518 19.3561 9.48169 19.2115 9.70168 19.0154L12.0403 16.9422H16.2512C16.9255 16.9422 17.497 16.8191 17.9657 16.5728C18.4343 16.3265 18.7906 15.969 19.0345 15.5003C19.2784 15.0317 19.4004 14.4626 19.4004 13.793V8.55629C19.4004 7.88675 19.2784 7.31765 19.0345 6.84897C18.7906 6.38029 18.4343 6.02161 17.9657 5.77293C17.497 5.52424 16.9255 5.3999 16.2512 5.3999H7.5496C6.88007 5.3999 6.31096 5.52305 5.84228 5.76934C5.37361 6.01564 5.01612 6.37432 4.76983 6.84538C4.52354 7.31645 4.40039 7.88675 4.40039 8.55629V13.793C4.40039 14.4626 4.52354 15.0329 4.76983 15.5039C5.01612 15.975 5.37241 16.3325 5.8387 16.5764C6.30498 16.8203 6.86811 16.9422 7.52808 16.9422H7.82937V18.6639C7.82937 18.9461 7.89991 19.1708 8.04099 19.3382C8.18207 19.5056 8.38174 19.5893 8.63999 19.5893ZM8.94845 18.1976V16.2536C8.94845 16.0623 8.90541 15.9248 8.81933 15.8411C8.73325 15.7574 8.59695 15.7155 8.41043 15.7155H7.5783C6.91832 15.7155 6.42932 15.5505 6.11129 15.2206C5.79326 14.8906 5.63425 14.4076 5.63425 13.7715V8.57781C5.63425 7.94175 5.79326 7.45992 6.11129 7.13233C6.42932 6.80473 6.91832 6.64094 7.5783 6.64094H16.2225C16.8825 6.64094 17.3715 6.80473 17.6895 7.13233C18.0075 7.45992 18.1665 7.94175 18.1665 8.57781V13.7715C18.1665 14.4076 18.0075 14.8906 17.6895 15.2206C17.3715 15.5505 16.8825 15.7155 16.2225 15.7155H11.9757C11.7749 15.7155 11.6146 15.7383 11.4951 15.7837C11.3755 15.8291 11.2464 15.9212 11.1077 16.0599L8.94845 18.1976ZM15.584 9.23419C15.5027 9.3131 15.4047 9.35256 15.2899 9.35256H8.42478C8.31479 9.35256 8.22033 9.3131 8.14142 9.23419C8.06251 9.15528 8.02306 9.05844 8.02306 8.94366C8.02306 8.83367 8.06251 8.73802 8.14142 8.65672C8.22033 8.57542 8.31479 8.53477 8.42478 8.53477H15.2899C15.4047 8.53477 15.5027 8.57542 15.584 8.65672C15.6653 8.73802 15.706 8.83367 15.706 8.94366C15.706 9.05844 15.6653 9.15528 15.584 9.23419ZM15.2899 11.5333C15.4047 11.5333 15.5027 11.4939 15.584 11.415C15.6653 11.3361 15.706 11.2392 15.706 11.1244C15.706 11.0097 15.6653 10.9116 15.584 10.8303C15.5027 10.749 15.4047 10.7084 15.2899 10.7084H8.42478C8.31479 10.7084 8.22033 10.749 8.14142 10.8303C8.06251 10.9116 8.02306 11.0097 8.02306 11.1244C8.02306 11.2392 8.06251 11.3361 8.14142 11.415C8.22033 11.4939 8.31479 11.5333 8.42478 11.5333H15.2899ZM13.1845 13.5957C13.1056 13.6747 13.0111 13.7141 12.9011 13.7141H8.42478C8.31479 13.7141 8.22033 13.6747 8.14142 13.5957C8.06251 13.5168 8.02306 13.4224 8.02306 13.3124C8.02306 13.1928 8.06251 13.0924 8.14142 13.0111C8.22033 12.9298 8.31479 12.8891 8.42478 12.8891H12.9011C13.0111 12.8891 13.1056 12.9298 13.1845 13.0111C13.2634 13.0924 13.3028 13.1928 13.3028 13.3124C13.3028 13.4224 13.2634 13.5168 13.1845 13.5957Z"/>\n</svg>\n',commentLikeIcon:'\n<svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg">\n<path d="M11.2672 5.21431C11.7922 5.21431 12.2516 5.67372 12.2516 6.19876C12.2516 6.52691 12.1204 6.78943 11.8579 6.98633C11.5953 7.18322 11.4641 7.44574 11.4641 7.77389V10.0709C11.4641 11.3835 10.414 12.4336 9.1014 12.4336H3.71973V5.93624C4.3104 5.67372 5.16359 4.68927 5.49174 3.96734C5.88552 3.24541 6.47619 1.99844 6.47619 1.99844C6.47619 1.99844 7.92005 1.93281 7.92005 3.50793C7.92005 5.01742 7.92005 5.21431 7.92005 5.21431H11.2672Z"/>\n<path d="M3.063 5.93652H1.75049V12.4991H3.063V5.93652Z"/>\n</svg>\n',commentInsertImageIcon:'\n<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M17.8185 18.8953C18.5433 18.8953 19.0881 18.7141 19.4528 18.3517C19.8176 17.9893 20 17.4529 20 16.7424V8.49566C20 7.78518 19.8176 7.24875 19.4528 6.88636C19.0881 6.52397 18.5433 6.34277 17.8185 6.34277H6.18149C5.46148 6.34277 4.9179 6.52278 4.55074 6.88278C4.18358 7.24279 4 7.78041 4 8.49566V16.7424C4 17.4577 4.18358 17.9953 4.55074 18.3553C4.9179 18.7153 5.46148 18.8953 6.18149 18.8953H17.8185ZM5.22949 15.9073L5.22975 8.58872C5.22975 8.25017 5.31677 7.99506 5.49081 7.82341C5.66485 7.65175 5.91161 7.56592 6.23109 7.56592H17.768C18.0874 7.56592 18.3342 7.65175 18.5082 7.82341C18.6823 7.99506 18.7693 8.25017 18.7693 8.58872L18.7686 15.8613L15.2789 12.5941C15.1311 12.4606 14.9702 12.358 14.7961 12.2865C14.6221 12.215 14.4445 12.1792 14.2633 12.1792C14.0821 12.1792 13.9068 12.2126 13.7376 12.2794C13.5683 12.3461 13.4074 12.4486 13.2548 12.5869L10.1935 15.312L8.94186 14.1891C8.79881 14.0603 8.65099 13.9626 8.49841 13.8958C8.34582 13.8291 8.18847 13.7957 8.02635 13.7957C7.87853 13.7957 7.73191 13.8279 7.58647 13.8922C7.44104 13.9566 7.29918 14.0508 7.1609 14.1748L5.22949 15.9073ZM9.96537 12.4903C9.72219 12.6357 9.45517 12.7084 9.1643 12.7084C8.8639 12.7084 8.59211 12.6357 8.34892 12.4903C8.10574 12.3448 7.91143 12.1505 7.766 11.9073C7.62057 11.6642 7.54785 11.3948 7.54785 11.0991C7.54785 10.8035 7.62057 10.5329 7.766 10.2873C7.91143 10.0417 8.10574 9.84625 8.34892 9.70082C8.59211 9.55538 8.8639 9.48267 9.1643 9.48267C9.45517 9.48267 9.72219 9.55538 9.96537 9.70082C10.2086 9.84625 10.4029 10.0417 10.5483 10.2873C10.6937 10.5329 10.7664 10.8035 10.7664 11.0991C10.7664 11.3948 10.6937 11.6642 10.5483 11.9073C10.4029 12.1505 10.2086 12.3448 9.96537 12.4903Z"/>\n</svg>\n',preCommentIcon:'\n<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M2.00218 11.0005L8.00341 4.99923L14.0046 11.0005" stroke="currentColor" fill="transparent" stroke-width="1.5" stroke-linejoin="bevel"/>\n</svg>\n\n',nextCommentIcon:'\n<svg width="17" height="16" viewBox="0 0 17 16" xmlns="http://www.w3.org/2000/svg">\n<path d="M14.0029 4.99933L8.00172 11.0006L2.00049 4.99933" stroke="currentColor" fill="transparent" stroke-width="1.5" stroke-linejoin="bevel"/>\n</svg>\n',historyDeletedIcon:'\n<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip-history-deleted)">\n<path d="M47.9985 0.00146484H0.00146484V47.9985H47.9985V0.00146484Z" fill="none" fill-opacity="0.01"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M23.944 27.2391L37.9985 41.2935L41.2918 38.0002L27.2374 23.9457L41.236 9.94703L38.0543 6.76525L24.0556 20.7639L10.0011 6.70947L6.70776 10.0028L20.7622 24.0573L6.76354 38.056L9.94533 41.2378L23.944 27.2391Z" fill="currentColor"/>\n</g>\n<defs>\n<clipPath id="clip-history-deleted">\n<rect width="47.9971" height="47.9971" fill="none" transform="translate(0.00146484 0.00146484)"/>\n</clipPath>\n</defs>\n</svg>\n',mathIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M13.6667 3L12.6667 2H3L9 8L3 14H12.6667L13.6667 13" stroke="currentColor" stroke-linecap="square" stroke-linejoin="round"/>\n</svg>\n',lineIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<line x1="1" y1="1.5" x2="15" y2="1.5" stroke="currentColor"/>\n<line x1="1" y1="13.5" x2="15" y2="13.5" stroke="currentColor"/>\n<line x1="1" y1="7.5" x2="5" y2="7.5" stroke="currentColor"/>\n<line x1="6" y1="7.5" x2="10" y2="7.5" stroke="currentColor"/>\n<line x1="11" y1="7.5" x2="15" y2="7.5" stroke="currentColor"/>\n</svg>\n',codeIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M4.82192 4.00014L0.999554 7.8225L4.82192 11.6434" stroke="currentColor"/>\n<path d="M10.8216 4.00014L14.644 7.8225L10.8216 11.6434" stroke="currentColor"/>\n<path d="M9.5 2.5L6 13" stroke="currentColor"/>\n</svg>\n',inlineCodeIcon:'\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M4.82192 4.00014L0.999554 7.8225L4.82192 11.6434" stroke="currentColor"/>\n<path d="M10.8216 4.00014L14.644 7.8225L10.8216 11.6434" stroke="currentColor"/>\n</svg>\n',copyIcon:'\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M13.5361 20.4C14.2409 20.4 14.773 20.2179 15.1325 19.8537C15.492 19.4895 15.6718 18.9502 15.6718 18.236L15.6718 16.9949L16.8283 16.9943C17.5378 16.9943 18.0711 16.8122 18.4282 16.448C18.7854 16.0838 18.9639 15.5446 18.9639 14.8303V9.45929C18.9639 9.03358 18.9142 8.67173 18.8149 8.37373C18.7156 8.07573 18.5335 7.79193 18.2686 7.52231L14.9055 4.09535C14.6595 3.84465 14.3875 3.66609 14.0895 3.55967C13.7915 3.45324 13.4557 3.40002 13.082 3.40002H10.5349C9.83008 3.40002 9.29794 3.58213 8.93846 3.94635C8.57897 4.31057 8.39922 4.8498 8.39922 5.56405L8.39905 6.80672L7.23562 6.8057C6.53083 6.8057 5.9987 6.98781 5.63921 7.35203C5.27972 7.71625 5.09998 8.25548 5.09998 8.96972V18.236C5.09998 18.9502 5.27972 19.4895 5.63921 19.8537C5.9987 20.2179 6.53083 20.4 7.23562 20.4H13.5361ZM15.6718 13.0423C15.6718 12.5977 15.6316 12.2489 15.5512 11.9958C15.4708 11.7427 15.291 11.4743 15.0119 11.1905L11.3508 7.46554C11.0859 7.19593 10.8246 7.01855 10.5668 6.93341C10.3606 6.86529 10.1112 6.82443 9.8187 6.8108L9.61239 6.80672L9.61251 5.6279C9.61251 5.30152 9.69647 5.05319 9.86439 4.88291C10.0323 4.71262 10.2842 4.62748 10.62 4.62748H13.4936V7.92673C13.4936 8.33352 13.5964 8.63743 13.8022 8.83846C14.008 9.03949 14.3095 9.14 14.7068 9.14H17.7436V14.7736C17.7436 15.0952 17.6596 15.3424 17.4917 15.515C17.3238 15.6877 17.0719 15.774 16.7361 15.774L15.6718 15.7743L15.6718 13.0423ZM14.87 8.09704H17.4313L14.5436 5.16674V7.76357C14.5436 7.98589 14.6524 8.09704 14.87 8.09704ZM13.4439 19.1796H7.32078C6.98967 19.1796 6.74016 19.0933 6.57224 18.9207C6.40432 18.748 6.32036 18.5009 6.32036 18.1792V9.01937C6.32036 8.70245 6.4055 8.45885 6.57579 8.28857C6.74607 8.11829 6.99676 8.03314 7.32787 8.03314H9.44932V11.7865C9.44932 12.25 9.56285 12.593 9.78989 12.8153C10.0169 13.0376 10.3551 13.1488 10.8045 13.1488H14.4585V18.1792C14.4585 18.5009 14.3734 18.748 14.2031 18.9207C14.0328 19.0933 13.7797 19.1796 13.4439 19.1796ZM10.9322 12.0561H14.2598L10.5491 8.28144V11.6658C10.5491 11.803 10.5798 11.9023 10.6413 11.9638C10.7028 12.0253 10.7998 12.0561 10.9322 12.0561Z"/>\n</svg>\n',wrapIcon:'\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M18.4388 7.11504H5.55388C5.24779 7.11504 5 6.86726 5 6.55388C5 6.24779 5.24779 6 5.55388 6H18.4388C18.7522 6 19 6.24779 19 6.55388C19 6.86726 18.7449 7.11504 18.4388 7.11504ZM18.4388 10.7225H5.55388C5.24779 10.7225 5 10.4748 5 10.1687C5 9.86257 5.24779 9.61478 5.55388 9.61478H18.4388C18.7522 9.61478 19 9.85528 19 10.1687C19 10.4748 18.7449 10.7225 18.4388 10.7225ZM18.4388 14.3373H5.55388C5.24779 14.3373 5 14.0895 5 13.7834C5 13.4701 5.24779 13.2223 5.55388 13.2223H18.4388C18.7522 13.2223 19 13.4701 19 13.7834C19 14.0895 18.7449 14.3373 18.4388 14.3373ZM12.8855 17.9448H5.55388C5.24779 17.9448 5 17.697 5 17.3909C5 17.0849 5.24779 16.8371 5.55388 16.8371H12.8855C13.1989 16.8371 13.4466 17.0849 13.4466 17.3909C13.4466 17.7043 13.1989 17.9448 12.8855 17.9448ZM21 14.7344V16.3013C21 17.486 20.4268 18.0593 19.2357 18.0593L17.5159 18.0593V18.8555C17.5159 19.2631 17.1019 19.4351 16.7771 19.1803L15.2866 18.0211C14.9045 17.7217 14.9045 17.3459 15.2866 17.0465L16.7771 15.8809C17.1019 15.6262 17.5159 15.8045 17.5159 16.2121V17.0083H19.1847C19.6943 17.0083 19.9554 16.7535 19.9554 16.2121V14.7344C19.9554 14.365 20.1465 14.1548 20.4777 14.1484C20.8153 14.1421 21 14.365 21 14.7344Z"/>\n</svg>\n',openOfficeIcon:'\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5268 17.7658C13.7378 17.981 12.8966 18.0886 12.0035 18.0886C11.1196 18.0886 10.2854 17.981 9.50096 17.7658C8.71654 17.5506 7.98997 17.2672 7.32125 16.9155C6.65253 16.5637 6.05206 16.1773 5.51986 15.7562C4.98766 15.3351 4.53413 14.9116 4.15927 14.4858C3.78442 14.0601 3.49749 13.6656 3.2985 13.3023C3.0995 12.939 3 12.6463 3 12.4241C3 12.202 3.0995 11.9093 3.2985 11.546C3.49749 11.1827 3.78558 10.7882 4.16275 10.3624C4.53992 9.93667 4.9946 9.51207 5.5268 9.08862C6.05901 8.66517 6.65947 8.27875 7.32819 7.92935C7.99691 7.57995 8.72233 7.2988 9.50444 7.08592C10.2865 6.87304 11.1196 6.7666 12.0035 6.7666C12.8966 6.7666 13.7378 6.87304 14.5268 7.08592C15.3159 7.2988 16.0436 7.57995 16.71 7.92935C17.3764 8.27875 17.9745 8.66517 18.5044 9.08862C19.0343 9.51207 19.4844 9.93667 19.8546 10.3624C20.2248 10.7882 20.5083 11.1827 20.705 11.546C20.9017 11.9093 21 12.202 21 12.4241C21 12.6463 20.9017 12.939 20.705 13.3023C20.5083 13.6656 20.2248 14.0601 19.8546 14.4858C19.4844 14.9116 19.0343 15.3351 18.5044 15.7562C17.9745 16.1773 17.3764 16.5637 16.71 16.9155C16.0436 17.2672 15.3159 17.5506 14.5268 17.7658ZM9.96259 16.6517C10.6151 16.8275 11.2954 16.9155 12.0035 16.9155C12.7069 16.9155 13.3849 16.8275 14.0374 16.6517C14.6899 16.4758 15.2997 16.2444 15.8666 15.9575C16.4335 15.6706 16.9483 15.3559 17.4111 15.0134C17.8739 14.671 18.2719 14.332 18.6051 13.9965C18.9383 13.6609 19.1951 13.3532 19.3756 13.0732C19.5561 12.7932 19.6464 12.5769 19.6464 12.4241C19.6464 12.2946 19.5561 12.0967 19.3756 11.8306C19.1951 11.5645 18.9383 11.2614 18.6051 10.9212C18.2719 10.5811 17.8739 10.2363 17.4111 9.88693C16.9483 9.53752 16.4335 9.21589 15.8666 8.92202C15.2997 8.62815 14.6899 8.38982 14.0374 8.20702C13.3849 8.02422 12.7069 7.93282 12.0035 7.93282C11.2954 7.93282 10.6151 8.02422 9.96259 8.20702C9.31007 8.38982 8.69919 8.62815 8.12997 8.92202C7.56074 9.21589 7.04474 9.53752 6.58195 9.88693C6.11917 10.2363 5.72117 10.5811 5.38797 10.9212C5.05476 11.2614 4.79907 11.5645 4.6209 11.8306C4.44273 12.0967 4.35364 12.2946 4.35364 12.4241C4.35364 12.5769 4.44273 12.7932 4.6209 13.0732C4.79907 13.3532 5.05476 13.6609 5.38797 13.9965C5.72117 14.332 6.11917 14.671 6.58195 15.0134C7.04474 15.3559 7.56074 15.6706 8.12997 15.9575C8.69919 16.2444 9.31007 16.4758 9.96259 16.6517ZM12.0035 16.02C12.5033 16.02 12.9707 15.9251 13.4057 15.7354C13.8407 15.5456 14.2237 15.2853 14.5546 14.9544C14.8855 14.6235 15.1435 14.2417 15.3286 13.809C15.5137 13.3763 15.6062 12.9147 15.6062 12.4241C15.6062 11.7577 15.4443 11.1526 15.1203 10.6089C14.7964 10.0651 14.3625 9.63355 13.8187 9.31423C13.275 8.99491 12.6699 8.83525 12.0035 8.83525C11.3324 8.83525 10.7239 8.99491 10.1778 9.31423C9.6317 9.63355 9.19668 10.0651 8.87273 10.6089C8.54879 11.1526 8.38912 11.7577 8.39375 12.4241C8.39838 13.0767 8.56151 13.6748 8.88315 14.2186C9.20478 14.7624 9.63749 15.1985 10.1813 15.5271C10.725 15.8557 11.3324 16.02 12.0035 16.02ZM11.1635 13.2502C11.3949 13.4816 11.6749 13.5973 12.0035 13.5973C12.3274 13.5973 12.6051 13.4816 12.8365 13.2502C13.0679 13.0188 13.1836 12.7435 13.1836 12.4241C13.1836 12.1002 13.0679 11.8237 12.8365 11.5946C12.6051 11.3655 12.3274 11.251 12.0035 11.251C11.6749 11.251 11.3949 11.3655 11.1635 11.5946C10.9321 11.8237 10.8164 12.1002 10.8164 12.4241C10.8164 12.7435 10.9321 13.0188 11.1635 13.2502Z"/>\n</svg>\n',editOfficeIcon:'\n<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M9.71672 10.2247L14.0774 5.88027C14.9968 4.96425 16.4848 4.96703 17.4008 5.88647L18.1273 6.62635C19.0313 7.54705 19.0238 9.02441 18.1106 9.93595L13.7581 14.2806L12.474 15.5826L11.706 16.3428L10.4904 17.5723L10.1428 17.9144L10.0821 17.9692L10.0655 17.9819C10.0081 18.0339 9.94684 18.0868 9.87918 18.143L9.65465 18.3234C9.47423 18.4629 9.2779 18.5798 9.10147 18.6568L8.98973 18.7103L8.71727 18.8273L8.37271 18.9612C8.07694 19.0709 7.7673 19.1782 7.44486 19.2829C7.14007 19.3825 6.82902 19.4745 6.51043 19.5594L6.17526 19.6433L5.89775 19.7022L5.77346 19.7233C5.25644 19.7812 4.8244 19.685 4.54027 19.3282C4.27888 19.0123 4.22542 18.6149 4.296 18.1511C4.31271 18.0372 4.34002 17.9038 4.37807 17.7488L4.46854 17.4093L4.66623 16.7256L4.86109 16.0836L5.03893 15.5366L5.14647 15.2452L5.20136 15.1192L5.2232 15.0781C5.30116 14.8936 5.39463 14.7177 5.5035 14.5518C5.62953 14.3602 5.77709 14.1836 5.94173 14.0216L9.71672 10.2247ZM17.057 7.67724L16.3381 6.94515C16.0068 6.61259 15.4686 6.61158 15.1361 6.94291L10.7768 11.2859L8.3259 13.7408L6.90728 15.1816C6.85027 15.2453 6.80034 15.3098 6.7571 15.3755C6.6989 15.4642 6.64799 15.56 6.57353 15.7272L6.5392 15.8041L6.45556 16.0298L6.24948 16.6707L6.10439 17.1519L5.98049 17.5771L5.86054 18.0053L5.81567 18.1871L6.12682 18.1093C6.41619 18.0321 6.70087 17.9479 6.98035 17.8567C7.28482 17.7578 7.57519 17.6571 7.84872 17.5557C7.90306 17.5354 7.95428 17.5158 8.00264 17.4971L8.26069 17.3924C8.33672 17.3598 8.40348 17.3293 8.46311 17.2999L8.55875 17.253C8.62095 17.2193 8.67978 17.1811 8.73383 17.1394L8.98163 16.9381L9.10753 16.8294L10.6426 15.2849C10.8949 15.0316 11.1535 14.7756 11.416 14.5194L12.6942 13.2232L17.0509 8.87433C17.3812 8.54462 17.3839 8.01026 17.057 7.67724Z"/>\n<path d="M14.0304 6.96973L17.0304 9.96973L15.9697 11.0304L12.9697 8.03039L14.0304 6.96973Z"/>\n<path d="M11.034 17.99H19.02V18.986H10.04L11.034 17.99Z"/>\n</svg>\n',saveOfficeIcon:'\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12.6849 3.66705C12.6849 3.30493 12.3704 3 11.9988 3C11.6367 3 11.3222 3.30493 11.3222 3.66705V11.0998L11.3794 12.2433L10.9792 11.8049L9.93097 10.671C9.80709 10.5375 9.62604 10.4708 9.46404 10.4708C9.10193 10.4708 8.84465 10.7186 8.84465 11.0617C8.84465 11.2522 8.92088 11.3856 9.04477 11.5095L11.5033 13.8632C11.6843 14.0348 11.8273 14.0919 11.9988 14.0919C12.1798 14.0919 12.3228 14.0348 12.4943 13.8632L14.9528 11.5095C15.0862 11.3856 15.1625 11.2522 15.1625 11.0617C15.1625 10.7186 14.8957 10.4708 14.5336 10.4708C14.3716 10.4708 14.2 10.5375 14.0761 10.671L13.0279 11.8049L12.6277 12.2433L12.6849 11.0998V3.66705ZM16.2774 19H7.72974C6.10978 19 5.2998 18.1996 5.2998 16.5987V9.27073C5.2998 7.66984 6.10978 6.86938 7.72974 6.86938H9.7785V8.25111H7.74881C7.06269 8.25111 6.67201 8.62275 6.67201 9.33743V16.532C6.67201 17.2562 7.06269 17.6183 7.74881 17.6183H16.2583C16.9349 17.6183 17.3351 17.2562 17.3351 16.532V9.33743C17.3351 8.62275 16.9349 8.25111 16.2583 8.25111H14.2286V6.86938H16.2774C17.9069 6.86938 18.7073 7.66984 18.7073 9.27073V16.5987C18.7073 18.1996 17.9069 19 16.2774 19Z"/>\n</svg>\n',subIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M10.999 12.9985L1.00047 2.99998" stroke="currentColor"/>\n<path d="M1.00098 12.9985L10.9995 2.99998" stroke="currentColor"/>\n<path d="M11.9117 13.1681L13.7437 10.7921C13.9464 10.5201 14.0477 10.2614 14.0477 10.0161V9.90409C14.0477 9.71209 13.9944 9.56009 13.8877 9.44809C13.7864 9.33609 13.6477 9.28009 13.4717 9.28009C13.2957 9.28009 13.157 9.33876 13.0557 9.45609C12.9544 9.57342 12.9037 9.73609 12.9037 9.94409V10.0721H11.8877V9.88009C11.8877 9.59209 11.9517 9.33609 12.0797 9.11209C12.213 8.88809 12.4024 8.71209 12.6477 8.58409C12.893 8.45609 13.181 8.39209 13.5117 8.39209C13.8317 8.39209 14.1117 8.45876 14.3517 8.59209C14.597 8.72542 14.7837 8.90409 14.9117 9.12809C15.045 9.35209 15.1117 9.60009 15.1117 9.87209V10.0081C15.1117 10.2481 15.069 10.4694 14.9837 10.6721C14.8984 10.8748 14.773 11.0828 14.6077 11.2961L13.2317 13.0801H15.1117V14.0001H11.9117V13.1681Z" fill="currentColor"/>\n</svg>\n\n',superIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M10.999 12.9985L1.00047 2.99998" stroke="currentColor"/>\n<path d="M1.00098 12.9985L10.9995 2.99998" stroke="currentColor"/>\n<path d="M11.9117 6.16809L13.7437 3.79209C13.9464 3.52009 14.0477 3.26142 14.0477 3.01609V2.90409C14.0477 2.71209 13.9944 2.56009 13.8877 2.44809C13.7864 2.33609 13.6477 2.28009 13.4717 2.28009C13.2957 2.28009 13.157 2.33876 13.0557 2.45609C12.9544 2.57342 12.9037 2.73609 12.9037 2.94409V3.07209H11.8877V2.88009C11.8877 2.59209 11.9517 2.33609 12.0797 2.11209C12.213 1.88809 12.4024 1.71209 12.6477 1.58409C12.893 1.45609 13.181 1.39209 13.5117 1.39209C13.8317 1.39209 14.1117 1.45876 14.3517 1.59209C14.597 1.72542 14.7837 1.90409 14.9117 2.12809C15.045 2.35209 15.1117 2.60009 15.1117 2.87209V3.00809C15.1117 3.24809 15.069 3.46942 14.9837 3.67209C14.8984 3.87476 14.773 4.08276 14.6077 4.29609L13.2317 6.08009H15.1117V7.00009H11.9117V6.16809Z" fill="currentColor"/>\n</svg>\n\n',hookIcon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M18.6989 7.29953C18.2969 6.90016 17.6477 6.90016 17.2464 7.29953C16.845 7.6989 10.9999 14.5242 10.9999 14.5242C10.9999 14.5242 8.15827 11.6867 7.75527 11.2873C7.35227 10.888 6.70318 10.888 6.30098 11.2889C5.89967 11.6875 5.89967 12.3373 6.30098 12.7375C6.70228 13.1377 10.274 16.7015 10.274 16.7015C10.4646 16.8898 10.7292 17 10.9999 17C11.2722 17 11.536 16.8898 11.7275 16.7015C11.7275 16.7015 18.2975 9.14987 18.6989 8.74971C19.1004 8.34954 19.1004 7.69969 18.6989 7.29953Z" fill="#07142A"/>\n</svg>\n',referenceIcon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.5374 17.2438C12.8194 17.2438 13.0485 17.1263 13.3245 16.8678L17.7122 12.7327C17.9295 12.533 18 12.3098 18 12.1219C18 11.928 17.9295 11.7107 17.7122 11.5051L13.3245 7.40529C13.0191 7.12335 12.8311 7 12.5492 7C12.1439 7 11.8561 7.32305 11.8561 7.71072V9.77827H11.7034C7.75624 9.77827 6 12.3098 6 16.3921C6 16.9383 6.28781 17.232 6.61087 17.232C6.86344 17.232 7.12188 17.1674 7.32159 16.7974C8.26138 15.0352 9.58884 14.4772 11.7034 14.4772H11.8561V16.5624C11.8561 16.9501 12.1439 17.2438 12.5374 17.2438Z"/>\n</svg>\n',columnIcon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M7.416 19H16.592C18.192 19 19 18.1995 19 16.6146V7.37736C19 5.80046 18.192 5 16.592 5H7.416C5.816 5 5 5.80046 5 7.37736V16.6146C5 18.1995 5.816 19 7.416 19ZM7.456 17.6953C6.72 17.6953 6.312 17.303 6.312 16.5346V7.46541C6.312 6.69697 6.72 6.30475 7.456 6.30475H11.352V17.6953H7.456ZM16.544 6.30475C17.28 6.30475 17.696 6.69697 17.696 7.46541V16.5346C17.696 17.303 17.28 17.6953 16.544 17.6953H12.648V6.30475H16.544Z" />\n</svg>',bilibiliIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M4.879 1.22054L7.3105 3.65279L9.6888 3.65279L12.121 1.22129C12.2617 1.08056 12.4526 1.0015 12.6516 1.0015C12.8506 1.0015 13.0415 1.08056 13.1823 1.22129C13.323 1.36202 13.402 1.55289 13.402 1.75191C13.402 1.95094 13.323 2.14181 13.1823 2.28254L11.8105 3.65279H13.375C13.7197 3.65279 14.0611 3.72069 14.3795 3.85261C14.698 3.98453 14.9874 4.17788 15.2312 4.42164C15.4749 4.66539 15.6683 4.95477 15.8002 5.27325C15.9321 5.59173 16 5.93307 16 6.27783L16 12.2778C16 12.6225 15.9321 12.9638 15.8002 13.2823C15.6683 13.6008 15.4749 13.8902 15.2312 14.1339C14.9874 14.3777 14.698 14.571 14.3795 14.7029C14.0611 14.8349 13.7197 14.9028 13.375 14.9028L3.625 14.9028C3.28028 14.9028 2.93894 14.8349 2.62046 14.7029C2.30198 14.571 2.0126 14.3777 1.76884 14.1339C1.52509 13.8902 1.33173 13.6008 1.19982 13.2823C1.0679 12.9638 1 12.6225 1 12.2778L1 6.27783C1 5.93307 1.0679 5.59173 1.19982 5.27325C1.33173 4.95477 1.52509 4.66539 1.76884 4.42164C2.0126 4.17788 2.30198 3.98453 2.62046 3.85261C2.93894 3.72069 3.28028 3.65279 3.625 3.65279L5.18875 3.65279L3.81775 2.28104C3.74807 2.21136 3.69279 2.12863 3.65508 2.03759C3.61737 1.94654 3.59796 1.84896 3.59796 1.75042C3.59796 1.55139 3.67702 1.36052 3.81775 1.21979C3.95848 1.07906 4.14935 1 4.34838 1C4.44692 1 4.5445 1.01941 4.63555 1.05712C4.72659 1.09483 4.80932 1.15011 4.879 1.21979V1.22054ZM13.375 5.15279L3.625 5.15279C3.34534 5.1528 3.07571 5.25698 2.86869 5.445C2.66166 5.63303 2.5321 5.89142 2.50525 6.16983L2.5 6.27783L2.5 12.2778C2.50001 12.5574 2.60419 12.8271 2.79221 13.0341C2.98024 13.2411 3.23863 13.3707 3.517 13.3975L3.625 13.4028L13.375 13.4028C13.6547 13.4027 13.9243 13.2986 14.1313 13.1105C14.3383 12.9225 14.4679 12.6641 14.4948 12.3858L14.5 12.2778L14.5 6.27783C14.5 5.97942 14.3815 5.69327 14.1705 5.4823C13.9595 5.27132 13.6734 5.15279 13.375 5.15279ZM5.5 7.40283C5.69891 7.40283 5.88968 7.48183 6.03033 7.62243C6.17098 7.76313 6.25 7.95383 6.25 8.15283L6.25 9.65283C6.24997 9.85173 6.17094 10.0424 6.03029 10.183C5.88964 10.3236 5.69889 10.4026 5.5 10.4026C5.30111 10.4026 5.11036 10.3236 4.96971 10.183C4.82906 10.0424 4.75003 9.85173 4.75 9.65283V8.15283C4.75 7.95383 4.82902 7.76313 4.96967 7.62243C5.11032 7.48183 5.30109 7.40283 5.5 7.40283ZM11.5 7.40283C11.6989 7.40283 11.8897 7.48183 12.0303 7.62243C12.171 7.76313 12.25 7.95383 12.25 8.15283V9.65283C12.25 9.85173 12.1709 10.0424 12.0303 10.183C11.8896 10.3236 11.6989 10.4026 11.5 10.4026C11.3011 10.4026 11.1104 10.3236 10.9697 10.183C10.8291 10.0424 10.75 9.85173 10.75 9.65283V8.15283C10.75 7.95383 10.829 7.76313 10.9697 7.62243C11.1103 7.48183 11.3011 7.40283 11.5 7.40283Z" fill="#20B0E3"/>\n</svg>\n',youkuIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_1467_77361)">\n<path d="M6.9053 0.0762703C7.7053 -0.0500497 8.5474 -0.00793976 9.3895 0.11838C10.9474 0.41311 12.3789 1.1289 13.5158 2.22364C14.5684 3.19206 15.2842 4.49732 15.6632 5.84469C16.0842 7.27629 16.0421 8.83419 15.6211 10.2658C15.4526 10.8552 15.2 11.4447 14.9053 11.95C14.8211 12.1184 14.6947 12.2868 14.5684 12.4552C14.6105 12.3289 14.6526 12.2447 14.6947 12.1184C14.7789 11.8236 14.7368 11.5289 14.6105 11.2763C14.4842 10.9815 14.1895 10.7289 13.8947 10.6026C13.5579 10.4763 13.1789 10.5184 12.8842 10.6868C12.7579 10.7289 12.6737 10.8552 12.5474 10.9394C13.0105 10.2236 13.3053 9.42359 13.3895 8.58149C13.5158 7.65519 13.3474 6.68679 13.0105 5.80259C12.6737 5.04469 12.1684 4.3289 11.5789 3.82364C10.9895 3.27627 10.2316 2.89732 9.4737 2.6868C8.5053 2.43416 7.4947 2.43416 6.5263 2.6868C5.97895 2.85522 5.43158 3.10785 4.92632 3.40259C4.37895 3.78153 3.91579 4.24469 3.53684 4.74995C3.57895 4.62364 3.62105 4.49732 3.62105 4.37101C3.66316 3.99206 3.49474 3.61311 3.24211 3.36048C3.03158 3.23416 2.73684 3.10785 2.44211 3.10785C2.14737 3.06574 1.81053 3.14995 1.55789 3.36048L1.38947 3.5289C1.76842 2.93943 2.23158 2.43416 2.73684 1.97101C3.91579 0.96048 5.38947 0.2868 6.9053 0.0762703ZM0.800001 4.58153C0.926321 4.3289 1.05263 4.07627 1.17895 3.86574C1.17895 3.99206 1.13684 4.07627 1.09474 4.20259C1.05263 4.58153 1.17895 4.96048 1.43158 5.25522C1.6 5.46574 1.85263 5.59206 2.10526 5.63416C2.44211 5.67627 2.77895 5.63416 3.07368 5.42364C3.11579 5.38153 3.2 5.33943 3.24211 5.29732C3.07368 5.54995 2.94737 5.84469 2.86316 6.13939C2.48421 7.14999 2.4 8.28679 2.69474 9.33939C2.86316 10.0552 3.2 10.7289 3.62105 11.3184C4.16842 12.0342 4.8421 12.5815 5.64211 12.9605C6.4842 13.3815 7.4105 13.55 8.3368 13.4658C9.1368 13.4236 9.9368 13.171 10.6526 12.75C11.2842 12.4131 11.8316 11.9079 12.2947 11.3184C12.2947 11.4026 12.2526 11.4868 12.2526 11.571C12.2105 11.8236 12.2105 12.0763 12.2947 12.3289C12.4211 12.6658 12.7158 12.9184 13.0526 13.0447C13.4737 13.2131 14.0211 13.0868 14.3579 12.75C14.4 12.7079 14.4421 12.7079 14.4842 12.6658C13.8526 13.55 13.0526 14.3079 12.1263 14.8552C11.0737 15.4868 9.8947 15.8658 8.6737 15.95C7.9158 15.9921 7.1579 15.95 6.4 15.8236C4.84211 15.4868 3.36842 14.6868 2.23158 13.55C1.17895 12.4552 0.463161 11.0658 0.168421 9.59209C6.4075e-07 8.74999 -0.0421092 7.94999 0.0421108 7.14999C0.168421 6.26579 0.421051 5.38153 0.800001 4.58153Z" fill="#38CEFF"/>\n<path d="M1.55708 3.35945C1.80971 3.14892 2.14655 3.02261 2.48339 3.06471C2.77813 3.10682 3.07287 3.23313 3.24129 3.44366C3.49392 3.69629 3.66234 4.07524 3.62024 4.45419C3.62024 4.5805 3.57813 4.70682 3.53602 4.83313C3.45181 5.00155 3.3676 5.12787 3.24129 5.25419C3.19918 5.29629 3.11497 5.3384 3.07287 5.3805C2.82024 5.59103 2.44129 5.67524 2.10445 5.59103C1.85181 5.54892 1.59918 5.42261 1.43076 5.21208C1.17813 4.95945 1.05181 4.5384 1.09392 4.15945C1.09392 4.03313 1.13603 3.94892 1.17813 3.82261C1.22024 3.69629 1.30445 3.61208 1.38866 3.52787L1.55708 3.35945ZM12.9255 10.7279C13.2202 10.5595 13.5992 10.5595 13.936 10.6437C14.2729 10.77 14.5255 10.9805 14.6518 11.3174C14.7781 11.57 14.7781 11.8647 14.736 12.1595C14.6939 12.2858 14.6518 12.37 14.6097 12.4963C14.5676 12.5384 14.5255 12.6226 14.4834 12.6647C14.4413 12.7069 14.3992 12.7069 14.3571 12.749C14.0202 13.0858 13.515 13.2121 13.0518 13.0437C12.715 12.9174 12.4202 12.6647 12.2939 12.3279C12.2097 12.0753 12.1676 11.8226 12.2518 11.57C12.2939 11.4858 12.2939 11.4016 12.2939 11.3174L12.5465 10.9384C12.6729 10.8963 12.7992 10.77 12.9255 10.7279Z" fill="#0B99FF"/>\n<path d="M5.68382 4.41209C6.02063 4.11735 6.48383 4.03314 6.90483 4.20156C7.07333 4.24367 7.24173 4.36998 7.41013 4.4963C8.46273 5.21209 9.47333 5.88577 10.5259 6.55949C10.6943 6.68579 10.8627 6.81209 11.0312 6.89629C11.2838 7.02259 11.4943 7.27529 11.5785 7.52789C11.6627 7.78049 11.7049 8.11739 11.5785 8.36999C11.4943 8.62259 11.2838 8.87529 11.0733 9.00159C10.8206 9.12789 10.6101 9.29629 10.3996 9.42259C9.34703 10.1384 8.25223 10.8542 7.19963 11.57C6.94703 11.7384 6.61013 11.8226 6.31543 11.7805C5.97856 11.7384 5.68382 11.5279 5.5154 11.2753C5.30488 10.9805 5.26277 10.6437 5.34698 10.3068C5.43119 10.0121 5.59961 9.71739 5.85225 9.54889C6.65223 9.00159 7.45223 8.49629 8.25223 7.94889C7.53643 7.44369 6.77853 6.98049 6.06273 6.47529C5.97856 6.39099 5.85225 6.34889 5.76804 6.26469C5.5154 6.05419 5.34698 5.75946 5.30488 5.42261C5.22067 5.08577 5.38909 4.66472 5.68382 4.41209Z" fill="#FF4A4A"/>\n</g>\n<defs>\n<clipPath id="clip0_1467_77361">\n<rect width="16" height="16" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n',qqvideoIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M14.8787 6.5878C14.3395 6.0272 13.7415 5.53064 13.0928 5.10618C11.6379 4.08909 10.1082 3.18144 8.51717 2.39125C7.57477 1.91874 6.60047 1.51831 5.59935 1.19263C5.14285 1.02444 4.65166 0.965714 4.16847 1.0191C3.62388 1.10186 3.15938 1.45691 2.93514 1.96146C2.84971 2.16701 2.78297 2.38057 2.73225 2.59681H2.73759V2.59414L2.7456 2.5541L2.74827 2.56477L2.84437 2.57812C3.32756 2.70893 3.81075 2.85575 4.2886 2.99457C5.3671 3.34161 6.42157 3.7634 7.44397 4.25727C8.31957 4.6924 9.20057 5.12487 10.0468 5.62408C10.4873 5.86701 10.9118 6.1366 11.3202 6.4303C11.6806 6.6705 11.9876 6.9775 12.2279 7.3379C12.4281 7.6449 12.4548 8.0373 12.2973 8.3684C12.0784 8.8222 11.6486 9.1105 11.2562 9.4095C10.0575 10.2664 8.78947 11.0219 7.46267 11.6653C6.60307 12.0977 5.71417 12.4635 4.80115 12.7651C4.36601 12.9119 3.92287 13.0454 3.47705 13.1602C3.15671 13.235 2.8417 13.3311 2.52136 13.4085L2.5 13.4378C2.56407 13.8089 2.72691 14.156 2.97251 14.4443C3.27684 14.7593 3.68528 14.9542 4.12309 14.9862C4.85454 15.0556 5.57799 14.8527 6.26407 14.6178C7.32657 14.2387 8.35167 13.7582 9.32337 13.1816C11.2054 12.055 12.954 10.7256 14.5424 9.212C14.9214 8.8275 15.3059 8.3844 15.3753 7.8291C15.418 7.362 15.1751 6.9268 14.8787 6.5878Z" fill="#10ABF2"/>\n<path d="M2.19455 10.512C2.15183 9.9301 2.17052 9.3455 2.16518 8.7608C2.15183 8.3711 2.15984 7.9813 2.18921 7.5916C2.20522 7.1885 2.22391 6.7854 2.23459 6.3769C2.29065 6.0299 2.2773 5.68283 2.33069 5.33579C2.36273 5.06083 2.39209 4.78586 2.40811 4.50823C2.50688 3.86754 2.58163 3.22151 2.7338 2.58883L2.7418 2.54878L2.74447 2.55679C2.74447 2.55412 2.74714 2.55145 2.74714 2.54611C2.26395 2.45802 1.73538 2.39395 1.27622 2.61285C0.977226 2.77302 0.750316 3.04265 0.646206 3.36299C0.440646 3.96631 0.296497 4.59099 0.211067 5.221C0.0936066 5.9925 0.0241963 6.7693 0.000166266 7.5488C-0.00516373 9.0411 0.117636 10.5334 0.371236 12.0043C0.478016 12.4608 0.592816 12.9841 1.00927 13.2644C1.42572 13.5447 1.95696 13.4806 2.41612 13.3952V13.2617C2.35472 12.7945 2.30667 12.3273 2.26929 11.8602C2.23459 11.417 2.21056 10.9659 2.19455 10.512Z" fill="#FF8F21"/>\n<path d="M2.7457 2.56192L2.84181 2.57527C3.32499 2.70608 3.80818 2.8529 4.28603 2.99172C5.36453 3.33876 6.41899 3.76055 7.44139 4.25441C8.31709 4.68955 9.19799 5.12202 10.0443 5.62122C10.4847 5.86415 10.9092 6.13376 11.3176 6.42746C11.678 6.66766 11.985 6.97466 12.2253 7.33506C12.4255 7.64206 12.4522 8.03446 12.2947 8.36556C12.0758 8.81936 11.646 9.10766 11.2536 9.40666C10.0549 10.2636 8.78689 11.0191 7.46009 11.6625C6.22149 12.2845 4.91871 12.773 3.57593 13.12C3.25559 13.1974 2.94058 13.2936 2.62023 13.3656L2.4387 13.3977C2.43069 13.3202 2.42002 13.2428 2.40934 13.1654C2.29188 12.2845 2.22247 11.3982 2.19577 10.5092C2.15306 9.92716 2.17175 9.34256 2.16641 8.75796C2.15306 8.36816 2.16107 7.97846 2.19044 7.58866C2.20645 7.18556 2.22514 6.78246 2.23582 6.37406C2.29188 6.02696 2.27853 5.67995 2.33192 5.33291C2.36396 5.05795 2.39332 4.78299 2.40934 4.50535C2.50811 3.86466 2.58286 3.21863 2.73502 2.58595L2.74303 2.5459L2.7457 2.56192ZM4.57167 4.87375C4.40349 4.93515 4.29671 5.09799 4.30739 5.27418C4.29404 5.53046 4.29938 5.78941 4.32074 6.04566C4.33141 6.81186 4.30739 7.58066 4.33408 8.34686L4.33408 10.3864C4.31006 10.5599 4.39014 10.7308 4.5343 10.8242C4.71049 10.8696 4.89736 10.8322 5.04151 10.7201C6.27489 9.88716 7.51889 9.06496 8.75489 8.23736C8.90969 8.12526 9.07789 7.96776 9.05919 7.75956C9.02449 7.56196 8.89639 7.39376 8.71219 7.31106L4.94007 4.96985C4.83329 4.89511 4.70248 4.8604 4.57167 4.87375Z" fill="#7DE621"/>\n<path d="M4.57088 4.87389C4.70169 4.86054 4.8325 4.89525 4.93928 4.97266L8.71934 7.3139C8.90354 7.3966 9.03174 7.5648 9.06644 7.7623C9.08514 7.9706 8.91954 8.1307 8.76204 8.2402C7.52874 9.0678 6.28204 9.89 5.04873 10.7229C4.90457 10.8323 4.72038 10.8724 4.54685 10.8297C4.40537 10.7362 4.32795 10.568 4.34664 10.3999V8.3577C4.31994 7.5915 4.34664 6.8227 4.33329 6.0565C4.30659 5.79755 4.29859 5.53594 4.30926 5.27699C4.29859 5.09813 4.40804 4.93529 4.57355 4.87656H4.57088V4.87389Z" fill="white"/>\n</svg>\n',modaoIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M2 3L4.71517 3L4.71517 7.7516H2L2 3ZM8.9576 3L6.2425 3L6.2425 7.7516H8.9576V3ZM13.5395 3L10.8243 3V7.7516H13.5395V3ZM9.108 14.0001L8.0122 11.5002C9.6369 11.0281 10.8243 9.5285 10.8243 7.7516H13.5395C13.5395 10.6405 11.6886 13.097 9.108 14.0001Z" fill="#FF3333"/>\n</svg>\n',figmaIcon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M8.32422 7.99976C8.32422 6.52476 9.52422 5.32471 10.9992 5.32471C12.4742 5.32471 13.6742 6.52476 13.6742 7.99976C13.6742 9.47476 12.4742 10.6748 10.9992 10.6748C9.52422 10.6748 8.32422 9.47476 8.32422 7.99976Z" fill="#1ABCFE"/>\n<path d="M3 13.3249C3 11.8499 4.2 10.6499 5.675 10.6499H8.32501V13.3249C8.32501 14.7999 7.12501 15.9999 5.65 15.9999C4.175 15.9999 3 14.7999 3 13.3249Z" fill="#0ACF83"/>\n<path d="M8.32422 0V5.325H10.9992C12.4742 5.325 13.6742 4.125 13.6742 2.65C13.6742 1.175 12.4742 0 10.9992 0L8.32422 0Z" fill="#FF7262"/>\n<path d="M3 2.675C3 4.15 4.2 5.35 5.675 5.35L8.32501 5.35V0L5.65 0C4.175 0 3 1.2 3 2.675Z" fill="#F24E1E"/>\n<path d="M3 7.99976C3 9.47476 4.2 10.6748 5.675 10.6748H8.32501V5.32471L5.65 5.32471C4.175 5.32471 3 6.52476 3 7.99976Z" fill="#A259FF"/>\n</svg>\n',retryIcon:'\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"></path>\n</svg>\n',tipsIcon:'\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect width="24" height="24" rx="3" fill="#303030" fill-opacity="0.7"/>\n<path d="M19 12C19 15.8659 15.8659 19 12 19C8.13408 19 5 15.8659 5 12C5 8.13408 8.13408 5 12 5C15.8659 5 19 8.13408 19 12Z" stroke="white" stroke-width="2"/>\n<path d="M12 16L12 11" stroke="white" stroke-width="2"/>\n<path d="M12 10L12 8" stroke="white" stroke-width="2"/>\n</svg>\n',imageLoadErrorIcon:'\n<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M6 42L28.5 21L33.32 25.3818" stroke="#C7C7C7" stroke-width="6"/>\n<path d="M15 18C15 18.8284 14.3284 19.5 13.5 19.5C12.6716 19.5 12 18.8284 12 18C12 17.1716 12.6716 16.5 13.5 16.5C14.3284 16.5 15 17.1716 15 18Z" fill="#C7C7C7" stroke="#C7C7C7" stroke-width="6"/>\n<path d="M45 27V9C45 7.34315 43.6569 6 42 6H6C4.34315 6 3 7.34315 3 9V39C3 40.6569 4.34315 42 6 42H27" stroke="#C7C7C7" stroke-width="6"/>\n<path d="M44.9158 44.915L33.0005 32.9997" stroke="#C7C7C7" stroke-width="6"/>\n<path d="M33 44.915L44.9153 32.9997" stroke="#C7C7C7" stroke-width="6"/>\n</svg>\n',imageEmptyIcon:'\n<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M6 42L28.5 21L45 36" stroke="#C7C7C7" stroke-width="6"/>\n<path d="M15 18C15 18.8284 14.3284 19.5 13.5 19.5C12.6716 19.5 12 18.8284 12 18C12 17.1716 12.6716 16.5 13.5 16.5C14.3284 16.5 15 17.1716 15 18Z" fill="#C7C7C7" stroke="#C7C7C7" stroke-width="6"/>\n<path d="M3 39V9C3 7.34315 4.34315 6 6 6H42C43.6569 6 45 7.34315 45 9V39C45 40.6569 43.6569 42 42 42H6C4.34315 42 3 40.6569 3 39Z" stroke="#C7C7C7" stroke-width="6"/>\n</svg>\n',imageLinkIcon:'\n<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_872_2759)">\n<path d="M6.5 2H3.5C2.94772 2 2.5 2.44772 2.5 3V13C2.5 13.5523 2.94772 14 3.5 14H13.5C14.0523 14 14.5 13.5523 14.5 13V10" stroke="#338FE5"/>\n<path d="M14.5 2L9 7.5" stroke="#338FE5"/>\n<path d="M8.5 2H14.5V8" stroke="#338FE5"/>\n</g>\n<defs>\n<clipPath id="clip0_872_2759">\n<rect width="16" height="16" fill="white" transform="translate(0.5)"/>\n</clipPath>\n</defs>\n</svg>\n',imagePlaceHolderIcon:'\n<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M6 42L28.5 21L45 36" stroke="#C7C7C7" stroke-width="6"/>\n<path d="M15 18C15 18.8284 14.3284 19.5 13.5 19.5C12.6716 19.5 12 18.8284 12 18C12 17.1716 12.6716 16.5 13.5 16.5C14.3284 16.5 15 17.1716 15 18Z" fill="#C7C7C7" stroke="#C7C7C7" stroke-width="6"/>\n<path d="M3 39V9C3 7.34315 4.34315 6 6 6H42C43.6569 6 45 7.34315 45 9V39C45 40.6569 43.6569 42 42 42H6C4.34315 42 3 40.6569 3 39Z" stroke="#C7C7C7" stroke-width="6"/>\n</svg>\n',playVersionIcon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.5044 20.5C13.6651 20.5 14.7588 20.2754 15.7854 19.8263C16.812 19.383 17.7161 18.7705 18.4977 17.9889C19.2793 17.2073 19.8917 16.3061 20.3351 15.2854C20.7784 14.2588 21 13.1622 21 11.9956C21 10.8349 20.7754 9.74121 20.3263 8.71462C19.883 7.68803 19.2705 6.78393 18.4889 6.00232C17.7073 5.22071 16.8032 4.60825 15.7766 4.16495C14.75 3.72165 13.6564 3.5 12.4956 3.5C11.3349 3.5 10.2412 3.72165 9.21462 4.16495C8.19386 4.60825 7.28976 5.22071 6.50232 6.00232C5.72071 6.78393 5.10825 7.68803 4.66495 8.71462C4.22165 9.74121 4 10.8349 4 11.9956C4 13.1622 4.22165 14.2588 4.66495 15.2854C5.11408 16.3061 5.72946 17.2073 6.51107 17.9889C7.29267 18.7705 8.19386 19.383 9.21462 19.8263C10.2412 20.2754 11.3378 20.5 12.5044 20.5ZM12.5044 18.9426C11.5419 18.9426 10.6408 18.7618 9.80082 18.4002C8.96089 18.0443 8.22302 17.5486 7.58724 16.9128C6.95145 16.277 6.45565 15.5391 6.09985 14.6992C5.74404 13.8592 5.56613 12.9581 5.56613 11.9956C5.56613 11.0332 5.74404 10.132 6.09985 9.29207C6.45565 8.45214 6.95145 7.71427 7.58724 7.07849C8.22302 6.4427 8.95797 5.9469 9.79207 5.5911C10.632 5.23529 11.5332 5.05739 12.4956 5.05739C13.4581 5.05739 14.3592 5.23529 15.1992 5.5911C16.0449 5.9469 16.7857 6.4427 17.4215 7.07849C18.0573 7.71427 18.5531 8.45214 18.9089 9.29207C19.2647 10.132 19.4426 11.0332 19.4426 11.9956C19.4426 12.9581 19.2647 13.8592 18.9089 14.6992C18.5531 15.5391 18.0573 16.277 17.4215 16.9128C16.7857 17.5486 16.0479 18.0443 15.2079 18.4002C14.368 18.7618 13.4668 18.9426 12.5044 18.9426ZM10.947 15.2504L15.6804 12.4593C15.8554 12.3543 15.9429 12.2056 15.9429 12.0131C15.9429 11.8148 15.8554 11.6631 15.6804 11.5582L10.947 8.75836C10.7662 8.65337 10.5795 8.63879 10.387 8.71462C10.2004 8.78461 10.1071 8.92168 10.1071 9.12584V14.8917C10.1071 15.09 10.1975 15.23 10.3783 15.3116C10.5649 15.3875 10.7545 15.367 10.947 15.2504Z" fill="currentColor"/>\n</svg>'};var Zo=navigator.userAgent,Xo={isAndroid:!!Zo.match(/Android/i),isIOS:!!Zo.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/i),isIPad:!!Zo.match(/iPad/i),isIPhone:!!Zo.match(/iPhone/i),isLinux:!!Zo.match(/Linux/i),isMac:!!Zo.match(/Macintosh/i),isMobile:!!Zo.match(/AppleWebKit.*Mobile.*/i),isWeChat:!!Zo.match(/MicroMessenger/i),isWindows:!!Zo.match(/Window/i),isIe:!!Zo.match(/msie|trident/i)};function Jo(){return/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)}function $o(e){return!!e&&(1===e.length||"Process"===e||"Unidentified"===e&&Xo.isAndroid)}function ei(e){switch(e){case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":case"End":case"Home":case"PageDown":case"PageUp":return!0;default:return!1}}function ti(e){switch(e){case"ArrowUp":case"ArrowLeft":case"Home":case"PageUp":return!0;default:return!1}}function ni(e){return e.ctrlKey||e.altKey||e.shiftKey||e.metaKey}function ri(e){return!!e.key&&!!(e.ctrlKey||e.metaKey||e.altKey)}function oi(e){return Jo()?e.metaKey&&!e.ctrlKey:!e.metaKey&&e.ctrlKey}function ii(e){return oi(e)&&!e.altKey&&!e.shiftKey}function ai(e){return!e.metaKey&&!e.ctrlKey&&!e.shiftKey&&e.altKey}function si(e){return!ni(e)&&"Enter"===e.key}function ci(e){return"Enter"===e.key&&e.shiftKey&&!e.altKey&&!e.ctrlKey&&!e.metaKey}function li(e){return!ni(e)&&"Escape"===e.key}function ui(e){return!ni(e)&&"Delete"===e.key}function di(e){return!ni(e)&&"Backspace"===e.key}function pi(e){return!ni(e)&&"Tab"===e.key}function fi(e){return e.shiftKey&&"Tab"===e.key&&!e.ctrlKey&&!e.metaKey}function hi(e){if(!e)return"";if(Jo()){var t=e.replace("CtrlOrCmd","⌘").replace("Shift","⇧").replace("Ctrl","⌃").replace("Alt","⌥").replace(/\+(?!$)/gm,""),n={"⌘":4,"⇧":3,"⌥":2,"⌃":1};return t.split(/(?=(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/).sort((function(e,t){var r,o;return(null!==(r=n[e])&&void 0!==r?r:5)-(null!==(o=n[t])&&void 0!==o?o:5)})).join("")}return e.replace("CtrlOrCmd","Ctrl")}function Ai(e){return e?Jo()?e.replace("CtrlOrCmd","Command"):e.replace("CtrlOrCmd","Ctrl"):""}function mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gi=qo.arrowRightIcon,vi=qo.hookIcon,bi="menu-item",yi="menu-group-title",wi="menu-parent",xi="menu-text",ki="menu-icon",Ci="menu-sub-arrow",Ei="menu-shortcut",Bi="menu-checked-icon",Ti=function(){function e(t,n,r){var o=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=n,this.disabled=!!n.disabled,this.element=e.createElement(t,n),this.setDisabled(!!n.disabled),this.handler={onClick:function(e){if(!o.disabled&&n.onClick){if(r)return void r(e,n);n.onClick(e,n)}},onMouseDown:function(){o.disabled||o.handler.onMouseEnter()},onMouseEnter:function(){Qa(o.element,Vi.HOVER)},onMouseLeave:function(){Ja(o.element,Vi.HOVER)}},"-"===n.text)return this;n.onClick&&this.element.addEventListener("click",this.handler.onClick),"ontouchstart"in document.documentElement&&(this.element.addEventListener("touchstart",this.handler.onMouseDown),this.element.addEventListener("touchend",this.handler.onMouseLeave)),this.element.addEventListener("mousedown",this.handler.onMouseDown),this.element.addEventListener("mouseenter",this.handler.onMouseEnter),this.element.addEventListener("mouseleave",this.handler.onMouseLeave)}var t,n,r;return t=e,r=[{key:"createElement",value:function(e,t){if(t.element)return Qa(t.element,Vi.CLICKABLE_ITEM),t.element;var n=document.createElement("div");if(n.itemData=t,Qa(n,bi),"-"===t.text)return Qa(n,Vi.MENU_SPLIT),n;if(t.groupHeader&&Qa(n,yi),t.disabled?Qa(n,Vi.DISABLED):(t.subItems||t.onClick)&&Qa(n,Vi.CLICKABLE_ITEM),t.icon){var r=document.createElement("span");r.innerHTML=t.icon,Qa(r,ki),n.appendChild(r)}var o=document.createElement("span"),i=document.createTextNode(t.text);if(o.appendChild(i),Qa(o,xi),n.appendChild(o),t.subItems){var a=document.createElement("span");a.innerHTML=gi,Qa(a,Ci),n.appendChild(a),Qa(n,wi)}else if(t.checked){var s=document.createElement("span");s.innerHTML=vi,Qa(s,Bi),n.appendChild(s)}else{var c=document.createElement("span"),l=document.createTextNode(hi(t.shortCut));c.appendChild(l),Qa(c,Ei),n.appendChild(c)}return n}}],(n=[{key:"setDisabled",value:function(e){this.disabled=e,e?Qa(this.element,Vi.DISABLED):Ja(this.element,Vi.DISABLED)}},{key:"updateStatus",value:function(e,t){this.item.updateStatus&&this.item.updateStatus(e,this.item,t)}},{key:"destroy",value:function(){this.element.removeEventListener("click",this.handler.onClick),this.element.removeEventListener("touchstart",this.handler.onMouseDown),this.element.removeEventListener("mousedown",this.handler.onMouseDown),this.element.removeEventListener("touchend",this.handler.onMouseLeave),this.element.removeEventListener("mouseenter",this.handler.onMouseEnter),this.element.removeEventListener("mouseleave",this.handler.onMouseLeave),this.element.remove()}}])&&mi(t.prototype,n),r&&mi(t,r),e}();function Mi(e){return(Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Di(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ri(e,t)}function _i(e){var t=Li();return function(){var n,r=ji(e);if(t){var o=ji(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Si(this,n)}}function Si(e,t){if(t&&("object"===Mi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Oi(e){var t="function"==typeof Map?new Map:void 0;return(Oi=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Ni(e,arguments,ji(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ri(r,e)})(e)}function Ni(e,t,n){return(Ni=Li()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Ri(o,n.prototype),o}).apply(null,arguments)}function Li(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ri(e,t){return(Ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ji(e){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ui,Fi,zi,Qi,Pi,Hi,Vi,Ki=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Gi=function(e){Di(n,e);var t=_i(n);function n(){var e;return Ii(this,n),(e=t.call(this,"Access Denied")).code="AccessDenied",e}return n}(Oi(Error)),Wi=function(e){Di(n,e);var t=_i(n);function n(e,r){var o;return Ii(this,n),(o=t.call(this,"Not Supported: ".concat(e||""))).code=r||"NotSupport",o}return n}(Oi(Error)),Yi=function(e){Di(n,e);var t=_i(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Invalid Param";return Ii(this,n),t.call(this,e)}return n}(Oi(Error));!function(e){e.NODE_TYPE="data-node-type",e.BLOCK_TYPE="data-block-type",e.BOX_TYPE="data-box-type",e.EMBED_TYPE="data-embed-type"}(Ui||(Ui={})),function(e){e.CONTAINER="container",e.BLOCK="block",e.BOX="box",e.EMBED="embed"}(Fi||(Fi={})),function(e){e.RESIZE="resize",e.THEME_MODE_CHANGE="themeModeChange",e.ELEMENT_REMOVE="elementRemove"}(zi||(zi={})),function(e){e.TEXT="text",e.HEADING="heading",e.LIST="list",e.TABLE="table",e.EMBED="embed",e.CODE_LINE="code-line",e.CODE="code"}(Qi||(Qi={})),function(e){e.FAKE_CARET="fake-caret",e.TAG="tag",e.WIKI_LINK="wiki-link",e.MENTION="mention",e.MATH="math",e.CALENDAR="calendar",e.LOADING="loading",e.INPUT="input",e.FILE="file",e.HISTORY_DELETED="history-deleted",e.BR="br",e.IMAGE="image",e.ANCHOR="anchor"}(Pi||(Pi={})),function(e){e.Content="dialog-input-content"}(Hi||(Hi={})),function(e){e.AUTO_DARK_MODE="auto-dark-mode",e.DARK_MODE="dark-mode",e.AUTO_WRAP="auto-wrap",e.ACTIVE="active",e.HIDDEN="editor-hidden",e.READONLY="editor-readonly",e.ALERT="alert",e.ERROR="error",e.RETRY="retry",e.UPLOAD_ERROR="upload-error",e.BUTTON="editor-button",e.BUTTON_CANCEL="editor-button-cancel",e.ENTIRE_SELECTED="editor-entire-selected",e.SUB_ITEMS_ACTIVE="sub-items-active",e.BLOCK="editor-block",e.BLOCK_CONTENT="block-content",e.BLOCK_MENU_BUTTON="block-menu-button",e.BLOCK_TOOLS="block-tools",e.BLOCK_POSITION_MARKING_LINE="block-position-marking-line",e.BLOCK_ENTIRE_HOVER="block-entire-hover",e.BUTTON_CONTAINER="editor-button-container",e.BUTTON_SPLIT="editor-toolbar-split-line",e.POPOVER_DIALOG_CONTAINER="editor-popover-dialog-container",e.MENU_CONTAINER="editor-menu-container",e.MENU_SCROLL_CONTAINER="editor-menu-scroll-container",e.MENU_SPLIT="menu-split",e.MENU_FONT_COLOR="menu-font-color",e.COMMAND_ITEM="editor-command-item",e.CLICKABLE_ITEM="clickable-item",e.CHECKBOX="editor-checkbox",e.CHECKED="editor-checked",e.COMMENT="comment",e.COMMENT_IS_ACTIVE="editor-comment-active",e.COMMENT_IS_MINI="editor-comment-mini",e.COMMENT_ID="comment-id",e.COMMENT_EDITOR="comment-editor",e.COMMENT_READY="comment-ready",e.SHOW_MOBILE_COMMENT="show-mobile-comments",e.HIDE_SCROLLBAR="hide-scrollbar",e.COMPOSITION="editor-composition",e.COMPOSITING="editor-compositing",e.CONTAINER="editor-container",e.DISABLED="disabled",e.DIALOG_INPUT_CONTAINER="dialog-input-container",e.EDITOR_MAIN="editor-main",e.EMBED="editor-embed",e.EMBED_CONTAINER="embed-container",e.EMPTY_BLOCK="empty-block",e.FILE_CONTENT="file-content",e.FOCUSED="focused",e.HIDE_LINE_NUMBER="editor-hide-line-number",e.HOVER="hover",e.ICON_BUTTON="editor-icon-button",e.IGNORE="editor-ignore",e.IMAGE_LOADING="image-loading",e.IMAGE_ERROR="image-error",e.IMAGE_EMPTY="image-empty",e.NO_BORDER="table-no-border",e.LINK="link",e.TOC_LINK="editor-toc-link",e.LOCKED_BY_USER="locked-by-user",e.LOCKED_READONLY="locked-readonly",e.ROOT_CONTAINER="root-container",e.ROOT_CONTAINER_EXTEND="root-container-extend",e.ROOT_CONTAINER_CUSTOM="root-container-custom",e.SUB_ITEMS_CONTAINER="editor-sub-items-container",e.BLOCK_SCROLL_BAR="editor-block-scrollbar",e.BLOCK_LEFT_OVERFLOW="editor-block-left-overflow",e.TABLE_SELECTION_MASK="table-selection-mask",e.TABLE_CONTROL_BAR="table-control-bar",e.TABLE_TOOLBAR="table-toolbar",e.TABLE_TOOLBAR_ACTIVE="table-toolbar-active",e.TABLE_COL_GROUP="table-col-group",e.TABLE_RESIZE_TOOL="table-resize-tool",e.TEXT_BUTTON="editor-text-button",e.UNCHECKED="editor-unchecked",e.QUICK_EDITABLE_ELEMENT="editor-quick-editable",e.UNORDERED="list-ul",e.ORDERED="list-ol",e.SHOW_FULL_SCREEN_IFRAME="show_full_screen_iframe",e.FOCUS_MODE="editor-focus-mode",e.TYPEWRITER_MODE="editor-typewriter-mode",e.FULLSCREEN="editor-fullscreen",e.ALIGN_LEFT="editor-align-left",e.ALIGN_RIGHT="editor-align-right",e.ALIGN_CENTER="editor-align-center",e.ALIGN_JUSTIFY="editor-align-justify",e.FLASH="editor-block-blink",e.SLIDING_TOOLS="block-siding-tools",e.SLIDING_TOOLS_CONTAINER="sliding-tool-view-window",e.TOOLTIP="editor-tooltip",e.ON_DRAGGING="on-dragging",e.HISTORY="history",e.STRIPE_STYLE_TABLE="stripe-style-table",e.ROW_TITLE_TABLE="row-title-table",e.COL_TITLE_TABLE="col-title-table",e.COL_TITLE_ITEM="col-title-item",e.POPOVER_INPUT="editor-popover-input",e.POPOVER_BUTTON="editor-popover-button",e.POPOVER_CANCEL_BUTTON="editor-popover-cancel-button"}(Vi||(Vi={}));var qi,Zi="​",Xi=new RegExp(Zi,"ig"),Ji=" ",$i=new RegExp(Ji,"ig"),ea=44,ta=12,na=24;!function(e){e.INPUT="input",e.TEXTAREA="textarea"}(qi||(qi={}));var ra,oa,ia,aa,sa=function e(){Ii(this,e)},ca=function e(){Ii(this,e)},la=function(e){Di(n,e);var t=_i(n);function n(){return Ii(this,n),t.apply(this,arguments)}return n}(ca),ua=function(e){Di(n,e);var t=_i(n);function n(){return Ii(this,n),t.apply(this,arguments)}return n}(ca),da=function e(){Ii(this,e)},pa=function(e){Di(n,e);var t=_i(n);function n(){return Ii(this,n),t.apply(this,arguments)}return n}(ca),fa=function(e){Di(n,e);var t=_i(n);function n(){return Ii(this,n),t.apply(this,arguments)}return n}(ca),ha=function(e){Di(n,e);var t=_i(n);function n(){return Ii(this,n),t.apply(this,arguments)}return n}(ca),Aa=function e(){Ii(this,e)},ma=function e(){Ii(this,e)},ga={id:"",text:"-"},va=function e(){Ii(this,e)},ba=function e(){Ii(this,e)},ya=function e(){Ii(this,e)};function wa(e){return e===oa.Loading||e===oa.Progress||e===oa.Empty}!function(e){e.CARD="card",e.LINK="link",e.PREVIEW="preview"}(ra||(ra={})),function(e){e.Empty="empty",e.Loading="loading",e.Progress="progress",e.Error="error"}(oa||(oa={})),function(e){e.ONE_TEXT_BLOCK="ONE_TEXT_BLOCK",e.ONE_FULL_COMPLEX_BLOCK="ONE_FULL_COMPLEX_BLOCK",e.ONE_EMBED_BLOCK="ONE_EMBED_BLOCK",e.MULTI_BLOCKS="MULTI_BLOCKS",e.INVALID="INVALID"}(ia||(ia={})),function(e){e.IMAGE="image",e.AUDIO="audio",e.VIDEO="video",e.DRAWIO="drawio",e.MERMAID="mermaid",e.FLOWCHART="flowchart",e.HR="hr",e.MATHJAX="math",e.OFFICE="office",e.WEBPAGE="webpage",e.CHARTJS="chartjs",e.TOC="toc",e.PLANTUML="plantuml",e.SNAPSHOT="snapshot"}(aa||(aa={}));var xa=["style-bold","style-italic","style-underline","style-strikethrough","style-sub","style-super","style-code","style-color-0","style-color-1","style-color-2","style-color-3","style-color-4","style-color-5","style-color-6","style-bg-color-0","style-bg-color-1","style-bg-color-2","style-bg-color-3","style-bg-color-4","style-bg-color-5","style-bg-color-6","style-bg-color-7","style-bg-color-8","style-bg-color-9","style-bg-color-10","style-bg-color-11","style-bg-color-12","style-bg-color-13","link","comment","unlink","inline-math","insertComplexBlock","selectAll","clearFormat","clearTextFormat","clearColor","clearBackground","cut","copy","paste","delete","wiki-link","tag"],ka=["lock","unlock","toBodyText","toHeading1","toHeading2","toHeading3","toHeading4","toHeading5","toHeading6","toHeading7","toHeading8","toQuoted","toOrderedList","toUnorderedList","indent","outdent","toCheckbox","list/indent","list/outdent","list/continueList","list/restartList","list/changeListStart","list/remove","cloneBlockAbove","cloneBlockBelow","moveBlockUp","moveBlockDown","alignLeft","alignCenter","alignRight","alignJustify","comment","style","padding","table/mergeCells","table/splitCell","table/deleteSelectedRows","table/deleteSelectedCols","table/setCellBackground","table/clearCellBackground","table/insertRowAbove","table/insertRowBelow","table/insertColLeft","table/insertColRight","table/showBorder","table/hideBorder","table/delete","webpage"],Ca=function e(){Ii(this,e)};function Ea(e){if(!e.text)return e;var t=e.text,n=Ki(e,["text"]);w(t instanceof Yo);var r=t.toOps();return Object.assign({text:r},n)}function Ba(e){if(!e.text)return e;var t=e.text,n=Ki(e,["text"]);w(Array.isArray(t));var r=new Yo(t);return Object.assign({text:r},n)}function Ta(e){return encodeURIComponent(e)}function Ma(e){if(!e.text)return e;var t=e.text,n=Ki(e,["text"]);w(t instanceof Yo);var r=t.toOps();return Object.assign({text:r},n)}var Ia=n(9669),Da=n.n(Ia),_a=n(5234);function Sa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Na=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function La(e){return Na(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Da().get(e,{withCredentials:!0,responseType:"blob"});case 3:return n=t.sent,r=new FileReader,o=new Promise((function(e,t){r.onload=e,r.onerror=t})),r.readAsDataURL(n.data),t.next=9,o;case 9:return i=r.result,t.abrupt("return",i);case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",e);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))}function Ra(e){for(var t=Object.entries(e),n=0;n<t.length;n++){var r=Sa(t[n],2),o=r[0],i=r[1];if("content-type"===o.toLocaleLowerCase())return i}return""}function ja(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Na(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,s,c,l,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Da().get(e,{withCredentials:t,responseType:"blob"});case 3:return r=n.sent,o=new FileReader,i=new Promise((function(e,t){o.onload=e,o.onerror=t})),o.readAsArrayBuffer(r.data),n.next=9,i;case 9:return a=o.result,s=Ra(r.headers).toLocaleLowerCase(),c="",s&&(l=_a[s].extensions)&&l.length>0&&(c=l[0]),u=new File([a],"".concat(Date.now(),".").concat(c),{type:s}),n.abrupt("return",u);case 17:return n.prev=17,n.t0=n.catch(0),n.abrupt("return",null);case 20:case"end":return n.stop()}}),n,null,[[0,17]])})))}function Ua(e){return function(e){if(Array.isArray(e))return Fa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fa(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var za=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function Qa(e){if(e&&e.nodeType===Node.ELEMENT_NODE){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.classList).add.apply(t,r)}}function Pa(e){var t;return e?e.nodeType===Node.TEXT_NODE?(null===(t=e.nodeValue)||void 0===t?void 0:t.length)||0:e.childNodes.length:0}function Ha(e){if(!e)return null;var t=e;if(t instanceof HTMLElement)for(;t.firstChild;)t=t.firstChild;return t}function Va(e){return e&&e.parentElement?Array.prototype.slice.call(e.parentElement.childNodes).indexOf(e):-1}function Ka(e){if(!e)return null;var t=e;if(t instanceof HTMLElement)for(;t.lastChild;)t=t.lastChild;return t}function Ga(e,t){return e instanceof HTMLElement&&e.classList.contains(t)}function Wa(e,t){return!(!e||!t)&&(e instanceof Text&&t instanceof Text?e.nodeValue===t.nodeValue:e instanceof HTMLElement&&t instanceof HTMLElement&&e.outerHTML===t.outerHTML)}function Ya(e){if(!(e&&e instanceof HTMLElement))return!1;for(var t=e.tagName.toLowerCase(),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0,a=r.length;i<a;i++)if(t===r[i].toLowerCase())return!0;return!1}function qa(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function Za(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;if(!e||e===t)return n;if((n=e.nextSibling)&&n===t)return n=null;if(!n)for(var r=e.parentNode;!n&&r&&r!==t;)(n=r.nextSibling)||(r=r.parentNode);return n=Ha(n)}function Xa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;if(!e||e===t)return n;if((n=e.previousSibling)&&n===t)return n=null;if(!n)for(var r=e.parentNode;!n&&r&&r!==t;)(n=r.previousSibling)||(r=r.parentNode);return n=Ka(n)}function Ja(e){if(e&&e.nodeType===Node.ELEMENT_NODE){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.classList).remove.apply(t,r)}0===e.classList.length&&e.removeAttribute("class")}function $a(e,t){e&&e.nodeType===Node.ELEMENT_NODE&&Array.from(e.classList).forEach((function(n){t.test(n)&&e.classList.remove(n)})),0===e.classList.length&&e.removeAttribute("class")}function es(e,t){var n;if(!e.nodeValue||0===t||t===Pa(e))return!1;var r=e.nodeValue,o=e;o.nodeValue=r.substr(0,t);var i=document.createTextNode(r.substr(t));return null===(n=o.parentNode)||void 0===n||n.insertBefore(i,o.nextSibling),!0}function ts(e,t){for(var n=t;n;){if(e===n)return!0;n=n.parentNode}return!1}function ns(e,t){return w(e),w(t),t.intersectsNode(e)}function rs(e){return e.replace($i," ")}function os(e,t){return t.first&&t.last?e.replace(/ {2}$/g," ".concat(Ji)).replace(/ {2}/g,"".concat(Ji," ")).replace(/^ /,Ji).replace(/ $/,Ji):t.first?e.replace(/ {2}$/g," ".concat(Ji)).replace(/ {2}/g,"".concat(Ji," ")).replace(/^ /,Ji):t.last?e.replace(/ {2}$/g," ".concat(Ji)).replace(/ {2}/g,"".concat(Ji," ")).replace(/ $/,Ji):e.replace(/ {2}$/g," ".concat(Ji)).replace(/ {2}/g,"".concat(Ji," "))}function is(e,t){var n=document.createRange(),r=document.createRange();return n.setStart(e,0),r.setStart(t,0),n.compareBoundaryPoints(Range.START_TO_START,r)<0}function as(){document.getSelection().modify("move","forward","lineboundary")}function ss(e,t,n){w(e.length>0);var r=null,o=1e9;return e.forEach((function(e){var i=e.getBoundingClientRect(),a=i.left+i.width/2,s=i.top+i.height/2,c=(t-a)*(t-a)+(n-s)*(n-s);c<o&&(r=e,o=c)})),w(r),r}function cs(e){for(var t=e;t;){var n=window.getComputedStyle(t);if(/auto|scroll/i.test(n.overflowY))break;t=t.parentElement}return t&&!Ya(t,"body")||(t=document.documentElement),t}function ls(e){var t=_s(e),n=t.left,r=t.top,o=e.clientWidth,i=e.clientHeight;return new DOMRect(n,r,o,i)}function us(e,t,n){var r=e.getBoundingClientRect(),o=r.left,i=r.top,a=r.right,s=r.bottom;return(t-o)*(t-o)+(n-i)*(n-i)<(t-a)*(t-a)+(n-s)*(n-s)}function ds(e,t,n){if(e)if(e.scrollIntoViewIfNeeded&&t)e.scrollIntoViewIfNeeded();else if(e.scrollIntoView){var r=null!=n?n:{behavior:"auto",block:"nearest",inline:"nearest"};e.scrollIntoView(r)}}function ps(e,t,n,r){var o=document.createElement(e);return t&&t.length>0&&Qa.apply(void 0,[o].concat(Ua(t))),n&&n.appendChild(o),r&&(o.innerText=r),o}function fs(e,t,n,r){var o=ps("label",r,t,n),i=document.createElement("input");return i.type="checkbox",Qa.apply(void 0,[i].concat(Ua(e))),o.insertBefore(i,o.firstChild),i}function hs(e,t,n){var r=ps("button",t,n);return r.innerHTML=e,r}function As(e,t,n){var r=ps("button",t,n);return r.textContent=e,r}function ms(e,t,n){if(document.getElementById(t))setTimeout(n);else{var r=document.createElement("script");r.async=!0,r.src=e,r.id=t,document.head.appendChild(r),r.onload=function(){return n()},r.onerror=function(e){if(e instanceof Event){var t=e.target,r="";t&&(r=t.src),n(new URIError("The script ".concat(r," didn't load correctly.")))}else n(new URIError("The script ".concat(e," didn't load correctly.")))}}}function gs(e,t){return za(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new Promise((function(n,r){ms(e,t,(function(e){e?r(e):n(void 0)}))})),n.prev=1,n.next=4,Bo.lock(t);case 4:return n.next=6,r;case 6:return n.prev=6,Bo.release(t),n.finish(6);case 9:case"end":return n.stop()}}),n,null,[[1,,6,9]])})))}function vs(e,t,n){if(document.getElementById(t))setTimeout(n);else{var r=document.createElement("link");r.rel="stylesheet",r.href=e,r.id=t,document.head.appendChild(r),r.onload=function(){return n()},r.onerror=function(e){if(e instanceof Event){var t=e.target,r="";t&&(r=t.src),n(new URIError("The script ".concat(r," didn't load correctly.")))}else n(new URIError("The script ".concat(e," didn't load correctly.")))}}}function bs(e,t){return za(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new Promise((function(n,r){vs(e,t,(function(e){e?r(e):n(void 0)}))})),n.prev=1,n.next=4,Bo.lock(t);case 4:return n.next=6,r;case 6:return n.prev=6,Bo.release(t),n.finish(6);case 9:case"end":return n.stop()}}),n,null,[[1,,6,9]])})))}function ys(e,t){return za(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new FileReader,o=new Promise((function(e,t){r.onload=e,r.onerror=t})),r.readAsDataURL(new Blob([e],{type:t})),n.next=5,o;case 5:return i=r.result,n.abrupt("return",i);case 7:case"end":return n.stop()}}),n)})))}function ws(e){return za(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new FileReader,r=new Promise((function(e,t){n.onload=e,n.onerror=t})),n.readAsDataURL(e),t.next=5,r;case 5:return o=n.result,t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})))}function xs(e){return e.closest("body")&&document.fullscreenElement&&!document.fullscreenElement.contains(e)?document.fullscreenElement:e}function ks(e,t,n,r){if(!t||!t.parentElement)return!1;var o=e.target;if(w(o instanceof Element),t.contains(o))return!0;var i=!1,a=t.getBoundingClientRect(),s=a.left-n,c=a.left+a.width+n,l=a.top-r,u=a.top+a.height+r,d=e.clientX,p=e.clientY;return d>=s&&d<=c&&p>=l&&p<=u&&(i=!0),i}function Cs(e,t,n,r){if(0===r)return t+n;var o=e;return(o/=r/2)<1?n/2*o*o+t:-n/2*((o-=1)*(o-2)-1)+t}function Es(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;return za(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r){var o=cs(e),i=o.scrollTop,a=t-i,s=+new Date,c=!1;requestAnimationFrame((function e(){if(!c){requestAnimationFrame(e);var l=+new Date,u=Math.floor(Cs(l-s,i,a,n));o.scrollTop=u,l>s+n&&(o.scrollTop=t,c=!0,r(void 0))}}))})));case 1:case"end":return r.stop()}}),r)})))}function Bs(){return!!window.matchMedia("(prefers-color-scheme: dark)").matches}function Ts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;w(e),w(t);for(var n=e;n!==t&&null!==n;)n=n.offsetParent;if(null===n)throw Error("target isn't the ancestor of el");if(e===t)return 0;var r=e.offsetParent,o=e.offsetTop;return r&&r!==t?Ts(r,t)+o:o}function Ms(e,t){var n=document.getElementById(t);if(n)return n.textContent=e,n;var r=document.createElement("style");return r.id=t,r.textContent=e,document.head.append(r),r}function Is(e){return za(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Array.from(e.querySelectorAll("img")),r=n.map((function(e){return za(o,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,La(e.src);case 3:n=t.sent,e.src=n,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.info(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))})),t.prev=2,t.next=5,Promise.all(r);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.info(t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))}function Ds(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;if(t.onlyCollapsed&&!e.collapsed)return n;if((n=e.getBoundingClientRect()).width||n.height||n.top||n.left)return n;var r=e.startContainer;if(r instanceof Element&&r.firstElementChild&&(w((r=r.firstElementChild)instanceof Element),n=r.getBoundingClientRect()),0===n.width&&0===n.height&&r instanceof HTMLSpanElement&&0===e.startOffset){var o=r.getClientRects()[0];o&&(n=new DOMRect(o.x,o.y,1,o.height))}return n}function _s(e){if(e!==document.documentElement&&e!==document.body)return e.getBoundingClientRect();var t=document.documentElement.clientWidth,n=document.documentElement.clientHeight;return new DOMRect(0,0,t,n)}function Ss(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"div",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.querySelector(".".concat(t));return o||(Qa(o=document.createElement(n),t),Object.keys(r).forEach((function(e){o.addEventListener(e,r[e])})),e.append(o)),o}function Os(e){return za(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=document.createElement("canvas")).width=e.width,n.height=e.height,e.crossOrigin="anonymous",r=n.getContext("2d")){t.next=7;break}return t.abrupt("return",null);case 7:return r.drawImage(e,0,0),o=new Promise((function(e,t){n.toBlob((function(n){n?e(n):t(new Error("failed to get image data"))}))})),t.next=11,o;case 11:return i=t.sent,t.abrupt("return",new File([i],"".concat(Date.now(),".png"),{type:"image/png"}));case 13:case"end":return t.stop()}}),t)})))}function Ns(e,t){var n,r;if(document.caretRangeFromPoint){var o=document.caretRangeFromPoint(e,t);n=null==o?void 0:o.startContainer,r=null==o?void 0:o.startOffset}else{w(document.caretPositionFromPoint);var i=document.caretPositionFromPoint(e,t);n=null==i?void 0:i.offsetNode,r=null==i?void 0:i.offset}return{node:n,offset:r}}function Ls(e){return e instanceof Element?e:e.parentElement}function Rs(e){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.documentElement.webkitRequestFullScreen?function(t){if(t.requestFullscreen)return t.requestFullscreen();if(t.mozRequestFullScreen)return t.mozRequestFullScreen();if(t.webkitRequestFullScreen){try{document.fullscreenElement=e}catch(e){}return t.webkitRequestFullScreen()}return Promise.resolve(0)}(e):Promise.resolve(0)}function js(){var e=(document.exitFullscreen||document.webkitExitFullscreen).bind(document)();try{document.fullscreenElement=null}catch(e){}return e}function Us(e){return function(e){if(Array.isArray(e))return Fs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zs(e,t){var n=e.getAttribute("style"),r=n?"".concat(n,";").concat(t):t;e.setAttribute("style",r)}function Qs(e,t){if(t instanceof HTMLOListElement)if(Ga(t,"editor-list-text-only")){var n=ps("div",Array.from(t.classList),null);Array.from(t.children).forEach((function(e){if(e instanceof HTMLLIElement){var t=ps("div",Array.from(e.classList),n);return Array.from(e.children).forEach((function(e){t.appendChild(e)})),void e.remove()}n.appendChild(e)})),t.insertAdjacentElement("beforebegin",n),t.remove(),t=n}else if(Ga(t,"list-ul")){var r=ps("ul",Array.from(t.classList),null);Array.from(t.children).forEach((function(e){r.appendChild(e)})),t.insertAdjacentElement("beforebegin",r),t.remove(),t=r}t instanceof HTMLTableElement?zs(t,"border-collapse: collapse"):t instanceof HTMLTableRowElement||t instanceof HTMLTableCellElement&&zs(t,"padding: 8px; border: 1px solid #b9bfc8;");var o=[];if(Ga(t,"block-align-center")?o.push("text-align: center"):Ga(t,"block-align-right")&&o.push("text-align: right"),Ga(t,"style-bold")&&o.push("font-weight: bold"),Ga(t,"style-italic")&&o.push("font-style: italic"),Ga(t,"style-underline")&&Ga(t,"style-strikethrough")?o.push("text-decoration: underline line-through"):Ga(t,"style-underline")?o.push("text-decoration: underline"):Ga(t,"style-strikethrough")&&o.push("text-decoration: line-through"),Ga(t,"style-super")?o.push("vertical-align: super; font-size: 70%; text-decoration: none !important"):Ga(t,"style-sub")&&o.push("vertical-align: sub; font-size: 70%; text-decoration: none !important"),t.classList.forEach((function(t){var n="style-color-";if(t.startsWith(n)){var r=Number.parseInt(t.substr(n.length),10),i=e.options.colors[r];i&&o.push("color: ".concat(i))}var a="style-bg-color-";if(t.startsWith(a)){var s=Number.parseInt(t.substr(a.length),10),c=e.options.colors[s];c&&o.push("background-color: ".concat(c))}})),o.length){var i=o.join(";"),a=t.getAttribute("style"),s=a?"".concat(a,";").concat(i):i;t.setAttribute("style",s)}Array.from(t.children).forEach((function(t){return Qs(e,t)}))}function Ps(e,t){Array.from(t.children).forEach((function(t){Qs(e,t)}))}function Hs(e){var t=document.createElement("template");if("content"in t)return t.innerHTML=e,document.importNode(t.content,!0);var n=document.createDocumentFragment(),r=document.createElement("div");for(r.innerHTML=e;r.firstChild;)n.appendChild(r.firstChild);return n}function Vs(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}function Ks(e,t){var n=Hs(t);return Ps(e,n),Vs(n)}function Gs(e){var t=Hs(e),n=[];Array.from(t.children).forEach((function(e){e instanceof HTMLImageElement?n.push(e):n.push.apply(n,Us(Array.from(e.querySelectorAll("img"))))}));var r=t.textContent;return 1===n.length&&0===(null==r?void 0:r.length)}n(3441);function Ws(e){return function(e){if(Array.isArray(e))return Ys(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ys(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ys(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zs=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._grid=[],this._needFixSpanData=!1,Array.from(t.rows).forEach((function(e,t){Array.from(e.cells).forEach((function(e){n._addCell(t,e)}))}))}var t,n,r;return t=e,(n=[{key:"_addCell",value:function(e,t){for(var n=this._getNextColIndex(e),r=t.colSpan,o=t.rowSpan,i=0;i<o;i++)for(var a=0;a<r;a++){var s=e+i,c=n+a;this._getCell({row:s,col:c})?(this._needFixSpanData=!0,console.warn("invalid table data, cell data already exists, ".concat(s,", ").concat(c))):this._setCell({row:s,col:c},{cell:t,virtual:!(0===a&&0===i)})}}},{key:"_getNextColIndex",value:function(e){var t=this._grid[e];if(!t)return 0;for(var n=0,r=0;r<t.length;r++){if(!t[r])return n;n+=1}return n}},{key:"_setCell",value:function(e,t){if(0!==t.cell.colSpan&&0!==t.cell.rowSpan){for(;this._grid.length<=e.row;)this._grid.push([]);for(var n=0;n<this._grid.length;n++)for(var r=this._grid[n];r.length<=e.col;)r.push(null);this._grid[e.row][e.col]=t}}},{key:"_getCell",value:function(e){var t,n=this._grid[e.row];return n&&null!==(t=n[e.col])&&void 0!==t?t:null}},{key:"rowCount",get:function(){return this._grid.length}},{key:"colCount",get:function(){return this._grid[0].length}},{key:"getCellData",value:function(e){var t=this._getCell(e);return t||null}},{key:"getCellSpan",value:function(e){var t=this,n=this._getCell(e);if(!n)return{colSpan:1,rowSpan:1};if(n.virtual)return{colSpan:1,rowSpan:1};var r=function(){for(var r=e.col+1;;){var o=t._getCell({row:e.row,col:r});if(!o||o.cell!==n.cell)return r-e.col;r+=1}}(),o=function(){for(var r=e.row+1;;){var o=t._getCell({row:r,col:e.col});if(!o||o.cell!==n.cell)return r-e.row;r+=1}}();return r!==n.cell.colSpan&&console.warn("invalid colSpan: ".concat(r," -> ").concat(n.cell.colSpan)),o!==n.cell.rowSpan&&console.warn("invalid rowSpan: ".concat(o," -> ").concat(n.cell.rowSpan)),{colSpan:r,rowSpan:o}}},{key:"getColumnWidth",value:function(e){var t=this,n=1e9,r=Array(this.rowCount).fill(0).map((function(r,o){var i=t.getCellData({row:o,col:e});if(i&&!i.virtual){var a=i.cell.getAttribute("width")||i.cell.style.width;if(a){if(a.endsWith("%")){var s=a.substr(0,a.length-1),c=Number.parseInt(s,10);if(c>0&&c<=100)return Math.floor(720*c/100)}var l=Number.parseInt(a,10);if(l)return l}return i.cell.getBoundingClientRect().width}return n})),o=Math.min.apply(Math,Ws(r));return o===n||Number.isNaN(o)||o<30?0:o}}])&&qs(t.prototype,n),r&&qs(t,r),e}();function Xs(e,t,n,r){for(var o=function(e){return new Zs(e)}(t),i=[],a={},s=o.rowCount,c=o.colCount,l=0;l<s;l++)for(var u=0;u<c;u++){var d=void 0,p=o.getCellData({row:l,col:u});if(!p||!p.virtual){p&&!p.virtual&&(d=n(e,p.cell.innerHTML,r)),d&&0!==d.length||(d=[{id:B(),type:"text",text:[]}]);var f=B();i.push(f);var h=o.getCellSpan({row:l,col:u}),A=h.colSpan,m=h.rowSpan;m>1&&(a["".concat(f,"_rowSpan")]=m),A>1&&(a["".concat(f,"_colSpan")]=A),e[f]=d}}for(var g=[],v=0;v<o.colCount;v++)g.push(o.getColumnWidth(v)||100);return 0===i.length?[]:[Object.assign(Object.assign({cols:o.colCount,rows:o.rowCount,id:B(),type:"table",children:i},a),{colsWidth:g})]}function Js(e){for(var t,n=Array.from((null!==(t=e.getAttribute("style"))&&void 0!==t?t:"").split(" ")),r=0;r<n.length;r++){if(n[r].startsWith("level"))return!0}return!1}function $s(e){for(var t,n,r=Array.from((null!==(t=e.getAttribute("style"))&&void 0!==t?t:"").split(" ")),o=0;o<r.length;o++){var i=r[o];if(i.startsWith("level")){var a=null!==(n=Number.parseInt(i.substr(5),10))&&void 0!==n?n:void 0;if(a)return a}}return 1}function ec(e){var t={},n=function(e){Array.from(Object.keys(t)).forEach((function(n){Number.parseInt(n,10)>e&&delete t[n]}))},r="";Array.from(e.children).forEach((function(e){if(Js(e)){var o=function(e){for(var t,n=Array.from((null!==(t=e.getAttribute("style"))&&void 0!==t?t:"").split(" ")),r=0;r<n.length;r++){var o=n[r];if(o.startsWith("mso-list:"))return o}return""}(e);r!==o&&(n(0),r=o);var i=$s(e);n(i);var a=t["".concat(i)];a||(a=B(),t["".concat(i)]=a),function(e,t){e.setAttribute("data-group-id",t)}(e,a)}}))}function tc(e){return Js(e)?{start:1,level:$s(e),groupId:e.getAttribute("data-group-id")||B(),ordered:!0,type:"list"}:{}}function nc(e){return function(e){if(Array.isArray(e))return rc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oc(e){e instanceof HTMLTableElement&&function(e){for(var t=function(e){var t,n=document.createDocumentFragment();Array.from(e.rows).forEach((function(e){Array.from(e.cells).forEach((function(e){var t=document.createElement("div");Array.from(e.childNodes).forEach((function(e){t.appendChild(e)})),n.appendChild(t)}))})),null===(t=e.parentElement)||void 0===t||t.insertBefore(n,e),e.remove()};;){var n=!1;if(Array.from(e.rows).forEach((function(e){Array.from(e.cells).forEach((function(e){Array.from(e.querySelectorAll("table")).forEach((function(e){t(e),n=!0}))}))})),!n)break}}(e),Array.from(e.children).forEach((function(e){oc(e)}))}function ic(e){Array.from(e.children).forEach((function(e){oc(e)}))}function ac(e){if(e instanceof HTMLTableElement){var t=function(e){if(!e)return null;var t=e.parentElement;if(!t)return null;for(;t;){if(!t.parentElement)return t;t=t.parentElement}return null}(e);t&&t.insertAdjacentElement("afterend",e)}else Array.from(e.children).forEach((function(e){ac(e)}))}function sc(e){Array.from(e.children).forEach((function(e){ac(e)}))}function cc(e){return-1!==["A","B","DEL","I","U","S","SPAN","SUB","SUP","FONT","BR"].indexOf(e.tagName)}function lc(e){return-1!==["P","H1","H2","H3","H4","H5","H6","H7","H8","LI"].indexOf(e.tagName)}function uc(e){-1===["STYLE","META","LINK","SCRIPT"].indexOf(e.tagName)&&lc(e)&&function(e){Array.from(e.children).forEach((function(t){t instanceof HTMLSpanElement||cc(t)||-1!==["IMG","TABLE","VIDEO","AUDIO"].indexOf(t.tagName)&&(console.log("move out child elem:",t.tagName,t),t.remove(),e.insertAdjacentElement("afterend",t),uc(t))}))}(e)}function dc(e){return e.replace(/\r\n/g," ").replace(/\n/g," ").replace(/\r/g," ")}function pc(e,t){var n={id:B(),type:"text",text:[]};if(e.tagName.startsWith("H")){var r=Number.parseInt(e.tagName.substr(1),10);r>=1&&r<=8&&(n.heading=r)}var o=function e(n,r,o){if(!(t.convertList&&n instanceof HTMLSpanElement&&"mso-list:Ignore"===n.getAttribute("style"))){var i=function(e,n){if("B"===e.nodeName)return Object.assign(Object.assign({},n),{"style-bold":!0});if("I"===e.nodeName)return Object.assign(Object.assign({},n),{"style-italic":!0});if("U"===e.nodeName)return Object.assign(Object.assign({},n),{"style-underline":!0});if("S"===e.nodeName||"DEL"===e.nodeName)return Object.assign(Object.assign({},n),{"style-strikethrough":!0});if("SUB"===e.nodeName)return Object.assign(Object.assign({},n),{"style-sub":!0});if("SUP"===e.nodeName)return Object.assign(Object.assign({},n),{"style-super":!0});if("BR"===e.nodeName)return{created:Date.now(),id:B(),box:!0,type:"br"};if("A"===e.nodeName&&e.href){var r=e.href;if(r.startsWith("http:")||r.startsWith("https:"))return Object.assign(Object.assign({},n),{link:e.href})}var o=Object.assign({},n);return e instanceof HTMLSpanElement&&t.convertFont?(e.style.backgroundColor&&(o["inline-style-background-color"]=e.style.backgroundColor),e.style.color&&(o["inline-style-color"]=e.style.color),e.style.fontSize&&(o["inline-style-font-size"]=e.style.fontSize),e.style.fontFamily&&(o["inline-style-font-family"]=e.style.fontFamily),o):n}(n,r);n instanceof Text&&n.nodeValue||"BR"===n.nodeName?o.push(function(e,t){var n,r;return t&&Object.keys(t).length>0?{insert:dc(null!==(n=e.nodeValue)&&void 0!==n?n:" "),attributes:t}:{insert:dc(null!==(r=e.nodeValue)&&void 0!==r?r:" ")}}(n,i)):n.childNodes.length>0&&Array.from(n.childNodes).forEach((function(t){e(t,i,o)}))}},i={};Array.from(e.childNodes).forEach((function(e){o(e,i,n.text)}));var a=t.convertList?tc(e):{};return Object.assign(Object.assign(Object.assign({},n),a),function(e){if(!(e instanceof HTMLElement))return{};var t={};if("right"===e.style.textAlign?t.align="right":"center"===e.style.textAlign&&(t.align="center"),e.style.marginLeft){var n=Math.ceil(Number.parseInt(e.style.marginLeft,10)/20);n>=1&&n<=12&&(t.padding=n)}return t}(e))}function fc(e){for(var t=Array.from(e.children),n=0;n<t.length;n++){var r=t[n];if(cc(r)){for(var o=n+1;o<t.length&&cc(t[o]);)o+=1;var i=document.createElement("p");r.insertAdjacentElement("beforebegin",i);for(var a=n;a<o;a++)i.appendChild(t[a]);n=o-1}}}function hc(e,t,n){var r=Hs(t);return fc(r),gc(e,Array.from(r.childNodes),n)}function Ac(e){return e instanceof HTMLOListElement||e instanceof HTMLUListElement}function mc(e,t,n){if(t instanceof HTMLTableElement)return function(e,t,n){return t instanceof HTMLTableElement?Xs(e,t,hc,n):[]}(e,t,n);if(Ac(t))return nc(function(e,t,n){w(Ac(t));var r=!1,o=1,i=B();t instanceof HTMLOListElement&&(r=!0,o=t.start);var a,s=t,c=[];return Array.from(s.children).forEach((function(t){if(t instanceof HTMLLIElement){var s=tc(t),l=pc(t,n);return a||(a=s.level),c.push(Object.assign(Object.assign({},l),{type:"list",ordered:r,level:a,groupId:i,start:o})),void(o+=1)}var u=mc(e,t,n);c.push.apply(c,nc(u))})),c}(e,t,n));if(function(e){if(Ya(e,"img"))return!0;for(var t=e.querySelectorAll("img"),n=0;n<t.length;n+=1){var r=t[n];if(!r.src||"0"===r.getAttribute("width")||"0"===r.getAttribute("height"))return!1}return t.length}(t))return nc(function(e){return(Ya(e,"img")?[e]:Array.from(e.querySelectorAll("img"))).map((function(e){return{id:B(),type:"embed",embedType:"image",embedData:{src:e.src,width:e.width,height:e.height}}}))}(t));if(lc(t))return[pc(t,n)];var r=[];return Array.from(t.children).forEach((function(t){var o=mc(e,t,n);r.push.apply(r,nc(o))})),r}function gc(e,t,n){var r=[];return t.forEach((function(t){var o;if(t instanceof Element)if(cc(t)){var i=document.createElement("p");i.appendChild(t);var a=mc(e,i,n);r.push.apply(r,nc(a))}else{var s=mc(e,t,n);r.push.apply(r,nc(s))}else if(t instanceof Text){var c=gn(dc(null!==(o=t.textContent)&&void 0!==o?o:""));r.push(c)}})),r}function vc(e,t){var n=Hs(e);ic(n),sc(n),function(e){Array.from(e.children).forEach((function(e){uc(e)}))}(n),ec(n),fc(n);var r={blocks:[],meta:{},comments:{}};return r.blocks=gc(r,Array.from(n.children),Object.assign({convertFont:!1,convertList:!1},t)),r}function bc(e){if(function(e){if("DIV"!==e.nodeName)return!1;var t=e;return!!Array.from(t.childNodes).every((function(e){return"SPAN"===e.nodeName||e instanceof Text}))&&!!t.querySelector(":scope > .hljs-function, :scope > .hljs-params, :scope > .hljs-string, :scope > .hljs-keyword, :scope > .hljs-attr")}(e)){var t=e,n=t.parentNode,r=document.createElement("pre");return Array.from(t.childNodes).forEach((function(e){return r.appendChild(e)})),void(null==n||n.insertBefore(r,t))}e.childNodes.forEach((function(e){return bc(e)}))}function yc(e){var t;if(e instanceof HTMLBRElement){var n=document.createTextNode("\n");return null===(t=e.parentNode)||void 0===t||t.insertBefore(n,e),void e.remove()}e.childNodes.forEach(yc)}function wc(e){return function(e){if(Array.isArray(e))return xc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kc=new jr;function Cc(e,t){var n=[],r=Mc(t);return r.blocks.forEach((function(e){e.children?e.children.forEach((function(e){var t=r[e];n.push.apply(n,wc(t))})):n.push(e)})),n}function Ec(e){var t;if("TABLE"===e.tagName){var n={blocks:[],meta:{},comments:{}},r=Xs(n,e,Cc,{});if(0===r.length||0===(null===(t=r[0].children)||void 0===t?void 0:t.length))return;n.blocks=r;var o=yo(JSON.stringify(n)),i=document.createElement("div");i.classList.add("highlight-text-wizdoc");var a=document.createElement("pre");return i.appendChild(a),a.innerText=o,e.insertAdjacentElement("beforebegin",i),void e.remove()}Array.from(e.children).forEach((function(e){return Ec(e)}))}function Bc(e){e instanceof HTMLStyleElement?e.remove():Array.from(e.children).forEach(Bc)}function Tc(e){if(e instanceof HTMLElement){if("none"===e.style.display)return void e.remove();if("hidden"===e.style.visibility)return void e.remove()}Array.from(e.children).forEach(Tc)}function Mc(e){var t=Hs(e);return t.querySelectorAll("td.js-line-number").forEach((function(e){return e.remove()})),t.querySelectorAll("div.copy-button").forEach((function(e){return e.remove()})),t.querySelectorAll("div.code-copy-button").forEach((function(e){return e.remove()})),t.querySelectorAll("noscript").forEach((function(e){return e.remove()})),Array.from(t.children).forEach(Tc),ic(t),Array.from(t.children).forEach(Ec),Array.from(t.children).forEach(Bc),bc(t),e=Vs(t),Yc(kc.turndown(e))}function Ic(e,t){if(e){var n="wiz-editor-doc::",r=e.indexOf(n);if(-1!==r){r+=n.length;var o=e.indexOf("::wiz-editor-doc",r);if(-1!==o){var i=e.substr(r,o-r);try{var a=wo(i);return JSON.parse(a)}catch(e){console.error("invalid doc data: ".concat(e,", ").concat(i))}}}if(function(e){return-1!==e.indexOf('xmlns:o="urn:schemas-microsoft-com:office:office"')}(e)){var s=vc(e,t);if(s)return s}try{return Mc(e)}catch(e){console.error(e)}}}function Dc(e){return kc.escape(e)}function _c(e){return function(e){if(Array.isArray(e))return Sc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Sc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}kc.use((function(e){e.addRule("preOnlyBlockToCode",{filter:function(e){return"PRE"===e.nodeName&&Array.from(e.childNodes).every((function(e){return"SPAN"===e.nodeName||e instanceof Text||"BR"===e.nodeName}))},replacement:function(e,t,n){var r;return yc(t),"\n\n"+n.fence+"\n"+(null!==(r=t.innerText)&&void 0!==r?r:"")+"\n"+n.fence+"\n\n"}})})),kc.use((function(e){e.addRule("codeOnlyBlockToCode",{filter:function(e){var t;if("CODE"!==e.nodeName)return!1;var n=e.parentElement;if(!n)return!1;if("PRE"!==n.tagName){var r=Array.from(null!==(t=null==n?void 0:n.childNodes)&&void 0!==t?t:[]);if(1!==r.length||r[0]!==e)return!1}return Array.from(e.childNodes).every((function(e){return"SPAN"===e.nodeName||e instanceof Text||"BR"===e.nodeName}))},replacement:function(e,t,n){var r;return yc(t),"\n\n"+n.fence+"\n"+(null!==(r=t.innerText)&&void 0!==r?r:"")+"\n"+n.fence+"\n\n"}})})),kc.use((function(e){e.addRule("preCodeBlockToCode",{filter:function(e){var t;return"PRE"===e.nodeName&&"CODE"===(null===(t=e.firstChild)||void 0===t?void 0:t.nodeName)},replacement:function(e,t,n){var r;return yc(t),"\n\n"+n.fence+"\n"+(null!==(r=t.innerText)&&void 0!==r?r:"")+"\n"+n.fence+"\n\n"}})})),kc.use((function(e){e.addRule("codeMirrorToCode",{filter:function(e){return"DIV"===e.nodeName&&e.classList.contains("CodeMirror")},replacement:function(e,t,n){var r,o=t.querySelectorAll("pre.CodeMirror-line"),i=Array.from(o).map((function(e){return e.textContent})).join("\n"),a="",s=t.closest(".wiz-code-container");return s&&(a=null!==(r=s.getAttribute("data-mode"))&&void 0!==r?r:""),"\n\n"+n.fence+a+"\n"+(null!=i?i:"")+"\n"+n.fence+"\n\n"}})})),kc.use((function(e){e.addRule("wizCodeMirrorToCode",{filter:function(e){return"DIV"===e.nodeName&&e.classList.contains("wiz-code-container")},replacement:function(e,t,n){var r,o=t.querySelectorAll("pre.CodeMirror-line"),i=Array.from(o).map((function(e){return e.textContent})).join("\n"),a=null!==(r=t.getAttribute("data-mode"))&&void 0!==r?r:"";return"\n\n"+n.fence+a+"\n"+(null!=i?i:"")+"\n"+n.fence+"\n\n"}})})),kc.use((function(e){e.addRule("codeMirrorToCode",{filter:function(e){return"PRE"===e.nodeName&&e.classList.contains("prism-code")&&e.querySelectorAll(".token-line").length>0},replacement:function(e,t,n){var r=t.querySelectorAll(".token-line"),o=Array.from(r).map((function(e){return e.textContent})).join("\n"),i="",a="language-";return Array.from(t.classList).forEach((function(e){e.startsWith(a)&&(i=e.substr(a.length))})),"\n\n"+n.fence+i+"\n"+(null!=o?o:"")+"\n"+n.fence+"\n\n"}})})),kc.use((function(e){e.addRule("wechatMessageTimeToBlockQuote",{filter:function(e){return e instanceof HTMLDivElement&&(!!e.classList.contains("time")&&(1===e.childNodes.length&&(0===e.children.length&&(!!e.parentElement&&e.parentElement.classList.contains("message")))))},replacement:function(e,t){var n,r=null!==(n=t.textContent)&&void 0!==n?n:"";return r=(r=r.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "),"\n\n> ".concat(r,"\n\n")}})})),kc.use((function(e){e.use([Xn,Jn,or,ir])}));var Nc=/[&<>"']/,Lc=/[&<>"']/g,Rc=/[<>"']|&(?!#?\w+;)/,jc=/[<>"']|&(?!#?\w+;)/g,Uc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fc=function(e){return Uc[e]};function zc(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}function Qc(e){var t,n;if("text"===e.type){if(0===(null===(t=e.text)||void 0===t?void 0:t.length))return!0;if(1===(null===(n=e.text)||void 0===n?void 0:n.length)&&""===e.text[0].insert)return!0}return!1}var Pc={paragraph:function(e){var t=this.rules.block.paragraph.exec(e);if(t){var n=t[0],r=t[1],o=n.indexOf("\n$$"),i=r.indexOf("\n$$");if(-1!==o){w(1!==i);var a=n.substr(0,o),s=r.substr(0,i);return{type:"paragraph",raw:a,text:"\n"===s.charAt(s.length-1)?s.slice(0,-1):s}}return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}}return!1},fences:function(e){var t=function(e){var t=e.match(/(^|^\n)\$\$[\s\S]*?\$\$($|\n)/);if(t){var n=t[0],r=n.trim(),o=r.substr(2,r.length-4);return{type:"math",block:!0,raw:n,tex:o,text:o}}}(e);return t||!1},codespan:function(e){var t=e.match(/^\$+([^$\n]+?)\$+/);return!!t&&{type:"codespan",raw:t[0],text:t[1].trim(),tex:t[1].trim()}},link:function(e){var t=e.match(/^\[(.+?)]{.ul}/);if(t)return{type:"text",underline:!0,raw:t[0],text:t[1]};var n=e.match(/^\[\[(.+?)\]\]/);if(n)return{type:"link",wikiLink:!0,raw:n[0],text:n[1]};var r=e.match(/^(\n|\s)#(.+?)#/);if(r)return{type:"link",tag:!0,raw:r[0],text:r[1]};var o=/^!\[((?:\[(?:\\.|[^[\]\\])*\]|\\.|`[^`]*`|[^[\]\\`])*?)\]\(\s*(<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f][^\x00-\x1f]*)\s=(\d+)?x(\d+)?\s*\)/.exec(e);return!!o&&{type:"image",title:null,raw:o[0],text:o[1],href:o[2],width:o[3]?parseInt(o[3],10):void 0,height:o[4]?parseInt(o[4],10):void 0}},inlineText:function(e,t){var n,r=/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[$\[\#`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/.exec(e);return!!r&&(n=t?r[0]:function(e,t){if(t){if(Nc.test(e))return e.replace(Lc,Fc)}else if(Rc.test(e))return e.replace(jc,Fc);return e}(r[0]),{type:"text",raw:r[0],text:n})},url:function(){}};function Hc(e){var t,n=e.tokens;return n?n.map((function(e){return Hc(e)})).join(""):null!==(t=e.text)&&void 0!==t?t:""}function Vc(e,t,n,r){var o=function(t){var n=t.tokens;if(n&&1===n.length&&"image"===n[0].type){var r=n[0];return e.onImage(r.title,r.href),!0}return!1};if(!o(t)&&!function(e){var t=e.tokens;if(t&&1===t.length&&"link"===t[0].type){var n=t[0];if(o(n))return!0}return!1}(t)){e.onBeginTextBlock(n),function t(r,o){var i=function(t){r.underline?e.onText(t,Object.assign(Object.assign({},o),{"style-underline":!0})):e.onText(t,Object.assign({},o))};r.tokens.forEach((function(r){var a=r.type;if("list"===a){var s=r,c=s.start,l=s.ordered,u=B();s.items.forEach((function(e,r){var o=c+r;e.tokens.forEach((function(r){t(r,{level:n.level+1,start:o,ordered:l,groupId:u,checkbox:e.task?e.checked?"checked":"unchecked":void 0})}))}))}else if("text"===a){var d=r.tokens;if(d)d.forEach((function(t){w("image"===t.type);var n=t;e.onImage(n.title,n.href)}));else{for(var p=r.text,f=p;p.length>0&&"\n"===p[0];)console.info("remove first return"),p=p.substr(1);if(-1!==p.indexOf("\n")){var h=p.split("\n");h.forEach((function(t,n){i(t),n<h.length-1&&e.onText(" ",{id:B(),box:!0,type:"br",text:"\n"})}))}else"\n"===f?e.onText(" ",{id:B(),box:!0,type:"br",text:"\n"}):i(p)}}else if("escape"===a){var A=r;e.onText(A.text,o)}else if("em"===a)t(r,Object.assign(Object.assign({},o),{"style-italic":!0}));else if("strong"===a)t(r,Object.assign(Object.assign({},o),{"style-bold":!0}));else if("del"===a)t(r,Object.assign(Object.assign({},o),{"style-strikethrough":!0}));else if("codespan"===a){var m=r.tex;m?e.onMath(m,!0):e.onText(r.text,Object.assign(Object.assign({},o),{"style-code":!0}))}else if("br"===a)e.onText(" ",{id:B(),box:!0,type:"br",text:"\n"});else if("hr"===a)e.onHr();else if("link"===a){var g=r;g.wikiLink?e.onWikiLink(Hc(g)):g.tag?e.onTag(Hc(g)):t(r,Object.assign(Object.assign({},o),{link:g.href}))}else if("image"===a){var v=r;e.onImage(v.title,v.href,v.width,v.height)}else if("html"===a){var b=r;e.onHtml(b.text)}else console.log("unknown text token: ".concat(JSON.stringify(r)))}))}(t,{}),e.onEndTextBlock(null!=r?r:void 0)}}function Kc(e,t,n){var r=t.type;if("hr"===r)e.onHr();else if("space"===r)e.onSpace(t.raw);else if("code"===r){var o=t;e.onCode(qn(o.text),o.lang||"",o.text)}else if("heading"===r){var i=t,a=function(e){var t=e.tokens;return t?1!==t.length?null:"list"===t[0].type?t[0]:null:null}(i);if(a){var s=a.start,c=a.ordered,l=B();a.items.forEach((function(t,r){var o=s+r;t.tokens.forEach((function(r,a){Kc(e,r,0===a?{heading:i.depth,level:n.level+1,start:o,ordered:c,groupId:l,checkbox:t.task?t.checked?"checked":"unchecked":void 0,quoted:n.quoted}:{heading:i.depth,level:n.level+1})}))}))}else Vc(e,t,Object.assign(Object.assign({},n),{heading:i.depth}))}else if("blockquote"===r){t.tokens.forEach((function(t){Kc(e,t,{level:0,quoted:!0})}))}else if("table"===r)e.onTable(e,t);else if("list"===r){var u=t,d=u.start,p=u.ordered,f=B();u.items.forEach((function(t,r){var o=d+r,i=t.tokens;if(!t.text.trim())return e.onBeginTextBlock({level:n.level+1,start:o,ordered:p,groupId:f,checkbox:t.task?t.checked?"checked":"unchecked":void 0,quoted:n.quoted}),void e.onEndTextBlock();i.forEach((function(r,i){Kc(e,r,0===i?{level:n.level+1,start:o,ordered:p,groupId:f,checkbox:t.task?t.checked?"checked":"unchecked":void 0,quoted:n.quoted}:{level:n.level+1})}))}))}else if("paragraph"===r&&"[toc]"===t.raw.toLowerCase().trim())e.onToc();else if("paragraph"===r||"text"===r)Vc(e,t,Object.assign({},n));else if("html"===r){var h=t;e.onHtml(h.text)}else if("math"===r){var A=t.tex;e.onMath(A,!1)}}function Gc(e,t){var n=t;return w(1===n.length),"]"===n&&(n="\\]"),"\\"===n&&(n="\\\\"),e.replace(new RegExp("^[".concat(n,"]+|[").concat(n,"]+$"),"g"),"")}Gn().use({tokenizer:Pc});var Wc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.doc={blocks:[],comments:{},meta:{}},this.currentTextBlock=null,this.ignoreEmptyLine=!1,this.ignoreEmptyLine=!!(null==t?void 0:t.ignoreEmptyLine)}var t,n,r;return t=e,(n=[{key:"onSpace",value:function(e){if(!this.ignoreEmptyLine)for(var t=(e.match(/\n/g)||[]).length,n=Math.floor((t-1)/2),r=0;r<n;r++)this.doc.blocks.push({id:B(),type:"text",text:[]})}},{key:"onCode",value:function(e,t,n){var r=this;if(!e.trim().startsWith("\x3c!--")||"xml"===t||"html"===t){try{var o,i=wo(n),a=JSON.parse(i);if(a.blocks)return(o=this.doc.blocks).push.apply(o,_c(a.blocks)),void a.blocks.forEach((function(e){e.children&&e.children.forEach((function(e){var t=a[e];w(t),r.doc[e]=t}))}))}catch(e){}if("mermaid"!==t)if("plantuml"!==t)if("flow"!==t&&"flowchart"!==t){var s=zc(e).map((function(e){return{id:B(),type:"code-line",text:e?[{insert:e}]:[]}})),c=B();this.doc.blocks.push({id:B(),type:"code",language:Yn(t),children:[c]}),this.doc[c]=s}else this.doc.blocks.push({id:B(),type:"embed",embedType:"flowchart",embedData:{flowchartText:e}});else this.doc.blocks.push({id:B(),type:"embed",embedType:"plantuml",embedData:{plantumlText:e}});else this.doc.blocks.push({id:B(),type:"embed",embedType:"mermaid",embedData:{mermaidText:e}})}}},{key:"onBeginTextBlock",value:function(e){var t=void 0!==e.start&&void 0!==e.ordered&&void 0!==e.groupId;this.currentTextBlock=Object.assign({id:B(),type:t?"list":"text",text:[]},e)}},{key:"onEndTextBlock",value:function(e){var t;if(this.currentTextBlock){if(this.currentTextBlock.tempBlockAfterImage){if(0===(null===(t=this.currentTextBlock.text)||void 0===t?void 0:t.length))return void(this.currentTextBlock=null);delete this.currentTextBlock.tempBlockAfterImage}if(this.ignoreEmptyLine&&Qc(this.currentTextBlock)&&"text"===this.currentTextBlock.type)return;this.currentTextBlock.text&&(this.currentTextBlock.text=function(e){var t;for(t=e.length-1;t>=0;t--){var n=e[t];if(!n.attributes)break;if(!n.attributes.box)break;if("br"!==n.attributes.type)break}return t===e.length-1?e:e.slice(0,t+1)}(vn(this.currentTextBlock.text))),e?e.push(this.currentTextBlock):this.doc.blocks.push(this.currentTextBlock),this.currentTextBlock=null}}},{key:"onMath",value:function(e,t){var n;if(!t)return this.onEndTextBlock(),void this.doc.blocks.push({id:B(),type:"embed",embedType:"math",embedData:{mathjaxText:e}});this.currentTextBlock&&(e=Gc(e,"$"),null===(n=this.currentTextBlock.text)||void 0===n||n.push({insert:" ",attributes:{box:!0,type:"math",tex:e,id:B()}}))}},{key:"onWikiLink",value:function(e){var t;if(this.currentTextBlock){var n,r=(e=e.trim()).lastIndexOf(" id=");if(-1!==r){var o=e.substr(r).trim();e=e.substr(0,r),n=Gc(n=o.substr(o.indexOf("=")+1),'"'),n=Gc(n,"'")}null===(t=this.currentTextBlock.text)||void 0===t||t.push({insert:" ",attributes:{box:!0,type:"wiki-link",name:e,linkId:n,id:B()}})}}},{key:"onTag",value:function(e){var t;this.currentTextBlock&&(null===(t=this.currentTextBlock.text)||void 0===t||t.push({insert:" ",attributes:{box:!0,type:"tag",text:e,id:B()}}))}},{key:"onText",value:function(e,t){this.currentTextBlock&&function(e,t,n){var r;e.text||(e.text=[]),0===(null===(r=e.text)||void 0===r?void 0:r.length)&&(t=dn(t)),zc(t).forEach((function(t,r){var o;if(w(e),t){var i={insert:t};Object.keys(n).length>0&&0===r&&(i.attributes=n),null===(o=e.text)||void 0===o||o.push(i)}}))}(this.currentTextBlock,qn(e),t)}},{key:"onImage",value:function(e,t,n){for(;t.startsWith("[")||t.startsWith("(");)t=t.substr(1);for(;t.endsWith("]")||t.endsWith(")");)t=t.substr(0,t.length-1);t=t.replace(/ "[^"]+"$/,"");var r=encodeURIComponent("|");(t=t.replace(/\|/g,r)).startsWith("//")&&(t="https:".concat(t)),this.currentTextBlock&&this.onEndTextBlock();var o={id:B(),type:"embed",embedType:"image",embedData:{src:t}};n&&(o.embedData["".concat(k()(t),"_width")]=n),this.doc.blocks.push(o),this.currentTextBlock={id:B(),type:"text",text:[],tempBlockAfterImage:!0}}},{key:"onHr",value:function(){this.doc.blocks.push({id:B(),type:"embed",embedType:"hr",embedData:{}})}},{key:"onToc",value:function(){this.doc.blocks.push({id:B(),type:"embed",embedType:"toc",embedData:{}})}},{key:"onTable",value:function(e,t){var n=this,r=t.tokens.header,o=t.tokens.cells,i=[r].concat(_c(o)),a=[],s={},c=i.length,l=i[0].length;i.forEach((function(e){e.forEach((function(e,r){var o=Yc(e.map((function(e){return"html"===e.type&&"<br>"===e.raw?"\n":e.raw})).join("")).blocks;for(o.filter((function(e){return!e.children||(console.warn("unsupported block in table: ".concat(JSON.stringify(e))),!1)}));o.length>0&&Qc(o[0]);)o.shift();for(;o.length>0&&Qc(o[o.length-1]);)o.pop();var i=_c(o);0===i.length&&i.push({id:B(),type:"text",text:[]});var c=B();a.push(c),n.doc[c]=i;var l=t.align[r];s["".concat(c,"_align")]=null!=l?l:void 0}))}));var u=Object.assign({id:B(),type:"table",children:a,cols:l,rows:c},s);this.doc.blocks.push(u)}},{key:"onHtml",value:function(e){if(e.startsWith("<img ")){var t=e.replace(/<[^\s]+[^<>]* src=('|"|)([^\s]*)\1.*/gi,"$2");t!==e&&this.onImage("",t.trim())}else{var n,r=Ic(e,{});if(r)(n=this.doc.blocks).push.apply(n,_c(r.blocks.filter((function(e){return!function(e){if("text"!==e.type)return!1;var t=e.text;return!t||0===t.length||1===t.length&&!t[0].insert}(e)})))),this.doc=Object.assign(Object.assign({},r),this.doc)}}}])&&Oc(t.prototype,n),r&&Oc(t,r),e}();function Yc(e,t){"- [ ]"===e&&(e="- [ ] ");var n=new(Gn().Lexer);n.tokenizer.rules.inline.link=/^!?\[((?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?)\]\(\s*(<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f][^\x00-\x1f]*)(?:\s+("(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)))?\s*\)/;var r=n.lex(function(e){return e.split("\n").map((function(e){return e&&""===e.trim()?"":e})).join("\n")}(e)),o=new Wc(t);return r.forEach((function(e){Kc(o,e,{level:0})})),o.doc}function qc(e){return function(e){if(Array.isArray(e))return Jc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||Xc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xc(e,t){if(e){if("string"==typeof e)return Jc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jc(e,t):void 0}}function Jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $c(e){return!!e&&(!(void 0!==e.heading&&e.heading>0)&&("code"!==e.type&&("table"===e.type||("embed"!==e.type||"hr"!==e.embedType)&&(("embed"!==e.type||"mermaid"!==e.embedType)&&(function(e){return!!e&&("text"===e.type||"list"===e.type)}(e)||function(e){!!e&&"embed"===e.type&&e.embedType}(e),!0)))))}function el(e){var t,n=e,r="code-line"!==n.type,o=An(null!==(t=n.text)&&void 0!==t?t:[],r);if(r&&(o=un(o)),n.heading){for(var i="",a=0;a<n.heading;a++)i+="#";o="".concat(i," ").concat(o)}return n.quoted&&(o="> ".concat(o)),"".concat(o)}function tl(e,t,n){for(var r=t,o=r.rows,i=r.cols,a=new qt(r),s="",c=0,l=new Map,u=0;u<o;u++){for(var d=0;d<i;d++){var p=a.getCell({col:d,row:u});if(l.set("".concat(d,"-").concat(u),c),p.virtual)w(p.colSpan>1||p.rowSpan>1),s+="| ";else{var f=r.children[c],h=e[f];w(h);var A=al(e,f,h,n)||" ";s+="|".concat(A),c+=1}}if(s+="|\n",0===u){for(var m=0;m<i;m++){var g=l.get("".concat(m,"-").concat(u));w(void 0!==g);var v=r.children[g],b=r["".concat(v,"_align")];s+="left"===b?"| :----- ":"right"===b?"| -----: ":"center"===b?"| :-----: ":"| ----- "}s+="|\n"}}return w(c===r.children.length),s.trim()}function nl(e,t,n,r){if(w("list"===t.type),t.textOnly)return el(t);for(var o=n>0?r[n-1]:null,i=function(e){return e.groupId},a=i(t),s=!0,c=0;c<n;c++){var l=r[c];if("list"===l.type&&i(l)===a&&a){s=!1;break}}for(var u=!0,d=n+1;d<r.length;d++){var p=r[d];if("list"===p.type&&i(p)===a&&a){u=!1;break}}return function(e,t){var n,r=e,o=An(null!==(n=r.text)&&void 0!==n?n:[],!0);if(r.checkbox)o="checked"===r.checkbox?"- [x] ".concat(o):"- [ ] ".concat(o);else if(r.ordered){var i=r.start;o="".concat(i,". ").concat(o)}else o="* ".concat(o);if(r.heading){for(var a="",s=0;s<r.heading;s++)a+="#";o="".concat(a," ").concat(o)}if(r.level>1)for(var c=1;c<r.level;c++)o="   ".concat(o);r.quoted&&(o="> ".concat(o));var l=t.prevBlock,u=!!l&&"list"===l.type,d=!1;return $c(l)&&!u&&(d=!0),t.isGroupStart&&l&&l.level===r.level&&(d=!0),d&&(o="\n".concat(o)),o}(t,{isGroupStart:s,isGroupEnd:u,prevBlock:null!=o?o:null})}function rl(e,t){var n,r,o=null!==(r=null===(n=t.language)||void 0===n?void 0:n.replace(/\s/g,""))&&void 0!==r?r:"";o=(o=Yn(o)).replace("clike","cpp"),w(t.children),w(1===t.children.length);var i=e[t.children[0]];w(i);var a=i.map((function(e){var t;return function(e,t){var n="";return e.forEach((function(e){w("string"==typeof e.insert),e.attributes&&!0===e.attributes.box&&(null==t?void 0:t.fillCharForBox)?n+="​":n+=e.insert})),n}(null!==(t=e.text)&&void 0!==t?t:[])})).join("\n");return"```".concat(o,"\n").concat(a,"\n```")}function ol(e,t){return(Array.isArray(e.src)?e.src:e.src.split("|")).map((function(n){var r=t.keepImageSize?function(e,t){return e["".concat(k()(t),"_width")]}(e,n):void 0,o=r?" =".concat(r,"x"):"",i=t.buildResourceUrl(n);return"![image](".concat(i).concat(o,")")})).join("\n")}function il(e,t,n,r,o,i){if(i.customConverter){var a=i.customConverter(e,n,r,t,i);if(a)return a}return"list"===t.type?nl(0,t,r,o):"table"===t.type?tl(e,t,i):"code"===t.type?rl(e,t):"embed"===t.type?function(e,t,n,r,o){var i,a,s,c,l,u,d=t;return"image"===d.embedType?ol(d.embedData,o):"mermaid"===d.embedType?(i=d.embedData,a=i.mermaidText,"```mermaid\n".concat(a,"\n```")):"plantuml"===d.embedType?function(e){var t=e.plantumlText;return"```plantuml\n".concat(t,"\n```")}(d.embedData):"flowchart"===d.embedType?(s=d.embedData,c=s.flowchartText,"```flow\n".concat(c,"\n```")):"math"===d.embedType?(l=d.embedData,u=l.mathjaxText,"$$\n".concat(u.trim(),"\n$$")):"hr"===d.embedType?"---":"toc"===d.embedType?"[toc]":d.embedData.src?"[".concat(d.embedType,"](").concat(d.embedData.src,")"):"[".concat(d.embedType,"]")}(0,t,0,0,i):el(t)}function al(e,t,n,r){var o=n.length,i="";return n.forEach((function(a,s){i+=il(e,a,t,s,n,r),s<o-1&&(i+="<br>")})),i=i.replace(/\n/g,"<br>")}function sl(e,t,n){var r=[];return t.forEach((function(o,i){var a=i>0?t[i-1]:null,s=il(e,o,"blocks",i,t,n),c=$c(a),l=$c(a);a&&c&&l&&"list"!==o.type&&r.push(""),r.push(s)})),r}function cl(e,t){var n=Object.assign({buildResourceUrl:function(e){return e},keepImageSize:!1,customConverter:function(){}},t),r=sl(e,e.blocks,n),o=function(t){var o=t.blocks,i=sl(e,o,n);if(i.length>0){var a=new Date(t.created),s="> ".concat(t.displayName," ").concat(a.toLocaleDateString()," ").concat(a.toLocaleTimeString());r.push.apply(r,["",s,""].concat(qc(i)))}};(null==t?void 0:t.keepComments)&&function(e){var t=[],n=new Set,r=function(e){n.has(e)||(n.add(e),t.push(e))};return e.blocks.forEach((function t(n){n.comments&&n.comments.forEach(r),n.text&&n.text.forEach((function(e){e.attributes&&Object.entries(e.attributes).filter((function(e){var t=Zc(e,2),n=t[0],o=t[1];return n.startsWith("comment-")&&r(o)}))})),n.children&&n.children.forEach((function(n){var r=e[n];r&&r.forEach(t)}))})),t}(e).forEach((function(t){var n=e.comments[t];if(o(n),n.groupId===n.id){var r=n.groupId;Object.entries(e.comments).forEach((function(e){var t=Zc(e,2)[1];t.groupId===r&&t.id!==r&&o(t)}))}}));return r.join("\n")}n(1268);var ll,ul=n(3917),dl=n(9137),pl=n.n(dl);function fl(e,t){if(e.width&&e.height)return{width:e.width,height:e.height,buffer:t};var n=pl()(t);return void 0===n.width||void 0===n.height?{width:345,height:230,buffer:t}:e.width||e.height?{width:e.width||n.width*e.height/n.height,height:e.height||n.height*e.width/n.width,buffer:t}:{width:n.width,height:n.height,buffer:t}}function hl(e,t){var n=e.filter((function(e){return null!=e})),r=t-20*(n.length-1),o=n.reduce((function(e,t){return e+t.width}),0);return o>r&&(n=n.map((function(e){return{width:e.width*r/o,height:e.height*r/o,buffer:e.buffer}}))),n.map((function(e){return{width:.87*e.width,height:.87*e.height,buffer:e.buffer}}))}function Al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,1,2,3,4,5,6,7],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.map((function(e){var n;switch(e%3){case 0:n=ul.LevelFormat.DECIMAL;break;case 1:n=ul.LevelFormat.LOWER_LETTER;break;default:n=ul.LevelFormat.LOWER_ROMAN}return{level:e,format:n,text:"%".concat(e+1,". "),alignment:ul.AlignmentType.START,start:t,style:{paragraph:{indent:{left:(0,ul.convertInchesToTwip)(.3*(e+1)),hanging:(0,ul.convertInchesToTwip)(.2)}}}}}))}!function(e){e.NUMBERING="number-numbering-reference",e.BULLET="number-bullet-reference",e.CHECKED="checked-bullet-reference",e.UNCHECKED="unchecked-bullet-reference"}(ll||(ll={}));var ml=[{levels:Al(),reference:ll.NUMBERING},{levels:[0,1,2,3,4,5,6,7].map((function(e){var t;switch(e%3){case 0:t="•";break;case 1:t="◦";break;default:t="▪"}return{level:e,format:ul.LevelFormat.BULLET,text:t,alignment:ul.AlignmentType.START,style:{paragraph:{indent:{left:(0,ul.convertInchesToTwip)(.3*(e+1)),hanging:(0,ul.convertInchesToTwip)(.2)}}}}})),reference:ll.BULLET},{levels:[0,1,2,3,4,5,6,7].map((function(e){return{level:e,format:ul.LevelFormat.BULLET,text:"☑",alignment:ul.AlignmentType.START,style:{paragraph:{indent:{left:(0,ul.convertInchesToTwip)(.3*(e+1)),hanging:(0,ul.convertInchesToTwip)(.2)}}}}})),reference:ll.CHECKED},{levels:[0,1,2,3,4,5,6,7].map((function(e){return{level:e,format:ul.LevelFormat.BULLET,text:"☐",alignment:ul.AlignmentType.START,style:{paragraph:{indent:{left:(0,ul.convertInchesToTwip)(.3*(e+1)),hanging:(0,ul.convertInchesToTwip)(.2)}}}}})),reference:ll.UNCHECKED}];function gl(e){switch(e){case"style-color-0":return"d83931";case"style-color-1":return"de7802";case"style-color-2":return"dc9b04";case"style-color-3":return"2ea121";case"style-color-4":return"245bdb";case"style-color-5":return"6425d0";case"style-color-6":return"8f959e";default:return}}function vl(e){switch(e){case"style-bg-color-1":case"style-bg-color-2":case"style-bg-color-8":case"style-bg-color-9":return"yellow";case"style-bg-color-0":case"style-bg-color-5":return"magenta";case"style-bg-color-3":return"green";case"style-bg-color-4":case"style-bg-color-11":return"blue";case"style-bg-color-6":return"lightGray";case"style-bg-color-7":return"red";case"style-bg-color-10":return"darkGreen";case"style-bg-color-12":return"darkMagenta";case"style-bg-color-13":return"darkGray";default:return}}function bl(e){switch(e){case"style-bg-color-0":return"fbbab6";case"style-bg-color-1":return"ffdcb0";case"style-bg-color-2":return"fff7a0";case"style-bg-color-3":return"ceefc5";case"style-bg-color-4":return"d1ddfb";case"style-bg-color-5":return"d9cbf8";case"style-bg-color-6":return"eaeaea";case"style-bg-color-7":return"fe837c";case"style-bg-color-8":return"ffbd6a";case"style-bg-color-9":return"ffe662";case"style-bg-color-10":return"a8f393";case"style-bg-color-11":return"98b5ff";case"style-bg-color-12":return"b394f8";case"style-bg-color-13":return"b1b1b1";default:return}}var yl=/rgb\((\d+),\s*(\d+),\s*(\d+)\)/;function wl(e){if("string"==typeof e&&e.length>0){if("#"===e[0])return e.substring(1);var t=e.match(yl);if(t){var n=function(e){var t=Number(e).toString(16);return t.length<2&&(t="0".concat(t)),t},r=n(t[1]),o=n(t[2]),i=n(t[3]);return"".concat(r).concat(o).concat(i)}if("red"===e)return"FF0000";if("green"===e)return"00FF00";if("blue"===e)return"0000FF"}}function xl(e,t){return e&&e.attributes&&e.attributes[t]?e.attributes[t]:!!(e&&e.attributes&&e.attributes.box&&e.attributes.inputType&&"style-underline"===t)||void 0}function kl(e,t,n){for(var r=0;r<=n;++r){var o="".concat(t).concat(r);if(xl(e,o))return o}}function Cl(e,t,n){e.attributes=e.attributes||{},e.attributes[t]=n}function El(e){return"image"===e||"drawio"===e||"plantuml"===e||"mermaid"===e}function Bl(e){return e&&e.startsWith("//")?"https:".concat(e):!e||e.startsWith("http://")||e.startsWith("https://")?e:"https://".concat(e)}function Tl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ml(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ml(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Il(e){var t="".concat(xl(e,"inline-style-font-size"));if(t&&t.indexOf("px")>0)return+t.replace(/px/g,"")}function Dl(e){return e.attributes&&e.attributes.box&&e.attributes.text?" ".concat(e.attributes.text," "):e.attributes&&e.attributes.box&&e.attributes.inputType?e.attributes.value?"".concat(e.attributes.value):"\t\t":void 0}function _l(e){if(e.attributes&&e.attributes.box&&e.attributes.text)return" @".concat(e.attributes.text," ")}function Sl(e){return xl(e,"inline-style-font-family")}function Ol(e){return wl(xl(e,"inline-style-background-color"))}function Nl(e){return wl(xl(e,"inline-style-color"))}function Ll(e){!function(e){var t=xl(e,"inlineStyle");if(null!=t){var n,r=Tl(t.split(";"));try{for(r.s();!(n=r.n()).done;){var o=n.value.split(":");if(2===o.length){var i=o[0].trim().toLowerCase(),a=o[1].trim().toLowerCase();"font-size"===i&&Cl(e,"inline-style-font-size",a),"color"===i&&Cl(e,"inline-style-color",a),"background-color"===i&&Cl(e,"inline-style-background-color",a),"font-family"===i&&Cl(e,"inline-style-font-family",a)}}}catch(e){r.e(e)}finally{r.f()}}}(e);var t="mention"===xl(e,"type");return{box:e.attributes&&e.attributes.box?e.attributes:void 0,inlineCode:!!xl(e,"style-code"),link:Bl(xl(e,"link")),size:Il(e),text:t?_l(e):Dl(e)||e.insert,bold:!!xl(e,"style-bold"),underline:!!xl(e,"style-underline"),italics:!!xl(e,"style-italic"),strike:!!xl(e,"style-strikethrough"),superScript:!!xl(e,"style-super"),subScript:!!xl(e,"style-sub"),math:"math"===xl(e,"type")?xl(e,"src"):void 0,mention:t,fontFamily:Sl(e),background:Ol(e),color:t?"338fe5":gl(kl(e,"style-color-",6))||Nl(e),highlight:kl(e,"style-bg-color-",13)}}n(5292),n(7795),n(6780);var Rl=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function jl(e){if(null!=e.heading)return"Heading".concat(e.heading)}function Ul(e){if(null!=e.alignment)return"center"===e.alignment?ul.AlignmentType.CENTER:"right"===e.alignment?ul.AlignmentType.RIGHT:"left"===e.alignment?ul.AlignmentType.LEFT:void 0}function Fl(e){return{type:ul.ShadingType.CLEAR,color:"FFFFFF",fill:e}}function zl(e){var t=e.split(",");if(0!==t.length)return t[0].trim()}function Ql(e,t){var n;n=e.inlineCode?"InlineCode":void 0,n=e.link?"Hyperlink":n;var r=e.size||t,o=null!=r?Math.floor(1.5*r+.5):void 0;return new ul.TextRun({text:e.text,bold:e.bold||void 0,underline:e.underline?{type:ul.UnderlineType.SINGLE}:void 0,italics:e.italics||void 0,strike:e.strike||void 0,superScript:e.superScript||void 0,subScript:e.subScript||void 0,size:o,style:n,font:e.fontFamily?zl(e.fontFamily):void 0,shading:e.background?Fl(e.background):void 0,color:e.color,highlight:vl(e.highlight)})}function Pl(e,t){if(e.link)return new ul.ExternalHyperlink({children:[Ql(e,t)],link:e.link})}function Hl(e,t,n,r,o){return Rl(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o(e,t,n);case 2:if(null!=(a=i.sent)){i.next=5;break}return i.abrupt("return",void 0);case 5:return s=fl({width:r||0,height:0,src:n},a),i.abrupt("return",new ul.ImageRun({data:a,transformation:{width:s.width||100,height:s.height||20}}));case 7:case"end":return i.stop()}}),i)})))}function Vl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Gl(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Kl(e){return function(e){if(Array.isArray(e))return Wl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gl(e,t){if(e){if("string"==typeof e)return Wl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wl(e,t):void 0}}function Wl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yl=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function ql(e){if(null!=e.heading)return e.heading}function Zl(e){if(e.align&&("center"===e.align||"right"===e.align||"left"===e.align))return e.align}function Xl(e){if(!0===e.textOnly&&null!=e.level)return e.level}function Jl(e,t){var n;return Yl(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=[],!e.text||!Array.isArray(e.text)){r.next=17;break}i=0;case 3:if(!(i<e.text.length)){r.next=16;break}if(a=e.text[i],!0!==(null===(n=a.attributes)||void 0===n?void 0:n.box)||!t){r.next=12;break}return r.next=8,t(a);case 8:if(!(s=r.sent)){r.next=12;break}return(c=e.text).splice.apply(c,[i+1,0].concat(Kl(s))),r.abrupt("continue",13);case 12:o.push(Ll(a));case 13:i++,r.next=3;break;case 16:return r.abrupt("return",o);case 17:return r.abrupt("return",void 0);case 18:case"end":return r.stop()}}),r)})))}function $l(e){if("list"===e.type&&!0!==e.textOnly)return{checkbox:e.checkbox,groupId:e.groupId,ordered:!!e.ordered,level:e.level||1,start:e.start||0}}function eu(e,t){if("embed"===e.type&&e.embedType&&El(e.embedType)&&e.embedData&&e.embedData.src)return e.embedData.src.split("|").map((function(n){var r=t(n);return{src:n,width:e.embedData["".concat(r,"_width")],height:e.embedData["".concat(r,"_height")]}}))}function tu(e){if(e.padding)return e.padding}function nu(e,t,n){return Yl(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=!!e.quoted,r.t1=ql(e),r.t2=Zl(e),r.t3=Xl(e),r.t4=tu(e),r.next=7,Jl(e,n);case 7:return r.t5=r.sent,r.t6=$l(e),r.t7=eu(e,t),r.abrupt("return",{quoted:r.t0,heading:r.t1,alignment:r.t2,indent:r.t3,padding:r.t4,texts:r.t5,list:r.t6,images:r.t7});case 11:case"end":return r.stop()}}),r)})))}function ru(e,t,n,r){return Yl(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,s,c,l,u,d,p;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:i=[],a=Vl(e.children),o.prev=2,a.s();case 4:if((s=a.n()).done){o.next=30;break}c=s.value,l=[],u=Vl(t[c]),o.prev=8,u.s();case 10:if((d=u.n()).done){o.next=19;break}return p=d.value,o.t0=l,o.next=15,nu(p,n,r);case 15:o.t1=o.sent,o.t0.push.call(o.t0,o.t1);case 17:o.next=10;break;case 19:o.next=24;break;case 21:o.prev=21,o.t2=o.catch(8),u.e(o.t2);case 24:return o.prev=24,u.f(),o.finish(24);case 27:i.push(l);case 28:o.next=4;break;case 30:o.next=35;break;case 32:o.prev=32,o.t3=o.catch(2),a.e(o.t3);case 35:return o.prev=35,a.f(),o.finish(35);case 38:return o.abrupt("return",i);case 39:case"end":return o.stop()}}),o,null,[[2,32,35,38],[8,21,24,27]])})))}function ou(e){var t=e.rows,n=e.cols,r=e.colsWidth;if(r)for(var o=0;o<r.length;o++)0===r[o]&&(r[o]=100);for(var i=function(e,t){return Array(e).fill(0).map((function(){return Array(t).fill(0).map((function(){return{cellId:void 0,color:void 0,from:void 0,rowSpan:1,colSpan:1,width:0,originalWidth:void 0,align:void 0}}))}))}(t,n),a=0,s=0;s<t;++s)for(var c=0;c<n;++c)if(i[s][c].originalWidth=r?r[c]:void 0,void 0===i[s][c].from){var l=e.children[a];a+=1,i[s][c].cellId=l,i[s][c].color=bl(e["".concat(l,"_background")]),i[s][c].width=r?r[c]:100,i[s][c].align=e["".concat(l,"_align")];var u=e["".concat(l,"_rowSpan")]||1,d=e["".concat(l,"_colSpan")]||1;if(i[s][c].rowSpan=u,i[s][c].colSpan=d,u>1||d>1){for(var p=0,f=0;f<u;f++)for(var h=0;h<d;h++)0===f&&(p+=r?r[c+h]:80),0===f&&0===h||(i[s+f][c+h].from=[s,c]);i[s][c].width=p}}return function(e,t,n,r){for(var o=!!e.hasColTitle,i=!!e.hasRowTitle,a=!!e.isStripeStyle,s=0;s<t;s++)for(var c=0;c<n;c++)(o&&0===c||i&&0===s||a&&s%2==1)&&(r[s][c].color="F5F8FB")}(e,t,n,i),i}function iu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return au(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return au(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function au(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var su=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function cu(e,t,n,r,o,i,a,s,c,l){return su(this,void 0,void 0,regeneratorRuntime.mark((function u(){var d,p,f,h,A,m,g,v,b;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:f=function(e){var t;return(null===(t=null==e?void 0:e.embedData)||void 0===t?void 0:t.exportSpec)?p(e):[e]},p=function(e){var t,n=[],r=iu(e.embedData.exportSpec);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.type,a=o.data;if("text"!==i)if("image"!==i)if("link"!==i);else{var s={id:B(),type:"embed",embedType:"webpage",embedData:{src:a.url,title:a.title}};n.push(s)}else{var c={id:B(),type:"embed",embedType:"image",align:"left",embedData:{src:a}};n.push(c)}else{var l={id:B(),text:[{insert:a}],type:"text"};n.push(l)}}}catch(e){r.e(e)}finally{r.f()}return n},d=function(t){return su(this,void 0,void 0,regeneratorRuntime.mark((function u(){var d,p,f,h,A,m,g,v,b;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(!s){u.next=8;break}return u.next=3,s(o,i,t);case 3:if(!(d=u.sent)){u.next=8;break}return u.next=7,r.addDoc(e,d,l);case 7:return u.abrupt("return");case 8:if("text"!==t.type&&!0!==t.textOnly){u.next=15;break}return u.next=11,nu(t,a,c);case 11:return p=u.sent,u.next=14,r.addTextBlock(p);case 14:return u.abrupt("return");case 15:if("code"!==t.type){u.next=22;break}return u.next=18,ru(t,n,a,c);case 18:return f=u.sent,u.next=21,r.addCodeBlockObject(f);case 21:return u.abrupt("return");case 22:if("list"!==t.type||!0===t.textOnly){u.next=29;break}return u.next=25,nu(t,a,c);case 25:return h=u.sent,u.next=28,r.addListBlockObject(e,h);case 28:return u.abrupt("return");case 29:if("embed"!==t.type||!t.embedType){u.next=43;break}if(!El(t.embedType)){u.next=41;break}if("image"!==t.embedType||"error"!==t.embedData.src){u.next=34;break}return r.addEmptyImagePlaceholder(),u.abrupt("return");case 34:return u.next=36,nu(t,a,c);case 36:return A=u.sent,u.next=39,r.addImagesBlockObject(A,l);case 39:u.next=42;break;case 41:"hr"===t.embedType?r.addSeparatorBlock():"video"===t.embedType?r.addVideoPlaceholder():"audio"===t.embedType?r.addAudioPlaceholder():"webpage"===t.embedType?r.addHyperlinkParagraph(Bl(t.embedData.src),t.embedData.title):r.addOtherEmbedBlock(t.embedType,t.embedData);case 42:return u.abrupt("return");case 43:if("table"!==t.type){u.next=49;break}if(m=[],t.colsWidth)m=t.colsWidth;else{for(g=t.cols,m=new Array(g),v=0;v<m.length;v++)m[v]=100;t.colsWidth=m}return b=ou(t),u.next=49,r.addTableMatrix(m,b,n);case 49:case"end":return u.stop()}}),u)})))},h=iu(t),u.prev=4,h.s();case 6:if((A=h.n()).done){u.next=27;break}m=A.value,g=iu(f(m)),u.prev=9,g.s();case 11:if((v=g.n()).done){u.next=17;break}return b=v.value,u.next=15,d(b);case 15:u.next=11;break;case 17:u.next=22;break;case 19:u.prev=19,u.t0=u.catch(9),g.e(u.t0);case 22:return u.prev=22,g.f(),u.finish(22);case 25:u.next=6;break;case 27:u.next=32;break;case 29:u.prev=29,u.t1=u.catch(4),h.e(u.t1);case 32:return u.prev=32,h.f(),u.finish(32);case 35:case"end":return u.stop()}}),u,null,[[4,29,32,35],[9,19,22,25]])})))}function lu(e){return function(e){if(Array.isArray(e))return pu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||du(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=du(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function du(e,t){if(e){if("string"==typeof e)return pu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pu(e,t):void 0}}function pu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Au(e,t,n){return t&&hu(e.prototype,t),n&&hu(e,n),e}var mu=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},gu=function(){function e(t,n,r,o,i,a){fu(this,e),this.appId=t,this.docId=n,this.state=r,this.readImageFunc=o,this.convertBlocksFunc=i,this.defaultFontSize=a,this.paragraphs=[]}return Au(e,[{key:"addTextBlock",value:function(e){return mu(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.paragraphs,t.t1=ul.Paragraph,t.t2=jl(e),t.t3=Ul(e),t.next=6,this.paragraphsFromBlockTexts(e);case 6:t.t4=t.sent,t.t5=(n=e).indent?{left:(0,ul.convertInchesToTwip)(.3*n.indent-.2)}:n.padding?{left:(0,ul.convertInchesToTwip)(.3*n.padding)}:void 0,t.t6={heading:t.t2,alignment:t.t3,children:t.t4,indent:t.t5},t.t7=new t.t1(t.t6),t.t0.push.call(t.t0,t.t7);case 11:case"end":return t.stop()}var n}),t,this)})))}},{key:"paragraphsFromBlockTexts",value:function(e){return mu(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a,s,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e.texts){t.next=2;break}return t.abrupt("return",void 0);case 2:u=this.defaultFontSize,d=e.heading,n=null==d?null==u?void 0:u.normal:u?u["heading".concat(d)]:void 0,r=[],o=uu(e.texts),t.prev=5,o.s();case 7:if((i=o.n()).done){t.next=31;break}if(!(a=i.value).link){t.next=13;break}return(s=Pl(a,n))&&r.push(s),t.abrupt("continue",29);case 13:if(!a.box||!a.box.type||"br"!==a.box.type){t.next=16;break}return r.push(new ul.TextRun({text:"",break:1})),t.abrupt("continue",29);case 16:if(!a.box||!a.box.type||"image"!==a.box.type){t.next=22;break}return t.next=19,Hl(this.appId,this.docId,a.box.src,a.box.width,this.readImageFunc);case 19:return(c=t.sent)&&r.push(c),t.abrupt("continue",29);case 22:if(!a.math){t.next=28;break}return t.next=25,Hl(this.appId,this.docId,a.math,0,this.readImageFunc);case 25:return(l=t.sent)&&r.push(l),t.abrupt("continue",29);case 28:r.push(Ql(a,n));case 29:t.next=7;break;case 31:t.next=36;break;case 33:t.prev=33,t.t0=t.catch(5),o.e(t.t0);case 36:return t.prev=36,o.f(),t.finish(36);case 39:return t.abrupt("return",r);case 40:case"end":return t.stop()}var u,d}),t,this,[[5,33,36,39]])})))}},{key:"addCodeBlockObject",value:function(e){return mu(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=uu(e),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=30;break}o=r.value,i=uu(o),t.prev=6,i.s();case 8:if((a=i.n()).done){t.next=20;break}return s=a.value,t.t0=this.paragraphs,t.t1=ul.Paragraph,t.next=14,this.paragraphsFromBlockTexts(s);case 14:t.t2=t.sent,t.t3={style:"Code",children:t.t2},t.t4=new t.t1(t.t3),t.t0.push.call(t.t0,t.t4);case 18:t.next=8;break;case 20:t.next=25;break;case 22:t.prev=22,t.t5=t.catch(6),i.e(t.t5);case 25:return t.prev=25,i.f(),t.finish(25);case 28:t.next=3;break;case 30:t.next=35;break;case 32:t.prev=32,t.t6=t.catch(1),n.e(t.t6);case 35:return t.prev=35,n.f(),t.finish(35);case 38:case"end":return t.stop()}}),t,this,[[1,32,35,38],[6,22,25,28]])})))}},{key:"addListBlockObject",value:function(e,t){return mu(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=t.list){n.next=2;break}return n.abrupt("return");case 2:if(o=t.list.checkbox?"".concat(e,"-").concat(t.list.groupId,"-").concat(t.list.checkbox):"".concat(e,"-").concat(t.list.groupId),this.state.listInstMap[o]?r=this.state.listInstMap[o]:(r=this.state.listMaxInst,this.state.listMaxInst+=1,this.state.listInstMap[o]=r,t.list.start>0&&t.list.ordered?(i="number-numbering-reference-".concat(r),a=Al([t.list.level-1],t.list.start),this.state.levelConfigs.push({levels:a,reference:i,inst:r}),this.state.listRefMap[o]=i):t.list.ordered?this.state.listRefMap[o]=ll.NUMBERING:t.list.checkbox&&"checked"===t.list.checkbox?this.state.listRefMap[o]=ll.CHECKED:t.list.checkbox&&"unchecked"===t.list.checkbox?this.state.listRefMap[o]=ll.UNCHECKED:this.state.listRefMap[o]=ll.BULLET),s=jl(t),!t.texts){n.next=16;break}return n.t0=this.paragraphs,n.t1=ul.Paragraph,n.t2=s,n.next=11,this.paragraphsFromBlockTexts(t);case 11:n.t3=n.sent,n.t4={reference:this.state.listRefMap[o],level:t.list.level-1,instance:r},n.t5={heading:n.t2,children:n.t3,numbering:n.t4},n.t6=new n.t1(n.t5),n.t0.push.call(n.t0,n.t6);case 16:case"end":return n.stop()}}),n,this)})))}},{key:"imageDimWithBufferToImageRun",value:function(e){return new ul.ImageRun({data:e.buffer,transformation:{width:e.width,height:e.height}})}},{key:"addImagesBlockObject",value:function(e,t){return mu(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,s=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e.images){n.next=2;break}return n.abrupt("return");case 2:return r=[],n.next=5,Promise.all(e.images.map((function(e){return mu(s,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readImageFunc(this.appId,this.docId,e.src);case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",fl(e,n));case 5:return r.push(e.src),t.abrupt("return",void 0);case 7:case"end":return t.stop()}}),t,this)})))})));case 5:if(o=n.sent,i=hl(o,t),this.paragraphs.push(new ul.Paragraph({alignment:Ul(e)||ul.AlignmentType.CENTER,children:i.map((function(e){return s.imageDimWithBufferToImageRun(e)})).flatMap((function(e,t,n){return null==e?[]:n.length-1!==t?[e,new ul.TextRun({text:" "})]:e}))})),r.length)for(a=0;a<r.length;a++)this.addHyperlinkParagraph(r[a],"");case 9:case"end":return n.stop()}}),n,this)})))}},{key:"addSeparatorBlock",value:function(){var e=this;[new ul.Paragraph({border:{top:{color:"auto",style:ul.BorderStyle.DASHED,size:4,space:1}},spacing:{before:300}}),new ul.Paragraph({spacing:{line:0}})].forEach((function(t){return e.paragraphs.push(t)}))}},{key:"addVideoPlaceholder",value:function(){this.paragraphs.push(new ul.Paragraph({children:[new ul.TextRun({text:"[视频暂不支持导出]",shading:{type:ul.ShadingType.CLEAR,color:"FFFFFF",fill:"CCCCCC"}})]}))}},{key:"addEmptyImagePlaceholder",value:function(){this.paragraphs.push(new ul.Paragraph({children:[new ul.TextRun({text:"[图片加载失败]",shading:{type:ul.ShadingType.CLEAR,color:"FFFFFF",fill:"CCCCCC"}})]}))}},{key:"addAudioPlaceholder",value:function(){this.paragraphs.push(new ul.Paragraph({children:[new ul.TextRun({text:"[音频暂不支持导出]",shading:{type:ul.ShadingType.CLEAR,color:"FFFFFF",fill:"CCCCCC"}})]}))}},{key:"addHyperlinkParagraph",value:function(e,t){null!=e&&this.paragraphs.push(function(e,t){return new ul.Paragraph({children:[new ul.ExternalHyperlink({children:[new ul.TextRun({style:"Hyperlink",text:t||e})],link:e})]})}(e,t))}},{key:"addTableMatrix",value:function(e,t,n){return mu(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.map((function(e){return 0!==e?15*e:1500})),r.t0=this.paragraphs,r.t1=ul.Table,r.next=5,this.generateTableRows(t,n);case 5:r.t2=r.sent,r.t3=o,r.t4={rows:r.t2,columnWidths:r.t3},r.t5=new r.t1(r.t4),r.t6=new ul.Paragraph(""),r.t0.push.call(r.t0,r.t5,r.t6);case 11:case"end":return r.stop()}}),r,this)})))}},{key:"generateRowCells",value:function(e,t){return mu(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,s,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=[],o=uu(e),n.prev=2,o.s();case 4:if((i=o.n()).done){n.next=24;break}if(a=i.value,void 0!==(s=a.cellId)){n.next=9;break}return n.abrupt("continue",22);case 9:return c=.9*a.width,n.t0=r,n.t1=ul.TableCell,n.next=14,this.convertBlocksFunc(s,t[s],t,this.appId,this.docId,this.state,c);case 14:n.t2=n.sent,n.t3=a.colSpan,n.t4=a.rowSpan,n.t5={type:ul.WidthType.DXA,size:15*a.width},n.t6=a.color?{fill:a.color,type:ul.ShadingType.CLEAR,color:"auto"}:void 0,n.t7={children:n.t2,columnSpan:n.t3,rowSpan:n.t4,width:n.t5,shading:n.t6},n.t8=new n.t1(n.t7),n.t0.push.call(n.t0,n.t8);case 22:n.next=4;break;case 24:n.next=29;break;case 26:n.prev=26,n.t9=n.catch(2),o.e(n.t9);case 29:return n.prev=29,o.f(),n.finish(29);case 32:return n.abrupt("return",r);case 33:case"end":return n.stop()}}),n,this,[[2,26,29,32]])})))}},{key:"generateTableRows",value:function(e,t){return mu(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=[],o=uu(e),n.prev=2,o.s();case 4:if((i=o.n()).done){n.next=16;break}return a=i.value,n.t0=r,n.t1=ul.TableRow,n.next=10,this.generateRowCells(a,t);case 10:n.t2=n.sent,n.t3={children:n.t2},n.t4=new n.t1(n.t3),n.t0.push.call(n.t0,n.t4);case 14:n.next=4;break;case 16:n.next=21;break;case 18:n.prev=18,n.t5=n.catch(2),o.e(n.t5);case 21:return n.prev=21,o.f(),n.finish(21);case 24:return n.abrupt("return",r);case 25:case"end":return n.stop()}}),n,this,[[2,18,21,24]])})))}},{key:"addDoc",value:function(e,t,n){return mu(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.convertBlocksFunc(e,t.blocks,t,this.appId,this.docId,this.state,n);case 2:(o=r.sent)&&(this.paragraphs=this.paragraphs.concat(o));case 4:case"end":return r.stop()}}),r,this)})))}},{key:"addOtherEmbedBlock",value:function(){return mu(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}}]),e}(),vu=function(){function e(t,n,r,o,i,a,s,c){var l=this;fu(this,e),this.templateData=t,this.docData=n,this.md5HexFunc=r,this.readImage=o,this.defaultFontSize=i,this.getDocByBlock=a,this.getTextsByBox=s,this.backgroundImageOptions=c,this.convertBlocks=function(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:720;return mu(l,void 0,void 0,regeneratorRuntime.mark((function s(){var c;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c=new gu(r,o,i,this.readImage,this.convertBlocks,this.defaultFontSize),s.next=3,cu(e,t,n,c,r,o,this.md5HexFunc,this.getDocByBlock,this.getTextsByBox,a||720);case 3:return s.abrupt("return",c.paragraphs);case 4:case"end":return s.stop()}}),s,this)})))}}return Au(e,[{key:"convert",value:function(e,t){return mu(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.snapshot2docx(this.docData,e,t));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"snapshot2docx",value:function(e,t,n){return mu(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s,c,l,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=new ul.ImportDotx,!this.templateData){r.next=7;break}return r.next=4,o.extract(this.templateData);case 4:r.t0=r.sent,r.next=8;break;case 7:r.t0=void 0;case 8:return i=r.t0,w(a=e.blocks,"data must have blocks"),s={listMaxInst:1,listInstMap:{},listRefMap:{},levelConfigs:[]},r.next=14,this.convertBlocks("blocks",a,e,t,n,s);case 14:if(c=r.sent,l=this.backgroundImageOptions?{default:new ul.Header({children:[new ul.Paragraph({children:[new ul.ImageRun(this.backgroundImageOptions)]})]})}:{},u=new ul.Document({numbering:{config:[].concat(lu(ml),lu(s.levelConfigs))},sections:[{headers:l,children:c,properties:{page:{size:{width:12240,height:15840},margin:{top:1440,bottom:1440,left:1440,right:1440}}}}]},{template:i}),"undefined"!=typeof navigator){r.next=19;break}return r.abrupt("return",ul.Packer.toBuffer(u));case 19:return r.abrupt("return",ul.Packer.toBlob(u));case 20:case"end":return r.stop()}}),r,this)})))}}]),e}();function bu(e){return new vu(e.template,e.data,e.md5,e.readImage,e.defaultFontSize,e.getDocByBlock,e.getTextsByBox).convert(e.appId,e.docId)}function yu(e,t){var n=!1;return e.forEach((function(e){if(e.text&&!function(e){w(e);for(var t=0;t<e.length;t++){var n=e[t];if(null===n.insert||void 0===n.insert)return!1;if(void 0!==n.retain)return!1;if(void 0!==n.delete)return!1}return!0}(e.text)){var r=e.text.filter((function(e){return!!e.insert&&void 0===e.retain&&void 0===e.delete}));console.warn("fix document[".concat(t,"] from ").concat(JSON.stringify(e.text)," to ").concat(JSON.stringify(r))),e.text=r,n=!0}})),n}function wu(e){var t=_n()(e),n=Array.from(Object.keys(t)),r=!1;return n.forEach((function(e){var n=t[e];(function(e){if(!Array.isArray(e))return!1;var t=e;return 0!==t.length&&function(e){return!(!e.type||!e.id)&&"string"==typeof e.type&&"string"==typeof e.id}(t[0])})(n)&&yu(n,e)&&(r=!0)})),r?t:e}function xu(e){return function(e){if(Array.isArray(e))return ku(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ku(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ku(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ku(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cu=n(1120),Eu=n.n(Cu),Bu=(n(9937),n(4872)),Tu=n.n(Bu),Mu=n(9176),Iu=n.n(Mu),Du=n(3078),_u=n.n(Du),Su=n(2378),Ou=n.n(Su);const Nu={common:{OK:"确定",cancel:"取消",submit:"确认",noMatch:"无匹配数据",enterContentToSearch:"请输入内容进行搜索",help:"帮助",edit:"编辑",resize:"缩放",wordWrap:"自动换行",copy:"复制"},date:{dateFromFuture:"来自未来",dateJustNow:"刚刚",dateYesterday:"昨天",dateMinutesAgo:"{num}分钟前",date1HourAgo:"1小时前",dateHoursAgo:"{num}小时前",dateDaysAgo:"{num}天前",dateWeeksAgo:"{num}周前"},blocks:{text:"文本",webpage:"网页",uml:"流程图/UML",table:"表格",layout:"水平分栏",audio:"音频",video:"视频",office:"Office 文件",file:"文件",image:"图片",code:"代码块",dividingLine:"分割线",todo:"待办事项"},code:{abstract:"代码块"},table:{abstract:"表格",mergeCells:"合并单元格",splitCell:"拆分单元格",toTable:"转换为表格",showChart:"显示图表",hideChart:"隐藏图表",showBorder:"显示表格线",hideBorder:"隐藏表格线",toLayout:"转换为布局",deleteCol:"删除列",deleteRow:"删除行",deleteTable:"删除表格",insertCol:"插入列",insertRow:"插入行",rowTitle:"行标题",colTitle:"列标题",stripeStyle:"条纹样式"},math:{mathMenuName:"公式",emptyTeX:"空的公式",invalidTeX:"无效的TeX",loading:"正在加载"},list:{indent:"增加缩进",outdent:"减少缩进",toOrdered:"有序列表",toUnordered:"无序列表",addCalendar:"插入截止时间",addMention:"提及人员并通知",setStart:"设置编号",continueList:"继续编号",restartList:"开始新列表",changeNumber:"修改编号值",numberLabel:"编号顺序",viewAsMindMap:"显示为脑图"},command:{clearColor:"清除颜色",copy:"复制",copyMarkdown:"复制为Markdown",copyText:" 复制为纯文本",cut:"剪切",delete:"删除",fontBackgroundColor:"背景颜色",fontColor:"文字颜色",lock:"锁定",marker:"批注",operations:"操作",paste:"粘贴",pasteMarkdown:"作为Markdown粘贴",pasteText:"粘贴纯文本",pasteImageLink:"粘贴图片链接",pasteNormalLink:"粘贴链接",unlock:"解除锁定",lockedBy:"被 {name} 锁定",hideExpiredMarker:"隐藏批注 (已过期)",showExpiredMarker:"显示批注 (已过期)",insertBelow:"在下方添加",common:"通用",styles:"样式",webpage:"第三方内容",clipboard:"剪贴板"},comment:{count:"批注 ({num})",hide:"隐藏批注",show:"显示批注",reply:"回复",quicklyReply:"添加批注...",send:"发送",placeholder:"添加批注",replyPlaceholder:"添加批注或@他人",edit:"编辑",delete:"删除",image:"图片",sendTitle:"按Enter发送批注",replyTitle:"按Enter回复批注",isFirst:"已经是第一条批注",isLast:"已经是最后一条批注"},fontType:{name:"样式",text:"正文",heading1:"标题 1",heading2:"标题 2",heading3:"标题 3",heading4:"标题 4",heading5:"标题 5",heading6:"标题 6",heading7:"标题 7",heading8:"标题 8",bold:"粗体",italic:"斜体",underline:"下划线",strikethrough:"删除线",addLink:"链接",addComment:"批注",inlineCode:"行内代码"},link:{changeLinkTitle:"修改链接",insertLinkTitle:"插入链接",linkNameLabel:"文本",linkNameInfo:"（默认为链接地址）",linkNamePlaceholder:"请输入文本",linkMenuName:"链接",linkUrlLabel:"链接地址",errorLinkUrlEmpty:"请输入链接地址",linkUrlPlaceholder:"请输入链接地址",unlink:"取消链接"},find:{findLabel:"查找:",replaceLabel:"替换:",findButton:"查找",replaceButton:"替换",replaceAllButton:"全部替换",moreButton:"",findPlaceholder:"在文档内查找",replacePlaceholder:"替换为"},calendar:{mentions:"提醒：",remindNone:"无",remindOnTime:"准时",remind5Minutes:"提前5分钟",remind15Minutes:"提前15分钟",remind30Minutes:"提前30分钟",remind1Hour:"1小时",remind2Hours:"2小时",remind1Day:"1天",remind2Days:"2天",remind1Week:"1周",remindNoTime1Day:"提前1天y",remindNoTime2Days:"提前两天",remindNoTime1week:"提前1周",tomorrow:"明天",yesterday:"昨天",setTimeLabel:"设置时间:",setReminderLabel:"设置提醒:",week:{mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六",sun:"日"},month:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},webpage:{dialogTitle:"插入{name}",howToGetLinks:"如何获取链接",enterUrl:"网页地址",inputPlaceholder:"请输入",errorEnterUrl:"请输入网页地址",unsupportedUrl:"暂不支持插入该链接内容",youku:"优酷视频",qqvideo:"腾讯视频",modao:"墨刀",bilibili:"哔哩哔哩",other:"网页",figmaHelp:"在编辑时，点击右上角Share按钮，然后点击Copy Link ，支持Design File和FigJam File<br />在演示时(Present)，复制地址栏上的链接",bilibiliHelp:"在播放单个视频的时候，复制地址栏上的地址，格式为 https://www.bilibili.com/video/XXXX<br />番剧、直播等不支持",qqvideoHelp:"点击播放器下方的分享，然后选择链接<br />支持单个视频与剧集，其它不支持，有部分视频不支持站外播放",youkuHelp:"播放视频的时候，复制地址栏链接<br />支持免费内容，付费内容不可播放",modaoHelp:"点击右上角分享，然后点击复制链接<br />插入后自动进入预览模式",otherHelp:"通过iframe插入网页。不是所有的网站都支持通过iframe嵌入。"},mermaid:{invalid:"无效的mermaid内容：",empty:"空的 Mermaid"},flowchart:{invalid:"无效的flowchart内容：",empty:"空的 Flowchart"},plantuml:{empty:"空的 Plantuml"},office:{fullscreen:"全屏",download:"下载",save:"另存为",edit:"编辑",open:"查看",link:"链接",preview:"预览",card:"卡片",comment:"批注",notSupportPreview:"不支持预览: {fileName}",textProcess:"上传中 {percentage}",previewLoading:"预览生成中"},heading:{collapse:"收起",expand:"展开"},version:{latest:"当前版本",insert:"{name} 添加",delete:"{name} 删除",goBack:"返回",revertVersion:"还原内容",play:"播放历史操作",versionList:"历史记录 {count}",unknown:"未知版本",restoreFrom:"回滚自版本 {from}",restoreInfo:"回滚的版本暂不支持与上一版本对比"},checkbox:{placeholder:"快速分配任务，@提及自己或他人并设置截止时间",placeholderWithoutCalendar:"快速分配任务，@提及自己或他人",placeholderLocal:""},image:{copy:"复制图片",save:"存储图片",uploading:"正在上传图片...",addImage:"添加图片",selectImage:"选择图片",insertImage:"插入图片",localImage:"本地图片",remoteImage:"远程图片",retry:"重新上传",uploadErrorTips:"该图片来自外部链接，如果链接失效图片将无法查看，建议保存到本地后添加到页面中",uploadFailed:"图片上传失败",imageLoadError:"图片加载失败",networkError:"网络异常",netWorkCauseUploadFailed:"网络服务异常",youCan:"你可以",retryUpload:"重试",uploadErrorDetail:"该图片来自外部链接，外部链接已失效",uploadErrorDetail2:"请将原图保存到本地后上传，",openImageLink:"打开图片链接"},drawio:{empty:"空图表",loading:"正在加载编辑器...",hasDraft:"数据未正常保存，请重新编辑以加载最新数据"},formatType:{superscript:"上标",subscript:"下标",alignLeft:"左对齐",alignCenter:"居中",alignRight:"右对齐"},quickInsert:{h1Info:"#空格",h2Info:"##空格",h3Info:"###空格",h4Info:"####空格",h5Info:"#####空格",h6Info:"######空格",h7Info:"#######空格",h8Info:"########空格",quote:"引用",quoteInfo:">空格",line:"分割线",lineInfo:"---",audio:"音频",column:"水平分栏",web:"网页",link:"链接",linkInfo:"[]()",todo:"待办事项",todoInfo:"- []空格",tableInfo:"|xxx|xxx|xxx| 回车",table:"表格",image:"图片",video:"视频",imageInfo:"![]空格",codeBlock:"代码块",codeInfo:"```",math:"公式",mathInfo:"$$公式$$ 空格",file:"文件",uml:"流程图/UML"},mindmap:{autoFit:"自动缩放",fullScreen:"全屏查看",close:"关闭",exitFullscreen:"退出全屏"},templates:{title:"选择模板，快速创建",create:"新建模板",choose:"全部模板",customizedMark:"自定义"}};var Lu={"en-US":{common:{OK:"OK",cancel:"Cancel",submit:"Enter",noMatch:"No Match",enterContentToSearch:"Enter content to search",help:"Help",edit:"Edit",resize:"Resize",wordWrap:"Word Wrap",copy:"Copy"},date:{dateFromFuture:"From future",dateJustNow:"Just now",dateYesterday:"Yesterday",dateMinutesAgo:"{num} minutes ago",date1HourAgo:"1 hour ago",dateHoursAgo:"{num} hours ago",dateDaysAgo:"{num} days ago",dateWeeksAgo:"{num} weeks ago"},blocks:{text:"Text",webpage:"Web Page",uml:"UML",table:"Table",layout:"Horizontal Layout",audio:"Audio",video:"Video",office:"Office files",file:"Files",image:"Image",code:"Code",dividingLine:"Line",todo:"Todo"},code:{abstract:"Code"},table:{abstract:"Table",mergeCells:"Merge cells",splitCell:"Split cell",toTable:"Convert to table",showChart:"Show chart",hideChart:"Hide chart",showBorder:"Show border",hideBorder:"Hide border",toLayout:"Convert to layout",deleteCol:"Delete column",deleteRow:"Delete row",deleteTable:"Delete table",insertCol:"Insert column",insertRow:"Insert row",rowTitle:"Row Title",colTitle:"Col Title",stripeStyle:"Stripe style"},math:{mathMenuName:"TeX",emptyTeX:"Empty TeX",invalidTeX:"Invalid TeX",loading:"Loading..."},list:{indent:"Indent",outdent:"Outdent",toOrdered:"To ordered list",toUnordered:"To unordered list",addCalendar:"Set due date",addMention:"@Mention someone",setStart:"Set the number",continueList:"Continue numbering",restartList:"Start a new list",changeNumber:"Set numbering value",numberLabel:"Numbering order",viewAsMindMap:"View as MindMap"},command:{clearColor:"Clear",copy:"Copy",copyMarkdown:" Copy Markdown",copyText:" Copy Text",cut:"Cut",delete:"Delete",fontBackgroundColor:"Background Color",fontColor:"Font Color",lock:"Lock",marker:"Marker",operations:"Actions",paste:"Paste",pasteMarkdown:"Paste as Markdown",pasteImageLink:"Paste as image link",pasteNormalLink:"Paste as link",pasteText:"Paste Text",unlock:"Unlock",lockedBy:"Locked by {name}",hideExpiredMarker:"Hide marker (expired)",showExpiredMarker:"Show marker (expired)",insertBelow:"Insert below",common:"Common",styles:"Styles",webpage:"Third-party content",clipboard:"Clipboard"},comment:{count:"Comments ({num})",hide:"Hide Comments",show:"Show Comments",reply:"Reply",quicklyReply:"Add a comment...",send:"Send",placeholder:"Add a comment",replyPlaceholder:"Add comments or @ others",edit:"Edit",delete:"Delete",image:"Image",sendTitle:"Press Enter to send comment",replyTitle:"Press Enter to reply comment",isFirst:"已经是第一条批注",isLast:"已经是最后一条批注"},fontType:{name:"Font Type",text:"Main Body",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",heading7:"Heading 7",heading8:"Heading 8",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",addLink:"Link",addComment:"Comment",inlineCode:"Inline code"},link:{changeLinkTitle:"Modify link",insertLinkTitle:"Insert link",linkNameLabel:"Text",linkNameInfo:"(The default is the link address)",linkNamePlaceholder:"Please enter text",linkMenuName:"Link",linkUrlLabel:"Link Address",errorLinkUrlEmpty:"Please enter the link address",linkUrlPlaceholder:"Please enter the link address",unlink:"Unlink"},find:{findLabel:"Find:",replaceLabel:"Replace:",findButton:"Find",replaceButton:"Replace",replaceAllButton:"Replace All",moreButton:"",findPlaceholder:"Find text in document",replacePlaceholder:"Replace to"},calendar:{mentions:"Mentions: ",remindNone:"none",remindOnTime:"on time",remind5Minutes:"5 minutes early",remind15Minutes:"15 minutes early",remind30Minutes:"30 minutes early",remind1Hour:"1 hour early",remind2Hours:"2 hours early",remind1Day:"1 day early",remind2Days:"2 days early",remind1Week:"1 week early",remindNoTime1Day:"1 day early",remindNoTime2Days:"2 days early",remindNoTime1week:"1 week early",tomorrow:"Tomorrow",yesterday:"Yesterday",setTimeLabel:"Set Time:",setReminderLabel:"Remind:",week:{mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",sun:"Sun"},month:{jan:"January",feb:"February",mar:"March",apr:"April",may:"May",jun:"June",jul:"July",aug:"August",sep:"September",oct:"October",nov:"November",dec:"December"}},webpage:{dialogTitle:"Insert {name}",howToGetLinks:"How to get links",enterUrl:"Please enter webpage address",inputPlaceholder:"Please enter url",errorEnterUrl:"Please enter the webpage address",unsupportedUrl:"Unsupported url",youku:"Youku video",qqvideo:"Tencent Video",modao:"Modao",bilibili:"Bilibili",other:"Webpage",figmaHelp:"During editing, click the Share button in the upper right corner, and then click Copy Link to support Design File and FigJam File<br />During the presentation (Present), copy the link on the address bar",bilibiliHelp:"When playing a single video, copy the address in the address bar, the format is https://www.bilibili.com/video/XXXX<br /> Fan dramas, live broadcasts, etc. are not supported",qqvideoHelp:"Click to share under the player, and then select the link<br />Supports single videos and episodes, others are not supported, and some videos do not support offsite playback",youkuHelp:"When playing a video, copy the link in the address bar<br />support free content, paid content cannot be played",modaoHelp:"Click on the upper right corner to share, and then click on the copy link <br />after inserting it will automatically enter the preview mode",otherHelp:"Insert a webpage through an iframe. Not all websites support infiltration via iframe. "},mermaid:{invalid:"Invalid mermaid content: ",empty:"Empty Mermaid"},flowchart:{invalid:"Invalid flowchart content: ",empty:"Empty Flowchart"},plantuml:{empty:"Empty Plantuml"},office:{fullscreen:"fullscreen",download:"Download",save:"Save as",edit:"Edit",open:"Open",link:"Link",preview:"Preview",card:"Card",comment:"Comment",notSupportPreview:"Can not preview this file: {fileName}",textProcess:"Uploading {percentage}",previewLoading:"Preview loading..."},heading:{collapse:"Collapse",expand:"Expand"},version:{latest:"Latest",insert:"Added by {name}",delete:"Deleted by {name}",goBack:"Back",revertVersion:"Revert",play:"Play",versionList:"Versions ({count})",unknown:"Unknown version",restoreFrom:"Reverted from {from}",restoreInfo:"The rolled back version does not currently support comparison with the previous version."},checkbox:{placeholder:"Quickly assign tasks @mention yourself or others and set deadlines",placeholderWithoutCalendar:"Quickly assign tasks @mention yourself or others",placeholderLocal:""},image:{copy:"Copy Image",save:"Save Image...",uploading:"Uploading image...",addImage:"Add image",selectImage:"Select image",insertImage:"Insert image",localImage:"Local image",remoteImage:"Remote image",retry:"Retry",uploadErrorTips:"This image is from an external link and may become unavailable if the link expires. It's recommended to save the image as a local file and upload that file to the page",uploadFailed:"Failed to upload image",imageLoadError:"Failed to load image",networkError:"Network error",netWorkCauseUploadFailed:"Network error",youCan:"",retryUpload:"Please try again",uploadErrorDetail:"Image link expired",uploadErrorDetail2:"Please save the image as a local file and upload it again,",openImageLink:"Open original image link"},drawio:{empty:"Empty Graph",loading:"Loading diagram editor...",hasDraft:"The data was not saved properly, please re-edit to load the latest data"},formatType:{superscript:"Superscript",subscript:"Subscript",alignLeft:"Align Left",alignCenter:"Align Center",alignRight:"Align Right"},quickInsert:{h1Info:"# White Space",h2Info:"## White Space",h3Info:"### White Space",h4Info:"#### White Space",h5Info:"##### White Space",h6Info:"###### White Space",h7Info:"####### White Space",h8Info:"######## White Space",quote:"Quote",quoteInfo:"> White Space",line:"Line",lineInfo:"---",audio:"Audio",column:"Column",web:"Web",link:"Link",linkInfo:"[]()",todo:"Todo",todoInfo:"- [] White Space",tableInfo:"|xxx|xxx|xxx| Enter",table:"Table",image:"Image",video:"Video",imageInfo:"![] White Space",codeBlock:"Code",codeInfo:"```",math:"TeX",mathInfo:"$$TeX$$ White Space",file:"File",uml:"UML"},mindmap:{autoFit:"Auto fit",fullScreen:"Fullscreen",close:"Close",exitFullscreen:"Exit fullscreen"},templates:{title:"Choose a template",create:"New template",choose:"All templates",customizedMark:"Custom"}},"zh-CN":Nu,"zh-TW":Nu,"ja-JP":{common:{OK:"OK",cancel:"キャンセル",submit:"確認",noMatch:"一致するデータはありません",enterContentToSearch:"検索",help:"ヘルプ",edit:"編集",resize:"ズーム",wordWrap:"折り返す",copy:"複製"},date:{dateFromFuture:"将来から",dateJustNow:"先程",dateYesterday:"昨日",dateMinutesAgo:"{num}分前",date1HourAgo:"1時間前",dateHoursAgo:"{num}時間前",dateDaysAgo:"{num}日前",dateWeeksAgo:"{num}週前"},blocks:{text:"テキスト",webpage:"Webページ",uml:"フローチャート/UML",table:"表",layout:"列区切り",audio:"音声",video:"動画",office:"Officeファイル",file:"ファイル",image:"画像",code:"コード",dividingLine:"区切り線",todo:"To do"},code:{abstract:"コード"},table:{abstract:"表",mergeCells:"セルを結合",splitCell:"セルの結合を解除",toTable:"表に変換",showChart:"グラフを表示",hideChart:"グラフを非表示",showBorder:"枠線を表示",hideBorder:"枠線を非表示",toLayout:"レイアウトに変換",deleteCol:"列を削除",deleteRow:"行を削除",deleteTable:"表を削除",insertCol:"列を挿入",insertRow:"行を挿入",rowTitle:"行見出し",colTitle:"列見出し",stripeStyle:"縞模様"},math:{mathMenuName:"数式",emptyTeX:"空の数式",invalidTeX:"無効なTeX",loading:"読み込み中"},list:{indent:"インデント増",outdent:"インデント減",toOrdered:"番号付きリスト",toUnordered:"箇条書きリスト",addCalendar:"締切日を設定",addMention:"メンションおよび通知",setStart:"番号を設定",continueList:"連番を設定",restartList:"新しいリストを作成",changeNumber:"番号を編集",numberLabel:"番号",viewAsMindMap:"マインドマップ化"},command:{clearColor:"色をクリア",copy:"複製",copyMarkdown:"Markdownとして複製",copyText:"テキストとして複製",cut:"切り取り",delete:"削除",fontBackgroundColor:"背景色",fontColor:"テキストの色",lock:"ロック",marker:"コメント",operations:"操作",paste:"貼り付け",pasteMarkdown:"Markdownとして貼り付け",pasteText:"テキストを貼り付け",pasteImageLink:"画像リンクを貼り付け",pasteNormalLink:"リンクを貼り付け",unlock:"ロック解除",lockedBy:"{name}にロックされた",hideExpiredMarker:"コメントを非表示（期限切れ）",showExpiredMarker:"コメントを表示（期限切れ）",insertBelow:"下に追加",common:"一般",styles:"書式",webpage:"Third-party content",clipboard:"クリップボード"},comment:{count:"コメント ({num})",hide:"コメントを非表示",show:"コメントを表示",reply:"返信",quicklyReply:"コメントを追加...",send:"送信",placeholder:"コメントを追加",replyPlaceholder:"コメントまたは@他者の追加",edit:"編集",delete:"削除",image:"画像",sendTitle:"Enterを押してコメントを送信",replyTitle:"Enterを押してコメントを返信",isFirst:"最初のコメントです",isLast:"最後のコメントです"},fontType:{name:"フォントタイプ",text:"本文",heading1:"見出し1",heading2:"見出し2",heading3:"見出し3",heading4:"見出し4",heading5:"見出し5",heading6:"見出し6",heading7:"見出し7",heading8:"見出し8",bold:"太字",italic:"斜体",underline:"下線",strikethrough:"取り消し線",addLink:"リンク",addComment:"コメント",inlineCode:"Inline code"},link:{changeLinkTitle:"リンクを編集",insertLinkTitle:"リンクを挿入",linkNameLabel:"テキスト",linkNameInfo:"（デフォルトはURLです）",linkNamePlaceholder:"テキストを入力してください",linkMenuName:"リンク",linkUrlLabel:"URL",errorLinkUrlEmpty:"URLを入力してください",linkUrlPlaceholder:"リンク先を入力してください",unlink:"リンク解除"},find:{findLabel:"検索：",replaceLabel:"置換：",findButton:"検索",replaceButton:"置換",replaceAllButton:"すべてを置換",moreButton:"",findPlaceholder:"ドキュメントを検索",replacePlaceholder:"に置換"},calendar:{mentions:"リマインダー：",remindNone:"なし",remindOnTime:"定刻",remind5Minutes:"5分前",remind15Minutes:"15分前",remind30Minutes:"30分前",remind1Hour:"1時間",remind2Hours:"2時間",remind1Day:"1日",remind2Days:"2日",remind1Week:"1週",remindNoTime1Day:"1日前",remindNoTime2Days:"2日前",remindNoTime1week:"1週前",tomorrow:"明日",yesterday:"昨日",setTimeLabel:"日時を設定：",setReminderLabel:"リマインダーを設定：",week:{mon:"月",tue:"火",wed:"水",thu:"木",fri:"金",sat:"土",sun:"日"},month:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},webpage:{dialogTitle:"{name}を挿入",howToGetLinks:"リンクの取得方法",enterUrl:"WebページのURL",inputPlaceholder:"入力してください",errorEnterUrl:"WebページのURLを入力してください",unsupportedUrl:"このリンクの内容は挿入できません",youku:"Youku動画",qqvideo:"Tencent動画",modao:"Modao",bilibili:"Bilibili",other:"Webページ",figmaHelp:"編集の場合は、右上のShare>Copy Linkをクリックしてください。Design FileとFigJam Fileに対応します<br />プレゼンモード(Present)の場合は、アドレスバーのリンクをコピーしてください",bilibiliHelp:"動画を再生する際に、アドレスバーのリンクをコピーしてください。形式： https://www.bilibili.com/video/XXXX<br />アニメ番組や生放送には対応していません",qqvideoHelp:"プレーヤー下の共有をクリックし、リンクを選択します<br />単一の動画しか対応できません。一部の動画はサイト外に再生できません",youkuHelp:"動画を再生する際に、アドレスバーのリンクをコピーしてください<br />無料動画は再生可能で、有料動画は再生できません",modaoHelp:"右上の共有をクリックし、リンクをコピーしてください<br />挿入後は自動的にプレビューモードになります",otherHelp:"iframeにより、Webページを挿入します。一部のサイトはiframeによってページに埋め込むことができません。"},mermaid:{invalid:"無効なmermaid内容：",empty:"空きのMermaid"},flowchart:{invalid:"無効なflowchart内容：",empty:"空きのFlowchart"},plantuml:{empty:"空きのPlantuml"},office:{fullscreen:"全画面",download:"ダウンロード",save:"保存",edit:"編集",open:"表示",link:"リンク",preview:"プレビュー",card:"カード",comment:"コメント",notSupportPreview:"プレビューできません: {fileName}",textProcess:"アップロード中{percentage}",previewLoading:"プレビュー生成中"},heading:{collapse:"縮小",expand:"展開"},version:{latest:"現在のバージョン",insert:"{name} を追加",delete:"{name} を削除",goBack:"戻る",revertVersion:"内容を復元",play:"操作の記録を再生",versionList:"履歴{count}",unknown:"未知のバージョン",restoreFrom:"バージョン{from}から復元",restoreInfo:"復元したバージョンは前のバージョンと比較することができません"},checkbox:{placeholder:"メンション機能(@)により、タスクを素早く割り当て、締切日を設定します。",placeholderWithoutCalendar:"メンション機能(@)により、タスクを素早く割り当てます。",placeholderLocal:""},image:{copy:"画像を複製",save:"画像を保存",uploading:"画像アップロード中...",addImage:"画像を追加",selectImage:"画像を選択",insertImage:"画像を挿入",localImage:"パソコンの画像を挿入",remoteImage:"リモート画像",retry:"アップロード",uploadErrorTips:"This image is from an external link and may become unavailable if the link expires. It's recommended to save the image as a local file and upload that file to the page",uploadFailed:"Failed to upload image",imageLoadError:"Failed to load image",networkError:"Network error",netWorkCauseUploadFailed:"Network error",youCan:"",retryUpload:"Please try again",uploadErrorDetail:"Image link expired",uploadErrorDetail2:"Please save the image as a local file and upload it again,",openImageLink:"Open original image link"},drawio:{empty:"空白グラフ",loading:"エディター読み込み中...",hasDraft:"データが正しく保存されていません。再編集して最新のデータを読み込みます。"},formatType:{superscript:"上付き文字",subscript:"下付き文字",alignLeft:"左揃え",alignCenter:"中央揃え",alignRight:"右揃え"},quickInsert:{h1Info:"#空白",h2Info:"##空白",h3Info:"###空白",h4Info:"####空白",h5Info:"#####空白",h6Info:"######空白",h7Info:"#######空白",h8Info:"########空白",quote:"引用",quoteInfo:">空白",line:"区切り線",lineInfo:"---",audio:"音声",column:"列区切り",web:"Webページ",link:"ハイパーリンク",linkInfo:"[]()",todo:"To do",todoInfo:"- []空白",tableInfo:"|xxx|xxx|xxx| エンター",table:"表",image:"画像",video:"動画",imageInfo:"![]空白",codeBlock:"コード",codeInfo:"```",math:"数式",mathInfo:"$$数式$$ 空白",file:"ファイル",uml:"フローチャート/UML"},mindmap:{autoFit:"自動フィット",fullScreen:"全画面表示のオン",close:"閉じる",exitFullscreen:"全画面表示のオフ"},templates:{title:"テンプレートを選択",create:"テンプレートを作成",choose:"すべてのテンプレート",customizedMark:"カスタマイズ"}}},Ru=_u().init("en-US",Lu);const ju=Ru;function Uu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;Ru.setLang&&Ru.setLang(e||"en-US")}function Fu(e){Ou()(Ru.__metas__,e)}function zu(e,t){var n=Ru.get(e,t);return n===e&&console.error("no locale value for key ".concat(e)),n}var Qu=qo.collapsedIcon,Pu=qo.expandedIcon,Hu="expanded",Vu="collapsed",Ku="heading-collapsed";function Gu(e){return e instanceof HTMLHeadingElement?(w(Number.parseInt(e.tagName.substr(1),10)),!0):-1!==Array.from(e.classList).findIndex((function(e){return e.startsWith("editor-heading-")}))}function Wu(e){if(w(Uf(e)),e instanceof HTMLHeadingElement){var t=Number.parseInt(e.tagName.substr(1),10);return w(t),t}return Ga(e,"editor-heading-7")?7:Ga(e,"editor-heading-8")?8:void w(!1,"not a valid heading block")}function Yu(e){if(Gu(e))try{return Wu(e)}catch(e){return}}function qu(e){return w(Gu(e)),Ga(e,Ku)}function Zu(e){w(Gu(e));for(var t=[],n=Wu(e),r=kN(e),o=TN(e),i=ON(r),a=o+1;a<i;a++){var s=BN(r,a);if(Gu(s))if(Wu(s)<=n)break;t.push(s)}return t}function Xu(e,t){var n=Wp(t,!0);w(n);var r=!1;(mh(t)||qu(t)||e.options.isMobile)&&(r=!0);var o=n.querySelector(".editor-heading-expand-button");if(r){if(!o){w(o=document.createElement("div")),Qa(o,"block-menu-button","editor-heading-expand-button",Vi.TOOLTIP);var i=document.createElement("div");Qa(i,"button",Vi.BLOCK_MENU_BUTTON),o.append(i),o.onclick=function(){!function(e){return!qu(e)}(t)?$u(t):Ju(t)},n.appendChild(o)}qu(t)?(Qa(o,Vu),Ja(o,Hu),o.innerHTML=Qu,o.setAttribute("data-tooltip",ju.heading.expand)):(Qa(o,Hu),Ja(o,Vu),o.innerHTML=Pu,o.setAttribute("data-tooltip",ju.heading.collapse)),o.style.display=""}else o&&(o.style.display="none")}function Ju(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=OX.getEditor(e),r=n.getSelectionDetail();r.startBlock!==e&&n.selectBlock(e,0,0);var o=Zu(e);o.forEach((function(e){Qa(e,"heading-collapsed-child")})),Qa(e,Ku),Xu(n,e),t&&n.updateBlockData(e,{headingCollapsed:!0},{fromUndo:!1,updateBlock:!1,partial:!0,skipDirtyCallback:n.isReadOnly()})}function $u(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Zu(e);n.forEach((function(e){Ja(e,"heading-collapsed-child")})),Ja(e,Ku),n.forEach((function(e){Gu(e)&&qu(e)&&Ju(e)}));var r=OX.getEditor(e);Xu(r,e),t&&r.updateBlockData(e,{headingCollapsed:!1},{fromUndo:!1,updateBlock:!1,partial:!0,skipDirtyCallback:r.isReadOnly()})}function ed(e){return Ga(e,"heading-collapsed-child")}function td(e,t){!e.options.hideBlockMenuButton&&Gu(t)&&Xu(e,t)}function nd(e){td(OX.getEditor(e),e)}function rd(e){td(OX.getEditor(e),e)}var od=n(4282),id=n.n(od),ad=n(4268),sd=n.n(ad);function cd(e){return new Promise((function(t){setTimeout(t,e)}))}function ld(e){var t=Array.from(e).map((function(e){return e.toLocaleLowerCase()===e?e:"-".concat(e)})).join("");return"data-".concat(t)}function ud(e,t){w(e.startsWith("inline-style-"));var n=e.substr("inline-style-".length);return"".concat(n,": ").concat(t)}function dd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pd(e){return function(e){if(Array.isArray(e))return Ad(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||hd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||hd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hd(e,t){if(e){if("string"==typeof e)return Ad(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ad(e,t):void 0}}function Ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var md=new Map,gd=new Map;function vd(e,t,n){var r=t||B(),o=JSON.parse(JSON.stringify(n))||{};return Object.assign({box:!0,id:r,type:e,created:Date.now()},o)}function bd(e){var t=md.get(e);return w(t),t}function yd(e){var t;return md.forEach((function(n,r){n===e&&(t=r)})),w(t),t}function wd(e,t){t.prefix&&gd.set(t.prefix,t),md.set(e,t)}function xd(e){return gd.get(e)}function kd(e){var t=bd(e);t.prefix&&(xd(t.prefix)===t&&gd.delete(t.prefix))}function Cd(e){return e instanceof HTMLElement&&("SPAN"===e.tagName&&e.getAttribute(Ui.NODE_TYPE)===Fi.BOX)}function Ed(e){if(w(e),Cd(e))return e;for(var t=e.parentElement;t;){if(Cd(t))return t;t=t.parentElement}w(!1)}function Bd(e){for(var t=e;t;){if(!t.parentElement)return!1;if(Cd(t))return!0;t=t.parentElement}return!1}function Td(e){return e&&e.attributes&&!0===e.attributes.box&&e.attributes.type&&e.attributes.id}function Md(e){return w(e.id),e.id}function Id(e){w(e);var t=e.getAttribute("data-box-type");return w(t),t}function Dd(e){w(Bd(e));var t=Ed(e);return w(t),bd(Id(t))}function _d(e,t){w(t);var n=Dd(t);return w(n),n.getToolbarOptions?n.getToolbarOptions(e,t):null}function Sd(e){return e.fake?{insert:"",attributes:e}:{insert:" ",attributes:e}}function Od(e,t){var n=Md(t);return Sd(e.getBoxData(n))}function Nd(e){return w(e.attributes),w(e.attributes.box),w(e.attributes.id),w(e.attributes.type),e.attributes}function Ld(e,t){w(t.id),w(!0===t.box),e.setBoxData(t.id,t);var n=bd(t.type);w(n);var r=n.createNode(e,t);return w(r),r}function Rd(e){var t={};return Object.entries(e).forEach((function(e){var n=fd(e,2),r=n[0],o=n[1];if(r.startsWith("data")&&r.length>4&&r[4].toLocaleUpperCase()===r[4]){var i=ld(r).substr(5);t[i]=o}})),t}function jd(e,t){var n,r=Ld(e,t),o=function(e){var t=[];return Object.entries(e).forEach((function(e){var n=fd(e,2),r=n[0],o=n[1];r.startsWith("class-")&&!0===o&&t.push(r.substr(6))})),t}(t),i={id:t.id,attributes:Object.assign(Object.assign(Object.assign({},Rd(t)),(n={class:["inline-plugin"].concat(pd((null==r?void 0:r.classes)||[]),pd(o)).join(" "),contenteditable:"false"},dd(n,Ui.NODE_TYPE,Fi.BOX),dd(n,Ui.BOX_TYPE,t.type),n)),r.attributes)},a=function(e){var t=[];return Object.entries(e).forEach((function(e){var n=fd(e,2),r=n[0],o=n[1];if(r.startsWith("inline-style-")&&void 0!==o){var i=r.substr(13);t.push("".concat(i,": ").concat(o))}})),t.join("; ")}(t);if(a){var s=i.attributes.style;i.attributes.style=s?"".concat(s,"; ").concat(a):a}var c=r.children?r.children.map((function(e,t,n){var r=Object.assign({class:(e.classes||[]).join(" ")},e.attributes);if("image"===e.type)return new(id())("IMG",{src:e.src,attributes:r},[]);if("br"===e.type)return new(id())("BR",{},[]);if("input"===e.type){var o=e;w(o.type),w(o.inputId);var i=o.width?"width:".concat(o.width,"px"):void 0;if(o.inlineStyle&&(i=i?"".concat(i,";").concat(o.inlineStyle):o.inlineStyle),"select"===o.inputType){var a=[];return o.items&&(a=o.items.map((function(e){return new(id())("OPTION",{value:e.value},[new(sd())(e.text)])}))),new(id())("SELECT",{type:o.inputType,id:o.inputId,value:o.value,disabled:o.disabled,style:i,attributes:{class:(e.classes||[]).join(" ")}},a)}if("checkbox"===o.inputType)return new(id())("INPUT",{type:o.inputType,id:o.inputId,value:o.value,checked:o.checked,disabled:o.disabled,attributes:{class:(e.classes||[]).join(" ")}},[]);var s=e.classes||[];return s.push("editor-input-text"),o.value||s.push("editor-input-placeholder"),o.disabled&&s.push("editor-input-disabled"),new(id())("SPAN",{type:o.inputType,id:o.inputId,disabled:o.disabled,style:i,textContent:o.value||o.placeholder||"",attributes:{class:s.join(" ")}},[])}if("a"===e.type){var c=e,l={},u=(e.classes||[]).join(" ");return u&&(l.class=u),c.download&&(l.download=c.download),new(id())("A",{text:c.text,href:c.href||"",id:c.id,target:"_blank",attributes:l},[])}w("text"===e.type);var d=0===t,p=t===n.length-1,f=os(e.text,{first:d,last:p});return new(id())("SPAN",{textContent:f,attributes:r},[])})):[];return new(id())("SPAN",i,c)}function Ud(e,t){var n=Md(t),r=e.getBoxData(n);return jd(e,r)}function Fd(){return Array.from(gd.keys())}function zd(e){var t=Fd().filter((function(t){return e.endsWith(t)}));if(0!==t.length)return gd.get(t[0])}function Qd(e,t,n,r){var o=bd(t.type);w(o),o.handleBoxInserted&&o.handleBoxInserted(e,t,n,r)}function Pd(e,t,n,r,o){e.selectBox(n,o);var i=bd(t.type);w(i),i.handleBoxClicked&&i.handleBoxClicked(e,t,n,r)}function Hd(e,t,n,r,o,i){if(o&&e.getBoxById(o))throw new Yi("box has already exists: ".concat(o));var a=vd(r,o,i),s=hf(t);w(s.text);var c=_o.createInsertBoxOp(n,a),l=s.text.compose(c);return e.updateBlockText(t,l,{fromUndo:!1,updateBlock:!0}),Qd(e,a,t,n),a}function Vd(e,t){if(!Bd(e))return!1;if(e instanceof HTMLInputElement||e instanceof HTMLSelectElement)return!0;if(e instanceof HTMLSpanElement){var n=e.childNodes[t];return!!n&&(n instanceof HTMLInputElement||n instanceof HTMLSelectElement)}return!1}var Kd={prefix:"",createNode:function(e,t){var n=t;return{classes:[Vi.IGNORE,"fake-caret"],attributes:{"data-user-id":n.userId,"data-user-name":n.displayName,"data-caret-type":n.caretType,"data-caret-color":n.color,"data-caret-selection-color":n.selectionColor,style:"--caret-color: ".concat(n.color,";")},children:[{type:"text",text:" "}]}}};function Gd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yd(e){var t;return Ga(e,Vi.IGNORE)||Ga(e,Vi.COMPOSITION)?0:Cd(e)?1:(w(null!==e.textContent&&void 0!==e.textContent,"node.textContent: ".concat(e.textContent)),null===(t=e.textContent)||void 0===t?void 0:t.length)}function qd(e){var t=Array.from(e.childNodes),n="";return t.forEach((function(e){Ga(e,Vi.IGNORE)||Ga(e,Vi.COMPOSITION)||(Cd(e)?n+=Zi:n+=e.textContent)})),n}function Zd(e){return Ga(e,Vi.COMPOSITION)||Ga(e,Vi.IGNORE)}function Xd(e){return!Zd(e)}function Jd(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?Iu()(e,Xd,t):Tu()(e,Xd,t)}function $d(e,t,n,r,o){w(r>=0),w(r<=n.length);var i=Jd(n,r,!0),a=Jd(n,r+1);if(i||a||0!==r){w(i||a);var s=function(t){var n,r;if(t instanceof HTMLElement)if(t instanceof HTMLBRElement){var o=t.parentNode;w(o);var i=Array.from(o.childNodes).indexOf(t);w(-1!==i),e.setStart(o,i)}else{w(1===t.childNodes.length||2===t.childNodes.length),2===t.childNodes.length&&w("BR"===t.childNodes[1].nodeName);var a=t.childNodes[0];w(a instanceof Text),e.setStart(a,(null===(n=a.textContent)||void 0===n?void 0:n.length)||0)}else w(t instanceof Text),e.setStart(t,(null===(r=t.textContent)||void 0===r?void 0:r.length)||0)};i&&a?Cd(i)&&Cd(a)?e.setStart(t,r+1):Cd(i)?e.setStart(a,0):Cd(a)?s(i):o&&o.selectNext?s(a):s(i):i?Cd(i)?e.setStart(t,r+1):s(i):a?Cd(a)?e.setStart(t,r):e.setStart(a,0):e.setStart(t,0)}else e.setStart(t,0)}function ep(e){for(var t=Array.from(e.childNodes),n=0,r=0;r<t.length;r++){n+=Yd(t[r])}return n}function tp(e,t,n){-1===t&&(t=ep(e));var r=Array.from(e.childNodes),o=0,i=document.createRange();if(0===t)return w(e.firstChild),Cd(e.firstChild)?i.setStart(e,0):e.firstChild.firstChild instanceof Text?i.setStart(e.firstChild.firstChild,0):e.firstChild instanceof HTMLBRElement?i.setStart(e,0):i.setStart(e.firstChild,0),i;for(var a=0;a<r.length;a++){var s=r[a],c=Yd(s);if(o+c===t)return $d(i,e,r,a,n),i;if(o+c>t){if(w(s instanceof Text||s instanceof HTMLElement),w(!Cd(s)),w(!Ga(s,Vi.COMPOSITION)),w(!Ga(s,Vi.IGNORE)),s instanceof Text)i.setStart(s,t-o);else{var l=s.firstChild;w(l instanceof Text),i.setStart(l,t-o)}return i}o+=c}return w(!1),i}function np(e,t){var n;if(w(t!==e),t.parentNode===e)return t;if((null===(n=t.parentNode)||void 0===n?void 0:n.parentNode)===e)return t.parentNode;for(var r=t;r;){if(r.parentNode===e)return r;w(r.parentNode),r=r.parentNode}throw new Error("invalid text element")}function rp(e,t,n){var r=t;if(ts(r,e)){var o=wN(e);o&&Rp(o)===Qi.LIST&&(r=e,n>0&&(n=Pa(r)))}w(ts(e,r)),w(n>=0);var i=n;if(r===e){for(var a=0,s=e.childNodes,c=0;c<i;c++){w(c<s.length),a+=Yd(s[c])}return a}var l=np(e,r);if(l.parentElement===e&&Cd(l)){for(var u=0,d=e.childNodes,p=0;p<d.length;p++){var f=d[p];if(f===l)return u;u+=Yd(f)}throw new Error("invalid caret pos")}for(var h=0,A=e.childNodes,m=0;m<A.length;m++){var g=A[m];if(g===l)return Zd(g)||(h+=i),h;h+=Yd(g)}throw new Error("cannot get caret pos")}function op(e,t,n){return rp(e,t,n)}function ip(e,t,n){Gu(e)&&qu(e)&&$u(e);var r=kN(e);w(r);var o,i=OX.getEditor(r),a=TN(e),s=ep(Vf(e)),c=B(),l=Qi.TEXT,u=new Yo([]),d=Object.assign({id:c,type:l,text:u,padding:sf(e)},lh(e));if(w(l=d.type),-1===t||t===s)o=i.insertBlock(r,a+1,l,d,{fromUndo:!1,focusToBlock:!1,localAction:!0});else{var p=hf(e);w(p.text);var f=Gd(p.text.clone().split(t),2),h=f[0],A=f[1];i.updateBlockText(e,h,{fromUndo:!1,updateBlock:!0});var m={};n.keepFormat&&(l=(m=hf(e)).type,i.isTitleBlock(e)&&delete m.heading),o=i.insertBlock(r,a+1,l,Object.assign(Object.assign({},m),{id:c,type:l,text:A,lock:void 0}),{fromUndo:!1,focusToBlock:!1,localAction:!0})}return o}function ap(e){var t;w(e.collapsed);var n=e.startContainer,r=wN(n);w(r);var o=Vf(r);if(w(ts(o,n)),n===o){var i=e.startOffset,a=Array.from(o.childNodes);return{prev:Jd(a,i-1,!0),next:Jd(a,i,!1)}}if(Zd(n)){var s=Array.from(o.childNodes),c=s.indexOf(n);return w(-1!==c),{prev:Jd(s,c,!0),next:Jd(s,c+1,!1)}}if(0===e.startOffset&&n instanceof HTMLElement){var l=Array.from(o.childNodes),u=l.indexOf(n);return w(-1!==u),{prev:Jd(l,u,!0),next:n}}w(n instanceof Text);var d=(null===(t=n.textContent)||void 0===t?void 0:t.length)||0;if(e.startOffset>0&&e.startOffset<d)return{prev:n,next:n};if(0===e.startOffset){var p=np(o,n),f=Array.from(o.childNodes),h=f.indexOf(p);return w(-1!==h),{prev:Jd(f,h-1,!0),next:n}}w(e.startOffset===d);var A=np(o,n),m=Array.from(o.childNodes),g=m.indexOf(A);return w(-1!==g),{prev:n,next:Jd(m,g+1,!1)}}function sp(e,t){return w(ts(e,t)),rp(Vf(e),t,0)}function cp(e,t){if(!(e.startContainer instanceof Text))return!1;var n=e.startContainer.parentNode;if(!(n instanceof HTMLSpanElement))return!1;var r=n.parentElement;return r instanceof HTMLElement&&(!!Ga(r,"text-element")&&(!(n.innerText.length>1)&&("backward"===t?1===e.startOffset:0===e.startOffset)))}wd(Pi.FAKE_CARET,Kd);var lp=new Map;function up(e){return lp.get(e)}function dp(e){var t=e.getAttribute(Ui.EMBED_TYPE);return w(t),t}function pp(e){var t=e.getAttribute("data-preview-type");return w(t),t}function fp(e){var t=dp(e),n=lp.get(t);return w(n),n}function hp(e){var t=e;return t instanceof Text&&w(t=t.parentElement),w(t instanceof Element),t.closest(".".concat(Vi.EMBED))}function Ap(e){var t=e.querySelector(".".concat(Vi.EMBED));return w(t),t}function mp(e){return dp(Ap(e))}function gp(e,t,n,r,o){var i=up(n);w(i);var a=i.createElement(e,t,r,o);return a.setAttribute(Ui.NODE_TYPE,Fi.EMBED),a.setAttribute(Ui.EMBED_TYPE,n),a.contentEditable="false",a}function vp(e){var t,n=Ap(e),r=up(dp(n));w(r),null===(t=r.deleteElement)||void 0===t||t.call(r,e,n)}function bp(e){return e.getAttribute(Ui.NODE_TYPE)===Fi.EMBED}function yp(e){try{return!!hp(e)}catch(e){return!1}}function wp(e,t){lp.set(e,t)}function xp(e,t){w(bp(t));var n=fp(t).saveData(e,t);return w(n),n}function kp(e,t){w(bp(t));var n=fp(t);return n.saveSelectionData?n.saveSelectionData(e,t):xp(e,t)}function Cp(e,t){w(bp(t));var n=fp(t);return!!n.clearSelection&&n.clearSelection(e,t)}function Ep(e,t,n,r){var o=If(e,Qi.EMBED,{embedType:t,embedData:n},r);return delete o.text,o}function Bp(e){var t;return lp.forEach((function(n,r){n===e&&(t=r)})),w(t),t}function Tp(){return Array.from(lp.keys())}function Mp(e){var t=new Map;return lp.forEach((function(n){if(n.getEmbedOptions){var r=n.getEmbedOptions(e);if(r.menuItems){var o=Bp(n);r.menuItems.forEach((function(e){t.set(e,o)}))}}})),t}function Ip(e,t,n,r,o,i){var a=fp(Ap(r));return a.adjustArrowMove?a.adjustArrowMove(e,t,n,r,o,i):null}function Dp(e){var t=new Map;return lp.forEach((function(n){if(n.getEmbedOptions){var r=n.getEmbedOptions(e);if(r.autoSuggestItems){var o=Bp(n);r.autoSuggestItems.forEach((function(e){t.set(o,e)}))}}})),t}function _p(e){return function(e){if(Array.isArray(e))return Sp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Sp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Op=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Np=new Map,Lp=new Map;function Rp(e){var t=e.getAttribute(Ui.BLOCK_TYPE);return w(t),t}function jp(e){return e.getAttribute(Ui.NODE_TYPE)===Fi.BLOCK}function Up(e){return e.getAttribute(Ui.NODE_TYPE)===Fi.CONTAINER}function Fp(e){return Ga(e,Vi.BLOCK_CONTENT)}function zp(e){return w(e.id),e.id}function Qp(e){var t=Np.get(e);return t||console.error("unknown block type: ".concat(e)),w(t),t}function Pp(e){w(e);var t=e.getAttribute(Ui.BLOCK_TYPE);return w(t),Qp(t)}function Hp(e){return e.richTextData}function Vp(e,t){var n=e;w(Yo.isDocument(t.toOps())),n.richTextData=t.clone()}function Kp(e,t,n,r){var o,i="div";jf(n)&&r.heading&&r.heading>=1&&r.heading<=6&&(i="h".concat(r.heading));var a=document.createElement(i),c=Qp(n),l=c.createBlockContent(e,t,r,a);if(Qa(l,Vi.BLOCK_CONTENT),a.appendChild(l),a.id=t,a.setAttribute(Ui.NODE_TYPE,Fi.BLOCK),a.setAttribute(Ui.BLOCK_TYPE,n),Qa(a,Vi.BLOCK,"".concat(n,"-block")),r.heading&&(Qa(a,"editor-heading-".concat(r.heading)),r.headingCollapsed&&Qa(a,Ku)),n===Qi.EMBED){var u=r.embedType;Qa(a,Vi.BLOCK,"".concat(u,"-embed"))}r.align&&Qh(a,r.align),r.lock&&qp(e,a,r.lock),r.markerData&&(w(void 0!==r.markerWidth),w(void 0!==r.markerExpired),Sh(a,r.markerData,r.markerWidth,r.markerExpired)),r.quoted&&of(a,!0),r.padding&&af(a,r.padding),r.styles&&Qa.apply(s,[a].concat(_p(r.styles))),r.comments&&r.comments.length>0&&(r.comments.forEach((function(e){vf(a,e)})),Qa(a,Vi.COMMENT));var d=a;(Vp(d,Yo.from(r.text)),c.getBlockOptions&&c.getBlockOptions().textBlock)&&Qa(Vf(d),"text-element");return r.text&&0===r.text.getLength()&&Qa(a,Vi.EMPTY_BLOCK),r.inlineStyle&&Hh(d,null!==(o=r.inlineStyle)&&void 0!==o?o:""),Uf(d)&&td(e,d),d}function Gp(e){w(Ga(e,Vi.BLOCK)),w(e.children.length>0);var t=e.children[0];return w(Ga(t,Vi.BLOCK_CONTENT)),w(t instanceof HTMLElement),t}function Wp(e,t){var n=e.children;if(w(n.length>=1&&n.length<=2),2===n.length)return n[1];if(!t)return null;var r=document.createElement("div");return Qa(r,Vi.BLOCK_TOOLS),r.contentEditable="false",e.appendChild(r),r}function Yp(e){var t=wN(e);if(!t)return!1;var n=Wp(t,!1);return!(!n||!ts(n,e))}function qp(e,t,n){var r,o=!1;if(n){var i=n;Qa(t,Vi.LOCKED_BY_USER),i.userId===e.auth.userId||e.isBlockUnlockedByPassword(t)?Ja(t,Vi.LOCKED_READONLY):(Qa(t,Vi.LOCKED_READONLY),o=!0),t.setAttribute("data-locked","".concat(null==n?void 0:n.locked)),t.setAttribute("data-lock-userId","".concat(null==n?void 0:n.userId)),t.setAttribute("data-lock-name","".concat(null==n?void 0:n.displayName)),(null==n?void 0:n.password)?t.setAttribute("data-lock-code","".concat(null!==(r=null==n?void 0:n.password)&&void 0!==r?r:"")):t.removeAttribute("data-lock-code")}else Ja(t,Vi.LOCKED_BY_USER,Vi.LOCKED_READONLY),t.removeAttribute("data-locked"),t.removeAttribute("data-lock-userId"),t.removeAttribute("data-lock-name"),t.removeAttribute("data-lock-code");o?t.contentEditable="false":t.removeAttribute("contenteditable")}function Zp(e){var t=Pp(e);return t.getAbstract?t.getAbstract(e):""}function Xp(e){var t=e.getAttribute("data-locked"),n=e.getAttribute("data-lock-userId"),r=e.getAttribute("data-lock-name"),o=e.getAttribute("data-lock-code");if(t)return w(n),w(r),{locked:Number.parseInt(t,10),userId:n,displayName:r,password:null!=o?o:void 0};w(!n),w(!r)}function Jp(e,t){var n;Pp(e).updateBlockData(e,t),qp(OX.getEditor(e),e,t.lock),Qh(e,t.align),Sh(e,t.markerData||"",t.markerWidth||0,!!t.markerExpired),of(e,!!t.quoted),af(e,t.padding||0),yf(e,t.comments),pf(e,t.styles),Hh(e,null!==(n=t.inlineStyle)&&void 0!==n?n:"")}function $p(e,t){var n,r=Pp(e);r.updateBlockText||(console.error("no blockClass.updateBlockText"),w(!1)),w(r.updateBlockText),r.updateBlockText(e,t),0===Kf(e)?Qa(e,Vi.EMPTY_BLOCK):Ja(e,Vi.EMPTY_BLOCK);var o=OX.getEditor(e);(null===(n=o.options.callbacks)||void 0===n?void 0:n.onUpdateBlockText)&&o.options.callbacks.onUpdateBlockText(o,e,t)}function ef(e,t,n){var r=Pp(e).handleKeydownEvent;return!!r&&r(e,t,n)}function tf(e,t){if(t.getBlockOptions){var n=t.getBlockOptions().prefix;n&&Lp.set(n,t)}Np.set(e,t)}function nf(){return Array.from(Lp.keys())}function rf(e){return Ga(e,"editor-quote-block")}function of(e,t){t?Qa(e,"editor-quote-block"):Ja(e,"editor-quote-block")}function af(e,t){var n=Array.from(e.classList).filter((function(e){return e.startsWith("editor-block-padding-")}));n.length>0&&Ja.apply(s,[e].concat(_p(n))),t&&Qa(e,"editor-block-padding-".concat(t))}function sf(e){var t=Array.from(e.classList).filter((function(e){return e.startsWith("editor-block-padding-")}));if(0!==t.length)return Number.parseInt(t[0].substr("editor-block-padding-".length),10)||void 0}function cf(e,t){return Ga(e,t)}function lf(e,t,n){n?Qa(e,t):Ja(e,t)}function uf(e){var t=Array.from(e.classList).filter((function(e){return e.startsWith("style-")}));if(t.length>0)return t}function df(e){var t=uf(e);t&&t.length>0&&Ja.apply(s,[e].concat(_p(t)))}function pf(e,t){df(e),t&&t.length&&Qa.apply(s,[e].concat(_p(t)))}function ff(e){return w(Uf(e)),Ga(e,"editor-heading-1")?1:Ga(e,"editor-heading-2")?2:Ga(e,"editor-heading-3")?3:Ga(e,"editor-heading-4")?4:Ga(e,"editor-heading-5")?5:Ga(e,"editor-heading-6")?6:Ga(e,"editor-heading-7")?7:Ga(e,"editor-heading-8")?8:void w(!1,"not a valid heading block")}function hf(e){var t=Pp(e);w(t);var n=Object.assign(Object.assign({},t.saveData(e)),function(e){var t=e.getAttribute("data-marker"),n=e.getAttribute("data-marker-width"),r=e.getAttribute("data-marker-expired");if(t){return w(n),w(r),{markerData:t,markerWidth:Number.parseInt(n,10),markerExpired:"true"===r}}return w(!n),void w(!r)}(e)),r=Rp(e),o=zp(e);return w(n.type===r),w(n.id===o),n.quoted=rf(e),n.padding=sf(e),n.comments=wf(e),n.heading=Yu(e),n.lock=Xp(e),n.inlineStyle=Vh(e),n}function Af(e){return!!Xp(e)}function mf(e){var t=Pp(e);return w(t),t.saveSelectionData?t.saveSelectionData(e):hf(e)}function gf(e){var t=Pp(e);return w(t),!!t.clearSelection&&t.clearSelection(e)}function vf(e,t){Qa(e,"editor-comment-".concat(t),Vi.COMMENT)}function bf(e,t){var n="editor-comment-".concat(t),r=e.rootContainer().querySelectorAll(".".concat(n)),o=[];return r.forEach((function(e){var t,r=wN(e);r&&(Ja(r,n),o.push(r),0===(null===(t=wf(r))||void 0===t?void 0:t.length)&&Ja(r,Vi.COMMENT))})),o}function yf(e,t){var n=Array.from(e.classList).filter((function(e){return e.startsWith("editor-comment-")}));Ja.apply(s,[e].concat(_p(n))),t&&0!==t.length?(t.forEach((function(t){vf(e,t)})),Qa(e,Vi.COMMENT)):Ja(e,Vi.COMMENT)}function wf(e){if(Ga(e,Vi.COMMENT)){var t="editor-comment-",n=Array.from(e.classList).filter((function(e){return e.startsWith(t)})).map((function(e){return e.substr(t.length)}));return Array.from(new Set(n))}}function xf(e,t){w(e);var n=Pp(e);(w(n),n.handleBlockInserted&&n.handleBlockInserted(e,t),Ff(e))&&AL(e).forEach((function(e){xf(e,t)}));if(t.focusToBlock){var r=PL(OX.getEditor(e));r.startBlock!==e&&r.startComplexBlock!==e&&KL(e,0)}}function kf(e){w(e);var t=Pp(e);w(t),t.handleBlockLoaded&&t.handleBlockLoaded(e)}function Cf(e,t,n,r){var o=OX.getEditor(e);o.autoSuggest.isInBlock(t)&&o.autoSuggest.hide();var i=hf(t);w(t);var a=Pp(t);w(a),a.handleBlockDeleted&&a.handleBlockDeleted(e,n,i,r)}function Ef(e,t){var n=Pp(t);w(n),n.handleBlockReload&&n.handleBlockReload(e,t)}function Bf(e){var t;w(Pp(e));var n=hf(e);null===(t=OX.getEditor(e))||void 0===t||t.updateBlockData(e,n,{fromUndo:!1,updateBlock:!1,partial:!1})}function Tf(e){var t=Pp(e);w(t),w(Hp(e));var n=Yo.from(t.saveData(e).text);Vp(e,n),OX.getEditor(e).updateBlockText(e,n,{fromUndo:!1,updateBlock:!1}),t.handleBlockTextChanged&&t.handleBlockTextChanged(e),0===n.getLength()?Qa(e,Vi.EMPTY_BLOCK):Ja(e,Vi.EMPTY_BLOCK)}function Mf(e,t,n){var r=Np.get(t);w(r);var o=r.createBlockTemplateData(e,n);return n.heading&&(o.heading=n.heading),n.quoted&&(o.quoted=n.quoted),o}function If(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=Mf(e,t,n),i=n.text||o.text||new Yo([]),a=r||B(),s=Object.assign(Object.assign({id:a,type:t},o),{text:i});return n.padding&&(s.padding=n.padding),n.comments&&(s.comments=n.comments),n.styles&&(s.styles=n.styles),n.markerData&&(s.markerData=n.markerData,s.markerWidth=n.markerWidth,s.markerExpired=n.markerExpired),n.align&&(s.align=n.align),n.lock&&(s.lock=n.lock),n.styles&&(s.styles=n.styles),n.inlineStyle&&(s.inlineStyle=n.inlineStyle),s}function Df(e,t,n){return If(e,Qi.TEXT,Object.assign({text:Yo.create(t)},n))}function _f(e){var t=Pp(e);return w(t),t.getChildContainersData?t.getChildContainersData(e):[]}function Sf(e,t){var n=Pp(e);return w(n),n.createRange(e,t)}function Of(e,t,n,r){var o=Pp(e);return w(o),!!o.handleSelectionChanged&&o.handleSelectionChanged(e,t,n,r)}var Nf={textBlock:!1};function Lf(e){var t=Pp(e);return w(t),t.getBlockOptions?t.getBlockOptions():Nf}function Rf(e){var t=Qp(e);return w(t),t.getBlockOptions?t.getBlockOptions():Nf}function jf(e){return e===Qi.TEXT||e===Qi.HEADING||e===Qi.LIST}function Uf(e){return!0===Lf(e).textBlock}function Ff(e){return!0===Lf(e).complexBlock}function zf(e){return w(e),!pL(kN(e))}function Qf(e){return!0===Rf(e).complexBlock}function Pf(e,t,n){w(Qf(e));var r=Qp(e);w(r),w(r.replaceChildrenId),r.replaceChildrenId(t,n)}function Hf(e){return Rp(e)===Qi.EMBED}function Vf(e){w(Lf(e).textBlock);var t=Pp(e);return w(t),w(t.getTextElement),t.getTextElement(e)}function Kf(e){return Uf(e)?ep(Vf(e)):1}function Gf(e){if(!Uf(e))return!1;var t=hf(e).text;return!t||!!Yo.isEmpty(t)}function Wf(e,t,n){w(t);var r=wN(t);w(r),w(r===e);var o=Pp(e);return w(o),t===e?0===n?0:(w(n<=e.children.length),Kf(e)):ts(Gp(e),t)?o.getCaretPos(e,t,n):0}function Yf(e,t,n,r,o){var i=Pp(e);if(w(i),i.executeTextCommand)return i.executeTextCommand(e,t,n,r,o)}function qf(e,t,n){var r=Pp(e);if(w(r),r.executeBlockCommand)return r.executeBlockCommand(e,t,n)}function Zf(e,t,n){var r=Pp(e);return w(r),r.getTextCommandStatus?r.getTextCommandStatus(e,t,n):{}}function Xf(e,t,n){w(Ff(e));var r=Pp(e);return w(r),w(r.getSubContainerInComplexBlock),r.getSubContainerInComplexBlock(e,t,n)}function Jf(e,t,n){var r,o=Pp(e);w(o);var i=OX.getEditor(e);return(null===(r=i.options.callbacks)||void 0===r?void 0:r.onGetBlockToolbarOptions)?i.options.callbacks.onGetBlockToolbarOptions(i,e,t,n):o.getToolbarOptions?o.getToolbarOptions(e,t,n):null}function $f(e,t){var n=Pp(e);return w(n),n.getTextToolbarOptions?n.getTextToolbarOptions(e,t):null}function eh(e,t,n){var r=Pp(e);return w(r),r.getContextMenuData?r.getContextMenuData(e,t,n):null}function th(e){var t=null;try{t=OX.getEditor(e)}catch(e){}return!t}function nh(e,t,n){var r=Pp(e);return w(r),r.notify?r.notify(e,t,n):null}function rh(e,t,n){var r=Pp(e);if(w(r),r.toText)return r.toText(e,t,n);var o=Sf(e,void 0===t?0:t),i=Sf(e,void 0===n?-1:n);o.setEnd(i.startContainer,i.startOffset);var a=new RegExp(String.fromCharCode(160),"g");return o.toString().replace(a," ")}function oh(e,t,n){var r;if(-1!==(null===(r=wf(t))||void 0===r?void 0:r.indexOf(n))){var o=bf(e,n);o.length>1&&console.warn("too more blocks effected after delete one comment: ".concat(o.length)),1===o.length&&t!==o[0]&&console.warn("effected block is not the passed block: ".concat(o[0].id,", ").concat(t.id)),o.forEach((function(t){e.updateBlockData(t,{comments:wf(t)},{fromUndo:!1,updateBlock:!1,partial:!0})}))}if(Uf(t)){var i=hf(t).text;w(i);var a=i.removeAttributes("commentId",n).removeAttributesByPrefix("comment-".concat(n));e.updateBlockText(t,a,{fromUndo:!0,updateBlock:!0})}var s=Pp(t);w(s),s.removeComment&&s.removeComment(t,n)}function ih(e,t){if(Uf(e)){var n=hf(e).text;return w(n),n.getAttributesRange("commentId",t).map((function(t){return{block:e,start:t.start,end:t.end}}))}return Ga(e,"editor-comment-".concat(t))?[{block:e,start:0,end:1}]:[]}function ah(e){var t=e.text,n=Op(e,["text"]);return t?Object.assign({text:t.toOps()},n):Object.assign({text:t},n)}function sh(e){var t=e.getSelectionDetail();return!(!t.collapsed||t.type===ia.INVALID)&&(w(t.startBlock),!!Uf(t.startBlock))}function ch(e){var t=e.getSelectionDetail();return!(!t.collapsed||t.type===ia.INVALID)&&(w(t.startBlock),!0)}function lh(e){var t=Pp(e);return w(t),t.createSplittedBlockData?t.createSplittedBlockData(e):{}}function uh(e,t,n){var r=Pp(e);return w(r),!!r.handlePaste&&r.handlePaste(e,t,n)}function dh(e,t){var n=Pp(e);return w(n),!n.accept||n.accept(e,t)}function ph(e,t){var n=Pp(e);return w(n),!n.handleBlockClicked||n.handleBlockClicked(e,t)}function fh(e,t,n){var r;e.options.isMobile||Qa(t,Vi.HOVER);var o=Pp(t);w(o),o.handleBlockMouseEnter&&o.handleBlockMouseEnter(t,n),(null===(r=e.options.callbacks)||void 0===r?void 0:r.onBlockMouseEnter)&&e.options.callbacks.onBlockMouseEnter(e,t,n)}function hh(e,t,n){var r;Ja(t,Vi.HOVER);var o=Pp(t);w(o),o.handleBlockMouseLeave&&o.handleBlockMouseLeave(t,n),(null===(r=e.options.callbacks)||void 0===r?void 0:r.onBlockMouseLeave)&&e.options.callbacks.onBlockMouseLeave(e,t,n)}function Ah(e,t){var n=Pp(e);return w(n),!!n.handleBlockMouseDown&&n.handleBlockMouseDown(e,t)}function mh(e){return Ga(e,Vi.HOVER)}function gh(e,t){var n=Pp(e);return w(n),!n.handleBlockMouseMove||n.handleBlockMouseMove(e,t)}function vh(e,t,n){var r;n?Qa(t,Vi.FOCUSED):Ja(t,Vi.FOCUSED),e.isTypewriterMode()&&e.scrollToMiddleView();var o=Pp(t);w(o),o.handleBlockFocusChanged&&o.handleBlockFocusChanged(t,n),(null===(r=e.options.callbacks)||void 0===r?void 0:r.onBlockFocusChanged)&&e.options.callbacks.onBlockFocusChanged(e,t,n)}function bh(e){return Ga(e,Vi.FOCUSED)}function yh(e,t){var n=_n()(hf(e));w(n.text);var r=n.text.toOps();delete n.text,delete n.start,delete n.level,delete n.ordered;var o=[];return r.forEach((function(e){var n=e.attributes;n&&n.box&&(t?t===n.type&&o.push(n):o.push(n))})),o}function wh(e){var t=nf().filter((function(t){return e.endsWith(t)}));if(0!==t.length)return Lp.get(t[0])}function xh(e){if(e.getBlockOptions)return e.getBlockOptions().prefix}function kh(e){var t;return Np.forEach((function(n,r){n===e&&(t=r)})),w(t),t}function Ch(e){w(Uf(e));var t=hf(e).text;return w(t),t.toPlainText()}function Eh(e){var t=new Map;return Np.forEach((function(n){if(n.getBlockMenuItems){var r=n.getBlockMenuItems(e);if(r){var o=kh(n);r.forEach((function(n){e.isMarkdownOnly()&&!n.supportMarkdown||t.set(n,o)}))}}})),t}function Bh(){return OX.getCurrentCommandBlock()}function Th(e,t){console.log("handle insert math"),console.log(t),w(t.data);var n=Bh(),r=t.data.type;if(!th(n)){var o=kN(n),i=TN(n);Gf(n)||(i+=1);var a=t.data,s=OX.getEditor(n);w(s);var c=If(s,r,a);s.insertBlock(o,i,r,c,{fromUndo:!1,focusToBlock:!0,localAction:!0})}}function Mh(e){w(!Ff(e));var t=kN(e);return pL(t)?null:wN(t)}function Ih(e,t){var n=Pp(e);w(n),n.highlightText&&n.highlightText(e,t)}function Dh(e,t,n){var r=Gp(e),o=function(t){var n=e.querySelector(".editor-block-marker-image"),o=t?"".concat(t,"px"):"";if(r.style.width=o,n){var i=t?"".concat(t+2*ta,"px"):"";n.style.width=i}t?setTimeout((function(){e.style.height="".concat(r.getBoundingClientRect().height,"px")})):e.style.height=""};if(Ga(e,"editor-block-edit-marker-image"))o(n);else if(t){if(Ga(e,"editor-block-show-marker-image"))return Ga(e,"editor-block-marker-expired")?Ga(e,"editor-block-show-marker-expired")?void o(n):void o():void o(n);o()}else o()}function _h(e){var t=hf(e);Dh(e,t.markerData||"",t.markerWidth||720)}function Sh(e,t,n,r){var o=Wp(e,!0);w(o);var i=o.querySelector(".editor-block-marker-image");if(!t)return i&&i.remove(),Ja(e,"editor-block-show-marker-image"),Dh(e,t,n),e.removeAttribute("data-marker"),e.removeAttribute("data-marker-width"),void e.removeAttribute("data-marker-expired");i||(i=ps("img",["editor-block-marker-image"],o)),Qa(e,"editor-block-show-marker-image"),ys(t,"image/svg+xml").then((function(e){i.src=e})),r?Qa(e,"editor-block-marker-expired"):Ja(e,"editor-block-marker-expired"),e.setAttribute("data-marker",t),e.setAttribute("data-marker-width","".concat(n)),e.setAttribute("data-marker-expired",r?"true":"false"),Dh(e,t,n)}function Oh(e,t){t?Qa(e,"editor-block-show-marker-expired"):Ja(e,"editor-block-show-marker-expired"),_h(e)}function Nh(e){return Ga(e,"editor-block-show-marker-expired")}function Lh(e){Qa(e,"editor-block-edit-marker-image"),_h(e),OX.getEditor(e).exclusiveBlock(e)}function Rh(e){Ja(e,"editor-block-edit-marker-image"),_h(e),OX.getEditor(e).unexclusiveBlock(e)}function jh(e,t,n,r,o){var i=Qp(r.type);if(w(i),i.toMarkdown)return i.toMarkdown(e,t,n,r,o)}function Uh(e,t,n){var r=kN(e);t&&w(r===kN(t));var o=TN(e);t&&w(o<=TN(t));if(Qa.apply(s,[e].concat(_p(n))),t&&t!==e){for(var i=IN(e);i!==t;)w(i),Qa.apply(s,[i].concat(_p(n))),i=IN(i);i&&Qa.apply(s,[i].concat(_p(n)))}}function Fh(e){return!Ga(e,Vi.HIDDEN)&&"none"!==window.getComputedStyle(e).display}function zh(e,t){var n=Mh(e);if(n){var r=Pp(n);w(r),r.handleChildBlockChanged&&r.handleChildBlockChanged(n,e,t)}}function Qh(e,t){var n=["block-align-left","block-align-center","block-align-right","block-align-justify"];if(Ja.apply(s,[e].concat(n)),t){var r="block-align-".concat(t);w(-1!==n.indexOf(r)),Qa(e,r)}Xh(e)&&nh(e,"updateAlign",null)}function Ph(e){return Ga(e,"block-align-justify")?"justify":Ga(e,"block-align-center")?"center":Ga(e,"block-align-right")?"right":Ga(e,"block-align-left")?"left":Hf(e)?"center":void 0}function Hh(e,t){if(t){var n=e.getAttribute("style")||"",r=n?"".concat(n,";").concat(t):t;e.setAttribute("style",r),e.setAttribute("data-inline-style",r)}}function Vh(e){var t;return null!==(t=e.getAttribute("data-inline-style"))&&void 0!==t?t:void 0}function Kh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gp(e),n=Wp(e,!0);w(n);var r=n.querySelector(".".concat(Vi.SLIDING_TOOLS));function o(){w(r instanceof HTMLElement),r.style.transform="translateX(-".concat(t.scrollLeft,"px)")}if(!r){var i=document.createElement("div");Qa(i,Vi.SLIDING_TOOLS_CONTAINER),Qa(r=document.createElement("div"),Vi.SLIDING_TOOLS),i.append(r),n.append(i),o(),t.addEventListener("scroll",o)}return r}function Gh(e){var t=e.closest(".".concat(Vi.SLIDING_TOOLS_CONTAINER));return w(t),t}function Wh(e){var t=Wp(e,!0);w(t);var n=t.querySelector(".".concat(Vi.BLOCK_POSITION_MARKING_LINE));if(!n){Qa(n=document.createElement("div"),Vi.BLOCK_POSITION_MARKING_LINE);var r=IN(e);if(r){var o=Gp(e),i=Gp(r),a=o.getBoundingClientRect(),s=i.getBoundingClientRect();n.style.transform="translateY(".concat((s.top-a.bottom)/2,"px)")}t.append(n)}return n}function Yh(e){var t=Pp(e);if(w(t),t.toHtml)return t.toHtml(e);var n=e.querySelectorAll("canvas");Array.from(n).forEach((function(e){e.setAttribute("data-canvas-temp-id",B())}));var r=e.cloneNode(!0),o=r.querySelectorAll(".block-tools");Array.from(o).forEach((function(e){e.remove()}));var i=r.querySelectorAll(".fake-caret");Array.from(i).forEach((function(e){e.remove()})),r.contentEditable="false";var a=r.querySelectorAll("[contenteditable]");return Array.from(a).forEach((function(e){e.contentEditable="false"})),r.outerHTML}function qh(e){var t=Pp(e);return w(t),t.getBlockCommandStatus?t.getBlockCommandStatus(e):{}}function Zh(e){return!!Hf(e)&&mp(e)===aa.IMAGE}function Xh(e){return!!Zh(e)&&1===e.querySelectorAll(".block-content img").length}function Jh(e){return Rp(e)===Qi.TABLE}function $h(e){return Rp(e)===Qi.CODE}function eA(e){if(zf(e)){var t=Mh(e);return w(t),$h(t)}return!1}function tA(e,t){var n=Pp(e);return w(n),n.getContainerAlign?n.getContainerAlign(e,t):null}function nA(e){return Ga(e,Vi.ENTIRE_SELECTED)}function rA(e){return Ja(e,Vi.ENTIRE_SELECTED)}function oA(e,t){w(Ff(e));var n=Pp(e);return w(n),!!n.fixEmptyContainer&&n.fixEmptyContainer(e,t)}function iA(e){var t=new Map;return Np.forEach((function(n){if(n.getBlockAutoSuggestItems){var r=n.getBlockAutoSuggestItems(e);if(r){var o=kh(n);r.forEach((function(e){t.set(e,o)}))}}})),t}function aA(e){if(Hf(e)){var t=up(mp(e));if(null==t?void 0:t.getEmbedPermission){var n=OX.getEditor(e);w(n);var r=t.getEmbedPermission(n,e);if(null==r?void 0:r.deleteNotAllowed)return!0}}return!1}function sA(e){if(Hf(e)){var t=up(mp(e));if(null==t?void 0:t.getEmbedPermission){var n=OX.getEditor(e);w(n);var r=t.getEmbedPermission(n,e);if(null==r?void 0:r.dragNotAllowed)return!0}}return!1}function cA(e){if(e&&Hf(e)){var t=up(mp(e));if(null==t?void 0:t.getEmbedOptions){var n=OX.getEditor(e);w(n);var r=t.getEmbedOptions(n);if(null==r?void 0:r.dragBlockContent)return!0}}return!1}function lA(e){return w(vD(e)),!0}function uA(e){w(vD(e));for(var t=MD(e),n=MN(e);n;){if(vD(n)&&OD(n)&&!CD(n)){var r=MD(n);if(r<t)return!1;if(xD(n)+1===xD(e))return!1;if(r===t)return!0}n=MN(n)}return!1}function dA(e){return w(vD(e)),xD(e)>1}function pA(e){var t=Ds(Sf(e,0));w(t);var n=bD(e),r=window.getComputedStyle(n,":before"),o=parseInt(r.marginRight,10),i=parseFloat(r.width);return new DOMRect(t.left-i-o,t.top,i,t.height)}var fA=n(3379),hA=n.n(fA),AA=n(397),mA=n.n(AA),gA={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(mA(),gA);mA().locals;var vA=n(1530),bA=n.n(vA),yA={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(bA(),yA);bA().locals;var wA="data-observe-remove";function xA(e,t){(e.hasAttribute(wA)?[e]:Array.from(e.querySelectorAll("[".concat(wA,"]")))).forEach((function(e){t.emit(zi.ELEMENT_REMOVE,e)}))}var kA=new Map,CA=0,EA=0;function BA(e){var t,n,r=(t=e.constructor.name,(n=Date.now())!==EA&&(CA=0),EA=n,"".concat(t,"-").concat(n,"-").concat(CA+=1));return kA.set(r,e),r}function TA(e){kA.delete(e)}function MA(e){var t=function(e){return kA.get(e)}(e.getAttribute(wA)||"");if(t){t.hide(!0)}}function IA(e){return"tippy_in_".concat(e.rootContainer().id)}function DA(e,t){var n=IA(t);e.popper.classList.add(n)}function _A(e){return(_A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NA(e,t){return(NA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function LA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jA(e);if(t){var o=jA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RA(this,n)}}function RA(e,t){if(t&&("object"===_A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jA(e){return(jA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var UA=new Map,FA=null;function zA(e){e.stopPropagation(),e.preventDefault()}var QA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NA(e,t)}(i,e);var t,n,r,o=LA(i);function i(){var e;return SA(this,i),(e=o.apply(this,arguments)).options=null,e.events=new m.EventEmitter,e.removeEventKey="",e.isHiding=!1,e.forcedToHide=!1,e.hidable=!0,e.handleMouseMoveForChild=function(t){var n,r,o=t.target;w(o instanceof Element),e.hideTimer&&((null===(n=e.instance)||void 0===n?void 0:n.popper.contains(o))||(null===(r=e.options)||void 0===r?void 0:r.popoverTarget.contains(o)))?(clearTimeout(e.hideTimer),e.hideTimer=void 0):e.isInParentItemSibling(o)&&!e.hideTimer&&(e.hideTimer=setTimeout((function(){e.hideTimer=void 0,e.hide(!0)}),100))},e.handlePressMask=function(){e.hide(!0)},e.handleWheel=function(e){if(e.stopPropagation(),e.preventDefault(),e.target instanceof Element){var t=e.target.closest(".".concat(Vi.MENU_SCROLL_CONTAINER));t&&(e.deltaY<0&&t.scrollTop>0||e.deltaY>0&&t.scrollHeight>t.clientHeight)&&(t.scrollTop+=Math.floor(e.deltaY/10))}},e}return t=i,(n=[{key:"removeFromPopoverMap",value:function(){var e,t,n=null===(e=this.options)||void 0===e?void 0:e.popoverTarget.getAttribute(wA);this.removeEventKey===n&&(null===(t=this.options)||void 0===t||t.popoverTarget.removeAttribute(wA),TA(n))}},{key:"destroy",value:function(){this.removeFromPopoverMap(),this.instance&&(this.instance.destroy(),this.instance=void 0)}},{key:"hide",value:function(e){this.hidable=!0,this.instance&&this.isVisible()&&(this.forcedToHide=!!e,this.instance.hide())}},{key:"quickHide",value:function(){this.instance&&this.isVisible()&&(this.hidable=!0,this.forcedToHide=!0,this.instance.setProps({delay:0,duration:0}),this.instance.hide())}},{key:"handleHidden",value:function(){this.events.emit("hide",this),this.removeFromPopoverMap()}},{key:"handleShown",value:function(){this.events.emit("show",this),w(this.options);var e=BA(this);this.removeEventKey=e;var t=this.options.popoverTarget.getAttribute(wA);t&&TA(t),this.options.popoverTarget.setAttribute(wA,e)}},{key:"handleContextMenu",value:function(e){e.preventDefault()}},{key:"handleMouseMove",value:function(e){return w(this.instance),w(this.options),w(e.target instanceof Element),!(!this.options.showMask||!(null==FA?void 0:FA.contains(e.target)))||!!this.isVisible()&&this.instance.popper.contains(e.target)}},{key:"bindPressMask",value:function(){this.unbindPressMask(),w(this.options),this.options.parentPopover||(null==FA||FA.addEventListener("mousedown",this.handlePressMask),null==FA||FA.addEventListener("touch",this.handlePressMask))}},{key:"unbindPressMask",value:function(){this.options&&(this.options.parentPopover||(null==FA||FA.removeEventListener("mousedown",this.handlePressMask),null==FA||FA.removeEventListener("touch",this.handlePressMask)))}},{key:"bindWheel",value:function(){this.instance&&this.instance.popper.addEventListener("wheel",this.handleWheel,{passive:!1})}},{key:"unbindWheel",value:function(){this.instance&&this.instance.popper.removeEventListener("wheel",this.handleWheel)}},{key:"bindMouseMoveForChild",value:function(){document.body.addEventListener("mousemove",this.handleMouseMoveForChild)}},{key:"unbindMouseMoveForChild",value:function(){document.body.removeEventListener("mousemove",this.handleMouseMoveForChild)}},{key:"hasChild",value:function(){return!!this.isVisible()&&(w(this.instance),!!this.instance.popper.querySelector("div[data-tippy-root]"))}},{key:"isVisible",value:function(){return!(this.instance&&this.instance.popper&&!this.instance.popper.closest("body")||this.isHiding||!this.instance)}},{key:"isInParentItemSibling",value:function(e){if(!this.isVisible())return!0;w(this.instance),w(this.options);var t=this.options.popoverTarget;if(w(t),this.instance.popper.contains(e)||t.contains(e))return!1;var n=e.closest(".".concat(Vi.CLICKABLE_ITEM));return n&&!n.closest(".tippy-box")&&(n=null),!(!n||Ga(n,Vi.SUB_ITEMS_ACTIVE))}},{key:"_createProps",value:function(){var e,t,n,r,o,i=this;w(this.options);var a=null;try{a=OX.getRootEditor(this.options.popoverTarget)}catch(e){}var s=!!this.options.parentPopover,c="editor-popover ".concat(this.options.theme||""),l=this.options.placement||"top",u=this.options.fallbackPlacements,d=this.options.offset||void 0,p=this.options.getReferenceClientRect||void 0,f=this.options.delay||[s?50:200,300],h=!!this.options.arrow,A=!!this.options.interactive,m=!!this.options.hideOnClick,g=this.options.zIndex||(null===(e=null==a?void 0:a.options.zIndex)||void 0===e?void 0:e.popover)||1800,v=this.options.trigger||(this.options.autoShow?"mousemove mouseenter focus":"manual"),b=!!this.options.refuseOverflow,y=this.options.overflowBoundary,x={theme:c,placement:l,trigger:v,allowHTML:!0,aria:{content:null,expanded:!1},interactive:A,interactiveBorder:4,delay:f,arrow:h,hideOnClick:m,zIndex:g,animation:"scale",appendTo:xs(this.options.parentPopover||document.body),followCursor:this.options.followCursor,maxWidth:this.options.maxWidth,onHide:function(e){if(!i.forcedToHide&&(!i.hidable||i.hasChild()))return!1;i.forcedToHide=!1,s&&(w(i.options),w(i.options.popoverTarget),Ja(i.options.popoverTarget,Vi.SUB_ITEMS_ACTIVE),i.unbindMouseMoveForChild()),i.isHiding=!0;var t=setTimeout((function(){UA.delete(e.id),i.isHiding&&x.onHidden&&x.onHidden(e)}),300);UA.set(e.id,t)},onHidden:function(e){var t=UA.get(e.id);t&&clearTimeout(t),UA.delete(e.id),w(i.options);try{var n=OX.getRootEditor(i.options.commandTarget);xA(e.popper,n.events)}catch(e){}i.isHiding=!1,s||(FA&&(FA.removeEventListener("wheel",zA),FA.remove()),i.unbindPressMask()),i.unbindWheel(),i.instance===e&&i.handleHidden()},onShow:function(e){var t;i.isHiding=!1,w(i.options),w(i.options.popoverTarget),b&&y&&e.popper.classList.add("reference-hidden");try{var n=OX.getRootEditor(i.options.commandTarget);DA(e,n);var r="tippy_in_".concat(n.rootContainer().id);null===(t=i.instance)||void 0===t||t.popper.classList.add(r)}catch(e){return!1}if(s)Qa(i.options.popoverTarget,Vi.SUB_ITEMS_ACTIVE),i.bindMouseMoveForChild();else{w(i.options.commandTarget);try{var o=OX.getEditor(i.options.commandTarget);if(o.isDragging())return!1;o.saveCommandTarget(i.options.commandTarget,i)}catch(e){return console.warn(e.message),!1}if(i.options.popoverTarget&&!i.options.popoverTarget.closest("body"))return!1}},onShown:function(e){var t;w(i.options),i.options.showMask&&(s||(t=i.options.maskTarget,FA&&FA.parentElement||(FA||((FA=document.createElement("div")).id="editor-popover-mask"),w(FA instanceof HTMLElement),FA.addEventListener("wheel",zA,{passive:!1}),xs(t||document.body).appendChild(FA)),i.bindPressMask()),i.bindWheel()),i.instance===e&&i.handleShown(),w(i.instance),i.instance.popper.addEventListener("contextmenu",i.handleContextMenu),FA&&FA.addEventListener("contextmenu",i.handleContextMenu)},onClickOutside:function(){i.forcedToHide=!0},onUntrigger:function(e,t){if(i.hidable=!0,w(i.options),!i.options.autoHide&&t instanceof MouseEvent){var n=t.toElement;n&&(s||"click"!==t.type?s&&(w(n instanceof Element),w(i.options.popoverTarget),i.isInParentItemSibling(n)||(i.hidable=!1)):i.options.popoverTarget.contains(n)&&(i.hidable=!1))}},popperOptions:{modifiers:[]}};return b&&y?null===(n=null===(t=x.popperOptions)||void 0===t?void 0:t.modifiers)||void 0===n||n.push({name:"flip",options:{boundary:y,fallbackPlacements:u||["top","bottom"]}}):u&&(null===(o=null===(r=x.popperOptions)||void 0===r?void 0:r.modifiers)||void 0===o||o.push({name:"flip",options:{fallbackPlacements:u}})),d&&(x.offset=d),p&&(x.getReferenceClientRect=p),x}},{key:"_create",value:function(){this.hide(),w(this.options),w(this.options.commandTarget),w(this.options.popoverTarget),w(this.options.content),this.instance=Vt(this.options.popoverTarget,{plugins:[zt]})}},{key:"create",value:function(e){var t;(null===(t=this.options)||void 0===t?void 0:t.popoverTarget)!==e.popoverTarget&&this.instance&&this.destroy(),this.options=e,this.instance||this._create(),w(this.instance),this.instance.setProps(this._createProps()),this.instance.setContent(this.options.content),this.options.autoShow||this.instance.show()}},{key:"on",value:function(e,t){this.events.addListener(e,t)}}])&&OA(t.prototype,n),r&&OA(t,r),i}(la),PA=n(4382),HA=n.n(PA),VA={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(HA(),VA);HA().locals;var KA=n(7921),GA=n.n(KA),WA=n(9720),YA=n.n(WA);function qA(e){return function(e){if(Array.isArray(e))return ZA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ZA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XA(e,t,n,r){t=os(t,r);var o=Object.keys(n);if(o.length>0){var i=new Set,a={},s=[],c=null,l=!1;o.forEach((function(t){var r=n[t];if(null!=r)if(t===Vi.COMPOSITION)i.add(t),l=!0;else if(t.startsWith("style-")&&r)i.add(t);else if(t.startsWith("inline-style-")&&r){var o=ud(t,r);s.push(o)}else if("link"===t)i.add(Vi.LINK),i.add(Vi.QUICK_EDITABLE_ELEMENT),c=r;else if("commentId"===t||t.startsWith("comment-")){var u=r;if(e.getGroupComments(u).length>0){i.add(Vi.COMMENT);var d="comment-".concat(u);a[d]="".concat(u)}}else{var p=ld(t);a[p]="".concat(r)}}));var u=null===c||l?"SPAN":"A",d={attributes:Object.assign({class:Array.from(i).join(" ")},a)};return w(d.attributes),null!==c&&(d.attributes.href=c,d.attributes.href.startsWith("http")&&(d.attributes.target="_blank")),s.length>0&&(d.attributes.style=s.join(";")),new(id())(u,d,[new(sd())(t)])}return new(id())("SPAN",{attributes:{class:"editor-text-node"}},[new(sd())(t)])}function JA(e,t){return jd(e,vd(Pi.FAKE_CARET,null,Object.assign({},t)))}function $A(e,t,n,r){var o=n||{};return o=Object.assign({},o),XA(e,t||Zi,o,r)}function em(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;n.getLength||w(!1);var s=n.getLength();r.forEach((function(e){e.offset>s&&(e.offset=s)}));var c=qA(r);if(-1!==o){var l=a||{};c.push({containerId:"",blockId:"",offset:o,attributes:l})}var u=n.splitByCarets(c),d=[],p=!1;u.forEach((function(t,n){if(t instanceof Yo){var r=t.toOps();r.forEach((function(t,n){if(Td(t)){var o=jd(e,t.attributes);d.push(o),p=!0}else{""===t.insert&&w(t.insert,"invalid op.insert: ".concat(t.insert)),w("string"==typeof t.insert);var i=0===n,a=n===r.length-1;d.push(XA(e,t.insert,t.attributes||{},{first:i,last:a})),p=!1}}))}else{var o=t;if(o.userId){var a=o;d.push(JA(e,a)),p=!0}else{var s=0===n,c=n===u.length-1;d.push($A(e,i,o.attributes,{first:s,last:c})),p=!1}}}));var f={attributes:{}};return Array.from(t.attributes).forEach((function(e){e.nodeName.startsWith("data")||e.nodeName.startsWith("comment-"),f.attributes[e.nodeName]=e.nodeValue||""})),d.length&&!p||d.push(new(id())("BR",{},[])),new(id())(t.tagName,f,d)}function tm(e,t){if(t instanceof Text){var n=!!t.previousSibling,r=!!t.nextSibling,o=os(t.nodeValue||"",{first:n,last:r});return new(sd())(o)}if(!(t instanceof HTMLElement))return null;if(Cd(t))return Ud(e,t);var i={attributes:{}},a=[];return Array.from(t.attributes).forEach((function(e){e.nodeName.startsWith("data")||e.nodeName.startsWith("comment-"),i.attributes[e.nodeName]=e.nodeValue||""})),t.childNodes.forEach((function(t){var n=tm(e,t);n&&a.push(n)})),new(id())(t.tagName,i,a)}function nm(e,t){Array.from(t.querySelectorAll('.inline-plugin[data-node-type="box"]')).forEach((function(t){var n=Dd(t);if(n.updateBox){var r=Md(t),o=e.getBoxData(r);n.updateBox(e,o,t)}}))}function rm(e,t,n){var r,o=Array.from(t.childNodes),i=o.findIndex((function(e){return Ga(e,Vi.COMPOSITION)}));if(-1===i)return YA()(t,n),void nm(e,t);var a=t.cloneNode(!0);YA()(a,n);var s=Array.from(a.childNodes),c=s.findIndex((function(e){return Ga(e,Vi.COMPOSITION)}));w(-1!==c);var l=s[c],u=o[i];for(w(l instanceof HTMLElement),w(u instanceof HTMLElement);o[o.length-1]!==u;)null===(r=o.pop())||void 0===r||r.remove();s.slice(c+1).forEach((function(e){t.insertBefore(e,null)})),u.className=l.className;for(var d=i-1;d>=0;d--)o[d].remove();s.slice(0,c).forEach((function(e){t.insertBefore(e,u)})),nm(e,t)}function om(e,t){if(t instanceof Text)return w("string"==typeof t.textContent),{insert:rs(t.textContent)};if(w(t instanceof HTMLElement),w(!Ga(t,Vi.IGNORE)),w(!Ga(t,Vi.COMPOSITION)),Cd(t))return Od(e,t);w("string"==typeof t.textContent);var n={insert:rs(t.textContent)},r=function(e){w(e),w(e instanceof HTMLElement);var t={},n=e.tagName;if("A"===n){var r=e;if(Ga(e,Vi.LINK)){var o=r.href;t.link=o}}else"SPAN"===n&&Ga(e,Vi.LINK)&&(t.link=e.getAttribute("href"));e.getAttributeNames().forEach((function(n){if(n.startsWith("data-")){var r=e.getAttribute(n),o=function(e){return e.startsWith("data-")?e.substr(5).split("-").map((function(e,t){return 0===t?e:e.substr(0,1).toUpperCase()+e.substr(1)})).join(""):""}(n);w(o),t[o]=r}else if(n.startsWith("comment-")){var i=e.getAttribute(n);w(i),t[n]=i}})),Array.from(e.classList).filter((function(e){return e.startsWith("style-")})).forEach((function(e){t[e]=!0}));var i=e.style.color;i&&(t["inline-style-color"]=i);var a=e.style.backgroundColor;a&&(t["inline-style-background-color"]=a);var s=e.style.fontSize;s&&(t["inline-style-font-size"]=s);var c=e.style.fontFamily;c&&(t["inline-style-font-family"]=c);var l=e.style.getPropertyValue("--op-color");return l&&(t["inline-style---op-color"]=l),t}(t);return Object.keys(r).length>0&&(n.attributes=r),n}function im(e,t){return Ga(t,Vi.COMPOSITION)?{}:om(e,t).attributes||{}}var am=function(e){try{var t=window.localStorage[e];return t?JSON.parse(t):null}catch(e){return console.error(e),null}},sm=function(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error(e)}};function cm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function um(e,t,n,r,o,i){for(var a=0;a<i;a++){var s="".concat(r).concat(a);s!==o&&e.removeStyle(t,n,s)}r.startsWith("style-color")?e.applyStyle(t,n,"inline-style-color",void 0):r.startsWith("style-bg-color")&&e.applyStyle(t,n,"inline-style-background-color",void 0)}function dm(e,t,n,r,o){um(e,t,n,r.replace(/(.*-)\d+$/,"$1"),r,o),e.addStyle(t,n,r,!0)}function pm(e,t){for(var n={},r=0;r<t;r++){n["".concat(e).concat(r)]=null}return n}function fm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),n=t.find((function(t){return!e[t]&&t.startsWith("style-color")})),r=t.find((function(t){return!e[t]&&t.startsWith("style--bg-color")}));if(!r&&!n)return e;var o=Object.assign({},e);t.forEach((function(e){(n&&e.startsWith("style-color")||r&&e.startsWith("style-bg-color"))&&delete o[e]}));var i={};n&&(i=pm("style-color-",7));var a={};return n&&(a=pm("style-bg-color-",14)),Object.assign(Object.assign(Object.assign({},o),i),a)}function hm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e),n=Object.keys(t),r=n.reverse().find((function(e){return"style-sub"===e||"style-super"===e}));return"style-sub"===r?t["style-super"]=!1:"style-super"===r&&(t["style-sub"]=!1),t}function Am(e){sm("editor-textColor",e)}function mm(e){sm("editor-backgroundColor",e)}function gm(){var e;return null!==(e=am("editor-textColor"))&&void 0!==e?e:"style-color-0"}function vm(){return am("editor-backgroundColor")||"style-bg-color-2"}function bm(e,t,n,r,o){var i,a,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};w(e);var c=OX.getEditor(e);w(c),w(t),w(n);var l=hf(e);if(w(l),l.text){if(w(void 0!==o),-1===o&&(o=ep(t)),"clearFormat"===n){var u=l.text.split(o),d=cm(u,2),p=d[0],f=d[1],h=p.split(r),A=cm(h,2),m=A[0],g=A[1];g.removeAllStyles();var v=Yo.combine(Yo.combine(m,g),f);return c.updateBlockText(e,v,{fromUndo:!1,updateBlock:!0}),void(Gu(e)&&c.executeBlockCommand("toBodyText",e))}if("clearTextFormat"!==n)if("clearBackground"!==n)if("clearColor"!==n)if(n.startsWith("style-")||n.startsWith("inline-style-")){var b=l.text.clone();if(r===o){var y=b.getAttributesAt(0===r?0:r-1)||{};if(s){var x=fm(s);return x=hm(x),void c.addWaitingCommand(x)}return y[n]=!y[n],void c.addWaitingCommand(y)}var k,C=b.getAttributesAt(r);C&&(k=C[n]);var E=s[n];void 0===E&&void 0!==k&&(E=!k),void 0===E&&(E=!0),E?(n.startsWith("style-sub")?b.removeStyle(r,o,"style-super"):n.startsWith("style-super")&&b.removeStyle(r,o,"style-sub"),n.startsWith("style-color")?(dm(b,r,o,n,7),Am(n)):n.startsWith("style-bg-color")?(dm(b,r,o,n,14),mm(n)):n.startsWith("inline-style-")?b.addStyle(r,o,n,E):b.addStyle(r,o,n,!0)):n.startsWith("style-color")?um(b,r,o,"style-color-",null,7):n.startsWith("style-bg-color")?um(b,r,o,"style-bg-color-",null,14):b.removeStyle(r,o,n),c.updateBlockText(e,b,{fromUndo:!1,updateBlock:!0})}else if("link"===n){var B=l.text.clone(),T=s.link;if(r===o)return void((null===(i=c.options.callbacks)||void 0===i?void 0:i.onError)&&c.options.callbacks.onError(c,new Error("No text selected before create a link")));B.addStyle(r,o,n,T),s.text&&(B=B.replace(r,o,s.text)),c.updateBlockText(e,B,{fromUndo:!1,updateBlock:!0})}else if("unlink"===n){var M=l.text.clone(),I=M.getAttributesAt(r);if(I&&I.link){var D={link:I.link};if(-1!==r&&o>r)M.removeStyle(r,o,"link");else{var _=M.expandRangeToSameAttributes(r,D);w(_.start>=0),w(_.end>_.start),M.removeStyle(_.start,_.end,"link")}c.updateBlockText(e,M,{fromUndo:!1,updateBlock:!0})}}else if("comment"===n){var S=l.text.clone(),O=s;if(r===o)return void((null===(a=c.options.callbacks)||void 0===a?void 0:a.onError)&&c.options.callbacks.onError(c,new Error("No text selected before add comment")));S.addStyle(r,o,"comment-".concat(O.commentId.toLocaleLowerCase()),O.commentId),c.updateBlockText(e,S,{fromUndo:!1,updateBlock:!0}),c.handleCommentInserted(e,r,o,O.commentId)}else console.log("unknown command: ".concat(n,", ").concat(s));else{var N=l.text.split(o),L=cm(N,2),R=L[0],j=L[1],U=R.split(r),F=cm(U,2),z=F[0],Q=F[1];Q.removeColor();var P=Yo.combine(Yo.combine(z,Q),j);c.updateBlockText(e,P,{fromUndo:!1,updateBlock:!0})}else{var H=l.text.split(o),V=cm(H,2),K=V[0],G=V[1],W=K.split(r),Y=cm(W,2),q=Y[0],Z=Y[1];Z.removeBackground();var X=Yo.combine(Yo.combine(q,Z),G);c.updateBlockText(e,X,{fromUndo:!1,updateBlock:!0})}else{var J=l.text.split(o),$=cm(J,2),ee=$[0],te=$[1],ne=ee.split(r),re=cm(ne,2),oe=re[0],ie=re[1];ie.removeAllStyles();var ae=Yo.combine(Yo.combine(oe,ie),te);c.updateBlockText(e,ae,{fromUndo:!1,updateBlock:!0})}}}function ym(e,t,n){var r=OX.getEditor(e),o=tp(e,t,n);w(o);var i=o.startContainer;if(i===e)return{};if(i instanceof HTMLElement)return im(r,i);var a=function(e,t){for(var n=t;n;){if(n===e)return null;if(Zd(n))return null;if(n instanceof HTMLElement)return n;w(n.parentElement),w(n=n.parentElement)}return w(!1),null}(e,i);return a?im(r,a):{}}var wm=n(7829),xm=n.n(wm),km={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(xm(),km);xm().locals;function Cm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Em(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Em(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Em(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bm=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Tm=qo.editIcon,Mm=qo.linkOffIcon;var Im="link-mask-container",Dm="link-mask-item";function _m(e){return e.querySelector(".".concat(Im))}function Sm(e,t){var n,r=t.text,o=t.url,i=t.hideText,a=t.onOK,s=t.onCancel,c=o||"",l=ps("div",["editor-link-input-container"],null);function u(){s()}if(!i){var d=ps("div",["editor-link-input-row"],l),p=ps("div",["dialog-input-description"],d);ps("span",["dialog-input-description-title"],p,ju.link.linkNameLabel);var f=ps("div",[Vi.DIALOG_INPUT_CONTAINER],d);(n=ps("input",["editor-link-text-input","dialog-input-input",Vi.POPOVER_INPUT],f)).type="text",n.value=r,n.placeholder=ju.link.linkNamePlaceholder,n.onkeydown=function(e){if(!e.isComposing)return"Enter"===e.key?(m.focus(),void e.stopPropagation()):void("Escape"===e.key&&u())},n.onfocus=function(){Qa(f,"focused")},n.onblur=function(){Ja(f,"focused")}}var h=ps("div",["editor-link-input-row",Hi.Content],l);ps("div",["dialog-input-description","dialog-input-required"],h,ju.link.linkUrlLabel);var A=ps("div",[Vi.DIALOG_INPUT_CONTAINER],h),m=ps("input",["editor-link-url-input","dialog-input-input",Vi.POPOVER_INPUT],A),g=ps("div",["dialog-input-error"],h);function v(){var e=function(e){var t=e.trim();return 0===t.replace(/^https?:\/\//i,"").length?t="":/^\//.test(t)?t="".concat(window.location.origin).concat(t):/^(https?|ftp):\/\//i.test(t)||(t="http://".concat(t)),t}(m.value);if(!e)return h.classList.add("error"),void(g.innerText=ju.link.errorLinkUrlEmpty);a(i?null:(null==n?void 0:n.value)||e,e)}m.type="text",m.placeholder=ju.link.linkUrlPlaceholder,m.value=c,m.onfocus=function(){Qa(A,"focused")},m.onblur=function(){Ja(A,"focused")},m.onkeydown=function(e){if(!e.isComposing)return"Enter"===e.key?(v(),void e.preventDefault()):void("Escape"===e.key&&u())};var b=ps("div",["editor-link-input-row","editor-link-button-row"],l);ps("button",[Vi.BUTTON,Vi.POPOVER_BUTTON,Vi.BUTTON_CANCEL],b,ju.common.cancel).onclick=u;var y=ps("button",[Vi.BUTTON,Vi.POPOVER_BUTTON],b,ju.common.OK);return y.onclick=v,m.addEventListener("input",In()((function(e){var t;w(e.target instanceof HTMLInputElement),(null===(t=e.target)||void 0===t?void 0:t.value)&&(h.classList.remove("error"),g.innerText=""),y.disabled=!1}))),n&&n instanceof HTMLInputElement&&n.addEventListener("input",In()((function(e){w(e.target instanceof HTMLInputElement),y.disabled=!1}))),y.disabled=!0,l}function Om(e,t){var n=t.data;return w(n),!!n.link&&(window.open(n.link),!0)}function Nm(e,t){var n=t.initUrl,r=t.hideText,o=t.allowCollapsed,i=t.onOK,a=t.onHidden,s=e.getSelectionDetail(),c=s.startBlock&&s.startBlock!==s.endBlock;if(!(!o&&s.collapsed||c)){var l,u=e.getSelectedText(),d=t.targetBlock||s.startBlock;w(d);var p=e.saveSelectionState(),f=function(e,t){var n=t.targetBlock,r=t.detail,o=n||r.startBlock;w(o);var i=Wp(o,!0),a=_m(o);a||(a=ps("div",[Im,Vi.TOOLTIP],i));var s=n?[n.getBoundingClientRect()]:Array.from(r.range.getClientRects());a.innerHTML="";var c=o.getBoundingClientRect();return n||0===s.length?ps("div",[Dm],a).setAttribute("style","top:0px; left:0px; width:0px; height:".concat(c.height,"px;")):s.forEach((function(e){var t=ps("div",[Dm],a),n=e.top-c.top,r=e.left-c.left;t.setAttribute("style","top:".concat(n,"px; left:").concat(r,"px; width:").concat(e.width,"px; height:").concat(e.height,"px;"))})),a}(0,{targetBlock:t.targetBlock,detail:s});s.range.collapse();var h=Sm(0,{text:u,url:n,hideText:r,onOK:function(t,n){e.restoreSelectionState(p),i(t,n),l.hide()},onCancel:function(){l.hide()}});(l=new iD(e,{popoverOptions:{commandTarget:d,popoverTarget:f.firstChild,maxWidth:"none"},content:h,onShown:function(){var t=h.querySelector("input");setTimeout((function(){null==t||t.focus(),e.signLinkDialog(!0)}))},onHidden:function(){!function(e,t){var n=_m(t);n&&n.remove()}(0,d),e.restoreSelectionState(p),l.destroy(),a(),e.signLinkDialog(!1)}})).show()}}function Lm(e,t,n){Nm(e,{initUrl:"",hideText:!1,targetBlock:n,allowCollapsed:!0,onOK:function(e,n){n&&t(e||"",n)},onHidden:function(){RL()}})}function Rm(e,t,n){Nm(e,{initUrl:n,hideText:!1,allowCollapsed:!1,onOK:function(n,r){return th(t)||e.executeTextCommand("link",{link:r,text:n}),!0},onHidden:function(){RL()}})}function jm(e,t,n){var r=Vf(e),o=Yd(t),i=rp(r,t,o);return n?KL(e,i-o,i):KL(e,i),i}function Um(e){var t=wN(e);w(t);var n=rp(Vf(t),e,0),r=Yd(e),o=hf(t).text;w(o);var i=o.sub(n,r).toPlainText(),a=o.getAttributesAt(n);return w(a),w(a.link),{text:i,link:a.link,offset:n,length:r}}function Fm(e,t){var n=t.data;return n.editor.editableToolbar.hide(),jm(n.block,n.target,!0),Rm(n.editor,n.block,n.link),!0}function zm(e,t){var n=t.data,r=jm(n.block,n.target,!0);return OX.getEditor(n.block).executeTextCommand("unlink"),KL(n.block,r),!0}function Qm(e){return!!e&&(!(!e.startsWith("https:")&&!e.startsWith("http:"))||!!e.startsWith("www."))}function Pm(e){return!!e&&(Qm(e)||function(e){return!!e&&!!(e.endsWith(".com")||e.endsWith(".org")||e.endsWith(".net")||e.endsWith(".cn"))}(e))}function Hm(e,t,n,r,o){return Bm(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,s,c,l,u,d;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return w(Uf(t)),w(a=hf(t).text),i.prev=3,i.next=6,e.recognizeNormalLink(r,t,{offset:n,count:0});case 6:if(!((s=i.sent)&&s.text&&s.link)){i.next=16;break}return o&&(s.text=o),w(c=hf(t).text),l=null==c?void 0:c.transformOffset(a,[n]),u=Cm(l,1),d=u[0],e.beginUndoGroup(),e.insertBlockText(t,d,Yo.createWithAttributes(s.text,{link:s.link})),e.endUndoGroup(),i.abrupt("return",!0);case 16:i.next=21;break;case 18:i.prev=18,i.t0=i.catch(3),console.error(i.t0);case 21:return i.abrupt("return",!1);case 22:case"end":return i.stop()}}),i,null,[[3,18]])})))}var Vm="editor-remote-caret-core";function Km(e){Qa(e,Vi.ACTIVE),setTimeout((function(){Ja(e,Vi.ACTIVE)}),3e3)}function Gm(e){if(e.target instanceof HTMLElement){var t=e.target.closest(".".concat(Vm));t&&Km(t)}}function Wm(e,t,n,r,o,i,a,s,c){Mh(t);var l=Wp(t,!0);w(l);var u=t.getBoundingClientRect(),d=a;w(n);var p=d.left-u.left,f=d.top-u.top,h=ps("div",[c,Vm],l);return h.setAttribute("data-remote-caret-type",s),h.setAttribute("data-user-id",n),h.setAttribute("data-user-name",r),h.setAttribute("data-caret-selection-color",i),h.onmouseenter=Gm,h.style.left="".concat(p,"px"),h.style.top="".concat(f,"px"),h.style.backgroundColor=o,h.style.setProperty("--caret-color",h.style.backgroundColor),h}function Ym(e,t,n,r){var o,i=wN(n);w(i);return Wm(0,i,t,null!==(o=n.getAttribute("data-user-name"))&&void 0!==o?o:"",n.getAttribute("data-caret-color")||"",n.getAttribute("data-caret-selection-color")||"",n.getBoundingClientRect(),r,"editor-remote-caret")}function qm(e,t){var n=Wp(t,!1);n&&n.querySelectorAll(".editor-remote-whole-caret").forEach((function(e){return e.remove()}))}function Zm(e,t){w(t);var n=e.getRemoteCaretPosesInBlock(zp(t));0===n.length?(Ja(t,"editor-block-remote-selected"),t.removeAttribute("data-remote-caret-user-id"),t.removeAttribute("data-remote-caret-user-name"),t.removeAttribute("data-remote-caret-color"),t.removeAttribute("remote-caret-selection-color"),qm(0,t)):(Qa(t,"editor-block-remote-selected"),t.setAttribute("data-remote-caret-user-id",n[0].userId),t.setAttribute("data-remote-caret-user-name",n[0].displayName),t.setAttribute("data-remote-caret-color",n[0].color),t.setAttribute("data-remote-caret-selection-color",n[0].selectionColor),t.style.setProperty("--remote-caret-color",n[0].selectionColor),Km(function(e,t,n){qm(0,t),w(Wp(t,!0));var r=t.getBoundingClientRect(),o=new DOMRect(r.right-1,r.top,1,r.height);return Wm(0,t,n.userId,n.displayName,n.color,n.selectionColor,o,"single","editor-remote-whole-caret")}(0,t,n[0])))}function Xm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jm=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__neverUse="IRect",this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom}var t,n,r;return t=e,(n=[{key:"width",get:function(){return this.right-this.left}},{key:"height",get:function(){return this.bottom-this.top}}])&&Xm(t.prototype,n),r&&Xm(t,r),e}();function $m(e,t,n){w(n.length<=2),n.forEach((function(e){e.remove()})),function(e,t){var n=e.rootContainer().querySelectorAll('.editor-main .editor-remote-caret-mask[data-user-id="'.concat(t,'"]'));Array.from(n).forEach((function(e){e.remove()}))}(e,t)}function eg(e,t,n,r,o){w(2===n.length);var i=wN(r),a=wN(o);w(i&&a);var s=document.createRange();s.setStart(n[0],0),s.setEnd(n[1],0);var c=Array.from(s.getClientRects());c=c.filter((function(e){return e.width>=16}));var l=i.getBoundingClientRect();c=c.filter((function(e){return e.width<l.width}));c=c.filter((function(e){return!c.find((function(t){return r=t,(n=e).left<=r.left&&n.top<=r.top&&n.right>=r.right&&n.bottom>=r.bottom&&(n.width!==r.width||n.height!==r.height);var n,r}))}));var u=[];(c=c.filter((function(e){return!u.find((function(t){return t.left===e.left&&t.top===e.top&&t.width===e.width&&t.height===e.height}))&&(u.push(e),!0)}))).forEach((function(e){var r=new Jm(e);r.width<16||function(e,t,n,r,o){var i=Wp(n,!0);w(i);var a=n.getBoundingClientRect();if(o.left<a.left&&(o.left=a.left),o.right>a.right&&(o.right=a.right),!(o.left>=o.right)){var s=ps("div",["editor-remote-caret-mask"],i);s.style.left="".concat(o.left-a.left,"px"),s.style.top="".concat(o.top-a.top,"px"),s.style.width="".concat(o.width,"px"),s.style.height="".concat(o.height,"px"),s.style.backgroundColor=r.getAttribute("data-caret-selection-color")||"",s.setAttribute("data-user-id",t)}}(0,t,i,n[0],r)}))}function tg(e,t,n){if(w(n.length<=2),1!==n.length){w(2===n.length);var r=Ym(0,t,n[0],"start"),o=Ym(0,t,n[1],"end");w(r&&o),eg(0,t,n,r,o)}else Ym(0,t,n[0],"single")}function ng(e){var t=Array.from(e.rootContainer().querySelectorAll(".editor-main .inline-plugin.editor-ignore.fake-caret")),n=new Map;t.forEach((function(e){var t=e.getAttribute("data-user-id");w(t);var r=n.get(t);r?r.push(e):n.set(t,[e])}));var r=new Map;Array.from(e.rootContainer().querySelectorAll(".editor-main .editor-remote-caret")).forEach((function(e){var t=e.getAttribute("data-user-id");w(t);var n=r.get(t);n?n.push(e):r.set(t,[e])})),Array.from(r.keys()).forEach((function(t){n.has(t)?function(e,t,n,r){$m(e,t,r),tg(0,t,n)}(e,t,n.get(t),r.get(t)):$m(e,t,r.get(t))})),Array.from(n.keys()).forEach((function(e){r.has(e)||tg(0,e,n.get(e))}))}function rg(e,t){w(t),Uf(t)?ng(e):Zm(e,t)}function og(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ig(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ig(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ig(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ag(e){var t=e.rootContainer().querySelectorAll(".editor-highlight");return Array.from(t)}function sg(e){var t=e.querySelectorAll(".editor-highlight");return Array.from(t)}function cg(e){return ag(e).length}function lg(e){ag(e).forEach((function(e){e.remove()}))}function ug(e){(function(e){var t=e.rootContainer().querySelectorAll(".editor-search-result-highlight");return Array.from(t)})(e).forEach((function(e){e.remove()}))}function dg(e){var t=Number.parseInt(e.getAttribute("data-start")||"",10),n=Number.parseInt(e.getAttribute("data-end")||"",10);return w(void 0!==t),w(void 0!==n),{start:t,end:n}}function pg(e,t,n){e.setAttribute("data-start","".concat(t)),e.setAttribute("data-end","".concat(n))}function fg(e){var t=e.rootContainer().querySelector(".editor-highlight.active");return t||null}function hg(e){return w(e),Ga(e,"editor-highlight-readonly")}function Ag(e){var t=fg(e);if(!t)return-1;var n=ag(e).indexOf(t);return w(-1!==n),n}function mg(e,t){ag(e).forEach((function(e){Ga(e,"active")&&Ja(e,"active")})),Qa(t,"active"),w(t.firstChild instanceof HTMLElement);var n=t.firstChild,r=n.getBoundingClientRect(),o=cs(e.rootContainer()),i=r.y;0===i&&(i=n.getBoundingClientRect().y);Es(o,o.scrollTop+i-document.body.clientHeight/2)}function gg(e,t,n,r){var o=n.left,i=n.top,a=n.width,s=n.height,c=["editor-highlight-child"];r&&c.push("editor-highlight-readonly");var l=ps("div",c,e);l.style.top="".concat(i,"px"),l.style.left="".concat(o,"px"),l.style.width="".concat(a,"px"),l.style.height="".concat(s,"px")}function vg(e,t,n,r){w(n);var o=Wp(e,!0);w(o);var i=e.getBoundingClientRect(),a=Ds(Sf(e,t)),s=Ds(Sf(e,n));w(a),w(s);var c=ps("div",["find"===r?"editor-highlight":"editor-search-result-highlight"],o);(pg(c,t,n),a.bottom<s.top)?(gg(c,0,{left:a.left-i.left,width:i.right-a.left,top:a.top-i.top,height:a.height}),Math.abs(a.bottom-s.top)>a.height&&gg(c,0,{left:0,width:i.width,top:a.bottom-i.top,height:s.top-a.bottom}),gg(c,0,{left:0,width:s.left-i.left,top:s.top-i.top,height:s.height})):gg(c,0,{left:a.left-i.left,width:s.left-a.left,top:a.top-i.top,height:a.bottom-a.top})}function bg(e,t,n){return vg(e,t,n,"replace")}function yg(e,t,n){var r=fg(e);if(!r)return!1;var o=wN(r);if(w(o),!e.isBlockWritable(o))return!1;var i=cg(e),a=Ag(e);if(!hg(r)&&e.isBlockWritable(o)){var s=hf(o).text;w(s);var c=function(e){var t=e.highlightText;return w(t),t}(o),l=dg(r),u=l.start,d=l.end,p=og(null==s?void 0:s.transformOffset(c,[u,d]),2),f=p[0],h=p[1];if(s.sub(f,h-f).toPlainTextWithFillChar().toLowerCase()!==t.toLowerCase())return!1;var A=s.replace(f,h,n);e.updateBlockText(o,A,{fromUndo:!1,updateBlock:!0}),function(e){sg(e).forEach((function(e){e.remove()}))}(o),Bg(o,t),n&&bg(o,f,f+n.length)}var m=cg(e);a>=m?a=0:m>i&&(a+=1);var g=function(e,t){w(t>=0);var n=ag(e);return 0===n.length?null:(w(t<n.length),n[t])}(e,a);return g&&mg(e,g),!0}function wg(e,t,n,r){if(!Uf(t))return 0;if(!e.isBlockWritable(t))return 0;var o=hf(t).text;w(o);var i={count:0},a=o.replaceAll(n,r,i);return o.toPlainTextWithFillChar()===a.toPlainTextWithFillChar()?0:(e.updateBlockText(t,a,{fromUndo:!1,updateBlock:!0}),i.count)}function xg(e,t){if(w(function(e){return Ga(e,"editor-highlight")}(e)),!hg(e)){w(t>0);var n=dg(e),r=wN(e);w(r),bg(r,n.start,n.start+t)}}function kg(e,t,n){if(!e.isWritable())return 0;var r=0;return SN(e.rootContainer()).forEach((function(o){Ff(o)?_f(o).forEach((function(o){var i=e.getContainerById(o.id);w(i),SN(i).forEach((function(o){r+=wg(e,o,t,n)}))})):r+=wg(e,o,t,n)})),n.length>0&&function(e,t){ag(e).forEach((function(e){xg(e,t)}))}(e,n.length),r}function Cg(e,t){if(!t)return 0;var n=ag(e),r=function(e,t){var n=t.endBlock,r=t.endOffset;if(!n)return null;w(n),w(void 0!==r);for(var o=sg(n),i=0;i<o.length;i++){var a=o[i];if(dg(a).end>=r)return a}var s=ML(e,{deep:!0}),c=s.indexOf(n);if(-1===c)return null;for(var l=c+1;l<s.length;l++){var u=sg(s[l]);if(u.length>0)return u[0]}return null}(e,t);return r?n.indexOf(r):0}function Eg(e,t,n){if(1===e.childNodes.length){var r=e.childNodes[0],o=document.createRange();o.setStart(r,t),o.setEnd(r,t+n);var i=Ds(o);w(i);var a=wN(e);w(a);var s=Wp(a,!0);w(s);var c=a.getBoundingClientRect(),l=ps("div",["editor-highlight","editor-highlight-readonly"],s);pg(l,t,t+n),gg(l,0,{left:i.left-c.left,width:i.width,top:i.top-c.top,height:i.height},!0)}}function Bg(e,t){if(t){w(Uf(e));var n=hf(e).text;w(n);var r=n.findAll(t);r.length>0&&(!function(e,t){e.highlightText=t}(e,n),r.forEach((function(t){var n=t.start,r=t.end;!function(e,t,n){vg(e,t,n,"find")}(e,n,r)}))),e.querySelectorAll("span[data-node-type=box]").forEach((function(e){w(Cd(e)),function(e,t,n){n&&Array.from(t.children).forEach((function(e){if("A"===e.tagName||"SPAN"===e.tagName)for(var t=e.innerText.toLowerCase(),r=n.toLocaleLowerCase(),o=0,i=t.indexOf(r,o);-1!==i;)Eg(e,i,r.length),o=i+r.length,i=t.indexOf(r,o)}))}(0,e,t)}))}}var Tg=In()((function(e){e.isChildEditor()||e.updateToc()}),1e3);function Mg(e){th(e)||Gu(e)&&Tg(OX.getEditor(e))}function Ig(e,t,n){return ts(Gp(e),t)||w(!1),op(Vf(e),t,n)}function Dg(e,t,n){return tp(Vf(e),t,n)}function _g(e,t,n){w(n),w(n.text);var r=new(id())(t.tagName,{},[]),o=em(e,t,n.text,[],-1,"",{});w(o),rm(e,t,GA()(r,o)),Array.from(t.querySelectorAll("img")).forEach((function(e){Qa(e,"loading"),e.onload=e.onerror=function(){Ja(e,"loading")}}))}function Sg(e){return w(!jp(e)),w(e),function(e){w(e);var t=[],n=OX.getEditor(e);return e.childNodes.forEach((function(e){if(!Ga(e,Vi.IGNORE)&&!Ga(e,Vi.COMPOSITION)){if(e instanceof HTMLElement){if("BR"===e.tagName)return;if(!(Cd(e)||e.firstChild&&""!==e.textContent))return}if(!(e instanceof Text)||e.nodeValue){var r=om(n,e);t.push(r)}}})),new Yo(t).autoMerge()}(e)}function Og(e,t){var n=wN(e);if(w(n),th(n))return-1;Mg(n);var r=zp(n),o=OX.getEditor(n),i=o.isComposing(),a=PL(o),s=!1;a.type,ia.INVALID;var c=[],l=a.startBlock,u=a.endBlock;l===n?(w(void 0!==a.startOffset),c.push(a.startOffset),s=!0):c.push(-1),u===n?(w(void 0!==a.endOffset),c.push(a.endOffset),s=!0):c.push(-1);var d=Hp(n).clone();w(d instanceof Yo);var p=d.composeWithCarets(t,c),f=o.getRemoteCaretPosesInBlock(r),h=null,A=Zi,m={};if(i){h=n.querySelector(".".concat(Vi.COMPOSITION)),m[Vi.COMPOSITION]=!0;var g=o.getWaitingCommand();g&&(m=Object.assign(Object.assign({},m),g)),h&&(A=h.textContent||Zi)}if(i){var v=ym(e,c.length>0?c[0]:-1,{selectNext:!1});m=Object.assign(Object.assign({},v),m)}var b=tm(o,e);w(b);var y=em(o,e,d,f,i&&p.length>0?p[0]:-1,A,m);(w(y),rm(o,e,GA()(b,y)),Vp(n,d),s)&&(w(2===p.length),w(l),w(u),i?(w(l===u),l===n&&YL(e)):(w(void 0!==a.startOffset),HL(l,-1===p[0]?a.startOffset:p[0],u,-1===p[1]?a.endOffset:p[1],a.direction)));return d.getLength()}function Ng(e,t){w(e),w(t),Mg(e)}function Lg(e,t,n,r,o){var i=op(r,t.range.startContainer,t.range.startOffset),a=_o.createDeleteOp(i-1,1);o.preventDefault(),o.stopPropagation(),$p(n,a);var s=hf(n).text;w(s),e.updateBlockText(n,s,{fromUndo:!1,updateBlock:!1})}function Rg(e,t,n,r,o){var i=op(r,t.range.startContainer,t.range.startOffset),a=_o.createDeleteOp(i,1);o.preventDefault(),o.stopPropagation(),$p(n,a);var s=hf(n).text;w(s),e.updateBlockText(n,s,{fromUndo:!1,updateBlock:!1})}function jg(e,t,n){var r,o=OX.getEditor(e),i=kN(e);w(i);var a=Vf(e),s=ep(a);if("Enter"===n.key)if(n.preventDefault(),n.stopPropagation(),0===t.startOffset)if(o.isTitleBlock(e)){var c=Hp(e);o.beginUndoGroup(),o.deleteBlockText(e,0,-1);var l=o.insertTextBlock(i,1,c,void 0,{fromUndo:!1,focusToBlock:!1,localAction:!0});o.selectBlock(l,0,0),o.endUndoGroup()}else{var u=lh(e);if(o.isBlockQuoted(e)&&Gf(e))o.setBlockQuoted(e,!1);else{o.beginUndoGroup();var d=o.insertTextBlock(i,TN(e),"",u,{fromUndo:!1,focusToBlock:!1,localAction:!0});o.isBlockQuoted(e)&&o.setBlockQuoted(d,!0),o.selectBlock(e,0,0),o.endUndoGroup(),o.handleSelectionChanged()}}else{w(void 0!==t.startOffset),o.beginUndoGroup();var p=function(e,t){var n=ip(e,t,{keepFormat:!0});return KL(n,0),n}(e,t.startOffset);o.isBlockQuoted(e)&&!Gf(e)&&o.setBlockQuoted(p,!0),o.endUndoGroup()}else if("Backspace"===n.key&&jL()){if(w(void 0!==t.startOffset),t.startOffset>0){if(Vd(t.range.startContainer,t.range.startOffset))return!1;var f=function(e){var t;w(e.collapsed);var n=e.startContainer,r=wN(n);w(r);var o=Vf(r);if(w(ts(o,n)),n===o){var i=e.startOffset,a=Array.from(o.childNodes);return 0!==i&&Zd(a[i-1])}if(Zd(n))return!0;if(Vd(n,e.startOffset))return!1;var s=(null===(t=n.textContent)||void 0===t?void 0:t.length)||0;if(0===s)w(n instanceof HTMLBRElement);else if(e.startOffset>1||1===e.startOffset&&s>1)return!1;var c=np(o,n),l=Array.from(o.childNodes),u=l.indexOf(c);return w(-1!==u),0!==u&&Zd(l[u-1])}(t.range),h=function(e){var t;w(e.collapsed);var n=e.startContainer,r=wN(n);w(r);var o=Vf(r);if(w(ts(o,n)),n===o){var i=e.startOffset,a=Array.from(o.childNodes);return 0!==i&&Cd(a[i-1])}if(Cd(n))return!0;var s=(null===(t=n.textContent)||void 0===t?void 0:t.length)||0;if(0===s)w(n instanceof HTMLBRElement);else if(e.startOffset>1||1===e.startOffset&&s>1)return!1;var c=np(o,n),l=Array.from(o.childNodes),u=l.indexOf(c);return w(-1!==u),0!==u&&Cd(l[u-1])}(t.range);if((f||h)&&!Gf(e))return Lg(o,t,e,a,n),!0;var A=ap(t.range);if(A.prev&&Cd(A.prev)){w(A.prev instanceof HTMLElement),n.preventDefault(),n.stopPropagation();var m=iL(o);return A.prev.remove(),m.offset-=1,sL(o,m),Tf(e),!0}return!!cp(t.range,"backward")&&(Lg(o,t,e,a,n),!0)}n.preventDefault(),n.stopPropagation();var g=MN(e);if(g){if(Uf(g)){if(!o.isBlockWritable(g))return!0;o.beginUndoGroup(),n_(g,e),o.endUndoGroup()}else KL(g,-1,-1);return!0}}else if("Delete"===n.key&&jL()){if(w(void 0!==t.endOffset),-1!==t.endOffset&&t.endOffset<s){if(function(e){var t;w(e.collapsed);var n=e.startContainer,r=wN(n);w(r);var o=Vf(r);if(w(ts(o,n)),n===o){var i=e.startOffset,a=Array.from(o.childNodes);return!(i>=a.length-1)&&Zd(a[i+1])}if(Zd(n))return!0;if(0===e.startOffset&&n instanceof HTMLElement)return!1;w(n instanceof Text);var s=(null===(t=n.textContent)||void 0===t?void 0:t.length)||0;if(w(s>0),e.startOffset<=s-1)return!1;var c=np(o,n),l=Array.from(o.childNodes),u=l.indexOf(c);return w(-1!==u),u!==l.length-1&&Zd(l[u+1])}(t.range)&&!Gf(e))return Rg(o,t,e,a,n),!0;var v=ap(t.range);return v.next&&Cd(v.next)?(w(v.next instanceof HTMLElement),n.preventDefault(),n.stopPropagation(),v.next.remove(),Tf(e),!0):!!(cp(t.range,"forward")||v.next&&v.next!==v.prev&&1===(null===(r=v.next.textContent)||void 0===r?void 0:r.length))&&(Rg(o,t,e,a,n),!0)}n.preventDefault(),n.stopPropagation();var b=IN(e);if(b){if(Uf(b)){if(!o.isBlockWritable(b))return!0;o.beginUndoGroup(),n_(e,b),o.endUndoGroup()}else KL(b,0,0);return!0}}return!1}function Ug(e,t,n){return ym(Vf(e),t,n)}function Fg(e,t){if(!OX.getEditor(e).isBlockWritable(e))return null;if(w(Uf(e)),t instanceof HTMLAnchorElement)return function(e,t){var n=[];if(t.editing)return null;var r=OX.getEditor(e),o=r.getSelectionDetail();if(o.type!==ia.INVALID&&!o.collapsed)return null;var i={editor:r,block:e,link:t.getAttribute("href")||"",target:t};return n.push({id:"",text:i.link,icon:"",className:"link-text",disabled:!1,data:i,onClick:Om},{id:"",text:ju.common.edit,icon:Tm,disabled:!1,data:i,onClick:Fm},{id:"",text:ju.link.unlink,icon:Mm,disabled:!1,data:i,onClick:zm}),n}(e,t);if(Bd(t)){var n=Ed(t);return _d(OX.getEditor(e),n)}return null}function zg(e){return Mg(e),zh(e,"text-change"),e.innerText.length<=1&&0===Sg(Vf(e)).getLength()?Qa(e,Vi.EMPTY_BLOCK):Ja(e,Vi.EMPTY_BLOCK),rg(OX.getEditor(e),e),w(e),!1}function Qg(e){return function(e){if(e.querySelector(".".concat(Vi.COMPOSITION)))return!1;for(var t=Array.from(e.childNodes),n=t.length-1;n>=0;n--){var r=t[n];if(!(r instanceof HTMLBRElement||Ga(r,Vi.COMPOSITION)))return!!Zd(r)}return!1}(Vf(e))}function Pg(e){if(!e.collapsed)return!1;if(!e.startBlock||!Uf(e.startBlock))return!1;var t=e.startBlock,n=e.startOffset;if(n!==Kf(t))return!1;if(!function(e){var t,n=e.startContainer;if(n instanceof Text)t=n.parentElement;else{if(!(n instanceof HTMLSpanElement))return null;t=n}if(!(t instanceof HTMLSpanElement))return null;if(!Ga(t,"style-code"))return null;var r=t.parentElement;return r instanceof HTMLElement&&Ga(r,"text-element")?t:null}(e.range))return!1;var r=OX.getEditor(t);r.beginUndoGroup();try{r.insertBlockText(t,n," "),r.selectBlock(t,n+1,n+1)}catch(e){console.error(e)}return r.endUndoGroup(),!0}n(2773);function Hg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kg(e){var t=new Map;$t(e,{onBeginBlock:function(e,n,r,o){var i,a;"list"===o.type&&o.ordered&&(o.start=(i=o.groupId,void 0!==(a=t.get(i))?(a+=1,t.set(i,a),a):(a=1,t.set(i,a),a)))}})}function Gg(e){return function(e){if(Array.isArray(e))return Wg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Wg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yg(e,t){var n=Sf(e,0);return n.startContainer===t.startContainer&&n.startOffset===t.startOffset}function qg(e,t){var n=Sf(e,-1);return n.startContainer===t.endContainer&&n.startOffset===t.endOffset}function Zg(e,t,n){if(t.type===ia.INVALID){var r=e.getAgentSelector();return r.isSelected()?r.selectionToDoc():{blocks:[],comments:{},meta:{}}}var o=_n()(e.data()),i={blocks:[],comments:{},meta:{}},a=function e(t,n,r){Ff(n)&&_f(n).forEach((function(e){var n=o[e.id];t[e.id]=n}));var i=OX.fixTextData(hf(n));if(!r.copyWithChildren||!Gu(n)||!qu(n))return[i];var a=Zu(n).map((function(n){return e(t,n,{copyWithChildren:!1})[0]}));return[i].concat(Gg(a))},s=function(e,n,r,o){if(0===r&&(-1===o||o===Kf(n))){var i=t.startBlock===t.endBlock;return a(e,n,{copyWithChildren:i})}w(n);var s=hf(n),c=s.text;w(c);var l=c.sub(r,-1===o?o:o-r);return[{id:s.id,type:Qi.TEXT,text:l.toOps()}]},c=function(e,n){qL(n,t.range).forEach((function(e){e.selectedBlocks.forEach((function(e){var t;(t=i.blocks).push.apply(t,Gg(function(e,t){return w(!Ff(t.block)),Uf(t.block)?s(e,t.block,t.start,t.end):[OX.fixTextData(hf(t.block))]}(i,e)))}))}))};if(e.getEntireSelectedBlock()){var l=e.getEntireSelectedBlock(),u=mf(l),d={blocks:[OX.fixTextData(u)],comments:{},meta:{}};if(Ff(l))u.children.forEach((function(e){d[e]=_n()(o[e])}));return d}var p=e.getFocusedImage();if(p&&t.startBlock===t.endBlock){var f=wN(p);w(f);var h=mf(f);return{blocks:[OX.fixTextData(h)],comments:{},meta:{}}}if(t.startBlock===t.endBlock){var A=t.startBlock;if(w(A),A.querySelector("div.editor-image-error")){var m=mf(A);return{blocks:[OX.fixTextData(m)],comments:{},meta:{}}}}if(t.collapsed){if(t.startBlock){if(Hf(t.startBlock))return{blocks:[OX.fixTextData(hf(t.startBlock))],comments:{},meta:{}};if(nA(t.startBlock)){var g,v=a(i,t.startBlock,{copyWithChildren:!0});return(g=i.blocks).push.apply(g,Gg(v)),i}}return{blocks:[],comments:{},meta:{}}}if(t.type===ia.ONE_TEXT_BLOCK){var b,y=t.startBlock,x=t.startOffset,k=t.endOffset;w(y),w(void 0!==x),w(void 0!==k);var C=s(i,y,x,k);(b=i.blocks).push.apply(b,Gg(C))}else if(t.type===ia.ONE_FULL_COMPLEX_BLOCK){var E,B=t.startComplexBlock;w(B),(E=i.blocks).push.apply(E,Gg(a(i,B,{copyWithChildren:!1})))}else if(t.type===ia.ONE_EMBED_BLOCK){var T,M=t.startBlock;w(M),(T=i.blocks).push.apply(T,Gg(a(i,M,{copyWithChildren:!1})))}else if(t.type===ia.MULTI_BLOCKS){var I=$L(t);if(1===I.length){var D,_=I[0];if(w(Ff(_)),Yg(_,t.range)&&qg(_,t.range))(D=i.blocks).push.apply(D,Gg(a(i,_,{copyWithChildren:!1})));else c(0,_)}else{var S=I.length,O=t.startOffset,N=t.endOffset;w(void 0!==O),w(void 0!==N),I.forEach((function(e,n){var r;if(0===n)if(Ff(e)){if(!Yg(e,t.range))return void c(0,e)}else{if(Uf(e)){var o,l=s(i,e,O,-1);return void(o=i.blocks).push.apply(o,Gg(l))}if(Hf(e)&&O>0)return}else if(n===S-1)if(Ff(e)){if(!qg(e,t.range))return void c(0,e)}else{if(Uf(e)){var u,d=s(i,e,0,N);return void(u=i.blocks).push.apply(u,Gg(d))}if(Hf(e)&&0===N)return}(r=i.blocks).push.apply(r,Gg(a(i,e,{copyWithChildren:!1})))}))}}else w(!1);return function(e){$t(e,{onBeginBlock:function(e,t,n,r){var o=r;delete o.lock,delete o.markerData,delete o.markerExpired,delete o.markerWidth}}),w(e)}(i),Kg(i),function(e){e.blocks.forEach((function(e){e.type===Qi.CODE_LINE&&(e.type=Qi.TEXT)}))}(i),n&&n.keepComments?i:function(e){var t=_n()(e);return Array.from(Object.entries(t)).forEach((function(e){var t=Hg(e,2),n=t[0],r=t[1];"meta"!==n&&"comments"!==n&&"authors"!==n&&"commentators"!==n&&Array.isArray(r)&&r.forEach((function(e){delete e.comments,e.text&&e.text.forEach((function(e){e.attributes&&(Array.from(Object.keys(e.attributes)).forEach((function(t){t.startsWith("comment-")&&delete e.attributes[t]})),delete e.attributes.commentId,0===Object.keys(e.attributes).length&&delete e.attributes)}))}))})),t.comments={},t.commentators=[],t}(i)}function Xg(e,t,n){var r,o=Zg(e,t,n),i=t.startBlock,a=i&&zp(i);return o.meta=Object.assign(Object.assign({},o.meta),{appId:e.auth.appId,docId:e.docId(),title:e.titleFromEditor()||(null!==(r=e.options.initTitle)&&void 0!==r?r:""),firstBlockId:a}),o}function Jg(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function $g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ev=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function tv(e){e&&e.clipboardData&&e.clipboardData.clearData()}function nv(e,t){return ev(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(tv(e),!e||!e.clipboardData){n.next=6;break}r=Jg(t);try{for(r.s();!(o=r.n()).done;)i=o.value,e.clipboardData.setData(i.type,i.data)}catch(e){r.e(e)}finally{r.f()}n.next=15;break;case 6:return n.prev=6,a=t.map((function(e){var t,n,r;return new window.ClipboardItem((t={},n=e.type,r=e.data,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))})),n.next=10,navigator.clipboard.write(a);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(6),console.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[6,12]])})))}function rv(e,t,n,r,o){var i;return ev(this,void 0,void 0,regeneratorRuntime.mark((function a(){var s,c,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n||r||o){a.next=2;break}return a.abrupt("return",!1);case 2:return(null===(i=e.options.callbacks)||void 0===i?void 0:i.onCopyToClipboard)&&(s=e.options.callbacks.onCopyToClipboard(e,{html:n,text:r,doc:o}))&&(n=s.html,r=s.text),c=[],r&&c.push({type:"text/plain",data:r}),n&&(o&&(l='<meta charset="utf-8"><wiz-editor-doc data-source="wiz-editor-doc::'.concat(yo(JSON.stringify(o)),'::wiz-editor-doc" />'),n=l+n),c.push({type:"text/html",data:n})),o&&c.push({type:"text/wiz-editor-doc",data:JSON.stringify(o)}),a.prev=8,a.next=11,nv(t,c);case 11:return a.abrupt("return",!0);case 14:return a.prev=14,a.t0=a.catch(8),console.error("Your browser doesn't allow clipboard access",a.t0.message),a.abrupt("return",!1);case 18:case"end":return a.stop()}}),a,null,[[8,14]])})))}function ov(e,t){var n=Hs(t),r=n.querySelectorAll("[src]"),o=!1;return r.forEach((function(t){var n=t.getAttribute("src");w(n);var r=e.resourceNameFromUrl(n);if(r){var i=e.buildResourceUrl(r,void 0,{withToken:!0});t.setAttribute("src",i),o=!0}})),o?Vs(n):t}function iv(e){var t=Hs(e);return Array.from(t.querySelectorAll(".inline-plugin.editor-box-br > img")).forEach((function(e){return e.remove()})),Vs(t)}function av(e,t,n){return ev(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(w(n),n.type!==ia.INVALID||e.getAgentSelector().isSelected()){r.next=3;break}return r.abrupt("return",!1);case 3:return(o=Xg(e,n,{keepComments:!1})).meta=Object.assign(Object.assign({},o.meta),{apiServer:e.apiServer(),token:e.getResourceToken()}),i=Cn(o),a=e.selectionToHtml(),a=iv(a=ov(e,a)),r.next=11,rv(e,t,a,i,o);case 11:if(!r.sent){r.next=13;break}return r.abrupt("return",!0);case 13:return r.abrupt("return",!1);case 14:case"end":return r.stop()}}),r)})))}n(823);function sv(e,t){var n=e.startBlock;if(!n||!t)return{index:-1,keywords:"",count:0,maxCount:0};w(n);var r=hf(n).text;w(r),w(void 0!==e.startOffset);var o=r.split(e.startOffset)[0].toPlainText();if(o.endsWith("   "))return{index:-1,keywords:"",count:0,maxCount:0};var i=o.lastIndexOf(t);return-1===i?{index:-1,keywords:"",count:0,maxCount:0}:{index:i,keywords:o.substr(i+t.length),count:e.startOffset-i,maxCount:o.substring(i).length}}var cv=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function lv(e,t,n,r){var o=this;e.saveSelectionState(),w(r.getItems);var i={target:t,keyword:"",placeholder:r.suggestPlaceholder||"",placeholderNoMatch:r.suggestPlaceholderNoMatch||"",data:{block:t,offset:n},boxClass:r,customSuggest:r.customSuggest||!1,customSuggestTheme:r.customSuggestTheme||"",customType:yd(r),getSuggest:function(t){return cv(o,void 0,void 0,regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return w(r.getItems),n.next=3,r.getItems(e,t||"");case 3:return o=n.sent,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))},selectSuggest:function(t,n){!function(e,t,n,r){if(t.createBoxDataFromItem){var o=t.createBoxDataFromItem(e,n),i=yd(t);e.insertBox(i,null,o,{deletePrefix:!0})}else w(t.handleBoxItemSelected),t.handleBoxItemSelected(e,n,r)}(e,r,n,i)},onReturn:function(t){return w(t),!!r.handleReturn&&r.handleReturn(e)},renderSuggestItem:r.renderAutoSuggestItem,renderSuggestHeader:r.renderAutoSuggestHeader,renderSuggestFooter:r.renderAutoSuggestFooter,renderLoading:r.renderAutoSuggestLoading,enableSelectItem:!!r.enableAutoSuggestSelectItem,suggestMaxHeight:r.autoSuggestMaxHeight,onHidden:function(){r.handleAutoSuggestHidden&&r.handleAutoSuggestHidden(e)}},a=Wp(t,!0);w(a),e.autoSuggest.show(a,null,i,r)}function uv(e,t){var n=this,r=e.getBoxById(t.id);w(r);var o=wN(r);w(o);var i=sp(o,r),a=bd(t.type),s={target:o,keyword:"",placeholder:a.suggestPlaceholder||"",placeholderNoMatch:a.suggestPlaceholderNoMatch||"",boxClass:a,data:{block:o,offset:i,boxData:_n()(t)},customSuggest:a.customSuggest||!1,customSuggestTheme:a.customSuggestTheme||"",customType:t.type,getSuggest:function(t){return cv(n,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return w(a.getItems),n.next=3,a.getItems(e,t||"");case 3:return r=n.sent,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))},selectSuggest:function(n,r){!function(e,t,n,r,o){if(e.isInEditor(r)){var i=e.getBoxById(o.id);if(i&&ts(r,i)&&t.createBoxDataFromItem){var a=sp(r,i);e.beginUndoGroup(),e.deleteBlockText(r,a,a+1),e.selectBlock(r,a,a);var s=t.createBoxDataFromItem(e,n);e.insertBox(o.type,null,s,{deletePrefix:!1}),e.endUndoGroup()}}}(e,a,r,o,t)},renderSuggestItem:a.renderAutoSuggestItem,renderSuggestHeader:a.renderAutoSuggestHeader,renderSuggestFooter:a.renderAutoSuggestFooter,renderLoading:a.renderAutoSuggestLoading,enableSelectItem:!!a.enableAutoSuggestSelectItem,onHidden:function(){e.isInEditor(r)&&Ja(r,Vi.ACTIVE),a.handleAutoSuggestHidden&&a.handleAutoSuggestHidden(e,t)},onReturn:function(t){return w(t),!!a.handleReturn&&a.handleReturn(e)},suggestMaxHeight:a.autoSuggestMaxHeight},c=Wp(o,!0);w(c),Qa(r,Vi.ACTIVE),e.autoSuggest.show(c,r,s,a)}function dv(e,t,n,r){if(0!==n){var o=e.autoSuggest.getCustomData();if(o){var i=o.prefix,a="";if(i){var s=sv(r,i),c=s.index,l=s.keywords;if(-1===c)return void e.autoSuggest.hide();a=l}else{var u=e.autoSuggest.options().data;if(u&&u.block&&void 0!==u.offset&&t===u.block){var d=u.offset,p=n;w(void 0!==p),p>d&&(a=rh(u.block,d,p))}}e.autoSuggest.updateKeyword(a)}}else e.autoSuggest.hide()}function pv(e,t,n,r){return cv(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,s,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(dh(t,r)){o.next=2;break}return o.abrupt("return",null);case 2:if(!(i=bd(r)).getItems){o.next=21;break}if(w(void 0!==n),!i.insertDefaultThenEdit){o.next=18;break}return w(i.createBoxData),o.next=9,i.createBoxData(e);case 9:if(!(a=o.sent)){o.next=17;break}return t&&void 0!==n&&e.selectBlock(t,n,n),o.next=14,e.insertBox(r,null,a);case 14:return(s=o.sent)&&uv(e,s),o.abrupt("return",s);case 17:return o.abrupt("return",null);case 18:return i.prefix&&(e.insertBlockText(t,n,Yo.create(i.prefix)),n+=i.prefix.length),lv(e,t,n,i),o.abrupt("return",null);case 21:return w(i.createBoxData),o.next=24,i.createBoxData(e);case 24:if(!(c=o.sent)){o.next=27;break}return o.abrupt("return",e.insertBox(r,null,c,{deletePrefix:!0}));case 27:return o.abrupt("return",null);case 28:case"end":return o.stop()}}),o)})))}function fv(e,t,n,r,o,i){return cv(this,void 0,void 0,regeneratorRuntime.mark((function a(){var s,c,l,u,d,p,f,h,A;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(w(s=t.startBlock),Uf(s)){a.next=4;break}return a.abrupt("return",null);case 4:if(w(void 0!==t.startOffset),c=bd(n),!(null==i?void 0:i.showAutoSuggest)){a.next=21;break}if(e.autoSuggest.isVisible()&&e.autoSuggest.hide(),!c.insertDefaultThenEdit){a.next=19;break}return w(c.createBoxData),a.next=12,c.createBoxData(e);case 12:if(!(l=a.sent)){a.next=19;break}return a.next=16,e.insertBox(n,null,l);case 16:return(u=a.sent)&&uv(e,u),a.abrupt("return",u);case 19:return lv(e,s,t.startOffset,bd(n)),a.abrupt("return",null);case 21:return e.beginUndoGroup(),d=t.startOffset,i&&i.deletePrefix&&c.prefix&&(p=sv(t,c.prefix),f=p.index,h=p.maxCount,-1!==f&&(e.deleteBlockText(s,f,f+h),d=f)),A=Hd(e,s,d,n,r,o),e.endUndoGroup(),a.abrupt("return",A);case 27:case"end":return a.stop()}}),a)})))}function hv(e,t){for(var n=0;n<t.length;n++){var r=t[n][0],o=t[n].length>1?t[n][1]:null;if(null===o&&e===r)return!0;if(null!==o&&e>=r&&e<=o)return!0}return!1}function Av(e){return hv(e.charCodeAt(0),[[9,13],[32],[160]])}function mv(e,t){var n=t;return w(1===n.length),"]"===n&&(n="\\]"),"\\"===n&&(n="\\\\"),e.replace(new RegExp("^[".concat(n,"]+|[").concat(n,"]+$"),"g"),"")}var gv=n(2366),vv=n.n(gv),bv={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(vv(),bv);vv().locals;var yv=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function wv(e){var t;return yv(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return window.MathJax||(window.MathJax={options:{skipHtmlTags:["script","noscript","style","textarea","pre","code","annotation","annotation-xml","body"]}}),r=(null===(t=e.options.cdn)||void 0===t?void 0:t.mathjax)||"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js",n.next=4,gs(r,"MathJax-script");case 4:case"end":return n.stop()}}),n)})))}function xv(){try{window.MathJax&&window.MathJax.texReset()}catch(e){}}function kv(e,t){return yv(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="mathjax2Svg",n.prev=1,n.next=4,Bo.lock(r);case 4:return xv(),n.next=7,wv(e);case 7:return n.next=9,window.MathJax.tex2svgPromise(t);case 9:if(o=n.sent,!(i=o.querySelector("merror"))){n.next=13;break}throw new Error(i.textContent);case 13:return a=o.querySelector("svg"),n.abrupt("return",a.outerHTML);case 17:throw n.prev=17,n.t0=n.catch(1),console.error(n.t0),n.t0;case 21:return n.prev=21,Bo.release(r),n.finish(21);case 24:case"end":return n.stop()}}),n,null,[[1,17,21,24]])})))}function Cv(e,t){return yv(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=new File([t],"math.svg"),n.prev=2,!e.isLocal()){n.next=8;break}return n.next=6,ys(t,"image/svg+xml");case 6:return o=n.sent,n.abrupt("return",o);case 8:return n.next=10,e.uploadResource(r,(function(){}));case 10:return i=n.sent,n.abrupt("return",i);case 14:return n.prev=14,n.t0=n.catch(2),console.error(n.t0),n.abrupt("return","");case 18:case"end":return n.stop()}}),n,null,[[2,14]])})))}function Ev(e,t,n,r){return yv(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,s,c,l,u,d,p;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,wv(e);case 2:return i=mv(Ch(t).substr(n,r-n),"$"),e.beginUndoGroup(),o.prev=4,e.deleteBlockText(t,n,r),a=Hd(e,t,n,Pi.LOADING,null,{text:i}),w(hf(t).text),o.next=11,kv(e,i);case 11:return s=o.sent,o.next=14,Cv(e,s);case 14:if(c=o.sent,l=e.getBoxById(a.id)){o.next=18;break}return o.abrupt("return");case 18:if(ts(t,l)){o.next=20;break}return o.abrupt("return");case 20:u=sp(t,l),e.deleteBlockText(t,u,u+1),Hd(e,t,u,Pi.MATH,null,{src:c,tex:i}),o.next=37;break;case 25:if(o.prev=25,o.t0=o.catch(4),a){o.next=29;break}return o.abrupt("return");case 29:if(d=e.getBoxById(a.id)){o.next=32;break}return o.abrupt("return");case 32:if(ts(t,d)){o.next=34;break}return o.abrupt("return");case 34:p=sp(t,d),e.deleteBlockText(t,p,p+1),Hd(e,t,p,Pi.MATH,null,{src:"",tex:i});case 37:return o.prev=37,e.endUndoGroup(),o.finish(37);case 40:case"end":return o.stop()}}),o,null,[[4,25,37,40]])})))}var Bv=n(6635);function Tv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Iv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Dv=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const _v=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events=new m.EventEmitter,this.worker=null,this.handleMessage=function(e){var n=e.data;if("highlightResult"===n.type){var r=n.id,o=n.html,i=Tv(r.split("/"),2),a=i[0],s=i[1];t.events.emit("highlight",a,s,o)}}}var t,n,r;return t=e,(n=[{key:"initWorker",value:function(e){var t,n;if(!this.worker){var r;this.worker=(r=new Blob([Bv],{type:"application/javascript"}),new Worker(URL.createObjectURL(r))),this.worker.onmessage=this.handleMessage;var o=[(null===(t=e.options.cdn)||void 0===t?void 0:t.prismCore)||"https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-core.min.js",(null===(n=e.options.cdn)||void 0===n?void 0:n.prismLoader)||"https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"];this.worker.postMessage({type:"init",scripts:o})}}},{key:"highlightCodeBlock",value:function(e,t,n,r,o){return Dv(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o){i.next=2;break}return i.abrupt("return");case 2:if(this.initWorker(e),"plain text"!==Yn(r)){i.next=6;break}return i.abrupt("return");case 6:w(this.worker),this.worker.postMessage({type:"highlight",id:"".concat(t,"/").concat(n),language:r,code:o});case 8:case"end":return i.stop()}}),i,this)})))}},{key:"on",value:function(e,t){this.events.on("highlight",t)}}])&&Iv(t.prototype,n),r&&Iv(t,r),e}());var Sv=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function Ov(e,t,n,r){var o=this,i=ps("div",["editor-add-image-dialog-root"],null),a=n.getBoundingClientRect();i.style.width="".concat(a.width,"px");var s=ps("div",["editor-add-image-dialog-tab-container"],i),c=ps("div",["editor-add-image-dialog-pane-container"],i),l=ps("div",["editor-add-image-dialog-local-pane"],c),u=ps("div",["editor-add-image-dialog-remote-pane"],c),d=As(ju.image.localImage,["editor-add-image-dialog-local-tab-button","editor-link-button"],s),p=As(ju.image.remoteImage,["editor-add-image-dialog-remote-tab-button","editor-link-button"],s),f=function(e,t){var n=ps("label",["editor-add-image-dialog-file-label"],t),r=ps("span",["editor-add-image-dialog-select-file-button","editor-standard-button"],n,ju.image.selectImage),o=ps("input",["editor-add-image-dialog-file-input"],n);return o.type="file",o.accept=e.getAccepts(aa.IMAGE),o.id="editor-input-".concat(Date.now()),n.htmlFor=o.id,{localFileInput:o,localFileButton:r}}(e,l).localFileInput,h=ps("input",["editor-add-image-dialog-url-edit"],u),A=As(ju.image.insertImage,["editor-add-image-dialog-remote-ok-button","editor-standard-button"],u);A.disabled=!0,d.onclick=function(){l.style.display="flex",u.style.display="none",Qa(d,Vi.ACTIVE),Ja(p,Vi.ACTIVE)},p.onclick=function(){u.style.display="flex",l.style.display="none",h.focus(),Ja(d,Vi.ACTIVE),Qa(p,Vi.ACTIVE)},f.onchange=function(){return Sv(o,void 0,void 0,regeneratorRuntime.mark((function n(){var o,i,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((o=f).files&&o.files.length>0){i=o.files[0],e.beginUndoGroup();try{a=kN(t),s=TN(t),e.deleteBlock(t,{fromUndo:!1,localAction:!0}),e.insertImage(a,i,s)}finally{e.endUndoGroup(),r()}o.files=null,o.value=""}case 2:case"end":return n.stop()}}),n)})))},d.click();var m=function(){var n=h.value;(n.startsWith("http://")||n.startsWith("https://"))&&(th(t)||(e.updateEmbedData(t,{src:n},{partial:!0,fromUndo:!1,updateBlock:!0}),r()))};return h.onkeyup=function(e){var t=h.value;t.startsWith("http://")||t.startsWith("https://")?A.disabled=!1:A.disabled=!0,"Enter"===e.key&&m()},A.onclick=m,d.tabIndex=1,f.tabIndex=2,p.tabIndex=3,h.tabIndex=4,A.tabIndex=5,{content:i,tabButtonLocal:d}}function Nv(e,t){var n=Gp(t),r=Ov(e,t,n,(function(){a.hide()})),o=r.content,i=r.tabButtonLocal,a=new iD(e,{popoverOptions:{commandTarget:t,popoverTarget:n,maxWidth:"unset"},content:o,onShown:function(){setTimeout((function(){i.focus()}),50)},onHidden:function(){a.destroy()}});a.show()}function Lv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jv=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function Uv(e,t){var n=t.length;w(n>=1);var r=2*n;if(e.endsWith(t)&&e.length-r>=0){var o=e.lastIndexOf(t,e.length-r);if(-1!==o&&e.length-o>r)return e.substr(0,o+n-1).endsWith(t)?-1:o}return-1}function Fv(e,t,n,r,o,i){var a=o.length;w(a>=1),e.beginUndoGroup();try{e.deleteBlockText(t,r-a,r),e.deleteBlockText(t,n,n+a),e.selectBlock(t,n,r-2*a),i.forEach((function(t){e.executeTextCommand(t)}));var s=r-2*a;return e.selectBlock(t,s,s),i.forEach((function(t){e.executeTextCommand(t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,!1))})),!0}finally{e.endUndoGroup()}}function zv(e,t,n,r,o){var i,a,s,c;return jv(this,void 0,void 0,regeneratorRuntime.mark((function l(){var u,d,p;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(e.autoSuggest.isVisible()&&e.autoSuggest.hide(),e.beginUndoGroup(),l.prev=2,e.deleteBlockText(t,n,r),!(null===(i=e.options.callbacks)||void 0===i?void 0:i.onCreateMentionPhoneOrEmail)){l.next=10;break}return l.next=7,null===(a=e.options.callbacks)||void 0===a?void 0:a.onCreateMentionPhoneOrEmail(e,o);case 7:u=l.sent,l.next=11;break;case 10:u={iconUrl:"",text:o,mentionId:""};case 11:return l.next=13,e.insertBox(Pi.MENTION,null,u);case 13:(null==(d=l.sent)?void 0:d.id)&&(null===(s=e.options.callbacks)||void 0===s?void 0:s.onMentionCreated)&&(p=e.getBoxById(null==d?void 0:d.id))&&(null===(c=e.options.callbacks)||void 0===c||c.onMentionCreated(e,d,p));case 15:return l.prev=15,e.endUndoGroup(),l.finish(15);case 18:case"end":return l.stop()}}),l,null,[[2,,15,18]])})))}function Qv(e,t,n){var r,o,i,a,s=PL(e);if(!s.collapsed||!s.startBlock||!Uf(s.startBlock))return!1;if(e.isComposing())return!1;if(s.range.startContainer){var c=Ls(s.range.startContainer);if(null==c?void 0:c.closest(".style-code"))return!1}var l=s.startBlock;if(w(l),e.isTitleBlock(l))return!1;if(Lf(l).disableQuickInput)return!1;var u=s.startOffset;w(void 0!==u);var d=Hp(l),p=d.sub(0,u),f=p.toPlainText(),h=d.sub(u,-1),A=function(e){var t;if(0===e.getLength())return"";var n=vn(e.toOps());return null!==(t=n[n.length-1].insert)&&void 0!==t?t:""}(p);if((null===(r=e.options.callbacks)||void 0===r?void 0:r.onQuickInput)&&(null===(o=e.options.callbacks)||void 0===o?void 0:o.onQuickInput(e,t,l,f,u)))return!0;if(t&&si(t)){if(f.startsWith("```")&&!f.substr(3).startsWith("`")){if(Mh(l))return!1;t.stopPropagation(),t.preventDefault();var m=f.substr(3).trim();if("mermaid"===m){var g=e.createEmbedBlockData(aa.MERMAID,{mermaidText:""},zp(l));return nh(e.replaceBlock(l,g,{fromUndo:!1,focusToBlock:!0}),"edit",""),!0}if("plantuml"===m||"uml"===m){var v=e.createEmbedBlockData(aa.PLANTUML,{plantumlText:""},zp(l));return nh(e.replaceBlock(l,v,{fromUndo:!1,focusToBlock:!0}),"edit",""),!0}if("flow"===m||"flowchart"===m){var b=e.createEmbedBlockData(aa.FLOWCHART,{flowchartText:""},zp(l));return nh(e.replaceBlock(l,b,{fromUndo:!1,focusToBlock:!0}),"edit",""),!0}var y=m&&function(e){if(!e)return"Plain Text";e=e.toLocaleLowerCase();for(var t=0;t<Wn.length;t++){var n=Wn[t];if(n.name.toLocaleLowerCase()===e)return n.name;if(n.key.toLocaleLowerCase()===e)return n.name;if(n.aliases&&-1!==n.aliases.indexOf(e))return n.name}return"Plain Text"}(m),x=If(e,Qi.CODE,{language:y,code:h.toPlainText()},zp(l));return e.replaceBlock(l,x,{fromUndo:!1,focusToBlock:!0}),!0}if(t&&si(t)&&"$$"===f){var k=e.createEmbedBlockData(aa.MATHJAX,{mathjaxText:""},zp(l));return nh(e.replaceBlock(l,k,{fromUndo:!1,focusToBlock:!0}),"edit",""),!0}if(f.startsWith("|")&&f.endsWith("|")&&f.length>=3){t.stopPropagation(),t.preventDefault();var C=f.split("|"),E=(C=C.filter((function(e){return e.trim().length>0}))).length,B=e.createBlockData(Qi.TABLE,{rows:3,cols:E},zp(l));e.beginUndoGroup();var T=_f(e.replaceBlock(l,B,{fromUndo:!1,focusToBlock:!1}));w(T.length===3*E),C.forEach((function(t,n){var r=T[n].blocks[0],o=e.getBlockById(r.id);w(o),w(Gf(o)),e.insertBlockText(o,0,Yo.create(t))})),e.endUndoGroup();var M=T[E].blocks[0],I=e.getBlockById(M.id);return w(I),e.selectBlock(I,0,0),!0}if("[toc]"===f.toLowerCase().trim()){e.beginUndoGroup();try{var D=e.createEmbedBlockData(aa.TOC,{},zp(l)),_=e.replaceBlock(l,D,{fromUndo:!1,focusToBlock:!0}),S=TN(_),O=kN(_);e.insertTextBlock(O,S+1,"",void 0,{focusToBlock:!0,localAction:!0,fromUndo:!1})}finally{e.endUndoGroup()}return!0}}if(t&&si(t)&&!t.editorCompositionEnd)return!1;if(t&&ci(t))return t.preventDefault(),t.stopPropagation(),e.insertBox(Pi.BR,null,{},{disableAppendSpace:!0}),!0;if("[] "===f)return e.executeBlockCommand("toCheckbox",l,{richTextData:h,on:!0}),!0;if(f.endsWith("]]")&&"]"===(null==t?void 0:t.key)){var N=f.indexOf("[[");if(-1!==N){var L=f.substr(N,f.length-N);return L=mv(L,"["),L=(L=mv(L,"]")).trim(),function(e,t,n,r,o){var i,a;jv(this,void 0,void 0,regeneratorRuntime.mark((function s(){var c;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.beginUndoGroup(),s.prev=1,e.deleteBlockText(t,n,r),!(null===(i=e.options.callbacks)||void 0===i?void 0:i.onCreateWikiLinkId)){s.next=7;break}return s.next=6,null===(a=e.options.callbacks)||void 0===a?void 0:a.onCreateWikiLinkId(e,o);case 6:c=s.sent;case 7:e.insertBox(Pi.WIKI_LINK,null,{name:o,linkId:c});case 8:return s.prev=8,e.endUndoGroup(),s.finish(8);case 11:case"end":return s.stop()}}),s,null,[[1,,8,11]])})))}(e,l,N,f.length,L),!0}}if(f.endsWith("![] ")&&" "===(null==t?void 0:t.key)){e.deleteBlockText(l,u-4,u);var R=kN(l),j=TN(l);if(Gf(l)||(j+=1),null===(i=e.options.callbacks)||void 0===i?void 0:i.onSelectFileUpload)e.options.callbacks.onSelectFileUpload(e,R,j,aa.IMAGE);else if(e.options.insertEmptyImageOnQuickInput){var U=e.insertImage(R,oa.Empty,j);setTimeout((function(){Nv(e,U)}))}else{var F=document.createElement("input");F.type="file",F.style.display="none",F.accept=e.getAccepts(aa.IMAGE),F.onchange=function(){var t=F.files;t&&t.length>0&&e.insertMediaFile(R,t[0],j,aa.IMAGE),F.remove()},F.click()}return!0}var z=f.match(/!\[([^\]]*)\]\((.*?\s*("(?:.*[^"])")?\s*)\)\s$/);if(z&&" "===(null==t?void 0:t.key)){var Q=Lv(z,3),P=Q[0],H=Q[2];e.beginUndoGroup();try{var V=u-P.length;e.deleteBlockText(l,V,u);var K=V;e.selectBlock(l,K,K),e.insertImage(null,H,-2)}finally{e.endUndoGroup()}return!0}var G,W=A.match(/\[(.*?)\]\(.*?\)\s$/);if(W){var Y=f.length-A.length+(null!==(a=W.index)&&void 0!==a?a:0);w(-1!==Y);var q=f.indexOf("]",Y);w(-1!==q);var Z=f.indexOf("(",q);w(-1!==Z);var X=f.lastIndexOf(")");w(-1!==X);var J=f.substring(Z+1,X),$=Y+1===q?J:f.substr(Y+1,q-Y-1);if($&&J){e.beginUndoGroup(),e.deleteBlockText(l,Y,u),e.insertBlockText(l,Y,Yo.createWithAttributes($,{link:J}));var ee=Y+$.length;return e.selectBlock(l,ee,ee),e.endUndoGroup(),!0}}if(t&&"$"===t.key){var te=f.substr(0,f.length);if(-1!==(G=Uv(te,"$$"))&&!e.options.disableTex)return Ev(e,l,G,te.length),!0;if(-1!==(G=Uv(te,"$"))&&!e.options.disableTex)return Ev(e,l,G,te.length),!0;if(te.endsWith("$$$$"))return e.deleteBlockText(l,te.length-4,te.length),function(e,t,n){var r=Hd(e,t,n,Pi.MATH,null,{src:"",tex:""});e.editBox(r,t)}(e,l,te.length-4),!0}var ne=Zf(l,u,{selectNext:!1});if(-1!==(G=Uv(f,"***"))&&!ne["style-bold"]&&!ne["style-italic"])return Fv(e,l,G,u,"***",["style-bold","style-italic"]),!0;if(-1!==(G=Uv(f,"~~"))&&!ne["style-strikethrough"])return Fv(e,l,G,u,"~~",["style-strikethrough"]),!0;if(-1!==(G=Uv(f,"**"))&&!ne["style-bold"])return Fv(e,l,G,u,"**",["style-bold"]),!0;if(-1!==(G=Uv(f,"__"))&&!ne["style-bold"])return Fv(e,l,G,u,"__",["style-bold"]),!0;if(-1!==(G=Uv(f,"*"))&&!ne["style-italic"])return Fv(e,l,G,u,"*",["style-italic"]),!0;if(-1!==(G=Uv(f,"`"))&&!ne["style-code"])return Fv(e,l,G,u,"`",["style-code"]),!0;if(function(e,t,n,r){if(0===n)return!1;if(!r)return!1;var o=r.length,i=Lv(t.splitToThree(n-r.length,o),3),a=i[0],s=i[2],c=a.toPlainText(),l=s.toPlainText();if(!c.endsWith(e))return!1;if(!l.startsWith(e))return!1;var u=e+e;return!c.endsWith(u)&&!l.startsWith(u)}("`",d,u,n)){e.beginUndoGroup();try{w(n);var re=u-n.length-1,oe=u+1;return e.deleteBlockText(l,re,oe),e.insertBlockText(l,re,Yo.createWithAttributes(n,{"style-code":!0})),!0}finally{e.endUndoGroup()}}if("> "===f)return e.beginUndoGroup(),e.deleteBlockText(l,0,2),e.setBlockQuoted(l,!0),e.endUndoGroup(),!0;if("---"===f){var ie=Ep(e,aa.HR,{},zp(l));e.beginUndoGroup();var ae=e.replaceBlock(l,ie,{fromUndo:!1,focusToBlock:!0}),se=TN(ae),ce=e.insertTextBlock(kN(ae),se+1,"");return e.endUndoGroup(),KL(ce,0),!0}if(f.startsWith("#")&&" "===(null==t?void 0:t.key)&&f.trim()==="#".repeat(f.trim().length)){var le=0;if(f.startsWith("######## ")?le=8:f.startsWith("####### ")?le=7:f.startsWith("###### ")?le=6:f.startsWith("##### ")?le=5:f.startsWith("#### ")?le=4:f.startsWith("### ")?le=3:f.startsWith("## ")&&(le=2),f.startsWith("# ")&&(le=1),le){var ue=hf(l).text;w(ue),ue=ue.compose(_o.createDeleteOp(0,le+1));var de=["toHeading1","toHeading2","toHeading3","toHeading4","toHeading5","toHeading6","toHeading7","toHeading8"][le-1];return e.executeBlockCommand(de,l,{richTextData:ue}),!0}}if(/^\d+\.\s+$/.test(f)){if(vD(l)&&OD(l)&&!BD(l)){if(!CD(l))return!1;ED(l,!1);var pe=f.indexOf(" ");if(-1===pe)return!1;var fe=hf(l),he=fe.text;return w(he),he=he.compose(_o.createDeleteOp(0,pe+1)),e.updateBlockText(l,he,{fromUndo:!1,updateBlock:!0}),e.updateBlockData(l,fe,{fromUndo:!1,updateBlock:!0,partial:!1}),YM(e,l,{fromUndo:!1,resetStart:!1}),!0}var Ae=Number.parseInt(f,10)||1,me=f.indexOf(" ");if(-1===me)return!1;var ge=hf(l),ve=ge.text;w(ve),ve=ve.compose(_o.createDeleteOp(0,me+1));return e.executeBlockCommand("toOrderedList",l,{richTextData:ve,level:1,start:Ae,quoted:ge.quoted}),!0}if("* "===f||"- "===f||"+ "===f){var be=hf(l).text;w(be),be=be.compose(_o.createDeleteOp(0,2));return e.executeBlockCommand("toUnorderedList",l,{richTextData:be,level:1}),!0}var ye=f.match(/@(1[3|4|5|7|8][0-9]{9})\s$/);if(void 0!==(null==ye?void 0:ye.index))return zv(e,l,ye.index,f.length,ye[1]),!0;var we=f.match(/@([A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,5})\s$/);if(void 0!==(null==we?void 0:we.index))return zv(e,l,we.index,f.length,we[1]),!0;if(e.autoSuggest.isVisible()){var xe=e.autoSuggest.getCustomData();return xe&&xe.isFullBox&&xe.isFullBox(e,s)?e.autoSuggest.hide():dv(e,l,u,s),!0}if(0===u)return!1;if(!t)return!1;if(!$o(t.key)&&!si(t)&&"Shift"!==t.key)return!1;var ke=hf(s.startBlock).text;w(ke);var Ce=Lv(ke.split(u),2),Ee=Ce[0],Be=Ce[1].toPlainText();if(si(t)||Av(t.key)){var Te=Ee.getLastTextWithAttributes(),Me=u-Te.getLength(),Ie=function(e){var t,n,r,o,i,a=e.trim();if(Qm(a))return{start:0,link:a};var s=function(e,t){var n=e.lastIndexOf(t);if(-1===n)return null;var r=e.substr(n);return-1!==r.indexOf(" ")?null:{start:n,link:r}},c=null!==(n=null!==(t=s(e,"https:"))&&void 0!==t?t:s(e,"http:"))&&void 0!==n?n:s(e,"www.");if(c)return c;var l=function(e,t){if(!e.endsWith(t))return null;var n,r;for(n=e.length-t.length;n>=0;n--){if(1!==(r=e[n]).length||!r.match(/[a-z\d%_\-.~+?$/&:\\]/i))break}var o=n+1,i=e.substr(o);return i.length-t.length<=1?null:{start:o,link:i}};return null!==(i=null!==(o=null!==(r=l(e,".com"))&&void 0!==r?r:l(e,".org"))&&void 0!==o?o:l(e,".net"))&&void 0!==i?i:l(e,".cn")}(Te.toPlainText().trim());if(Ie)return function(e,t,n,r){Bm(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,s,c,l,u,d,p;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return w(Uf(t)),w(i=hf(t).text),a=i.sub(n,r).toPlainText(),o.prev=4,o.next=7,e.recognizeNormalLink(a,t,{offset:n,count:r});case 7:if(!((s=o.sent)&&s.text&&s.link)){o.next=17;break}return w(c=hf(t).text),l=null==c?void 0:c.transformOffset(i,[n,n+r]),u=Cm(l,2),d=u[0],p=u[1],e.beginUndoGroup(),e.deleteBlockText(t,d,p),e.insertBlockText(t,d,Yo.createWithAttributes(s.text,{link:s.link})),e.endUndoGroup(),o.abrupt("return",!0);case 17:o.next=22;break;case 19:o.prev=19,o.t0=o.catch(4),console.error(o.t0);case 22:return o.abrupt("return",!1);case 23:case"end":return o.stop()}}),o,null,[[4,19]])})))}(e,l,Me+Ie.start,Ie.link.length),!1}var De=Ee.toPlainText(),_e=zd(De);if(_e&&("any"===_e.triggerMode||!Be||Be.startsWith(" "))){var Se=!0;if(_e.available&&(Se=_e.available(e)),Se)return function(e,t,n,r,o){cv(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,s,c,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=yd(r),dh(t,a)){i.next=3;break}return i.abrupt("return");case 3:if(!e.isMarkdownOnly()){i.next=6;break}if(r.supportMarkdown){i.next=6;break}return i.abrupt("return");case 6:if(!r.getItems){i.next=24;break}if(w(void 0!==n),!r.insertDefaultThenEdit){i.next=21;break}return w(r.prefix),o.index>=0&&e.deleteBlockText(t,o.index,o.index+o.count),w(r.createBoxData),i.next=14,r.createBoxData(e);case 14:if(!(s=i.sent)){i.next=20;break}return i.next=18,e.insertBox(a,null,s);case 18:(c=i.sent)&&uv(e,c);case 20:return i.abrupt("return");case 21:lv(e,t,n,r),i.next=29;break;case 24:return w(r.createBoxData),i.next=27,r.createBoxData(e);case 27:(l=i.sent)&&e.insertBox(a,null,l,{deletePrefix:!0});case 29:case"end":return i.stop()}}),i)})))}(e,l,u,_e,sv(s,_e.prefix||"")),!0}var Oe=wh(De);if(Oe){var Ne=kh(Oe);if(dh(l,Ne)){e.beginUndoGroup();var Le=xh(Oe);w(Le),function(e,t,n,r){var o=sv(t,r);-1!==o.index&&t.startBlock===n&&e.deleteBlockText(n,o.index,o.index+o.count)}(e,s,l,Le);var Re=If(e,Ne);return e.insertBlock(null,-2,Ne,Re,{fromUndo:!1,localAction:!0,focusToBlock:!0}),e.endUndoGroup(),!0}}return!1}function Pv(e,t,n,r){!function(e,t,n,r){if(!(r.length>0)&&n){var o=t.startCaret,i=t.endCaret;if(o&&i&&o.blockId===i.blockId&&o.offset===i.offset&&0!==o.offset){var a=e.getBlockById(o.blockId);if(a&&Rp(a)!==Qi.CODE_LINE){var s=e.getSelectionDetail();if(s.startBlock===a&&s.collapsed&&void 0!==s.startOffset){var c=o.offset,l=s.startOffset,u=hf(a).text;if(u&&l!==u.getLength()){var d=u.sub(c-1,1),p=u.sub(l,1);"`"===d.toPlainText()&&"`"===p.toPlainText()&&Fv(e,a,c-1,l+1,"`",["style-code"])}}}}}}(e,t,n,r)}var Hv=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function Vv(e,t){var n;return Hv(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s,c,l,u,d,p,f,h,A,m,g,v,b,y,x,k;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((o=e.getSelectionDetail()).startBlock&&void 0!==o.startOffset){r.next=3;break}return r.abrupt("return",[]);case 3:if(!uh(o.startBlock,{text:t,pasteAsText:!0},o)){r.next=5;break}return r.abrupt("return",[]);case 5:if(!Pm(t)){r.next=11;break}return r.next=8,Hm(e,o.startBlock,o.startOffset,t);case 8:if(!r.sent){r.next=11;break}return r.abrupt("return",[]);case 11:if(w(i=o.startBlock),a=o.startOffset,0!==(s=t.split("\n")).length){r.next=17;break}return r.abrupt("return",[]);case 17:if(1!==s.length){r.next=23;break}return w(c=hf(i).text),l=null!==(n=c.getAttributesAt(0===a?0:a-1))&&void 0!==n?n:{},e.insertBlockText(i,a,Yo.fromAttributedText(s[0],l)),r.abrupt("return",[]);case 23:if(u=kN(i),d=TN(i)+1,!Uf(i)){r.next=56;break}if(m=s.shift(),g=s.pop(),w(void 0!==m),w(void 0!==g),0!==a||e.isTitleBlock(i)){r.next=39;break}v=e.insertBlock(u,d-1,Qi.TEXT,Df(e,m),{fromUndo:!1,localAction:!0,focusToBlock:!1}),e.insertBlockText(i,0,Yo.fromText(g)),e.selectBlock(i,g.length,g.length),p=i,f=g.length,h=v,r.next=56;break;case 39:if(a!==Kf(i)){r.next=47;break}e.insertBlockText(i,Kf(i),Yo.fromText(m)),b=e.insertBlock(u,d,Qi.TEXT,Df(e,g),{fromUndo:!1,localAction:!0,focusToBlock:!1}),p=b,f=-1,A=i,r.next=56;break;case 47:if(y=e.splitTextBlock(i,a,{keepFormat:!0}),e.insertBlockText(i,a,Yo.fromText(m)),e.insertBlockText(y,0,Yo.fromText(g)),0!==s.length){r.next=53;break}return e.selectBlock(y,g.length,g.length),r.abrupt("return",[]);case 53:p=y,f=g.length,A=y;case 56:return x=s.map((function(t){return Df(e,t)})),k=e.batchInsertBlocks(u,d,x),h&&k.unshift(h),A&&k.push(A),p?(w(void 0!==f),e.selectBlock(p,f,f)):k.length>0&&e.selectBlock(k[k.length-1],-1,-1),r.abrupt("return",k);case 62:case"end":return r.stop()}}),r)})))}function Kv(e,t){return Hv(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.beginUndoGroup(),n.prev=1,(r=e.getSelectionDetail()).collapsed||l_(r,{merge:!0}),o=e.saveSelectionState(),n.next=7,Vv(e,t);case 7:i=n.sent,Pv(e,o,t,i),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.error(n.t0);case 14:return n.prev=14,e.endUndoGroup(),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])})))}function Gv(e){var t=[],n={onBeginBlock:function(e,r,o,i){if("embed"===o){var a=i.embedData;a&&a.src&&t.push(a.src)}else if("text"===o||"list"===o){var s=i.text;w(s),s.forEach((function(e){" "===e.insert&&e.attributes&&!0===e.attributes.box&&e.attributes.src&&t.push(e.attributes.src)}))}i.children&&Xt(e,i,{onChild:function(t,r,o){Zt(e,o,i,n)}})}};return $t(e,n),Array.from(new Set(t))}function Wv(e,t,n){return t.startsWith("https:")||t.startsWith("http:")||t.startsWith("data:")||t.startsWith("blob:")?t:"".concat(e,"/resources/").concat(encodeURIComponent(t),"?token=").concat(n)}function Yv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Wv,o=[],i={onBeginBlock:function(e,o,a,s){if("embed"===a){var c=s.embedData;if(c&&c.src&&!c.src.startsWith("http")){var l=c.src.split("|").map((function(e){return r(t,e,n)})).join("|");c.src=l}}else if("text"===a||"list"===a){var u=s.text;w(u),u.forEach((function(e){if(" "===e.insert&&e.attributes&&!0===e.attributes.box&&e.attributes.src){var o=e.attributes.src;if(!o.startsWith("http")){var i=r(t,o,n);e.attributes.src=i}}}))}s.children&&Xt(e,s,{onChild:function(t,n,r){Zt(e,r,s,i)}})}};return $t(e,i),o}var qv=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function Zv(e,t){var n;return qv(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!((o=Gv(t))&&o.length>0)){r.next=16;break}if(a=t.meta.apiServer||"",s=e.editorServer(),!(a&&s&&a.startsWith(s))){r.next=7;break}return r.next=5,e.addResources(o);case 5:r.next=16;break;case 7:if(!t.meta.apiServer){r.next=16;break}if(!(null===(n=e.options.callbacks)||void 0===n?void 0:n.onCopyResourcesFromOtherServer)){r.next=15;break}return r.next=11,e.options.callbacks.onCopyResourcesFromOtherServer(e,t.meta.apiServer,o,t.meta.token);case 11:i=r.sent,Yv(t,t.meta.apiServer,t.meta.token,(function(e,t,n){var r=i[t];return r||"".concat(e,"/resources/").concat(encodeURIComponent(t),"?token=").concat(n)})),r.next=16;break;case 15:Yv(t,t.meta.apiServer,t.meta.token);case 16:case"end":return r.stop()}var a,s}),r)})))}var Xv=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function Jv(e,t,n){w(n),n.blocks&&(tn(n,(function(e,t,n,r){delete r.lock})),e.insertDoc(n))}function $v(e,t,n,r,o,i){var a,s,c;return Xv(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,u,d,p,f,h,A,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=e.options.maxLength,u=e.rootContainer().innerText.replace(/\n/g,"").length,i)try{d=JSON.parse(i),e.isChildEditor()&&(d=void 0)}catch(e){console.error(e)}if(d||o&&(d=Ic(o,null!==(a=e.options.officeConverter)&&void 0!==a?a:{})),r||d){n.next=6;break}return n.abrupt("return",!1);case 6:if(void 0===l){n.next=12;break}if(!(u+r.length>l)){n.next=9;break}return n.abrupt("return",!1);case 9:if(p=d?sn(d):0,!(u+p>l)){n.next=12;break}return n.abrupt("return",!1);case 12:if(!d){n.next=15;break}return n.next=15,Zv(e,d);case 15:if(d&&d.blocks.forEach((function(e){if("table"===e.type){var t=e;t.colsWidth?t.colsWidth=t.colsWidth.map((function(e){return e||100})):t.colsWidth=new Array(t.cols).fill(100)}})),t.collapsed||l_(t,{merge:!0}),f=!!i,w((h=e.getSelectionDetail()).startBlock),!(null===(s=e.options.callbacks)||void 0===s?void 0:s.onBeforePasteInBlock)){n.next=25;break}return n.next=23,e.options.callbacks.onBeforePasteInBlock(e,h.startBlock,{doc:d,text:r,html:o,fromEditor:f,detail:h});case 23:(A=n.sent)&&(d=A);case 25:if(!uh(h.startBlock,{doc:d,text:r,html:o,fromEditor:f},h)){n.next=27;break}return n.abrupt("return",!0);case 27:if(!(m=h.startComplexBlock)){n.next=31;break}if(!uh(m,{doc:d,text:r,html:o,fromEditor:f},h)){n.next=31;break}return n.abrupt("return",!0);case 31:if(!d){n.next=39;break}if(!(null===(c=e.options.callbacks)||void 0===c?void 0:c.onBeforePasteDoc)){n.next=36;break}return n.next=35,e.options.callbacks.onBeforePasteDoc(e,d);case 35:d=n.sent;case 36:Jv(e,0,d),n.next=47;break;case 39:if(!r){n.next=47;break}if(!e.isMarkdownOnly()){n.next=45;break}return n.next=43,e.insertMarkdown(r);case 43:n.next=47;break;case 45:return n.next=47,Kv(e,r);case 47:return n.abrupt("return",!0);case 48:case"end":return n.stop()}}),n)})))}function eb(e,t,n){return Xv(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.type!==ia.INVALID){r.next=2;break}return r.abrupt("return",!1);case 2:if(w(n.startBlock),kN(n.startBlock),e.isSelectionWritable(n)){r.next=6;break}return r.abrupt("return",!1);case 6:return o="",i="",t.clipboardData&&(o=(o=t.clipboardData.getData("text/plain")||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),i=t.clipboardData.getData("text/html")||""),a=t.clipboardData&&t.clipboardData.getData("text/wiz-editor-doc")||"",r.next=12,$v(e,n,0,o,i,a);case 12:return s=r.sent,r.abrupt("return",s);case 14:case"end":return r.stop()}}),r)})))}function tb(e,t,n){return Xv(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s,c,l,u,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.type!==ia.INVALID){r.next=2;break}return r.abrupt("return",!1);case 2:if(w(n.startBlock),kN(n.startBlock),e.isSelectionWritable(n)){r.next=6;break}return r.abrupt("return",!1);case 6:if(o=t.type,i=t.data,a=i,s=!1,"text"!==o){r.next=16;break}return c=a.text||"",r.next=13,$v(e,n,0,c,"");case 13:s=r.sent,r.next=24;break;case 16:if("mime"!==o){r.next=24;break}return l=(l=wo(a["text/plain"]||"")).replace(/\r\n/g,"\n").replace(/\r/g,"\n"),u=wo(a["text/html"]||""),d=wo(a["text/wiz-editor-doc"]||""),r.next=23,$v(e,n,0,l,u,d);case 23:s=r.sent;case 24:return r.abrupt("return",s);case 25:case"end":return r.stop()}}),r)})))}var nb=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function rb(e){return nb(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=document.getSelection()){t.next=3;break}return t.abrupt("return");case 3:return n.removeAllRanges(),(r=ps("textarea",[],document.body)).style.cssText="position: absolute; left: -1000000px; z-index: -10000",r.rows=1e5,r.textContent=e,r.select(),document.execCommand("copy"),t.next=12,navigator.clipboard.writeText(e);case 12:setTimeout((function(){r.remove()}),100);case 13:case"end":return t.stop()}}),t)})))}function ob(){return nb(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))}n(2850);function ib(){var e=navigator.userAgent.toLowerCase();return!(-1===e.indexOf("safari")||e.indexOf("chrome")>-1)}function ab(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function sb(e){return function(e){if(Array.isArray(e))return ub(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cb(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=lb(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function lb(e,t){if(e){if("string"==typeof e)return ub(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ub(e,t):void 0}}function ub(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var db=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function pb(e,t,n,r){var o,i,a,s,c,l,u,d,p="toOrderedList"===n,f=1;if(vD(t))f=MD(t);else{var h=sf(t);h&&(f=h+1),f>8&&(f=8)}var A=1,m=B(),g=Yu(t),v=XD(t,f,p,g,{start:r.start});v&&(A=null!==(i=null!==(o=v&&xD(v)+1)&&void 0!==o?o:r.start)&&void 0!==i?i:1,m=null!==(s=null!==(a=v&&TD(v))&&void 0!==a?a:r.groupId)&&void 0!==s?s:B());var b=JD(t,f,p,g);b&&(A=null!==(l=null!==(c=xD(b)-1)&&void 0!==c?c:r.start)&&void 0!==l?l:1,m=null!==(d=null!==(u=TD(b))&&void 0!==u?u:r.groupId)&&void 0!==d?d:B(),A<1&&(A=1));var y={level:f,start:A,groupId:m,textOnly:CD(t)};return"toCheckbox"===n?Object.assign(Object.assign(Object.assign({},r),y),{padding:0,checkbox:"unchecked"}):"toOrderedList"===n?Object.assign(Object.assign(Object.assign({},r),y),{ordered:!0,padding:0}):Object.assign(Object.assign(Object.assign({},r),y),{ordered:!1,padding:0})}function fb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=hf(e);w(Uf(e)),w(r),w(r.text);var o=r.text.clone(),i=zp(e),a=Rp(e),s=null,c=OX.getEditor(e),l=r.heading,u=r.padding,d=c.saveSelectionState();if(vD(e)){if(u=MD(e)-1,"toOrderedList"===t&&OD(e)&&!BD(e)&&!CD(e))return e;if("toUnorderedList"===t&&!OD(e)&&!BD(e)&&!CD(e))return e;if("toCheckbox"===t&&BD(e)&&!CD(e))return e;"toBodyText"===t&&Gu(e)&&(OD(e)&&!BD(e)?(l=0,CD(e)||(t="toOrderedList")):OD(e)||BD(e)?BD(e)&&(l=0,CD(e)||(t="toCheckbox")):(l=0,CD(e)||(t="toUnorderedList")))}if(t.startsWith("toHeading")&&!n.keepHeading&&Gu(e)){var p=Number.parseInt(t.substr(9),10);p===Wu(e)&&(t="toBodyText")}switch("toQuoted"===t&&(!1===n.quoted||rf(e)&&!0!==n.quoted?n.quoted=!1:n.quoted=!0),t){case"toBodyText":s=If(c,Qi.TEXT,{text:o,padding:u,heading:n.heading},i);break;case"toHeading1":s=If(c,a,Object.assign(Object.assign({},r),{heading:1,padding:u}),i);break;case"toHeading2":s=If(c,a,Object.assign(Object.assign({},r),{heading:2,padding:u}),i);break;case"toHeading3":s=If(c,a,Object.assign(Object.assign({},r),{heading:3,padding:u}),i);break;case"toHeading4":s=If(c,a,Object.assign(Object.assign({},r),{heading:4,padding:u}),i);break;case"toHeading5":s=If(c,a,Object.assign(Object.assign({},r),{heading:5,padding:u}),i);break;case"toHeading6":s=If(c,a,Object.assign(Object.assign({},r),{heading:6,padding:u}),i);break;case"toHeading7":s=If(c,a,Object.assign(Object.assign({},r),{heading:7,padding:u}),i);break;case"toHeading8":s=If(c,a,Object.assign(Object.assign({},r),{heading:8,padding:u}),i);break;case"toQuoted":s=If(c,a,Object.assign(Object.assign({},r),{quoted:n.quoted,padding:u}),i);break;case"toCheckbox":case"toOrderedList":case"toUnorderedList":var f=pb(0,e,t,n);s=If(c,Qi.LIST,Object.assign(Object.assign({heading:l},f),{textOnly:void 0}),i)}s||w(!1,"unknown command: ".concat(t)),s.text=n.richTextData||o,s.lock=r.lock;var h=c.replaceBlock(e,s,{fromUndo:!1,focusToBlock:!0});return c.restoreSelectionState(d),h}function hb(e,t){if(t){var n=t.target;if(!n)return!1;if(Yp(n))return!1}return function(e,t,n){return n.type!==ia.INVALID&&(w(e),av(e,t,n),l_(n,{merge:!0}),!0)}(e,t,PL(e))}function Ab(e,t,n,r,o){var i=kN(t),a=TN(t),s=aa.OFFICE;if(/image/.test(r.type)?s=aa.IMAGE:/audio/.test(r.type)?s=aa.AUDIO:/video/.test(r.type)&&(s=aa.VIDEO),s===aa.OFFICE&&e.options.disableDropOfficeFile){var c=new Error("Can't add file");throw c.code="DropOfficeFileNotAllowed",c}var l=(null==o?void 0:o.operator)?{operator:o.operator}:{};return 0===n?e.insertMediaFile(i,r,a,s,l):(n<Kf(t)&&Uf(t)&&e.splitTextBlock(t,n,{keepFormat:!0}),e.insertMediaFile(i,r,a+1,s,l))}function mb(e,t){var n,r,o,i,a,s;return db(this,void 0,void 0,regeneratorRuntime.mark((function c(){var l,u,d,p,f,h,A,m,g,v,b,y;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(l=t.target){c.next=3;break}return c.abrupt("return",!1);case 3:if(!Yp(l)){c.next=5;break}return c.abrupt("return",!1);case 5:if((u=PL(e)).startBlock){c.next=8;break}return c.abrupt("return",!1);case 8:if(w(void 0!==u.startOffset),d=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/html"),p=null===(r=t.clipboardData)||void 0===r?void 0:r.getData("text/wiz-editor-doc"),f=(null===(o=t.clipboardData)||void 0===o?void 0:o.files)&&(null===(i=t.clipboardData)||void 0===i?void 0:i.files.length)>0,h=!!d,A=f&&!h&&!p,h&&f&&Gs(d)&&(A=!0),e.beginUndoGroup(),c.prev=16,m=!1,!A){c.next=25;break}w(null===(a=t.clipboardData)||void 0===a?void 0:a.files),g=Array.from(t.clipboardData.files).reverse(),v=cb(g);try{for(v.s();!(b=v.n()).done;)(y=b.value)&&u.startOffset===u.endOffset&&(Ab(e,u.startBlock,u.startOffset,y,{operator:"clipboard"}),m=!0)}catch(e){v.e(e)}finally{v.f()}c.next=28;break;case 25:return c.next=27,eb(e,t,u);case 27:m=c.sent;case 28:return c.abrupt("return",m);case 31:return c.prev=31,c.t0=c.catch(16),(null===(s=e.options.callbacks)||void 0===s?void 0:s.onError)?e.options.callbacks.onError(e,c.t0):console.error(c.t0),c.abrupt("return",!1);case 35:return c.prev=35,e.endUndoGroup(),c.finish(35);case 38:case"end":return c.stop()}}),c,null,[[16,31,35,38]])})))}function gb(e,t,n,r){var o;if(null===(o=e.options.callbacks)||void 0===o?void 0:o.onGetBlockCommand){var i=n.startBlock;if(!i&&r&&(i=wN(r)),!i)return;var a=e.options.callbacks.onGetBlockCommand(e,i,n,"menu",r,t);a&&a.length>0&&(t.length>0&&t.push(ga),t.push.apply(t,sb(a)))}}function vb(e,t,n){var r,o=this,i=function(e,t){return!t.range.collapsed&&t.type!==ia.INVALID||!!e.getAgentSelector().isSelected()}(e,t),a=(i||function(e,t){return t.type!==ia.INVALID&&!(!t.collapsed||t.type!==ia.ONE_TEXT_BLOCK)}(0,t))&&!function(e,t){return t.type!==ia.INVALID&&!(!t.collapsed||t.type!==ia.ONE_EMBED_BLOCK)}(0,t),s=a&&(null===(r=e.options.callbacks)||void 0===r?void 0:r.onExecutePaste);n.push({id:"copy",text:ju.command.copy,icon:"",disabled:!i,shortCut:"CtrlOrCmd+C",onClick:function(){ib()?e.handleCopy(null):document.execCommand("copy")}});var c=e.isReadOnly()||!e.isSelectionWritable(t);c||(n.push({id:"cut",text:ju.command.cut,icon:"",disabled:!i,shortCut:"CtrlOrCmd+X",onClick:function(){ib()?e.handleCut(null):document.execCommand("cut")}}),s&&n.push({id:"paste",text:ju.command.paste,icon:"",disabled:!s,shortCut:"CtrlOrCmd+V",onClick:function(){var t;(null===(t=e.options.callbacks)||void 0===t?void 0:t.onExecutePaste)?e.options.callbacks.onExecutePaste(e):document.execCommand("paste")}}));var l=[];l.push({id:"copy-markdown",text:ju.command.copyMarkdown,icon:"",disabled:!i,onClick:function(){rb(cl(e.selectionToDoc({keepComments:!1})))}}),e.options.markdownOnly&&l.push({id:"copy-text",text:ju.command.copyText,icon:"",disabled:!i,onClick:function(){rb(e.getSelectedText())}}),c||(l.push({id:"paste-text",text:ju.command.pasteText,icon:"",disabled:!a,shortCut:"CtrlOrCmd+Shift+V",onClick:function(){return db(o,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ob();case 2:n=t.sent,Kv(e,n);case 4:case"end":return t.stop()}}),t)})))}}),l.push({id:"paste-markdown",text:ju.command.pasteMarkdown,icon:"",disabled:!a,onClick:function(){return db(o,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ob();case 2:n=t.sent,e.insertMarkdown(n);case 4:case"end":return t.stop()}}),t)})))}}),l.push({id:"paste-image",text:ju.command.pasteImageLink,icon:"",disabled:!a,onClick:function(){return db(o,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ob();case 2:n=t.sent,r=function(e){return e.startsWith("https:")||e.startsWith("http:")||e.startsWith("file:")},o=n.split("\n").map((function(e){return e.trim()})).filter(r).map((function(e){return"![image](".concat(e,")")})).join("\n\n"),e.insertMarkdown(o);case 6:case"end":return t.stop()}}),t)})))}})),n.push({id:"clipboard",text:ju.command.clipboard,icon:"",subItems:l})}function bb(e,t,n){if(e.isReadOnly())throw new Gi;if(Ff(t)&&AL(t).find((function(t){return!e.isBlockWritable(t)})))throw new Gi;var r,o,i=kN(t),a=[t],s=vD(t),c=[],l=!1;s&&(c=WD(t,{withSelf:!1}),n.withChildren||(r=KD(t)),l=!UD(t),o=xD(t));var u=Gu(t)&&qu(t);if(u)if(n.fromUndo)$u(t);else{var d=Zu(t);a.push.apply(a,sb(d))}else if(s&&n.withChildren){var p=GD(t);a.push.apply(a,sb(p))}a.forEach((function(t){if(!e.isBlockWritable(t))throw new Gi;if(e.isTitleBlock(t))throw new Gi}));var f=e.agentSelector.getCurPopover();f&&f.isVisible()&&f.hide(),e.beginUndoGroup();try{a.reverse().forEach((function(t){!function(e,t,n){if(w(t),w(n),e.isReadOnly())throw new Gi;if(!aA(t)&&(!e.isBlockLocked(t)||e.isBlockWritable(t))){if(e.isTitleBlock(t))throw new Gi;t===e.hoverBlock&&(e.hoverBlock=null),t===e.hoverComplexBlock&&(e.hoverComplexBlock=null),t===e.focusedBlock&&(e.focusedBlock=null);var r=TN(t),o=kN(t);Cf(o,t,r,n),e.submitDeleteBlockAction(t,n.fromUndo),zN(o,t)}}(e,t,n)})),!n.fromUndo&&n.localAction&&(c.length>0&&YM(e,c[0],{fromUndo:!1,resetStart:l,start:o}),!u&&r&&wI(e,r))}finally{e.endUndoGroup()}if(n.fromUndo||!n.localAction||n.noFixEmptyContainer||function(e,t){var n=e.rootContainer()===t,r=e.options.titleInEditor;if(n&&r)0===ON(t)&&e.insertBlock(t,0,Qi.TEXT,{id:B(),type:Qi.TEXT,text:new Yo([]),heading:1},{fromUndo:!1,localAction:!0,focusToBlock:!!e.hasFocus()}),1===ON(t)&&e.insertBlock(t,1,Qi.TEXT,null,{fromUndo:!1,localAction:!0,focusToBlock:!1});else if(0===ON(t)){var o=wN(t);if(o&&oA(o,{fromUndo:!1,localAction:!0,focusToBlock:!!e.hasFocus()}))return;e.insertBlock(t,0,Qi.TEXT,null,{fromUndo:!1,localAction:!0,focusToBlock:!!e.hasFocus()})}}(e,i),!e.undoState.hasGroup())try{hL(e,{autoScroll:!0,mouseDown:!1,lastEvent:null,lastPosition:e.lastPosition})}catch(e){console.warn("failed to fix selection")}e.updateCommentsPosition()}function yb(e,t){var n;return db(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((o=PL(e)).startBlock){r.next=3;break}return r.abrupt("return",!1);case 3:return w(void 0!==o.startOffset),e.beginUndoGroup(),r.prev=5,r.next=8,tb(e,t,o);case 8:return i=r.sent,r.abrupt("return",i);case 12:return r.prev=12,r.t0=r.catch(5),(null===(n=e.options.callbacks)||void 0===n?void 0:n.onError)&&e.options.callbacks.onError(e,r.t0),r.abrupt("return",!1);case 16:return r.prev=16,e.endUndoGroup(),r.finish(16);case 19:case"end":return r.stop()}}),r,null,[[5,12,16,19]])})))}function wb(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Rp(e);if(i===Qi.CODE_LINE)return!1;if(i===Qi.CODE&&"comment"!==n)return!1;w(e);var a=OX.getEditor(e);if(w(a),w(n),"padding"===n)return void 0===o.padding||"number"!=typeof o.padding?sf(e):(a.setBlockPadding(e,o.padding),!0);if(n.startsWith("style-"))return void 0===o[n]?cf(e,n):(a.setBlockStyleState(e,n,!!o[n]),!0);if("indent"===n)return Rp(e)===Qi.LIST?(a.executeBlockCommand("list/indent",e),!0):(a.indentBlock(e),!0);if("outdent"===n)return Rp(e)===Qi.LIST?(a.executeBlockCommand("list/outdent",e),!0):(a.outdentBlock(e),!0);if("comment"===n)return a.addBlockComment(e),!0;if("lock"===n)return a.lockBlock(e),!0;if("unlock"===n)return a.unlockBlock(e),!0;if("cloneBlockAbove"===n)return a.cloneBlock(e,{type:"above",focusToNewBlock:!1}),!0;if("cloneBlockBelow"===n)return a.cloneBlock(e,{type:"below",focusToNewBlock:!1}),!0;if("moveBlockUp"===n)return a.moveBlock(e,{type:"up"}),!0;if("moveBlockDown"===n)return a.moveBlock(e,{type:"down"}),!0;if(n.startsWith("align")){var s="left";return"alignCenter"===n?s="center":"alignRight"===n?s="right":"alignJustify"===n&&(s="justify"),a.alignBlock(e,s),!0}var c=hf(e);if(w(c),!c.text)return!1;var l=n.split("/");if(1===l.length){if(w(n.startsWith("to")),a.isTitleBlock(e))return!1;if(!a.isBlockWritable(e))return!1;if(!Uf(e)){if(Ff(e)&&a.getAgentSelector().isSelected()){var u=a.getAgentSelector().getSelectedBlocks();return u.forEach((function(e){fb(e,n,o)})),!0}return!1}return fb(e,n,o)}var d=l[0],p=l[1];return w(p),Rp(e)===d?qf(e,n,o):!(!t&&!(t=null!==(r=Mh(e))&&void 0!==r?r:void 0))&&(Rp(t)===d?qf(t,n,o):(console.error("unknown block command: ".concat(n)),!1))}function xb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cb(e,t,n){return t&&kb(e.prototype,t),n&&kb(e,n),e}var Eb={startCol:0,startRow:0,endCol:0,endRow:0,startCell:null,endCell:null,block:null,fromCell:null},Bb=function(){function e(t,n){xb(this,e),this.table=t,this.cellId=n.cellId,this.row=n.row,this.col=n.col,this.colSpan=n.colSpan,this.rowSpan=n.rowSpan,this.virtual=n.virtual}return Cb(e,[{key:"cell",get:function(){return function(e,t){var n=Mx(Dx(e,t));return w(n),n}(OX.getEditor(this.table),this.cellId)}},{key:"container",get:function(){return Dx(OX.getEditor(this.table),this.cellId)}}]),e}(),Tb=function(){function e(t,n){var r=this;xb(this,e),this._cells=[],n.forEach((function(e){r._cells.push(new Bb(t,e))}))}return Cb(e,[{key:"cells",get:function(){return this._cells}},{key:"getCell",value:function(e){return w(e<this._cells.length),this._cells[e]}},{key:"getNextNonVirtualCell",value:function(e){return this._cells.slice(e+1).find((function(e){return!e.virtual}))}},{key:"getSpannedCell",value:function(){return this._cells.find((function(e){return e.virtual||e.colSpan>1||e.rowSpan>1}))}}]),e}(),Mb=function(){function e(t,n,r){var o=this;if(xb(this,e),this._rows=[],dk(t))this.colGroup=document.createElement("colgroup");else{var i=n?new qt(n):e.createGrid(t,r);this.colGroup=Tx(t),i.forEach((function(e){o._rows.push(new Tb(t,e))}));var a=this.colCount;this._rows.forEach((function(e){w(e.cells.length===a)}))}}return Cb(e,[{key:"rowCount",get:function(){return this._rows.length}},{key:"colCount",get:function(){return 0===this._rows.length?0:(w(this.rowCount>0),this.getRow(0).cells.length)}},{key:"getAllColsWidth",value:function(){for(var e=[],t=0;t<this.colGroup.children.length;t++){var n=this.colGroup.children[t];w(n);var r=kx(n);e.push(r)}return e}},{key:"getRow",value:function(e){return this._rows[e]}},{key:"getCell",value:function(e){var t=this.getRow(e.row);return w(t),t.getCell(e.col)}},{key:"getCellContainer",value:function(e){return this.getCell(e).container}},{key:"getFirstCellContainer",value:function(){return this.getCellContainer({row:0,col:0})}},{key:"getLastCellContainer",value:function(){var e=this.rowCount-1,t=this.colCount-1;return this.getCellContainer({row:e,col:t})}},{key:"getColumnCells",value:function(e){w(e>=0&&e<this.colCount);for(var t=this.rowCount,n=[],r=0;r<t;r++){var o=this.getCell({row:r,col:e});n.push(o)}return n}},{key:"toRealCells",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.getRealCell(e);-1===n.findIndex((function(e){return e.cellId===r.cellId}))&&n.push(r)})),n}},{key:"getColumnRealCells",value:function(e){var t=this.getColumnCells(e);return this.toRealCells(t)}},{key:"getRowRealCells",value:function(e){var t=this.getRow(e).cells;return this.toRealCells(t)}},{key:"getFirstSpannedCell",value:function(e){w(e>=0&&e<this.colCount);for(var t=this.rowCount,n=0;n<t;n++){var r=this.getCell({row:n,col:e});if(r.virtual||r.colSpan>1||r.rowSpan>1)return r}}},{key:"getRealCell",value:function(e){var t=this.getCell(e);if(!t.virtual)return t;var n=this.getCellById(t.cellId);return w(!n.virtual),n}},{key:"getColumnSpannedRange",value:function(e){var t=this.getColumnRealCells(e),n=1e5,r=-1;return t.forEach((function(e){n=Math.min(e.col,n),r=Math.max(e.col+e.colSpan-1,r)})),w(n<=r),w(n>=0),w(r<this.colCount),[n,r]}},{key:"getRowSpannedRange",value:function(e){var t=this.getRowRealCells(e),n=1e5,r=-1;return t.forEach((function(e){n=Math.min(e.row,n),r=Math.max(e.row+e.rowSpan-1,r)})),w(n<=r),w(n>=0),w(r<this.rowCount),[n,r]}},{key:"getSpannedRange",value:function(e,t){for(var n=[],r=e.row;r<=t.row;r++)for(var o=e.col;o<=t.col;o++)n.push(this.getCell({row:r,col:o}));var i=this.toRealCells(n),a=1e4,s=1e4,c=-1,l=-1;return i.forEach((function(e){s=Math.min(e.col,s),a=Math.min(e.row,a),l=Math.max(e.col+e.colSpan-1,l),c=Math.max(e.row+e.rowSpan-1,c)})),[{row:a,col:s},{row:c,col:l}]}},{key:"getBottomCell",value:function(e){for(var t=this.rowCount,n=e,r=e.row;n.cellId===e.cellId;){if((r+=1)>=t)return null;n=this.getCell({row:r,col:e.col})}return this.getRealCell(n)}},{key:"getTopCell",value:function(e){for(var t=e,n=e.row;t.cellId===e.cellId;){if((n-=1)<0)return null;t=this.getCell({row:n,col:e.col})}return this.getRealCell(t)}},{key:"cells",get:function(){var e=[];return this._rows.forEach((function(t){e=e.concat(t.cells)})),e}},{key:"getCellById",value:function(e){var t=this.cells.find((function(t){return t.cellId===e}));return w(t),t}},{key:"getCellByElement",value:function(e){var t=Mx(e);w(t);var n=eL(Sx(t));return this.getCellById(n)}},{key:"map",value:function(e){for(var t=[],n=0;n<this.rowCount;n++){for(var r=[],o=0;o<this.colCount;o++){var i=this.getCell({row:n,col:o});r.push(e(i))}t.push(r)}return t}}],[{key:"createGrid",value:function(e,t){var n=wN(e);if(w(n),dk(e)){var r={id:zp(n),type:Rp(n),rows:0,cols:0,children:[]};return new qt(r)}var o=Tx(e),i=[];if(!t)for(var a=0;a<o.children.length;a++){var s=wx(o,a);w(s),i.push(xx(s))}var c=[],l={};Array.from(e.rows).forEach((function(e){Array.from(e.cells).forEach((function(e,t){var n=eL(Sx(e));c.push(n),(e.colSpan>1||e.rowSpan>1)&&(l["".concat(n,"_colSpan")]=e.colSpan,l["".concat(n,"_rowSpan")]=e.rowSpan),i[t]&&(l["".concat(n,"_width")]=i[t])}))}));var u=e.rows.length,d=Array.from(e.rows[0].cells).map((function(e){return e.colSpan})).reduce((function(e,t){return e+t}),0),p=Object.assign({id:zp(n),type:Rp(n),rows:u,cols:d,children:c},l);return new qt(p)}},{key:"fromTable",value:function(t,n){return new e(t,void 0,null==n?void 0:n.disableColWidth)}},{key:"fromBlock",value:function(t){return new e(Nx(t))}},{key:"fromData",value:function(t,n,r){var o,i=new qt(r),a=r.rows,s=r.cols;w(a>=1),w(s>=1),w(r.children);var c=document.createElement("table"),l=document.createElement("colgroup");Qa(l,Vi.TABLE_COL_GROUP);for(var u=0;u<s;u++){var d=Ex(t,null===(o=r.colsWidth)||void 0===o?void 0:o[u]);l.append(d)}c.append(l);for(var p=0,f=0;f<a;f++){for(var h=document.createElement("tr"),A=0;A<s;A++){var m=i.getCell({col:A,row:f});if(m.virtual)w(m.colSpan>1||m.rowSpan>1);else{var g=r.children[p],v=Bx(m,"td");h.appendChild(v),w(n[g]);var b=document.createElement("div");b.setAttribute(Ui.NODE_TYPE,Fi.CONTAINER);var y=g;b.id=y,Qa(b,Vi.CONTAINER,"sub-container"),v.appendChild(b);var x=r["".concat(g,"_align")];Qa(b,{left:Vi.ALIGN_LEFT,right:Vi.ALIGN_RIGHT,center:Vi.ALIGN_CENTER,justify:Vi.ALIGN_JUSTIFY}[x]);var k=r["".concat(g,"_background")];k&&Qa(v,k),p+=1}}c.appendChild(h)}return w(p===r.children.length),r.chart&&Qa(c,"editor-table-chart"),new e(c,r)}},{key:"virtualCellContainersGridToChildren",value:function(e){var t=[];return e.forEach((function(e){e.forEach((function(e){-1===t.indexOf(e)&&t.push(e)}))})),t}}]),e}(),Ib=(n(5177),n(890));function Db(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sb=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function Ob(e){var t=Wp(e,!1);if(t){var n=t.querySelector(".editor-table-chart");if(n){var r=n.chartObject;r&&r.destroy(),n.remove()}}}function Nb(e){var t;return Sb(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,s,c,l,u,d,p,f,h,A,m,g,v,b,y,x,k,C,E,B,T,M,I,D,_,S,O,N,L,R,j,U,F,z;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!th(e)){n.next=2;break}return n.abrupt("return");case 2:if(r=hf(e),!!r.chart){n.next=7;break}return Ob(e),n.abrupt("return");case 7:for(o=OX.getEditor(e),i=[],a=Mb.fromBlock(e),s=["line","bar","pie","radar"],c=a.getCell({row:0,col:0}).container.innerText.trim().toLowerCase(),new Set(s).has(c)||(c=s[0]),l=[],u=1;u<a.colCount;u++)l.push(a.getCell({row:0,col:u}).container.innerText);for(d=1;d<a.rowCount;d++){for(p=a.getCell({row:d,col:0}),f=p.container,h=f.innerText,A=[],m=1;m<a.colCount;m++)g=a.getCell({row:d,col:m}).container.innerText,v=Number.parseFloat(g)||0,A.push(v);b=void 0,y=ak(e,p,a),b=y?window.getComputedStyle(o.rootElement).getPropertyValue("--".concat(y)).trim():window.getComputedStyle(o.rootElement).getPropertyValue("--background-color").trim(),x=b?(0,Ib.mL)(b).toRgbaArray():[],k=Db(x,4),C=k[0],E=k[1],B=k[2],T=k[3],C||E||B||T||(M=(d-1)%o.options.colors.length,b=o.options.colors[M],I=(0,Ib.mL)(b).toRgbaArray(),D=Db(I,4),C=D[0],E=D[1],B=D[2],T=D[3]),_=b,S=(0,Ib.K1)([C,E,B,T/3]).toHexString(),i.push({label:h,data:A,borderColor:_,backgroundColor:S,borderWidth:2})}return w(O=Wp(e,!0)),N=null,(L=O.querySelector(".editor-table-chart"))?N=L.chartObject:L=ps("div",["editor-table-chart"],O),w(R=L),j=(null===(t=o.options.cdn)||void 0===t?void 0:t.chartjs)||"https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js",n.prev=24,n.next=27,gs(j,"editor-chartjs");case 27:N&&c!==N.config.type&&(N.destroy(),N=null,Array.from(L.querySelectorAll(".editor-chartjs-canvas")).forEach((function(e){e.remove()}))),U=Ou()({},{type:c,data:{datasets:i,labels:l},options:{onClick:function(){o.selectBlock(e,0,-1)}}}),N?(Ou()(N.config,U),N.update()):(F=ps("canvas",["editor-chartjs-canvas"],R),z=F.getContext("2d"),N=new window.Chart(z,U),L.chartObject=N),n.next=34;break;case 32:n.prev=32,n.t0=n.catch(24);case 34:case"end":return n.stop()}}),n,null,[[24,32]])})))}function Lb(e){return Sb(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bo.lock("updateTableChart");case 2:return t.prev=2,t.next=5,Nb(e);case 5:return t.prev=5,Bo.release("updateTableChart"),t.finish(5);case 8:case"end":return t.stop()}}),t,null,[[2,,5,8]])})))}var Rb=In()(Lb,1e3),jb=null;function Ub(e,t){jb!==e&&(Rb.flush(),jb=e),t.updateNow?Lb(e):Rb(e)}function Fb(e){var t=Wp(e,!0),n=Gp(e);w(t);var r=t.querySelector(".".concat(Vi.SLIDING_TOOLS));function o(){var t=Nx(e);w(r instanceof HTMLElement);var o=n.getBoundingClientRect(),i=t.getBoundingClientRect();r.style.transform="translateX(".concat(Math.min(i.left-o.left,0),"px)")}if(!r){var i=document.createElement("div");Qa(i,Vi.SLIDING_TOOLS_CONTAINER),Qa(r=document.createElement("div"),Vi.SLIDING_TOOLS),i.append(r),t.append(i),o(),n.addEventListener("scroll",o)}return r}function zb(e){return function(e){if(Array.isArray(e))return Qb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Qb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Hb="toolbar-button",Vb="icon-button",Kb="no-click";var Gb=function(){function e(t,n,r){var o=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subToolbar=null,this.item=n,this.disabled=!!n.disabled,this.element=this.createElement(t,n),this.setDisabled(!!n.disabled),this.handler={onClick:function(e){if(!o.disabled&&n.onClick){if(r)return void r(e,n);n.onClick(e,n)}},onMouseDown:function(e){o.disabled||(o.handler.onMouseEnter(),e.preventDefault())},onMouseEnter:function(){Qa(o.element,Vi.HOVER)},onMouseLeave:function(){Ja(o.element,Vi.HOVER)}},"-"===n.text)return this;n.onClick&&this.element.addEventListener("click",this.handler.onClick),"ontouchstart"in document.documentElement&&(this.element.addEventListener("touchstart",this.handler.onMouseDown),this.element.addEventListener("touchend",this.handler.onMouseLeave)),this.element.addEventListener("mousedown",this.handler.onMouseDown),this.element.addEventListener("mouseenter",this.handler.onMouseEnter),this.element.addEventListener("mouseleave",this.handler.onMouseLeave)}var t,n,r;return t=e,(n=[{key:"createElement",value:function(e,t){if(t.element)return Qa(t.element,Vi.CLICKABLE_ITEM),t.element;if("-"===t.text)return n=t.className,Qa(r=document.createElement("div"),Vi.BUTTON_SPLIT),n&&Qa(r,n),r;var n,r,o=document.createElement("div");if(o.itemData=t,Qa(o,Hb),t.onClick?Qa(o,Vi.CLICKABLE_ITEM):Qa(o,Kb),t.className&&Qa.apply(s,[o].concat(zb(t.className.split(" ")))),t.checked&&Qa(o,Vi.ACTIVE),t.color&&("transparent"===t.color?Qa(o,"editor-color-transparent"):Qa(o,t.color)),t.bgColor&&Qa(o,t.bgColor),t.icon)if(t.showIconAndText){var i=document.createElement("span");Qa(i,"editor-button-icon"),i.innerHTML=t.icon,o.appendChild(i);var a=document.createElement("span");Qa(a,"editor-button-text"),a.innerHTML=t.text,o.appendChild(a)}else Qa(o,Vb),o.innerHTML=t.icon,Qa(o,Vi.TOOLTIP),o.setAttribute("data-tooltip",t.text),t.infoText&&o.setAttribute("data-tooltip-info",t.infoText);else o.textContent=t.text;return o}},{key:"setDisabled",value:function(e){this.disabled=e,e?Qa(this.element,Vi.DISABLED):Ja(this.element,Vi.DISABLED)}},{key:"updateStatus",value:function(e,t){this.subToolbar&&this.subToolbar.updateStatus(e,t),this.item.updateStatus&&(this.item.updateStatus(e,this.item,t),this.item.checked?Qa(this.element,Vi.ACTIVE):Ja(this.element,Vi.ACTIVE),this.item.disabled?Qa(this.element,Vi.DISABLED):Ja(this.element,Vi.DISABLED),this.item.color&&($a(this.element,/^style-color-/i),Qa(this.element,this.item.color)),this.item.bgColor&&($a(this.element,/^style-bg-color-/i),Qa(this.element,this.item.bgColor)))}},{key:"destroy",value:function(){this.element.removeEventListener("click",this.handler.onClick),this.element.removeEventListener("touchstart",this.handler.onMouseDown),this.element.removeEventListener("mousedown",this.handler.onMouseDown),this.element.removeEventListener("touchend",this.handler.onMouseLeave),this.element.removeEventListener("mouseenter",this.handler.onMouseEnter),this.element.removeEventListener("mouseleave",this.handler.onMouseLeave),this.element.remove()}}])&&Pb(t.prototype,n),r&&Pb(t,r),e}(),Wb=n(947),Yb=n.n(Wb),qb={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(Yb(),qb);Yb().locals;function Zb(e){return(Zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jb(e,t){return(Jb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ty(e);if(t){var o=ty(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ey(this,n)}}function ey(e,t){if(t&&("object"===Zb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ty(e){return(ty=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ny(e){try{return OX.getEditor(e)}catch(e){}}var ry=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jb(e,t)}(i,e);var t,n,r,o=$b(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).handleClickItem=function(t,n){OX.hideCurPopover(),e.hide(),n.onClick&&n.onClick(t,n)},e.popover=new QA,e}return t=i,(n=[{key:"destroy",value:function(){this.popover.destroy()}},{key:"hide",value:function(e){this.popover.hide(e)}},{key:"quickHide",value:function(){this.popover.quickHide()}},{key:"isVisible",value:function(){return this.popover.isVisible()}},{key:"on",value:function(e,t){this.popover.on(e,t)}},{key:"handleMouseMove",value:function(e){return this.popover.handleMouseMove(e)}},{key:"createSubMenu",value:function(e,t,n,r,o){var i,a,s=!!(null==o?void 0:o.autoHide),c=ny(t);this.popover.create({commandTarget:e,popoverTarget:t,maskTarget:null,parentPopover:n,content:dy(e,r,this.handleClickItem),autoShow:!0,autoHide:s,hideOnClick:!0,interactive:!0,arrow:!1,theme:"popover-sub-menu",showMask:!0,placement:"right",offset:[0,0],refuseOverflow:null===(i=null==c?void 0:c.options.popover)||void 0===i?void 0:i.refuseOverflow,overflowBoundary:null===(a=null==c?void 0:c.options.popover)||void 0===a?void 0:a.overflowBoundary})}},{key:"createAutoHideMenu",value:function(e,t,n,r){var o,i,a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=s.autoHide,l=void 0===c||c,u=s.autoShow,d=void 0===u||u,p=s.trigger,f=void 0===p?"mousemove mouseenter focus":p,h=s.showMask,A=void 0===h||h,m=ny(t),g={commandTarget:e,popoverTarget:t,maskTarget:n,parentPopover:null,content:dy(e,r,this.handleClickItem),autoShow:d,autoHide:l,maxWidth:230,interactive:!0,placement:"bottom-start",fallbackPlacements:["top-start","left","right"],arrow:!1,theme:"popover-menu",showMask:A,zIndex:(null===(o=null==m?void 0:m.options.zIndex)||void 0===o?void 0:o.menu)||1850,trigger:f,refuseOverflow:null===(i=null==m?void 0:m.options.popover)||void 0===i?void 0:i.refuseOverflow,overflowBoundary:null===(a=null==m?void 0:m.options.popover)||void 0===a?void 0:a.overflowBoundary};this.popover.create(g)}},{key:"createContextMenu",value:function(e,t,n){var r,o,i,a=ny(t),s={commandTarget:t,popoverTarget:t,maskTarget:null,parentPopover:null,content:dy(t,n,this.handleClickItem),hideOnClick:!0,interactive:!0,arrow:!1,showMask:!0,zIndex:(null===(r=null==a?void 0:a.options.zIndex)||void 0===r?void 0:r.menu)||1850,theme:"editor-context-menu",placement:"right-start",offset:[0,5],refuseOverflow:null===(o=null==a?void 0:a.options.popover)||void 0===o?void 0:o.refuseOverflow,overflowBoundary:null===(i=null==a?void 0:a.options.popover)||void 0===i?void 0:i.overflowBoundary,getReferenceClientRect:function(){return new DOMRect(e.clientX,e.clientY,0,0)}};this.popover.create(s)}}])&&Xb(t.prototype,n),r&&Xb(t,r),i}(ua);function oy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||ay(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iy(e){return function(e){if(Array.isArray(e))return sy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ay(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ay(e,t){if(e){if("string"==typeof e)return sy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sy(e,t):void 0}}function sy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cy(e){return Ga(e,Vi.COMMAND_ITEM)}function ly(e,t){w(cy(e)),e.item=t}function uy(e,t,n,r){w(t.length>0);var o=ps("div",[Vi.BUTTON_CONTAINER],null),i=ps("div",[Vi.SUB_ITEMS_CONTAINER],o);return t.forEach((function(t){var r,a=new Gb(e,t,n);if(t.subItems){var s=!!(null===(r=t.data)||void 0===r?void 0:r.autoHideSubItems);if("menu"===t.subItemsType){(new ry).createSubMenu(e,a.element,i,t.subItems,{autoHide:s})}else{var c=new wy;c.createSubToolbar(e,a.element,i,t.subItems,{placement:t.data.placementSubItems||"bottom",autoHide:s,arrow:!!t.subItemsArrow}),a.subToolbar=c}}o.appendChild(a.element),Qa(a.element,Vi.COMMAND_ITEM),ly(a.element,a)})),r&&Qa.apply(s,[o].concat(iy(r))),o}function dy(e,t,n){w(t.length>0);var r=ps("div",[Vi.MENU_CONTAINER],null),o=ps("div",[Vi.MENU_SCROLL_CONTAINER],r);return t.forEach((function(t){var i,a=new Ti(e,t,n);if(t.subItems){var s=!!(null===(i=t.data)||void 0===i?void 0:i.autoHideSubItems);if("button"===t.subItemsType)(new wy).createSubToolbar(e,a.element,r,t.subItems,{autoHide:s});else(new ry).createSubMenu(e,a.element,r,t.subItems,{autoHide:s})}o.appendChild(a.element),Qa(a.element,Vi.COMMAND_ITEM),ly(a.element,a)})),r}function py(e){var t=Array.from(e.children),n=new Map;return t.forEach((function(e){if(cy(e)){var t=function(e){return w(cy(e)),e.item}(e);n.set(e,t)}})),n}function fy(e,t){var n,r,o=e.x+e.width/2,i=e.y+e.height/2;return n={x:o,y:i},r=t,Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2))}function hy(e){return(hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ay(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function my(e,t){return(my=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=by(e);if(t){var o=by(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vy(this,n)}}function vy(e,t){if(t&&("object"===hy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function by(e){return(by=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yy(e){try{return OX.getEditor(e)}catch(e){}}var wy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&my(e,t)}(i,e);var t,n,r,o=gy(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).itemContainer=null,e.handleClick=function(t,n){e.hide(),n.onClick&&n.onClick(t,n)},e.popover=new QA,e}return t=i,(n=[{key:"destroy",value:function(){this.popover.destroy()}},{key:"hide",value:function(e){this.popover.hide(e)}},{key:"isVisible",value:function(){return this.popover.isVisible()}},{key:"on",value:function(e,t){this.popover.on(e,t)}},{key:"handleMouseMove",value:function(e){return this.popover.handleMouseMove(e)}},{key:"createSubToolbar",value:function(e,t,n,r,o){var i,a,s=!!(null==o?void 0:o.autoHide),c=uy(e,r,(null==o?void 0:o.hideOnClicking)?this.handleClick:void 0);this.itemContainer=c;var l=yy(t),u={commandTarget:e,popoverTarget:t,maskTarget:null,parentPopover:n,content:c,autoShow:!0,autoHide:s,hideOnClick:!0,interactive:!0,placement:(null==o?void 0:o.placement)||"top",fallbackPlacements:["top","bottom","right"],offset:(null==o?void 0:o.offset)||[0,12],arrow:null==o?void 0:o.arrow,theme:"popover-sub-toolbar",showMask:!1,refuseOverflow:null===(i=null==l?void 0:l.options.popover)||void 0===i?void 0:i.refuseOverflow,overflowBoundary:null===(a=null==l?void 0:l.options.popover)||void 0===a?void 0:a.overflowBoundary};this.popover.create(u)}},{key:"createAutoHideToolbar",value:function(e,t,n){var r,o,i=uy(e,n,this.handleClick);this.itemContainer=i;var a=yy(t),s={popoverTarget:t,maskTarget:null,parentPopover:null,commandTarget:e,content:i,autoShow:!0,interactive:!0,placement:"top",arrow:!1,theme:"popover-toolbar",showMask:!1,refuseOverflow:null===(r=null==a?void 0:a.options.popover)||void 0===r?void 0:r.refuseOverflow,overflowBoundary:null===(o=null==a?void 0:a.options.popover)||void 0===o?void 0:o.overflowBoundary};this.popover.create(s)}},{key:"createManualHideToolbar",value:function(e,t,n,r){var o,i,a=yy(t);function s(){return w(a),e=t,n=a.mousePosition(),w((r=Array.from(e.getClientRects())).length>=0),0===r.length?(console.warn("failed to get element client rects, elem is removed?",e),e.getBoundingClientRect()):r.reduce((function(e,t){return fy(e,n)<fy(t,n)?e:t}));var e,n,r}w(a),s.contextElement=t;var c=uy(e,n,r.hideOnClicking?this.handleClick:void 0);this.itemContainer=c;var l=Object.assign({commandTarget:e,popoverTarget:t,maskTarget:null,parentPopover:null,content:c,interactive:!0,placement:r.placement||"top",offset:r.offset,arrow:!1,theme:"popover-toolbar",showMask:!1,refuseOverflow:null===(o=null==a?void 0:a.options.popover)||void 0===o?void 0:o.refuseOverflow,overflowBoundary:null===(i=null==a?void 0:a.options.popover)||void 0===i?void 0:i.overflowBoundary,getReferenceClientRect:s},r.popoverOptions);this.popover.create(l)}},{key:"updateStatus",value:function(e,t){this.itemContainer&&function(e,t,n){var r=py(t);Array.from(r.entries()).forEach((function(t){oy(t,2)[1].updateStatus(e,n)}))}(e,this.itemContainer,t)}}])&&Ay(t.prototype,n),r&&Ay(t,r),i}(pa),xy=n(3096),ky=n.n(xy);function Cy(e){return(Cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ey(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function By(e,t){return(By=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ty(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Iy(e);if(t){var o=Iy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return My(this,n)}}function My(e,t){if(t&&("object"===Cy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Iy(e){return(Iy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dy=[];const _y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&By(e,t)}(i,e);var t,n,r,o=Ty(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).editor=e,t.selectors=function(e){return Dy.map((function(t){return t(e)}))}(t.editor),t}return t=i,(n=[{key:"destroy",value:function(){this.selectors.forEach((function(e){return e.destroy()})),this.selectors.splice(0)}},{key:"getSelectedBlock",value:function(){for(var e=0;e<this.selectors.length;e++)if(this.selectors[e].isSelected())return this.selectors[e].getSelectedBlock();w(!1)}},{key:"getDetail",value:function(){for(var e=0;e<this.selectors.length;e++)if(this.selectors[e].isSelected())return this.selectors[e].getDetail();return null}},{key:"isSelected",value:function(){for(var e=0;e<this.selectors.length;e++)if(this.selectors[e].isSelected())return!0;return!1}},{key:"isMultiSelected",value:function(){for(var e=0;e<this.selectors.length;e++)if(this.selectors[e].isMultiSelected())return!0;return!1}},{key:"isFullSelected",value:function(){for(var e=0;e<this.selectors.length;e++)if(this.selectors[e].isFullSelected())return!0;return!1}},{key:"getSelectedSubContainers",value:function(){for(var e=0;e<this.selectors.length;e++){var t=this.selectors[e].getSelectedSubContainers();if(t.length>0)return t}return[]}},{key:"getSelectedBlocks",value:function(){for(var e=0;e<this.selectors.length;e++){var t=this.selectors[e].getSelectedBlocks();if(t.length>0)return t}return[]}},{key:"getFirstSelectedBlock",value:function(){var e=this.getSelectedSubContainers();return w(e),d_(e[0])}},{key:"deleteSelectedContents",value:function(){if(this.editor.isSelectionWritable(this.editor.getSelectionDetail())){this.editor.beginUndoGroup();var e=this.getSelectedSubContainers().map((function(e){return d_(e)}));e.length>0&&(this.clearSelection(),this.editor.selectBlock(e[0],0,0)),this.editor.endUndoGroup()}}},{key:"handleMultiBlocksEvent",value:function(e){if(ri(e)&&ii(e)){var t=e.key.toLowerCase();/^(c|v|x)$/i.test(t)}else if($o(e.key)||di(e)||ui(e)||si(e))return this.deleteSelectedContents(),!0;return!1}},{key:"getContextMenuData",value:function(){for(var e=0;e<this.selectors.length;e++)if(this.selectors[e].isSelected())return this.selectors[e].getContextMenuData();return[]}},{key:"updateSelection",value:function(e,t){for(var n=0;n<this.selectors.length;n++)if(this.selectors[n].updateSelection(e,t))return!0;return!1}},{key:"getCurPopover",value:function(){for(var e=0;e<this.selectors.length;e++){var t=this.selectors[e].getCurPopover();if(t&&t.isVisible())return t}return null}},{key:"selectionToDoc",value:function(){for(var e=0;e<this.selectors.length;e++){var t=this.selectors[e];if(t.isSelected())return t.selectionToDoc()}return{blocks:[],comments:{},meta:{}}}},{key:"selectionToHtml",value:function(){for(var e=0;e<this.selectors.length;e++){var t=this.selectors[e];if(t.isSelected())return t.selectionToHtml()}return""}},{key:"selectBlock",value:function(e){for(var t=0;t<this.selectors.length;t++)if(this.selectors[t].selectBlock(e))return!0;return!1}},{key:"isSelecting",value:function(){for(var e=0;e<this.selectors.length;e++)if(this.selectors[e].isSelecting())return!0;return!1}},{key:"isMultiSelecting",value:function(){for(var e=0;e<this.selectors.length;e++)if(this.selectors[e].isMultiSelecting())return!0;return!1}},{key:"clearSelection",value:function(){for(var e=0;e<this.selectors.length;e++)this.selectors[e].clearSelection()}}])&&Ey(t.prototype,n),r&&Ey(t,r),i}(ya);function Sy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Oy="table-selected-cell";function Ny(e){var t=wN(e);w(t);var n=Fb(t);w(n);var r=n.querySelector(".".concat(Vi.TABLE_SELECTION_MASK));if(!r){var o=document.createElement("div");return Qa(o,Vi.TABLE_SELECTION_MASK),n.appendChild(o),o}return w(r instanceof HTMLElement),r}function Ly(){document.querySelectorAll("#editor-table-select").forEach((function(e){e.remove()}))}function Ry(e,t){t.startCell?Ms("::selection { background-color: transparent; color: inherit }","editor-table-select"):Ly();var n=t.startCell,r=t.endCell,o=Nx(e),i=Ny(o);if(o.querySelectorAll(".".concat(Oy)).forEach((function(e){Ja(e,Oy)})),n&&r){for(var a=Mb.fromTable(o),s=t.startRow;s<=t.endRow;s++)for(var c=t.startCol;c<=t.endCol;c++){var l=a.getCell({row:s,col:c});!l.virtual&&Jy.isCellFullySelected(l,t)&&Qa(l.cell,Oy)}var u=a.getCell({row:t.startRow,col:t.startCol}),d=a.getCell({row:t.endRow,col:t.endCol}),p=OX.getEditor(e),f=p.getContainerById(u.cellId),h=p.getContainerById(d.cellId);w(f),w(h);var A=Mx(f),m=Mx(h);w(A),w(m);var g=o.getBoundingClientRect(),v=A.getBoundingClientRect(),b=m.getBoundingClientRect(),y=v.left-g.left,x=v.top-g.top,k=b.right-v.left,C=b.bottom-v.top,E=i.style;E.left="".concat(y,"px"),E.top="".concat(x,"px"),E.width="".concat(k,"px"),E.height="".concat(C,"px"),E.display="",console.debug("table selection changed"),setTimeout((function(){p.broadcastCaretPos()}),100)}else{i.style.display="none"}}function jy(e,t,n){var r=Ny(e);if(wN(e)){var o=r.style,i=e.getBoundingClientRect();if(n){for(var a=Tx(e).children,s=0,c=0,l=0;l<t.startCol;l++){var u=a[l].getAttribute("data-width");s+=u&&Number.parseInt(u,10)||0}for(var d=t.startCol;d<=t.endCol;d++){var p=a[d].getAttribute("data-width");c+=p&&Number.parseInt(p,10)||0}o.width="".concat(c,"px"),o.left="".concat(s,"px")}else{var f=e.rows[t.startRow].getBoundingClientRect().top-i.top;o.top="".concat(f,"px")}}}const Uy=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selection=null,this.selector=t}var t,n,r;return t=e,(n=[{key:"onBeginSelect",value:function(e,t){Ry(e,t),this.selection=t}},{key:"onSelectionChange",value:function(e,t){this.selector.editor.isReadOnly()||(Ry(e,t),this.selection=t,t.startCell,t.endCell,w(t.block))}},{key:"onEndSelect",value:function(e){this.selector.editor.unexclusiveBlock(e),Ry(e,{block:null,startCell:null,endCell:null,startCol:0,endCol:0,startRow:0,endRow:0,fromCell:null}),this.selection=null}},{key:"getCurrentSelection",value:function(){return this.selection}}])&&Sy(t.prototype,n),r&&Sy(t,r),e}();function Fy(e){return(Fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zy(e){return function(e){if(Array.isArray(e))return Hy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Py(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||Py(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Py(e,t){if(e){if("string"==typeof e)return Hy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hy(e,t):void 0}}function Hy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ky(e,t){return(Ky=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qy(e);if(t){var o=qy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wy(this,n)}}function Wy(e,t){if(t&&("object"===Fy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yy(e)}function Yy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qy(e){return(qy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zy(e){var t=Ix(e);return w(t),Mb.fromTable(t).getCellByElement(e)}var Xy,Jy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ky(e,t)}(i,e);var t,n,r,o=Gy(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).showSelection=!1,t.startEvent=null,t.oldSelection=Eb,t.moveOut=!1,t.selectionHandler=new Uy(Yy(t)),t.rightMouseDown=!1,t.oldDetail=null,t.selecting=!1,t.multiSelecting=!1,t.mouseDownPos={x:0,y:0},t.autoScrollTimer=null,t.dragStartCell=null,t.autoScrollDir=null,t.handleMouseDown=function(e){if(Ly(),!t.editor.isReadOnly())if(0===e.button){t.multiSelecting=!1,t.oldDetail=null;var n=e.x,r=e.y;t.mouseDownPos={x:n,y:r};var o=t.getCellFromEvent(e);if(o){var i=wN(o);if(!i)return;if("table"!==Rp(i))return;ts(t.editor.rootContainer(),o)&&(t.startDrag(e),t.showSelection=!1,t.oldSelection.block&&t.isOldSelectionBlockExist()&&t.selectionHandler.onEndSelect(t.oldSelection.block),t.updateSelectionByMouseEvent(e)),kw.updateToolBar(i,t.oldSelection)}else kw.updateToolBar.cancel()}else if(2===e.button){t.rightMouseDown=!0,setTimeout((function(){t.rightMouseDown=!1}),1e3);var a=t.getCellFromEvent(e);if(a){var s=wN(a),c=Zy(a),l=t.oldSelection,u=l.startCol,d=l.startRow,p=l.endCol,f=l.endRow;s===t.oldSelection.block&&c.col>=u&&c.col<=p&&c.row>=d&&c.row<=f&&(e.preventDefault(),e.stopPropagation())}}},t.handleMouseUp=function(e){var n,r,o;t.startEvent&&(t.multiSelecting=!1,0===e.button?(t.selecting=!1,t.endDrag(e),t.oldSelection.startCell===t.oldSelection.endCell&&t.oldSelection.startCell&&t.oldDetail&&(null===(n=document.getSelection())||void 0===n||n.rangeCount)):2===e.button&&(t.rightMouseDown=!1),t.oldSelection.startCell?((null===(r=t.editor.options.callbacks)||void 0===r?void 0:r.onTableSelectionChanged)&&t.editor.options.callbacks.onTableSelectionChanged(t.editor,t.oldSelection,t.getSelectionRect(t.oldSelection)),kw.updateToolBar(t.oldSelection.block,t.oldSelection)):(null===(o=t.editor.options.callbacks)||void 0===o?void 0:o.onTableSelectionChanged)&&t.editor.options.callbacks.onTableSelectionChanged(t.editor,null,null),t.editor.updateTextToolbar(!0))},t.handleMouseMove=function(e){var n,r;if(t.startEvent){t.oldDetail||(t.oldDetail=PL(t.editor));var o=t.getCellFromEvent(e);t.dragStartCell===o&&o||(t.showSelection=!0),t.dragStartCell===o&&t.dragStartCell&&o?t.multiSelecting&&(e.stopPropagation(),e.preventDefault(),null===(n=document.getSelection())||void 0===n||n.focusNode):(e.stopPropagation(),e.preventDefault(),null===(r=document.getSelection())||void 0===r||r.focusNode),t.updateSelectionByMouseEvent(e),t.handleAutoScroll(e)}},t.handleSelectionChange=function(){if(!t.editor.isReadOnly()&&!t.editor.isLockedForComposition())if(t.rightMouseDown&&t.multiCellsSelected()){var e=PL(t.editor);if(e.startBlock){if(!ts(t.editor.rootContainer(),e.startBlock))return;var n=Mx(e.startBlock);if(n){var r=wN(n),o=Zy(n),i=t.oldSelection,a=i.startCol,s=i.startRow,c=i.endCol,l=i.endRow;if(r===t.oldSelection.block&&o.col>=a&&o.col<=c&&o.row>=s&&o.row<=l)return}}t.updateSelectionByDocumentSelection()}else t.startEvent||t.updateSelectionByDocumentSelection()},t.handleSelectsStart=function(e){e.preventDefault(),e.stopPropagation()},t.handleAutoScroll=ky()((function(e){w(t.oldDetail),w(t.oldDetail.startComplexBlock&&t.oldDetail.endComplexBlock===t.oldDetail.startComplexBlock);var n=t.oldDetail.startComplexBlock,r=t.editor.rootContainer(),o=n.getBoundingClientRect(),a=cs(r),s=Gp(n),c=s.getBoundingClientRect();o.bottom>window.innerHeight&&e.clientY>=window.innerHeight-i.AUTO_SCROLL_AREA?t.setAutoScroll("bottom",s,a,a.scrollTop+window.innerHeight-o.bottom):o.top<0&&e.clientY<=i.AUTO_SCROLL_AREA?t.setAutoScroll("top",s,a,a.scrollTop+o.top):s.scrollLeft>0&&e.clientX<c.left+i.AUTO_SCROLL_AREA?t.setAutoScroll("left",s,a):s.scrollLeft<s.scrollWidth-s.offsetWidth&&e.clientX>c.right-i.AUTO_SCROLL_AREA?t.setAutoScroll("right",s,a):t.clearAutoScroll()}),15),t.editor=e,t.bindEvents(),t}return t=i,r=[{key:"isCellFullySelected",value:function(e,t){var n=t.startCol,r=t.endCol,o=t.startRow,i=t.endRow;return e.row>=o&&e.col>=n&&e.row+e.rowSpan-1<=i&&e.col+e.colSpan-1<=r}},{key:"isAllCellFullySelected",value:function(e,t){for(var n=t.startRow;n<=t.endRow;n++)for(var r=t.startCol;r<=t.endCol;r++){var o=e.getCell({row:n,col:r});if(!i.isCellFullySelected(o,t))return!1}return!0}},{key:"getFirstFullySelectCell",value:function(e,t){for(var n=t.startRow;n<=t.endRow;n++)for(var r=t.startCol;r<=t.endCol;r++){var o=e.getCell({row:n,col:r});if(i.isCellFullySelected(o,t))return o}}},{key:"getColSelectSpan",value:function(e,t){return t===e.colCount?0:e.getColumnRealCells(t).reduce((function(e,t){return 0===e?t.colSpan:t.colSpan>e?e:t.colSpan}),0)}},{key:"getRowSelectSpan",value:function(e,t){return t===e.rowCount?0:e.getRowRealCells(t).reduce((function(e,t){return 0===e?t.rowSpan:t.rowSpan>e?e:t.rowSpan}),0)}}],(n=[{key:"destroy",value:function(){this.unbindEvents()}},{key:"setAutoScroll",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,o=arguments.length>3?arguments[3]:void 0;this.autoScrollDir&&this.autoScrollDir!==e&&this.clearAutoScroll(),this.autoScrollTimer||(this.autoScrollDir=e,this.autoScrollTimer=window.setInterval((function(){"bottom"===n.autoScrollDir?(r.scrollTop+=i.AUTO_SCROLL_STEP_OFFSET,(r.scrollTop>=r.scrollHeight-window.innerHeight||o&&r.scrollTop>=o)&&n.clearAutoScroll()):"left"===n.autoScrollDir?(t.scrollLeft-=i.AUTO_SCROLL_STEP_OFFSET,t.scrollLeft>=t.scrollWidth&&n.clearAutoScroll()):"right"===n.autoScrollDir?(t.scrollLeft+=i.AUTO_SCROLL_STEP_OFFSET,t.scrollLeft>=t.scrollWidth-t.offsetWidth&&n.clearAutoScroll()):"top"===n.autoScrollDir&&(r.scrollTop-=i.AUTO_SCROLL_STEP_OFFSET,(r.scrollTop>=r.scrollHeight||o&&r.scrollTop<=o)&&n.clearAutoScroll())}),100))}},{key:"clearAutoScroll",value:function(){this.autoScrollTimer&&(clearInterval(this.autoScrollTimer),this.autoScrollTimer=null,this.autoScrollDir=null)}},{key:"getDetail",value:function(){return this.oldSelection}},{key:"getSelectedBlock",value:function(){return w(this.oldSelection),w(this.oldSelection.block),this.oldSelection.block}},{key:"setSelection",value:function(e,t){var n,r,o,i,a,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=e.startCell===e.endCell;if(t&&!c&&(null==t||t.preventDefault(),null==t||t.stopPropagation(),null===(n=document.getSelection())||void 0===n||n.focusNode),this.oldSelection){var l=this.oldSelection.startCell===this.oldSelection.endCell;if(l!==c)c||(this.multiSelecting=!0,null==t||t.preventDefault(),null==t||t.stopPropagation());else if(t&&c&&e.block){var u=document.elementFromPoint(t.x,t.y);w(e.block);var d=!u||!ts(e.block,u);d!==this.moveOut&&(this.moveOut=d,d?(null==t||t.preventDefault(),null==t||t.stopPropagation()):this.oldDetail)}}this.oldSelection.block===e.block&&this.oldSelection.startCell===e.startCell&&this.oldSelection.endCell===e.endCell&&this.oldSelection.startCol===e.startCol&&this.oldSelection.endCol===e.endCol&&this.oldSelection.startRow===e.startRow&&this.oldSelection.endRow===e.endRow&&this.oldSelection.selectFullCell===e.selectFullCell||(this.oldSelection.block!==e.block&&this.isOldSelectionBlockExist()&&(w(this.oldSelection.block),this.onTableRemoveSelection(this.oldSelection.block)),e.block&&(this.onTableSelectionChanged(e.block,e,s),this.editor.updateTextToolbar(!0)),null===e.fromCell&&null===e.startCell&&null===e.endCell&&null===e.block&&this.oldSelection.block?(kw.hide(),Mw.hide(this.oldSelection.block)):(null!==(r=e.block)&&void 0!==r?r:this.oldSelection.block)&&(Mw.show(null!==(o=e.block)&&void 0!==o?o:this.oldSelection.block),Mw.updateBarStatus(null!==(i=e.block)&&void 0!==i?i:this.oldSelection.block,e),kw.updateToolBar(null!==(a=e.block)&&void 0!==a?a:this.oldSelection.block,e)),this.oldSelection=e)}},{key:"onTableRemoveSelection",value:function(e){this.selectionHandler.onEndSelect(e)}},{key:"onTableSelectionChanged",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(n||this.showSelection||t.selectFullCell)&&(this.oldSelection.block?e!==this.oldSelection.block?(this.isOldSelectionBlockExist()&&this.selectionHandler.onEndSelect(this.oldSelection.block),w(t.block),this.selectionHandler.onBeginSelect(t.block,t)):this.selectionHandler.onSelectionChange(e,t):this.startEvent&&this.selectionHandler.onBeginSelect(e,t))}},{key:"updateSelectionByMouseEvent",value:function(e){var t,n;w(this.startEvent),w(e);var r=this.dragStartCell;if(r){w(r);var o=Ix(r);w(o);var i=Mb.fromTable(o),a=this.getCellFromEvent(e);if(IL(Sx(r),this.editor.getSelectionDetail())&&(!a||a===r)){var s=r.getBoundingClientRect();if(e.clientX>s.right-16&&Math.abs(e.x-this.mouseDownPos.x)>16||e.clientY>s.bottom-16&&Math.abs(e.y-this.mouseDownPos.y)>16){this.multiSelecting=!0;var c=r,l=i.getCellByElement(c),u={startCell:c,endCell:c,startCol:l.col,startRow:l.row,endCol:l.col+l.colSpan-1,endRow:l.row+l.rowSpan-1,block:wN(c),fromCell:r,selectFullCell:!0};return e.preventDefault(),e.stopPropagation(),(null===(t=document.getSelection())||void 0===t?void 0:t.focusNode)&&(null===(n=document.getSelection())||void 0===n||n.removeAllRanges()),void this.setSelection(u,e)}}if(a){var d=wN(r);if(d===wN(a)){var p=i.getCellByElement(r),f=i.getCellByElement(a),h=Math.min(p.col,f.col),A=Math.min(p.row,f.row),m=Math.max(p.col+p.colSpan-1,f.col+f.colSpan-1),g=Math.max(p.row+p.rowSpan-1,f.row+f.rowSpan-1);if(r!==a){var v=Qy(i.getSpannedRange({row:A,col:h},{row:g,col:m}),2),b=v[0];A=b.row,h=b.col;var y=v[1];g=y.row,m=y.col}var x=r,k=a;(p.col>f.col||p.row>f.row)&&(x=a,k=r);var C={startCell:x,endCell:k,startCol:h,startRow:A,endCol:m,endRow:g,block:d,fromCell:r};this.setSelection(C,e)}else this.setSelection(this.oldSelection,e)}else{var E=r;w(E);var B=i.getCellByElement(E),T={startCell:E,endCell:E,startCol:B.col,startRow:B.row,endCol:B.col+B.colSpan-1,endRow:B.row+B.rowSpan-1,block:wN(E),fromCell:r,selectFullCell:!0};this.setSelection(T,e)}}else this.setSelection(Eb,e)}},{key:"updateSelectionByDocumentSelection",value:function(){var e=PL(this.editor);if((!e.startBlock||ts(this.editor.rootContainer(),e.startBlock))&&(e.type!==ia.ONE_FULL_COMPLEX_BLOCK||!e.startBlock||!nA(e.startBlock))){var t,n,r;if(e.collapsed?e.startBlock&&(t=Mx(e.startBlock)):(e.startBlock&&(n=Mx(e.startBlock)),e.endBlock&&(r=Mx(e.endBlock)),n&&r&&n===r&&(t=n)),!t){if(!e.startBlock||!Jh(e.startBlock))return void this.clearSelection();var o=Eb;return e.type===ia.ONE_FULL_COMPLEX_BLOCK&&((o=Object.assign({},o)).block=e.startBlock||null),void this.setSelection(o,null)}var i=wN(t);if(w(i),"table"===Rp(i)){var a=Zy(t),s={block:i,startCell:t,endCell:t,startCol:a.col,startRow:a.row,endCol:a.col+a.colSpan-1,endRow:a.row+a.rowSpan-1,fromCell:t};this.setSelection(s,null)}}}},{key:"getCellFromEvent",value:function(e){var t=document.elementFromPoint(e.clientX,e.clientY);if(!(t&&t instanceof HTMLElement))return null;var n=Mx(t);return n&&wN(n)?n:null}},{key:"getSelectionRect",value:function(e){w(e.startCell),w(e.endCell);var t=e.startCell.getBoundingClientRect(),n=e.endCell.getBoundingClientRect();return new DOMRect(t.left,t.top,n.right-t.left,n.bottom-t.top)}},{key:"cellSelected",value:function(){return!!this.oldSelection.startCell}},{key:"singleCellSelected",value:function(){return this.oldSelection.startCell===this.oldSelection.endCell&&this.oldSelection.startCell}},{key:"multiCellsSelected",value:function(){return this.cellSelected()&&!this.singleCellSelected()}},{key:"bindEvents",value:function(){document.addEventListener("mousedown",this.handleMouseDown),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("selectionchange",this.handleSelectionChange)}},{key:"unbindEvents",value:function(){document.removeEventListener("mousedown",this.handleMouseDown),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("selectionchange",this.handleSelectionChange)}},{key:"startDrag",value:function(e){this.selecting=!0,this.startEvent=e,this.dragStartCell=this.getCellFromEvent(this.startEvent),document.addEventListener("mousemove",this.handleMouseMove)}},{key:"endDrag",value:function(e){var t,n,r=this,o=this.oldSelection.startCell===this.oldSelection.endCell;e&&!o&&(null==e||e.preventDefault(),null==e||e.stopPropagation(),(null===(t=document.getSelection())||void 0===t?void 0:t.focusNode)&&(null===(n=document.getSelection())||void 0===n||n.removeAllRanges(),Ly())),document.removeEventListener("mousemove",this.handleMouseMove),this.dragStartCell=null,this.clearAutoScroll(),setTimeout((function(){r.startEvent=null}))}},{key:"isSelected",value:function(){return!(!function(e){return e.rootContainer().querySelectorAll(".".concat(Oy)).length>0}(this.editor)&&!this.isMultiSelected())||!!this.oldSelection.block&&this.editor.isInEditor(this.oldSelection.block)&&this.isMultiSelected()}},{key:"isOldSelectionBlockExist",value:function(){var e=!0;return(e=!(!this.oldSelection||!this.oldSelection.block||!this.oldSelection.block.closest("body")))||(this.oldSelection=Eb),e}},{key:"isMultiSelected",value:function(){return!!(this.oldSelection&&this.oldSelection.block&&this.editor.isInEditor(this.oldSelection.block)&&this.oldSelection.block&&this.oldSelection.startCell!==this.oldSelection.endCell&&this.oldSelection.startCell&&this.oldSelection.endCell)}},{key:"getSelectedSubContainers",value:function(){var e=this.oldSelection,t=e.startCell,n=e.endCell,r=e.startCol,o=e.endCol,a=e.startRow,s=e.endRow,c=e.block;w(c),w(t),w(n),w(void 0!==r),w(void 0!==o),w(void 0!==a),w(void 0!==s);for(var l=OX.getEditor(t),u=[],d=Mb.fromBlock(c),p=a;p<=s;p++)for(var f=r;f<=o;f++){var h=d.getCell({row:p,col:f});if(!h.virtual&&i.isCellFullySelected(h,this.oldSelection)){var A=l.getContainerById(h.cellId);w(A),u.push(A)}}return u}},{key:"getSelectedBlocks",value:function(){var e=this.getSelectedSubContainers(),t=[];return e.forEach((function(e){t.push.apply(t,zy(SN(e)))})),t}},{key:"getContextMenuData",value:function(){return this.rightMouseDown=!1,[]}},{key:"handleMultiBlocksEvent",value:function(e){return w(e),!1}},{key:"updateSelection",value:function(e,t){var n,r,o,i,a,s,c,l,u,d,p=this;if(w(e),Rp(e)!==Qi.TABLE)return!1;if(!t)return this.clearSelection(),!0;w(2===t.length);var f=Nx(e),h=Mb.fromTable(f),A=h.getCell({row:t[0].rowIndex,col:t[0].colIndex}),m=h.getCell({row:t[1].rowIndex,col:t[1].colIndex});w(A),w(m);var g=null!==(r=null===(n=t[0])||void 0===n?void 0:n.rowIndex)&&void 0!==r?r:A.row,v=null!==(i=null===(o=t[0])||void 0===o?void 0:o.colIndex)&&void 0!==i?i:A.col,b=null!==(s=null===(a=t[1])||void 0===a?void 0:a.rowIndex)&&void 0!==s?s:m.row+m.rowSpan-1,y=null!==(l=null===(c=t[1])||void 0===c?void 0:c.colIndex)&&void 0!==l?l:m.col+m.colSpan-1,x=Math.min(v,y),k=Math.min(g,b),C=Math.max(v,y),E=Math.max(g,b),B={startCell:h.getCell({col:x,row:k}).cell,endCell:h.getCell({col:C,row:E}).cell,startCol:x,startRow:k,endCol:C,endRow:E,block:e,fromCell:A.cell};return A.cell===m.cell&&(B.selectFullCell=!0),(null===(u=document.getSelection())||void 0===u?void 0:u.focusNode)&&(null===(d=document.getSelection())||void 0===d||d.removeAllRanges()),this.startEvent=new MouseEvent(""),this.setSelection(B,null,!0),setTimeout((function(){p.startEvent=null})),!0}},{key:"getCurPopover",value:function(){return kw}},{key:"selectionToDoc",value:function(){var e=this.getDetail();if(!e)return{blocks:[],comments:{},meta:{}};if(!e.startCell||!e.endCell)return{blocks:[],comments:{},meta:{}};var t=this.oldSelection,n=t.startCell,r=t.endCell,o=t.startCol,i=t.endCol,a=t.startRow,s=t.endRow,c=t.block;w(c),w(n),w(r),w(void 0!==o),w(void 0!==i),w(void 0!==a),w(void 0!==s);var l=OX.getEditor(n),u=Mb.fromBlock(c),d=_n()(l.data()),p={blocks:[],comments:{},meta:{}};if(0===o&&0===a&&s===u.colCount-1&&i===u.rowCount)return _f(c).forEach((function(e){var t=d[e.id];p[e.id]=t})),p.blocks.push(OX.fixTextData(hf(c))),p;for(var f=s-a+1,h=i-o+1,A={id:B(),type:Qi.TABLE,rows:f,cols:h,children:new Array},m={},g={},v={},b=new Set,y=a;y<=s;y++)for(var x=o;x<=i;x++){var k=u.getCell({row:y,col:x}),C=k.cellId;if(!A.children.includes(C)&&!b.has(C)){if(k.colSpan>1||k.rowSpan>1){var E=Math.max(o,k.col),T=Math.min(i,k.col+k.colSpan-1),M=Math.abs(T-E)+1,I=Math.max(a,k.row),D=Math.min(s,k.row+k.rowSpan-1),_=Math.abs(D-I)+1;(M<k.colSpan&&o>k.col||_<k.rowSpan&&a>k.row)&&(b.add(C),C=l.createEmptyChildContainerData(),d[C]=l.getChildContainerData(C)),m["".concat(C,"_colSpan")]=M,m["".concat(C,"_rowSpan")]=_}A.children.push(C);var S=d[C];p[C]=S;var O=Jx(c,{row:y,col:x},u);O&&(v["".concat(C,"_align")]=O);var N=ak(c,{row:y,col:x},u);N&&(g["".concat(C,"_background")]=N)}}var L=Object.assign(Object.assign(Object.assign(Object.assign({},A),m),v),g);return p.blocks.push(L),p}},{key:"selectionToHtml",value:function(){var e=this.getDetail();if(!e)return"";if(!e.startCell||!e.endCell)return"";var t=this.oldSelection,n=t.startCell,r=t.endCell,o=t.startCol,i=t.endCol,a=t.startRow,s=t.endRow,c=t.block;w(c),w(n),w(r),w(void 0!==o),w(void 0!==i),w(void 0!==a),w(void 0!==s);for(var l=OX.getEditor(n),u=Mb.fromBlock(c),d=document.createElement("table"),p=new Set,f=a;f<=s;f++){var h=document.createElement("tr");d.appendChild(h);for(var A=o;A<=i;A++){var m=u.getCell({row:f,col:A}),g=m.cellId;if(!p.has(g)){var v=document.createElement("td"),b=l.getContainerById(m.cellId);w(b);var y=SN(b);if(m.rowSpan>1){var x=Math.max(a,m.row),k=Math.min(s,m.row+m.rowSpan-1),C=Math.abs(k-x)+1;C<m.rowSpan&&a>m.row&&(y=[]),v.rowSpan=C}if(m.colSpan>1){var E=Math.max(o,m.col),B=Math.min(i,m.col+m.colSpan-1),T=Math.abs(B-E)+1;T<m.colSpan&&o>m.col&&(y=[]),v.colSpan=T}var M=y.map((function(e){return Yh(e)}));v.innerHTML=M.join("\n"),h.appendChild(v),p.add(g)}}}return Array.from(d.querySelectorAll("br")).forEach((function(e){var t=e.parentElement;(null==t?void 0:t.firstChild)===e&&t.lastChild===e&&e.remove()})),d.outerHTML}},{key:"isFullSelected",value:function(){var e=this.getDetail();if(!e)return!1;if(!e.startCell||!e.endCell)return!1;if(!this.editor.isInEditor(e.startCell))return!1;var t=this.oldSelection,n=t.startCell,r=t.endCell,o=t.startCol,i=t.endCol,a=t.startRow,s=t.endRow,c=t.block;w(c),w(n),w(r),w(void 0!==o),w(void 0!==i),w(void 0!==a),w(void 0!==s);var l=Mb.fromBlock(c),u=l.colCount,d=l.rowCount;return 0===o&&0===a&&i===u-1&&s===d-1}},{key:"selectBlock",value:function(e){if(Rp(e)!==Qi.TABLE)return!1;var t=Nx(e),n=Mb.fromTable(t),r=n.colCount,o=n.rowCount,i=n.getRow(0).getCell(0),a=n.getRow(o-1).getCell(r-1),s={startCell:i.cell,endCell:a.cell,startCol:0,startRow:0,endCol:r-1,endRow:o-1,block:e,fromCell:i.cell};return this.setSelection(s,null,!0),!0}},{key:"isSelecting",value:function(){return this.selecting}},{key:"isMultiSelecting",value:function(){return this.multiSelecting}},{key:"clearSelection",value:function(){this.showSelection=!1,this.setSelection(Eb,null)}},{key:"deleteSelectedContents",value:function(){}}])&&Vy(t.prototype,n),r&&Vy(t,r),i}(ya);function $y(e){return($y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ew(e){return function(e){if(Array.isArray(e))return tw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rw(e,t){return(rw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ow(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=aw(e);if(t){var o=aw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iw(this,n)}}function iw(e,t){if(t&&("object"===$y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function aw(e){return(aw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Jy.AUTO_SCROLL_STEP_OFFSET=10,Jy.AUTO_SCROLL_AREA=60,Xy=function(e){return new Jy(e)},Dy.push(Xy);var sw=qo.splitIcon,cw=qo.mergeIcon,lw=qo.deleteRowIcon,uw=qo.deleteColIcon,dw=qo.alignLeftIcon,pw=qo.alignCenterIcon,fw=qo.alignRightIcon,hw=qo.checkIcon,Aw=qo.fontColorIcon,mw=qo.boldIcon,gw=qo.strikethroughIcon,vw=qo.moreIcon,bw=qo.italicIcon,yw=qo.underlineIcon,ww=qo.checkboxIcon,xw=qo.deleteTableIcon,kw=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rw(e,t)}(i,e);var t,n,r,o=ow(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).colorPalette=null,e.block=null,e.selection=null,e.handleMergeCells=function(e,t){var n=t.data;w(n);var r=OX.getEditor(n);r.isBlockWritable(n)&&(r.beginUndoGroup(),Hx(r,n),r.endUndoGroup(),Vx(n,r))},e.handleChangeTableCellColor=function(t){var n,r;w(e.colorPalette);var o=e.block;w(o);var i=OX.getEditor(o);if(i.isBlockWritable(o)){var a=t.target;w(a instanceof Element);var s=a.closest(".editor-color-palette-item"),c=a.closest(".editor-color-palette-clear");if(s||c){var l=null!==(n=s&&s.getAttribute("data-color"))&&void 0!==n?n:void 0,u=!!(null==l?void 0:l.startsWith("style-bg-color-")),d=e.selection;w(d);for(var p=Mb.fromBlock(o),f=d.startRow;f<=d.endRow;f++)for(var h=d.startCol;h<=d.endCol;h++){var A=p.getCell({row:f,col:h});Jy.isCellFullySelected(A,d)&&rk(o,{row:f,col:h},u,l)}if(c){for(var m=d.startRow;m<=d.endRow;m++)for(var g=d.startCol;g<=d.endCol;g++){var v=p.getCell({row:m,col:g});Jy.isCellFullySelected(v,d)&&(ik(o,{row:m,col:g}),ok(o,{row:m,col:g}))}var b="style-color-1";i.executeTextCommand(b,{"style-color-1":null}),b="style-bg-color-1",i.executeTextCommand(b,{"style-bg-color-1":null})}var y=hf(o);i.updateBlockData(o,y,{fromUndo:!1,updateBlock:!1,partial:!1});var x=s?e.colorPalette.querySelector(u?".editor-color-palette-bg-colors":".editor-color-palette-colors"):e.colorPalette;null==x||x.querySelectorAll(".".concat(Vi.ACTIVE)).forEach((function(e){Ja(e,Vi.ACTIVE)})),s&&Qa(s,Vi.ACTIVE),console.log("itemContainer",e.popover.itemContainer),null===(r=e.popover.itemContainer)||void 0===r||r.querySelectorAll(".".concat(Vi.MENU_FONT_COLOR)).forEach((function(e){s?(w(l),$a(e,u?/^style-bg-color-/i:/^style-color-/i),Qa(e,l)):($a(e,/^style-color-/i),$a(e,/^style-bg-color-/i))}))}}},e.handleClearColor=function(t){e.handleChangeTableCellColor(t)},e.updateToolBar=In()((function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Px(t),o=OX.getEditor(t);if(!o.options.hideTableToolbar&&!o.isReadOnly()&&o.isBlockWritable(t)&&!o.isMouseDown()){var i=o.getSelectionDetail();if(i.type===ia.INVALID||i.type===ia.ONE_FULL_COMPLEX_BLOCK){var a=Mb.fromBlock(t),s=[];e.block=t,e.selection=r;var c,l,u=qh(t);Object.keys(u).forEach((function(e){e.startsWith("style-color-")?c=e:e.startsWith("style-bg-color-")&&(l=e)}));var d={},p=[],f=null===(n=Jy.getFirstFullySelectCell(a,r))||void 0===n?void 0:n.cell;if(f){var h=Sx(f);d=(p=SN(h))[0]?Zf(p[0],0,{selectNext:!1}):{}}var A=jI(p,"checkbox",{allowTextOnly:!1});if(!o.isMarkdownOnly()&&Jy.isAllCellFullySelected(a,r))if(r.startCell!==r.endCell)s.push({id:"mergeCells",text:ju.table.mergeCells,icon:cw,shortCut:"",disabled:!1,data:t,onClick:e.handleMergeCells});else if(r.startCell){var m=r.startCell,g=Nx(t),v=Mb.fromTable(g).getCellByElement(m);(m.colSpan>1||m.rowSpan>1)&&s.push({id:"splitCell",text:ju.table.splitCell,icon:sw,shortCut:"",onClick:function(){Rx(t,v),Vx(t)}})}a.colCount-(r.endCol-r.startCol+1)>=0&&0===r.startRow&&r.endRow===a.rowCount-1&&0===r.startCol&&r.endCol===a.colCount-1?s.push({id:"deleteTable",text:ju.table.deleteTable,icon:xw,shortCut:"",onClick:function(){ck(o,t)}}):(0===r.startCol&&r.endCol===a.colCount-1&&s.push({id:"deleteRow",text:ju.table.deleteRow,icon:lw,shortCut:"",onClick:function(){o.beginUndoGroup(),0===r.startRow&&r.endRow===a.rowCount-1?ck(o,t):Wx(t,r),o.endUndoGroup()}}),a.colCount-(r.endCol-r.startCol+1)>=0&&0===r.startRow&&r.endRow===a.rowCount-1&&s.push({id:"deleteCol",text:ju.table.deleteCol,icon:uw,shortCut:"",onClick:function(){o.beginUndoGroup(),a.colCount-(r.endCol-r.startCol+1)==0?ck(o,t):Gx(t,r),o.endUndoGroup()}})),s.length>0&&s.push(ga),s.push.apply(s,ew(e.getAlignCommands(t,r)).concat([ga])),s.push({id:"style-bold",text:ju.fontType.bold,icon:mw,disabled:"disabled"===d["style-bold"],checked:!0===d["style-bold"],data:"style-bold",onClick:function(n,r){return e.handleApplyStyle(t,r)}},{id:"style-strikethrough",text:ju.fontType.strikethrough,icon:gw,disabled:"disabled"===d["style-strikethrough"],checked:!0===d["style-strikethrough"],data:"style-strikethrough",onClick:function(n,r){return e.handleApplyStyle(t,r)}}),o.options.markdownOnly||s.push({id:"style-color",text:"",icon:Aw,color:c,bgColor:l,disabled:!1,data:{autoHideSubItems:!0,placementSubItems:"top"},subItemsArrow:!0,subItems:[{id:"",text:"",element:e.createColorPalette(c,l)}]});var b=[{id:"style-italic",text:ju.fontType.italic,icon:bw,disabled:"disabled"===d["style-italic"],checked:!0===d["style-italic"],data:"style-italic",onClick:function(n,r){return e.handleApplyStyle(t,r)}},{id:"style-underline",text:ju.fontType.underline,icon:yw,disabled:"disabled"===d["style-underline"],checked:!0===d["style-underline"],data:"style-underline",onClick:function(n,r){return e.handleApplyStyle(t,r)}}];if(nA(t)||b.push({id:"",text:ju.blocks.todo,icon:ww,onClick:function(){var t=o.getAgentSelector();o.executeBlockCommand(A?"toBodyText":"toCheckbox"),t.clearSelection(),e.hide(!0)},checked:A}),o.options.markdownOnly?s.push.apply(s,b):s.push({id:"",text:"",icon:vw,disabled:!1,data:{autoHideSubItems:!0,placementSubItems:"top"},subItemsArrow:!0,subItems:b}),0!==s.length){var y=e.createPopoverTarget(t,r);e.popover.createManualHideToolbar(t,y,s,{hideOnClicking:!1,offset:[0,14]})}else e.popover.hide()}else e.popover.hide()}}),100),e.popover=new wy,e}return t=i,(n=[{key:"destroy",value:function(){this.popover.destroy()}},{key:"hide",value:function(e){this.popover.hide(e)}},{key:"isVisible",value:function(){return this.popover.isVisible()}},{key:"handleMouseMove",value:function(e){return this.popover.handleMouseMove(e)}},{key:"on",value:function(e,t){this.popover.on(e,t)}},{key:"updatePosition",value:function(){var e;this.isVisible()&&(null===(e=this.popover.popover.instance)||void 0===e||e.setProps({}))}},{key:"createPopoverTarget",value:function(e,t){if(t.startCell&&t.startCell===t.endCell)return t.startCell;if(nA(e))return Nx(e);var n=Wp(e,!0);w(n);var r=n.querySelector(".".concat(Vi.TABLE_SELECTION_MASK));return w(r),r}},{key:"alignCells",value:function(e,t,n){var r=OX.getEditor(e);if(r.isBlockWritable(e)){for(var o=t.startRow,i=t.endRow,a=t.startCol,s=t.endCol,c=Mb.fromBlock(e),l=o;l<=i;l++)for(var u=a;u<=s;u++){var d=c.getCell({row:l,col:u});!d.virtual&&Jy.isCellFullySelected(d,t)&&ek(e,{row:l,col:u},n)}var p=hf(e);r.updateBlockData(e,p,{fromUndo:!1,updateBlock:!1,partial:!1}),r.updateImageResizeTool(),this.updateToolBar(e)}}},{key:"handleApplyStyle",value:function(e,t){var n=OX.getEditor(e),r=t.data;n.executeTextCommand(r),this.updateToolBar(e)}},{key:"createColorContainer",value:function(e,t,n,r,o,i){for(var a=ps("div",[e],null),s=0;s<o;s++){var c="".concat(r).concat(s),l=ps("div",[t,c],null);c===i&&Qa(l,Vi.ACTIVE),l.innerHTML=n,l.setAttribute("data-color",c),a.appendChild(l)}return a}},{key:"createColorPalette",value:function(e,t){if(this.colorPalette){if(Array.from(this.colorPalette.querySelectorAll(".".concat(Vi.ACTIVE))).forEach((function(e){Ja(e,Vi.ACTIVE)})),e){var n=this.colorPalette.querySelector(".".concat(e));w(n),Qa(n,Vi.ACTIVE)}if(t){var r=this.colorPalette.querySelector(".".concat(t));w(r),Qa(r,Vi.ACTIVE)}return this.colorPalette}var o=ps("div",["editor-color-palette"],null),i=ps("div",["editor-color-palette-title"],null,ju.command.fontColor);o.appendChild(i);var a=this.createColorContainer("editor-color-palette-colors","editor-color-palette-item",Aw,"style-color-",7,e);o.appendChild(a);var s=ps("div",["editor-color-palette-title"],null,ju.command.fontBackgroundColor);o.appendChild(s);var c=this.createColorContainer("editor-color-palette-bg-colors","editor-color-palette-item",hw,"style-bg-color-",14,t);o.appendChild(c);var l=ps("div",["editor-color-palette-tools"],null),u=ps("button",["editor-color-palette-clear"],null,ju.command.clearColor);return l.appendChild(u),o.appendChild(l),o.addEventListener("click",this.handleChangeTableCellColor),u.addEventListener("click",this.handleClearColor),this.colorPalette=o,this.colorPalette}},{key:"isMyPopover",value:function(e){return!!this.isVisible()&&this.popover.popover===e}},{key:"getAlignCommands",value:function(e){var t,n,r,o=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Px(e),a=!!i.startCell,s=nA(e);if(!a&&!s)return[];r=s?null!==(t=Jx(e,{row:0,col:0},null))&&void 0!==t?t:"left":null!==(n=$x(e,i,null))&&void 0!==n?n:"left";var c=[];return c.push({id:"",text:ju.formatType.alignLeft,icon:dw,onClick:function(){o.alignCells(e,i,"left")},checked:"left"===r,data:"left"}),c.push({id:"",text:ju.formatType.alignCenter,icon:pw,onClick:function(){o.alignCells(e,i,"center")},checked:"center"===r,data:"left"}),c.push({id:"",text:ju.formatType.alignRight,icon:fw,onClick:function(){o.alignCells(e,i,"right")},checked:"right"===r,data:"left"}),c}}])&&nw(t.prototype,n),r&&nw(t,r),i}(ca));function Cw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ew,Bw=qo.deleteIcon;!function(e){e.ROW="row",e.COL="col"}(Ew||(Ew={}));var Tw=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.startEvent=void 0,this.shouldShowDeleteButton=!1,this.handleClick=function(e){t.deleteButtonClick(e)||t.addButtonClick(e)},this.handleMouseDown=function(n){n.target instanceof HTMLElement&&(Ga(n.target,e.colBarItemClassName)||Ga(n.target,e.rowBarItemClassName))&&(t.startEvent=n,w(wN(n.target)),document.body.addEventListener("mousemove",t.handleDrag),document.body.addEventListener("mouseup",t.handleDrag))},this.handleDrag=function(n){var r,o;if(t.startEvent){if(t.startEvent&&t.startEvent.target instanceof HTMLElement&&t.startEvent.target.closest("body")){var i=wN(t.startEvent.target);w(i);var a=t.getTableBorderBarElement(i);if(n.target instanceof HTMLElement&&a.contains(n.target)){var s=Ga(n.target,e.colBarItemClassName),c=Ga(n.target,e.rowBarItemClassName);if(s||c){var l=n.target,u=OX.getEditor(l).getAgentSelector(),d=Mb.fromBlock(i),p=parseInt(null!==(r=t.startEvent.target.getAttribute("data-index"))&&void 0!==r?r:"0",10),f=parseInt(null!==(o=l.getAttribute("data-index"))&&void 0!==o?o:"0",10),h=Nx(i);if(s&&Ga(t.startEvent.target,e.colBarItemClassName)){t.shouldShowDeleteButton=!0,p>f?p=Jy.getColSelectSpan(d,p)+p-1:f=Jy.getColSelectSpan(d,f)+f-1;var A=[{colIndex:p,rowIndex:0},{colIndex:f,rowIndex:d.rowCount-1}];u.updateSelection(i,A),jy(h,u.getDetail(),!0)}else if(c&&Ga(t.startEvent.target,e.rowBarItemClassName)){t.shouldShowDeleteButton=!0,p>f?p=Jy.getRowSelectSpan(d,p)+p-1:f=Jy.getRowSelectSpan(d,f)+f-1;var m=[{colIndex:0,rowIndex:p},{colIndex:d.colCount-1,rowIndex:f}];u.updateSelection(i,m),jy(h,u.getDetail(),!1)}}}}if("mouseup"===n.type){if(t.startEvent&&t.startEvent.target instanceof Node){var g=wN(t.startEvent.target);g&&!th(g)&&Rp(g)===Qi.TABLE&&kw.updateToolBar(g)}t.startEvent=void 0,document.body.removeEventListener("mousemove",t.handleDrag),document.body.removeEventListener("mouseup",t.handleDrag)}}},this.handleMouseLeave=function(e){var n=wN(e.target);w(n),t.hideAddBtn(n),t.clearDeleteTag(n)},this.handleMouseMove=In()((function(n){if(n.target instanceof Element){var r=Ga(n.target,e.colBarItemClassName),o=Ga(n.target,e.rowBarItemClassName),i=n.target.closest(".".concat(e.tableBarDeleteBtn)),a=n.target.closest(".".concat(e.tableBarButtonClassName)),s=Ga(n.target,e.colBarPointItemClassName),c=Ga(n.target,e.rowBarPointItemClassName),l=n.target,u=wN(l);if(!u||!t.isVisible(u))return;var d=OX.getEditor(u);if(d.isReadOnly())return;if(!d.isBlockWritable(u))return;if(d.isDragging())return;if(d.getAgentSelector().isSelecting())return;var p=Px(u),f=p.startCell!==p.endCell,h=Fb(u),A=t.getTableBorderBarElement(u);w(A);var m=Nx(u);w(m);var g=h.querySelector(".".concat(e.tableBarLineClassName));w(g);var v=A.querySelector(".".concat(e.tableBarButtonClassName));if(v||((v=document.createElement("button")).type="button",Qa(v,e.tableBarButtonClassName,Vi.TOOLTIP)),!t.startEvent&&!f&&l instanceof HTMLElement&&(r||s||o||c)){var b=parseInt(l.getAttribute("data-index"),10),y=Mb.fromBlock(u);if(r||s){var x=A.querySelector(".".concat(e.colBarBtnContainerClassName));w(x);var k=x.getBoundingClientRect(),C=l.getBoundingClientRect(),E=C.left-k.left;r?n.clientX>C.left+C.width/2&&(E+=C.width,b+=Jy.getColSelectSpan(y,b)):E+=C.width/2,g.style.height="".concat(m.offsetHeight,"px"),g.style.width="",g.style.top="",g.style.left="".concat(E,"px"),g.style.display="block",g.setAttribute("data-type",Ew.COL),v.style.left="".concat(E,"px"),v.style.top="0",v.setAttribute("data-type",Ew.COL),x.append(v)}else{var B=A.querySelector(".".concat(e.rowBarBtnContainerClassName));w(B);var T=l.getBoundingClientRect(),M=B.getBoundingClientRect(),I=T.top-M.top;o?n.clientY>T.top+T.height/2&&(I+=T.height,b+=Jy.getRowSelectSpan(y,b)):I+=T.height/2,g.style.width="".concat(m.offsetWidth,"px"),g.style.height="",g.style.left="",g.style.top="".concat(I,"px"),g.style.display="block",g.setAttribute("data-type",Ew.ROW),v.style.top="".concat(I+12,"px"),v.style.left="0",v.setAttribute("data-type",Ew.ROW),B.append(v)}v.setAttribute("data-index",b.toString()),Qa(v,Vi.ACTIVE),v.setAttribute("data-tooltip",r?ju.table.insertCol:ju.table.insertRow)}else(f||!n.target.closest(".".concat(e.tableColBarClassName))&&!n.target.closest(".".concat(e.tableRowBarClassName)))&&(ks(n,v,10,10)||(g.style.display="none",Ja(v,Vi.ACTIVE)));if(i)if(nA(u))Qa(u,e.tableSelectionDeleteTag);else{var D=h.querySelector(".".concat(Vi.TABLE_SELECTION_MASK));w(D),Qa(D,e.tableSelectionDeleteTag);var _=A.querySelectorAll(".".concat(e.colBarItemClassName,".").concat(Vi.ACTIVE)),S=A.querySelectorAll(".".concat(e.rowBarItemClassName,".").concat(Vi.ACTIVE));_.forEach((function(t){return Qa(t,e.tableSelectionDeleteTag)})),S.forEach((function(t){return Qa(t,e.tableSelectionDeleteTag)}))}else t.clearDeleteTag(u);a?d.options.isMobile||Ga(v,Vi.HOVER)||(Qa(v,Vi.HOVER),Qa(g,Vi.HOVER)):Ga(v,Vi.HOVER)&&(Ja(v,Vi.HOVER),Ja(g,Vi.HOVER))}})),this.updated=In()((function(e){if(!OX.getEditor(e).isComposing()&&!th(e)){var n=Mb.fromBlock(e),r=t.getTableBorderBarElement(e);r.style.display="none";var o=Px(e);t.createdCol(e,r,n,o),t.createdRow(e,r,n,o),t.updatedXOffset(e),r.style.display=""}})),this.updateBarStatus=In()((function(n,r){var o,i;if(t.checkEnableTableBorderBar(n)&&!OX.getEditor(n).isReadOnly()){var a=t.getTableBorderBarElement(n);w(a);var s=a.querySelector(".".concat(e.tableColBarContainerClassName));if(s){var c=a.querySelector(".".concat(e.tableRowBarContainerClassName));if(w(c),r.block){for(var l=s.querySelectorAll(".".concat(e.colBarItemClassName)),u=Mb.fromBlock(n),d=0;d<l.length;d++){var p=Ga(l[d],Vi.ACTIVE),f=parseInt(null!==(o=l[d].getAttribute("data-index"))&&void 0!==o?o:"0",10);0===r.startRow&&r.endRow===u.rowCount-1&&f>=r.startCol&&f<=r.endCol?p||Qa(l[d],Vi.ACTIVE):p&&Ja(l[d],Vi.ACTIVE)}for(var h=c.querySelectorAll(".".concat(e.rowBarItemClassName)),A=0;A<h.length;A++){var m=Ga(h[A],Vi.ACTIVE),g=parseInt(null!==(i=h[A].getAttribute("data-index"))&&void 0!==i?i:"0",10);0===r.startCol&&r.endCol===u.colCount-1&&g>=r.startRow&&g<=r.endRow?m||Qa(h[A],Vi.ACTIVE):m&&Ja(h[A],Vi.ACTIVE)}}else{t.removeDeleteBtn(a);var v=s.querySelectorAll(".".concat(e.colBarItemClassName,".").concat(Vi.ACTIVE)),b=c.querySelectorAll(".".concat(e.rowBarItemClassName,".").concat(Vi.ACTIVE));Array.prototype.forEach.call(v,(function(e){return Ja(e,Vi.ACTIVE)})),Array.prototype.forEach.call(b,(function(e){return Ja(e,Vi.ACTIVE)}))}}}}))}var t,n,r;return t=e,(n=[{key:"checkEnableTableBorderBar",value:function(e){return!OX.getEditor(e).options.disableTableBorderBar}},{key:"fixInsertComponentPosition",value:function(t,n,r,o,i){var a=Nx(t);if(o===Ew.COL){var s=t.querySelector(".".concat(e.colBarBtnContainerClassName));w(s);var c=s.getBoundingClientRect(),l=s.querySelectorAll(".".concat(e.colBarPointItemClassName));w(l[i]);var u=l[i].getBoundingClientRect(),d=u.left-c.left+u.width/2;r.style.height="".concat(a.offsetHeight,"px"),r.style.width="",r.style.top="",r.style.left="".concat(d,"px"),r.style.display="block",n.style.left="".concat(d,"px"),n.style.top="0"}else{var p=t.querySelector(".".concat(e.rowBarBtnContainerClassName));w(p);var f=p.getBoundingClientRect(),h=p.querySelector(".".concat(e.rowBarPointItemClassName,'[data-index="').concat(i,'"]'));w(h);var A=h.getBoundingClientRect(),m=A.top-f.top+A.height/2;r.style.width="".concat(a.offsetWidth,"px"),r.style.height="",r.style.left="",r.style.top="".concat(m,"px"),r.style.display="block",n.style.top="".concat(m+12,"px"),n.style.left="0"}}},{key:"addButtonClick",value:function(t){var n=this;if(t.target instanceof HTMLElement&&Ga(t.target,e.tableBarButtonClassName)){var r=t.target,o=wN(r);w(o);var i=Fb(o).querySelector(".".concat(e.tableBarLineClassName));w(i);var a=OX.getEditor(o),s=parseInt(r.getAttribute("data-index"),10),c=r.getAttribute("data-type");return a.beginUndoGroup(),c===Ew.COL?Qx(o,s):Ux(o,s),a.endUndoGroup(),a.updateCommandStatus(),setTimeout((function(){n.fixInsertComponentPosition(o,r,i,c,s)}),50),!0}return!1}},{key:"deleteButtonClick",value:function(t){if(t.target instanceof Element&&t.target.closest(".".concat(e.tableBarDeleteBtn))){var n=wN(t.target);w(n);var r=OX.getEditor(n);if(nA(n))return ck(r,n),this.clearDeleteTag(n),!0;var o=Px(n),i=Mb.fromBlock(n);return r.getAgentSelector().updateSelection(n),r.beginUndoGroup(),0===o.startRow&&o.endRow===i.rowCount-1&&0===o.startCol&&o.endCol===i.colCount-1?ck(r,n):0===o.startRow&&o.endRow===i.rowCount-1?Gx(n,o):Wx(n,o),r.endUndoGroup(),this.clearDeleteTag(n),!0}return!1}},{key:"hideAddBtn",value:function(t){var n=Fb(t),r=this.getTableBorderBarElement(t);w(r);var o=n.querySelector(".".concat(e.tableBarLineClassName));w(o);var i=r.querySelector(".".concat(e.tableBarButtonClassName));o.style.display="none",i&&Ja(i,Vi.ACTIVE)}},{key:"clearDeleteTag",value:function(t){var n=Wp(t,!1);n&&n.querySelectorAll(".".concat(e.tableSelectionDeleteTag)).forEach((function(t){return Ja(t,e.tableSelectionDeleteTag)}))}},{key:"getTableBorderBarElement",value:function(t){var n=Wp(t,!0),r=Fb(t);w(n);var o=n.querySelector(".".concat(Vi.TABLE_TOOLBAR));if(!o){Qa(o=document.createElement("div"),Vi.TABLE_TOOLBAR);var i=document.createDocumentFragment(),a=document.createElement("div");Qa(a,e.tableBlockMenuButtonBgClassName),i.appendChild(a);var s=document.createElement("div");Qa(s,e.tableColBarClassName),i.appendChild(s);var c=document.createElement("div");Qa(c,e.tableRowBarClassName),i.appendChild(c);var l=document.createElement("div");Qa(l,e.tableColBtnBarClassName),i.appendChild(l);var u=document.createElement("div");Qa(u,e.colBarBtnContainerClassName),l.append(u);var d=document.createElement("div");Qa(d,e.tableRowBtnBarClassName),i.appendChild(d);var p=document.createElement("div");Qa(p,e.rowBarBtnContainerClassName),d.append(p);var f=document.createElement("div");Qa(f,e.tableBarLineClassName),r.appendChild(f),o.appendChild(i),n.appendChild(o),this.updated(t),o.addEventListener("mouseleave",this.handleMouseLeave),o.addEventListener("mousemove",this.handleMouseMove),o.addEventListener("mousedown",this.handleMouseDown),o.addEventListener("click",this.handleClick)}return o}},{key:"createDeleteBtn",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.querySelector(".".concat(e.tableBarDeleteBtn));i||((i=document.createElement("button")).type="button",Qa(i,e.tableBarDeleteBtn,Vi.TOOLTIP),i.innerHTML=Bw,o?i.setAttribute("data-tooltip",ju.table.deleteTable):i.setAttribute("data-tooltip",r.isColBar?ju.table.deleteCol:ju.table.deleteRow),t.append(i)),i.style.left="".concat(n.left,"px"),i.style.top="".concat(n.top,"px")}},{key:"removeDeleteBtn",value:function(t){var n=t.querySelector(".".concat(e.tableBarDeleteBtn));n&&n.remove()}},{key:"hideAllAddBtn",value:function(t){var n=t.querySelector(".".concat(e.tableBarLineClassName)),r=t.querySelector(".".concat(e.tableBarButtonClassName));n&&(n.style.display="none"),r&&Ja(r,Vi.ACTIVE)}},{key:"updateDeleteBtn",value:function(t,n,r){if(this.removeDeleteBtn(t),r.block&&this.shouldShowDeleteButton)if(nA(r.block)){var o=t.querySelector(".".concat(e.colBarBtnContainerClassName));w(o);var i=Nx(r.block).getBoundingClientRect(),a=o.getBoundingClientRect(),s=i.left+(i.right-i.left)/2-a.left-10;this.createDeleteBtn(o,{top:0,left:s},{isColBar:!0},!0),this.hideAllAddBtn(t),this.shouldShowDeleteButton=!1}else if(0===r.startRow&&r.endRow===n.rowCount-1){var c=t.querySelector(".".concat(e.colBarBtnContainerClassName));w(c),w(r.startCell),w(r.endCell);var l=r.startCell.getBoundingClientRect(),u=r.endCell.getBoundingClientRect(),d=c.getBoundingClientRect(),p=l.left+(u.right-l.left)/2-d.left-10,f=0===r.startRow&&r.endRow===n.rowCount-1&&0===r.startCol&&r.endCol===n.colCount-1;this.createDeleteBtn(c,{top:0,left:p},{isColBar:!0},f),this.hideAllAddBtn(t),this.shouldShowDeleteButton=!1}else if(0===r.startCol&&r.endCol===n.colCount-1){var h=t.querySelector(".".concat(e.rowBarBtnContainerClassName));w(h),w(r.startCell),w(r.endCell);var A=r.startCell.getBoundingClientRect(),m=r.endCell.getBoundingClientRect(),g=h.getBoundingClientRect(),v=A.top+(m.bottom-A.top)/2-g.top+2;this.createDeleteBtn(h,{top:v,left:0},{isColBar:!1}),this.hideAllAddBtn(t),this.shouldShowDeleteButton=!1}}},{key:"createdCol",value:function(t,n,r,o){var i=n.querySelector(".".concat(e.tableColBarClassName));w(i);var a=n.querySelector(".".concat(e.tableColBtnBarClassName));w(a);var s=document.createElement("div");Qa(s,e.tableColBarContainerClassName);var c=a.querySelector(".".concat(e.colBarBtnContainerClassName));w(c);var l=c.querySelector(".".concat(e.barPointContainerClassName));null==l||l.remove(),Qa(l=document.createElement("div"),e.barPointContainerClassName);for(var u=document.createDocumentFragment(),d=document.createDocumentFragment(),p=0;p<r.colCount;p++){var f=r.getCell({col:p,row:0});if(f.colSpan>1)for(var h=1;h<r.rowCount;h++){var A=r.getCell({col:p,row:h});!A.virtual&&f.cell.offsetWidth>A.cell.offsetWidth&&(f=A)}if(!f.virtual){var m=f.cell.getBoundingClientRect().width,g=document.createElement("button");g.type="button",g.style.width="".concat(m,"px"),g.setAttribute("data-index",p.toString()),Qa(g,e.colBarItemClassName),o.block&&0===o.startRow&&o.endRow===r.rowCount-1&&p>=o.startCol&&p<=o.endCol&&Qa(g,Vi.ACTIVE),u.append(g);var v=document.createElement("div"),b=document.createElement("div");b.setAttribute("data-index",p.toString()),v.style.marginRight="".concat(m,"px"),Qa(v,e.barPointClassName),Qa(b,e.colBarPointItemClassName),v.append(b),d.append(v)}}var y=document.createElement("div"),x=document.createElement("div");x.setAttribute("data-index",r.colCount.toString()),Qa(y,e.barPointClassName),Qa(x,e.colBarPointItemClassName),y.append(x),d.append(y),s.append(u),l.append(d),i.innerHTML=s.outerHTML,c.appendChild(l)}},{key:"createdRow",value:function(t,n,r,o){var i=n.querySelector(".".concat(e.tableRowBarClassName));w(i);var a=n.querySelector(".".concat(e.tableRowBtnBarClassName));w(a);var s=document.createElement("div");Qa(s,e.tableRowBarContainerClassName);var c=a.querySelector(".".concat(e.rowBarBtnContainerClassName));w(c);var l=c.querySelector(".".concat(e.barPointContainerClassName));null==l||l.remove(),Qa(l=document.createElement("div"),e.barPointContainerClassName);for(var u=document.createDocumentFragment(),d=document.createDocumentFragment(),p=0;p<r.rowCount;p++){var f=r.getCell({col:0,row:p});if(f.rowSpan>1)for(var h=1;h<r.colCount;h++){var A=r.getCell({col:h,row:p});!A.virtual&&f.cell.offsetHeight>A.cell.offsetHeight&&(f=A)}if(!f.virtual){var m=f.cell.getBoundingClientRect().height,g=document.createElement("button");g.type="button",g.style.height="".concat(m,"px"),g.setAttribute("data-index",p.toString()),Qa(g,e.rowBarItemClassName),o.block&&0===o.startCol&&o.endCol===r.colCount-1&&p>=o.startRow&&p<=o.endRow&&Qa(g,Vi.ACTIVE),u.append(g);var v=document.createElement("div");v.style.marginBottom="".concat(m-1,"px"),Qa(v,e.barPointClassName);var b=document.createElement("div");b.setAttribute("data-index",p.toString()),Qa(b,e.rowBarPointItemClassName),v.append(b),d.append(v)}}var y=document.createElement("div"),x=document.createElement("div");x.setAttribute("data-index",r.rowCount.toString()),y.style.height="1px",Qa(y,e.barPointClassName),Qa(x,e.rowBarPointItemClassName),y.append(x),d.append(y),s.append(u),l.append(d),i.innerHTML=s.outerHTML,c.appendChild(l)}},{key:"mutationFilter",value:function(e){return e.some((function(e){return"childList"===e.type?!(Ga(e.target,Vi.BLOCK_TOOLS)||e.addedNodes.length&&Array.prototype.slice.call(e.addedNodes).every((function(e){return Ga(e,Vi.BLOCK_TOOLS)}))):"characterData"===e.type}))}},{key:"getMutationObserver",value:function(t){var n=this;if(e.MutationObserverMap.has(t))return e.MutationObserverMap.get(t);var r=new MutationObserver((function(e){n.mutationFilter(e)&&n.updated(t)}));return e.MutationObserverMap.set(t,r),r}},{key:"updatedXOffset",value:function(t){var n=this.getTableBorderBarElement(t);w(n);var r=n.querySelector(".".concat(e.tableColBarContainerClassName)),o=n.querySelector(".".concat(e.colBarBtnContainerClassName));w(o);var i=n.querySelector(".".concat(e.tableColBarClassName));w(i);var a=n.querySelector(".".concat(e.tableColBtnBarClassName));w(a);var s=n.querySelector(".".concat(e.tableRowBarContainerClassName)),c=n.querySelector(".".concat(e.tableRowBtnBarClassName));w(c);var l=n.querySelector(".".concat(e.tableBlockMenuButtonBgClassName));w(l);var u=Gp(t),d=t.getBoundingClientRect(),p=u.getBoundingClientRect(),f=Nx(t);w(f);var h=yx(f),A=f.getBoundingClientRect(),m=Math.max(A.left,p.left)-d.left-h,g=d.right-Math.min(A.right,p.right),v=Gh(Fb(t));if(v.style.left="".concat(m,"px"),v.style.right="".concat(g,"px"),r&&s){l.style.left="".concat(m,"px"),s.style.left="".concat(m,"px"),c.style.left="".concat(m,"px"),i.style.left="".concat(m+h,"px"),i.style.right="".concat(g,"px"),a.style.left="".concat(m+h,"px"),a.style.right="".concat(g,"px");var b=Math.min(A.left-p.left,0);r.style.transform="translateX(".concat(b,"px)"),o.style.transform="translateX(".concat(b,"px)")}}},{key:"show",value:function(e){var t=OX.getEditor(e);this.checkEnableTableBorderBar(e)&&(t.isReadOnly()||t.isDragging()||this.isVisible(e)||(this.updated(e),Qa(e,Vi.TABLE_TOOLBAR_ACTIVE),this.getMutationObserver(e).observe(Nx(e),{attributes:!0,childList:!0,subtree:!0,characterData:!0,attributeFilter:["colspan","rowspan"]})))}},{key:"hide",value:function(e){this.isVisible(e)&&(this.hideAddBtn(e),Ja(e,Vi.TABLE_TOOLBAR_ACTIVE),this.getMutationObserver(e).disconnect())}},{key:"isVisible",value:function(e){return Ga(e,Vi.TABLE_TOOLBAR_ACTIVE)}}])&&Cw(t.prototype,n),r&&Cw(t,r),e}();Tw.tableBlockMenuButtonBgClassName="table-block-menu-button-bg",Tw.tableColBarClassName="table-col-bar",Tw.tableRowBarClassName="table-row-bar",Tw.tableColBtnBarClassName="table-col-bar-btn",Tw.tableRowBtnBarClassName="table-row-bar-btn",Tw.colBarBtnContainerClassName="table-col-bar-btn-container",Tw.rowBarBtnContainerClassName="table-row-bar-btn-container",Tw.barPointContainerClassName="table-bar-point-container",Tw.barPointClassName="table-bar-point",Tw.colBarPointItemClassName="table-col-bar-point-item",Tw.rowBarPointItemClassName="table-row-bar-point-item",Tw.tableColBarContainerClassName="table-col-bar-container",Tw.tableRowBarContainerClassName="table-row-bar-container",Tw.colBarItemClassName="table-col-bar-item",Tw.rowBarItemClassName="table-row-bar-item",Tw.tableBarLineClassName="table-bar-line",Tw.tableBarButtonClassName="table-bar-button",Tw.tableBarDeleteBtn="table-bar-delete-button",Tw.tableSelectionDeleteTag="table-selection-delete-tag",Tw.MutationObserverMap=new Map;var Mw=new Tw;function Iw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _w=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Sw=Vi.EMBED_CONTAINER;function Ow(e){w(Hf(e)),w(1===e.children.length||2===e.children.length);var t=Gp(e);return w(t instanceof HTMLElement),w(Ga(t,Sw)),t}function Nw(e){var t=Ow(e);w(1===t.children.length);var n=t.children[0];return w(n),w(n instanceof HTMLElement),w(bp(n)),n}function Lw(e){return w(Hf(e)),dp(Nw(e))}function Rw(e,t){var n=t.data;w(n);var r=n.embedType,o=n.orgItem;o.onClick?o.onClick(e,o):console.log("unknown how to insert an embed block",r)}var jw=null;function Uw(e,t,n){return w(ts(Gp(e),t)),0===n?0:1}function Fw(e,t,n){n&&console.log(n),-1===t&&(t=1),w(1===e.children.length||2===e.children.length);var r=Ow(e);w(t>=0&&t<=1);var o=document.createRange();return o.setStart(r,t),o}function zw(e,t){!function(e){Ja(e,"embed-selected","embed-caret-full","embed-caret-left","embed-caret-right")}(e),t&&(!function(e,t){w(t),Qa(e,"embed-caret-".concat(t),"embed-selected")}(e,t),Hw(e,"select",null))}function Qw(e){e.collapsed||e.startBlock===e.endBlock?function(){var e=Array.from(document.getElementsByClassName("embed-selected")),t=Array.from(document.getElementsByClassName("block-tool-editing"));e=e.concat(t);var n=new Set(e);return Array.from(n)}().filter((function(t){return!(t===e.startBlock)})).forEach((function(t){var n;w(t instanceof HTMLElement),Ja(t,"embed-selected","embed-caret-full","embed-caret-left","embed-caret-right"),w(jp(t));var r=fp(Nw(t));null===(n=r.handleUnselectChanged)||void 0===n||n.call(r,t,e)})):(w(e.startBlock),yL(OX.getEditor(e.startBlock),Qi.EMBED).forEach((function(t){if(t===e.startBlock)zw(t,"full");else if(t===e.endBlock){if(e.type===ia.MULTI_BLOCKS&&0===e.range.endOffset)return;zw(t,"full")}else ns(t,e.range)?zw(t,"full"):zw(t,void 0)})))}function Pw(e,t,n){if(w(n),"fixed"===n)return null;var r=null,o=fp(Nw(e));return o.getToolbarOptions&&(r=o.getToolbarOptions(e)),r}function Hw(e,t,n){var r=Nw(e),o=fp(r);o.notify&&o.notify(e,r,t,n)}var Vw={getBlockOptions:function(){return jw||(0===Tp().length?{}:jw={textBlock:!1})},getBlockMenuItems:function(e){var t=[];return Array.from(Mp(e).entries()).forEach((function(e){var n=Iw(e,2),r=n[0],o=n[1];t.push(Object.assign(Object.assign({},r),{onClick:Rw,data:{embedType:o,orgItem:r}}))})),t},createBlockTemplateData:function(e,t){w(t.embedType);var n={embedType:t.embedType,embedData:t.embedData||{}};return"image"===t.embedType&&e.options.imageDefaultAlign&&(n.align=e.options.imageDefaultAlign),n},createBlockContent:function(e,t,n){w(n);var r=n,o=r.embedType,i=r.embedData;w(o),w(i);var a=document.createElement("div");a.contentEditable=e.isReadOnly()?"false":"true",Qa(a,Sw,"embed-container-".concat(o));var s=gp(e,a,o,i,r);return Qa(s,Vi.EMBED),a.appendChild(s),a},updateBlockData:function(e,t){var n=Nw(e),r=fp(n),o=t;void 0!==o.embedData&&r.updateData(OX.getEditor(e),n,o.embedData,o)},handleKeydownEvent:function(e,t,n){w(e),w(n),w(t);var r=fp(Nw(e));return!!r.handleKeydownEvent&&r.handleKeydownEvent(e,t,n)},handleSelectionChanged:function(e,t,n,r){var o,i;if(w(e),w(n||!0),w(r||!0),t.startBlock===e&&t.endBlock===e)t.startOffset!==t.endOffset?i="full":0===t.startOffset?i="left":(w(1===t.startOffset),i="right");else if(t.startBlock===e)0===t.startOffset?i="full":(w(1===t.startOffset),i="right");else if(t.endBlock===e)if(0===t.endOffset){if(t.type===ia.MULTI_BLOCKS)return!0;i="left"}else w(1===t.endOffset||-1===t.endOffset),i="full";else w(!1);zw(e,i);var a=fp(Nw(e));return null===(o=a.handleSelectChanged)||void 0===o||o.call(a,e,t),!0},getCaretPos:Uw,createRange:Fw,saveData:function(e){w(Hf(e));var t=Nw(e),n=xp(OX.getEditor(e),t),r=zp(e),o=dp(t);return{id:r,type:Qi.EMBED,embedType:o,embedData:n,align:Ph(e)}},saveSelectionData:function(e){var t=zp(e),n=Nw(e),r=kp(OX.getEditor(e),n),o=dp(n);return{id:t,type:Qi.EMBED,embedType:o,embedData:r,align:Ph(e)}},clearSelection:function(e){var t=Nw(e);return Cp(OX.getEditor(e),t)},getToolbarOptions:Pw,notify:Hw,getAbstract:function(e){var t=Nw(e),n=fp(t);return n.getAbstract?n.getAbstract(e,t):""},toMarkdown:function(e,t,n,r,o){var i=r,a=up(i.embedType);if(w(a),a.toMarkdown)return a.toMarkdown(e,t,n,r,i.embedData,o)},handleBlockMouseDown:function(e,t){var n=Nw(e),r=fp(n);return!!r.handleEmbedMouseDown&&r.handleEmbedMouseDown(e,n,t)},handleBlockMouseEnter:function(e,t){var n,r=Nw(e),o=fp(r);null===(n=o.handleEmbedMouseEnter)||void 0===n||n.call(o,e,r,t)},handleBlockMouseLeave:function(e,t){var n,r=Nw(e),o=fp(r);null===(n=o.handleEmbedMouseLeave)||void 0===n||n.call(o,e,r,t)},handleBlockDeleted:function(e,t){vp(BN(e,t))},handleBlockClicked:function(e,t){if(Yp(t.target))return!1;var n=Nw(e),r=fp(n);return r.handleEmbedClicked&&r.handleEmbedClicked(e,n,t)||OX.getEditor(e).selectBlock(e,0,0),!0},handleBlockInserted:function(e){var t=Nw(e),n=fp(t);n.handleEmbedInserted&&n.handleEmbedInserted(e,t)},removeComment:function(e,t){var n=Nw(e),r=fp(n);r.removeComment&&r.removeComment(e,n,t)},getContextMenuData:function(e,t,n){var r,o,i=Nw(e),a=fp(i);return null!==(o=null===(r=a.getContextMenuData)||void 0===r?void 0:r.call(a,e,i,t,n))&&void 0!==o?o:[]},toStandardDoc:function(e,t,n,r){return _w(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i=r.embedType,w(a=up(i),"unknown embed type, ".concat(i)),!a.toStandardDoc){o.next=5;break}return o.abrupt("return",a.toStandardDoc(e,t,n,r));case 5:return o.abrupt("return",void 0);case 6:case"end":return o.stop()}}),o)})))},getBlockAutoSuggestItems:function(e){var t=[];return Array.from(Dp(e).entries()).forEach((function(e){var n=Iw(e,2),r=(n[0],n[1]);t.push(Object.assign({},r))})),t}};function Kw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}tf(Qi.EMBED,Vw);var Gw=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function Ww(e){return Gw(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var r=e.cloneNode(!0);r.complete||r.naturalWidth>0?t(r):(r.onload=function(){Ja(r,"loading"),r.removeAttribute("height"),t(r)},r.onerror=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(t)})})));case 1:case"end":return t.stop()}}),t)})))}var Yw="image-resize-tool",qw="image-resize-container",Zw="image-resize-wall",Xw="image-circular",Jw="image-circular-left-top",$w="image-circular-left-bottom",ex="image-circular-right-top",tx="image-circular-right-bottom",nx="image-clone";const rx=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callback=null,this.onUpdateToolSize=function(){var e=document.querySelector(".".concat(Yw));if(e){var n=OX.getEditor(e);t.fixToolSize(n)}},this.onRootMouseDown=function(e){e.stopPropagation()},this.onMouseDown=function(e){var n=document.body.querySelector(".".concat(Zw));w(n),e.preventDefault();var r=wN(e.target);w(r);var o=r.querySelector(".".concat(nx));w(o);var i=0;o.getAttribute("data-image-index")&&(i=parseInt(o.getAttribute("data-image-index")||"",10));var a=r.querySelectorAll(".editor-image")[i];t.imageRect=a.getBoundingClientRect(),t.moveSide=e.target.getAttribute("data-move-side")||"","left-top"===t.moveSide||"right-bottom"===t.moveSide?OX.setCursor("nwse-resize"):"right-top"!==t.moveSide&&"left-bottom"!==t.moveSide||OX.setCursor("nesw-resize"),n.style.display="block",n.addEventListener("mouseleave",t.onMouseUp)},this.onMouseMove=function(e){if(t.moveSide){var n=document.querySelector(".".concat(nx));w(n);var r=wN(n);w(r),w(OX.getEditor(r));var o=0;n.getAttribute("data-image-index")&&(o=parseInt(n.getAttribute("data-image-index")||"",10));var i=r.querySelectorAll(".editor-image")[o];if(i&&t.imageRect){var a=2,s=window.getComputedStyle(r).textAlign;"left"!==s&&"right"!==s&&"start"!==s&&"end"!==s||(a=1);var c=0;if("right-top"===t.moveSide||"right-bottom"===t.moveSide){var l=t.getComputedNumber(e.pageX)-t.imageRect.left-t.imageRect.width;c=t.imageRect.width+l*a}else{var u=t.getComputedNumber(e.pageX)-t.imageRect.left;c=t.imageRect.width-u*a}t.setImageWidth(r,i,n,c)}}},this.onMouseUp=function(){var e=document.body.querySelector(".".concat(Zw));w(e);var n=document.body.querySelector(".".concat(Yw));if(n){w(wN(n));var r=n.querySelector(".".concat(nx));w(r),e.removeEventListener("mouseleave",t.onMouseUp),OX.setCursor(null),t.moveSide="",e.style.display="none";var o=r.getAttribute("width"),i=r.getAttribute("height");if(o&&i){var a=Number.parseInt(o,10),s=Number.parseInt(i,10);a&&s&&t.callback&&t.callback(a,s)}r.removeAttribute("height")}},this.moveSide="",this.imageRect=null,this.body=xs(document.body),this.zoom=1}var t,n,r;return t=e,(n=[{key:"createImageResizeTool",value:function(e,t,n,r){var o;return Gw(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a,s,c,l,u,d,p,f,h=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.updateBody(),i=ps("div",[Yw],null),a=ps("div",[qw],null),s=ps("div",[Zw],null),n.next=6,Ww(t);case 6:return c=n.sent,l=ps("div",[Xw,Jw],null),u=ps("div",[Xw,ex],null),d=ps("div",[Xw,$w],null),p=ps("div",[Xw,tx],null),(f=null===(o=t.parentElement)||void 0===o?void 0:o.parentElement)&&Array.from(f.querySelectorAll("img")||[]).forEach((function(e,n){e===t&&c.setAttribute("data-image-index","".concat(n))})),c.setAttribute("width","".concat(t.offsetWidth,"px")),Qa(c,nx),l.setAttribute("data-move-side","left-top"),u.setAttribute("data-move-side","right-top"),d.setAttribute("data-move-side","left-bottom"),p.setAttribute("data-move-side","right-bottom"),a.appendChild(c),a.appendChild(l),a.appendChild(u),a.appendChild(d),a.appendChild(p),i.appendChild(a),this.clearAllTools(e),this.body.appendChild(s),l.addEventListener("mousedown",this.onMouseDown),u.addEventListener("mousedown",this.onMouseDown),d.addEventListener("mousedown",this.onMouseDown),p.addEventListener("mousedown",this.onMouseDown),i.addEventListener("mousedown",this.onRootMouseDown),s.addEventListener("mousemove",this.onMouseMove),l.addEventListener("mouseup",this.onMouseUp),u.addEventListener("mouseup",this.onMouseUp),d.addEventListener("mouseup",this.onMouseUp),p.addEventListener("mouseup",this.onMouseUp),s.addEventListener("mouseup",this.onMouseUp),this.callback=r,setTimeout((function(){h.fixToolSize(e)})),this.handleEventSend(t,c),e.addEventListener(zi.RESIZE,this.onUpdateToolSize),i.style.display="none",n.abrupt("return",i);case 44:case"end":return n.stop()}}),n,this)})))}},{key:"updateBody",value:function(){var e;this.body=xs(document.body),this.zoom=parseFloat(null!==(e=window.getComputedStyle(this.body).zoom)&&void 0!==e?e:1)}},{key:"getComputedNumber",value:function(e){return e/this.zoom}},{key:"isEmpty",value:function(e){return!e.editorElement.querySelector(".".concat(Yw))&&(null===e.parentEditor||this.isEmpty(e.parentEditor))}},{key:"fixToolSize",value:function(e,t){var n=e.rootContainer().querySelector(".".concat(Yw));if(n){var r=wN(n);w(r);var o=n.querySelector(".".concat(nx));w(o);var i=0;o.getAttribute("data-image-index")&&(i=parseInt(o.getAttribute("data-image-index")||"",10));var a=r.querySelectorAll(".editor-image")[i];if(a){var s=r.getBoundingClientRect(),c=a.getBoundingClientRect();n.style.width="".concat(c.width,"px"),n.style.height="".concat(c.height,"px"),n.style.top="".concat(c.top-s.top,"px"),n.style.left="".concat(c.left-s.left,"px"),n.style.display="block",t&&(o.style.width="".concat(c.width,"px"))}}}},{key:"getImageContainerMaxWidth",value:function(e){var t=e.getBoundingClientRect(),n=getComputedStyle(e),r=Gp(e),o=getComputedStyle(r);return t.width-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)}},{key:"fixTableColWidth",value:function(e,t,n){var r=Nx(e),o=Mb.fromTable(r).getCellByElement(t),i=wx(Tx(r),o.col);w(i);var a=kx(i),s=Nw(t),c=getComputedStyle(t),l=getComputedStyle(s),u=n+parseFloat(c.paddingLeft)-parseFloat(c.paddingRight)-parseFloat(l.paddingLeft)-parseFloat(l.paddingRight),d=o.cell.getBoundingClientRect(),p=t.getBoundingClientRect(),f=u+p.left-d.left+d.right-p.right;f>a&&(uk(r,i,f),Mw.updated(e))}},{key:"setImageWidth",value:function(e,t,n,r){var o=this;r<16&&(r=16);var i=Nw(e),a=Array.prototype.reduce.call(Array.from(i.querySelectorAll("img")||[]),(function(e,n){return n!==t?e+n.getBoundingClientRect().width:e}),0),s=function(e,n,r){var i=o.getImageContainerMaxWidth(e)-a-4;return n>i&&(r=(n=i)/t.naturalWidth*t.naturalHeight),{width:n,height:r}},c=getComputedStyle(e),l=e.offsetWidth-parseFloat(c.paddingLeft)-parseFloat(c.paddingRight);r>l-a&&(r=l-a);var u=r/t.naturalWidth*t.naturalHeight;if(zf(e)){var d=Mh(e);if(d&&Jh(d)){this.fixTableColWidth(d,e,a+r);var p=s(e,r,u);return r=p.width,u=p.height,t.setAttribute("width","".concat(r,"px")),t.setAttribute("height","".concat(u,"px")),n.setAttribute("width","".concat(t.offsetWidth,"px")),void n.setAttribute("height","".concat(t.offsetHeight,"px"))}}var f=s(e,r,u);r=f.width,u=f.height,t.setAttribute("width","".concat(r,"px")),t.setAttribute("height","".concat(u,"px")),n.setAttribute("width","".concat(t.offsetWidth,"px")),n.setAttribute("height","".concat(t.offsetHeight,"px"))}},{key:"fixResizeTool",value:function(){}},{key:"clearAllTools",value:function(e){var t=e.rootContainer();Array.from(t.querySelectorAll(".".concat(Yw))).forEach((function(e){return e.remove()})),Array.from(document.querySelectorAll(".".concat(Zw))).forEach((function(e){return e.remove()})),e.removeEventListener(zi.RESIZE,this.onUpdateToolSize),this.moveSide="",this.imageRect=null}},{key:"clearTool",value:function(e){if(!th(e)){var t=e.querySelector(".".concat(Yw)),n=OX.getEditor(e);w(n),t&&(t.remove(),this.moveSide="",this.imageRect=null,n.removeEventListener(zi.RESIZE,this.onUpdateToolSize)),this.isEmpty(n)&&(document.querySelectorAll(".".concat(Zw)).forEach((function(e){return e.remove()})),n.setImageSelected(null,null))}}},{key:"hasResizeTool",value:function(e){return!!e.querySelector(".".concat(Yw))}},{key:"getImageIndex",value:function(e){var t=e.querySelector(".".concat(nx));if(t){var n=t.getAttribute("data-image-index"),r=parseInt(n||"",10);if(r)return r}return 0}},{key:"getOriginImage",value:function(e){var t=e.querySelector(".".concat(nx));if(t){var n=t.getAttribute("data-image-index"),r=parseInt(n||"",10);if(e.querySelectorAll(".editor-image")[r])return e.querySelectorAll(".editor-image")[r]}return null}},{key:"isSelectedImage",value:function(e){var t=wN(e),n=null==t?void 0:t.querySelector(".".concat(nx));if(n){var r=n.getAttribute("data-image-index"),o=parseInt(r||"",10);if(Array.from((null==t?void 0:t.querySelectorAll("img"))||[])[o]===e)return!0}return!1}},{key:"handleEventSend",value:function(e,t){["click","dblclick","dragstart"].forEach((function(n){t.addEventListener(n,(function(){var t=new Event(n);e.dispatchEvent(t)}))}))}},{key:"isCloneImage",value:function(e){return Ga(e,nx)}},{key:"fixImagesSizeToContainer",value:function(e,t){e.querySelectorAll(".editor-images-container").forEach((function(e){var n=wN(e);w(n);var r,o=n.querySelector(".".concat(nx));o&&(r=parseInt(o.getAttribute("data-image-index")||"",10)),Array.prototype.forEach.call(e.children,(function(e,t){var n=e.offsetWidth/e.naturalWidth*e.naturalHeight;e.setAttribute("width","".concat(e.offsetWidth,"px")),e.setAttribute("height","".concat(n,"px")),e.setAttribute("data-width","".concat(e.offsetWidth)),e.setAttribute("data-height","".concat(n)),t===r&&o&&(o.setAttribute("width","".concat(e.offsetWidth,"px")),o.setAttribute("height","".concat(n,"px")),o.setAttribute("data-width","".concat(e.offsetWidth)),o.setAttribute("data-height","".concat(n)))}));var i=hf(n);t.updateBlockData(n,i,{fromUndo:!1,updateBlock:!1,partial:!1})}))}}])&&Kw(t.prototype,n),r&&Kw(t,r),e}());function ox(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ix=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.col=null,this.colWidth=0,this.toolLeft=0,this.tool=null,this.block=null,this.table=null,this.refCell=null,this.startEvent=null,this.position=null,this.mutationObserver=null,this.colIndex=null,this.handleSelectsStart=function(e){e.preventDefault(),e.stopPropagation()},this.fixColWidth=function(e){w(t.table);var n=Mb.fromTable(t.table),r=Tx(t.table);n.getColumnRealCells(e).forEach((function(e){if(w(t.table),e.colSpan>1)for(var o=0;o<e.colSpan;o+=1){var i=wx(r,e.col+o);w(i),0===kx(i)&&uk(t.table,i,xx(i),n)}}))},this.handleMouseDown=function(e){if(e.target instanceof HTMLElement&&t.isResizeTool(e.target)){var n=e.target.getAttribute("data-col");w(n),t.block=wN(e.target),w(t.block),OX.setCursor("col-resize"),t.table=Nx(t.block),t.colIndex=parseInt(n,10);var r=Tx(t.table);t.startEvent=e,t.fixColWidth(t.colIndex);var o=wx(r,t.colIndex);w(o);for(var i=xx(o);0===i&&t.colIndex>0;)t.colIndex-=1,w(o=wx(r,t.colIndex)),i=xx(o);t.col=o,t.colWidth=i,t.tool=e.target,OX.getEditor(t.block).setDragging(!0),window.addEventListener("mousemove",t.handleDrag),window.addEventListener("mouseup",t.handleMouseUp),window.addEventListener("selectstart",t.handleSelectsStart)}},this.handleDrag=function(n){if(t.col&&t.tool&&t.block&&t.table){w(t.refCell),w(t.position),w(t.startEvent),w(null!==t.colIndex),n.stopPropagation();var r=Math.max(t.colWidth+n.clientX-t.startEvent.clientX,e.TABLE_CELL_MIN_WIDTH);t.toolLeft+=r-t.colWidth,uk(t.table,t.col,r),t.tool.style.height="".concat(t.table.offsetHeight,"px"),t.tool.style.left="".concat("before"===t.position?t.refCell.offsetLeft:t.refCell.offsetLeft+t.refCell.offsetWidth,"px"),Mw.updated(t.block);var o=OX.getEditor(t.block);Mb.fromTable(t.table).getColumnCells(t.colIndex).forEach((function(e){rx.fixImagesSizeToContainer(e.cell,o)})),o.updateImageResizeTool()}},this.handleMouseUp=function(e){if(t.startEvent=null,t.table&&t.col&&t.refCell&&t.fixTargetColRealWidth(t.table,t.col),t.tool!==e.target&&t.block&&t.hide(t.block),OX.setCursor(null),window.removeEventListener("mousemove",t.handleDrag),window.removeEventListener("mouseup",t.handleMouseUp),window.removeEventListener("selectstart",t.handleSelectsStart),t.block){var n=OX.getEditor(t.block),r=hf(t.block);n.updateBlockData(t.block,r,{fromUndo:!1,updateBlock:!1,partial:!1}),n.setDragging(!1)}t.col=null,t.table=null,t.block=null,t.tool=null,t.colIndex=null},this.handleBlockMouseMove=function(n,r){if(t.checkEnableTableResize(n)){var o=OX.getEditor(n);if(!(o.isDragging()||o.getAgentSelector().isSelecting()||o.isMarkdownOnly())&&o.isBlockWritable(n)&&!t.isResizing()&&!o.isReadOnly()&&!t.col&&r.target instanceof HTMLElement){var i=t.getResizeTool(n);if(r.target!==i){var a=r.target.closest("td");if(!a)return void t.setResizeToolActive(n,!1);var s=a.offsetWidth,c=a.offsetLeft,l=a.getBoundingClientRect(),u=r.pageX-l.left;0===r.buttons&&c>e.tolerance&&u<e.tolerance?t.setResizeToolActive(n,!0,r.target,"before"):0===r.buttons&&u>s-e.tolerance?t.setResizeToolActive(n,!0,r.target,"after"):t.setResizeToolActive(n,!1)}}}}}var t,n,r;return t=e,(n=[{key:"checkEnableTableResize",value:function(e){return!OX.getEditor(e).options.disableTableResize}},{key:"fixTargetColRealWidth",value:function(e,t){var n=Mb.fromTable(e),r=Tx(e),o=Array.prototype.findIndex.call(r.children,(function(e){return e===t}));n.getColumnRealCells(o).some((function(n){if(1===n.colSpan){var r=n.cell.offsetWidth;return uk(e,t,r),!0}return!1}))}},{key:"getResizeTool",value:function(e){var t=Fb(e);w(t);var n=t.querySelector(".".concat(Vi.TABLE_RESIZE_TOOL));return n||(Qa(n=document.createElement("div"),Vi.TABLE_RESIZE_TOOL),n.addEventListener("mousedown",this.handleMouseDown),t.append(n)),n}},{key:"getResizeToolActive",value:function(e){return Ga(e,Vi.ACTIVE)}},{key:"isResizeTool",value:function(e){return Ga(e,Vi.TABLE_RESIZE_TOOL)}},{key:"setResizeToolActive",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"before",i=this.getResizeTool(e),a=this.getResizeToolActive(i);if(t){if(!a&&n){var s=Mx(n),c=Nx(e),l=Mb.fromTable(c);if(s){var u=l.getCellByElement(s);i.style.height="".concat(c.offsetHeight,"px"),this.toolLeft="before"===o?s.offsetLeft:s.offsetLeft+s.offsetWidth,i.style.left="".concat(this.toolLeft,"px"),this.refCell=s,this.position=o;var d="before"===o?0:u.colSpan-1;i.setAttribute("data-col",(u.col+d-("before"===o?1:0)).toString()),Qa(i,Vi.ACTIVE)}this.mutationObserver=new MutationObserver((function(){r.isResizing()||r.setResizeToolActive(e,!1)})),this.mutationObserver.observe(c,{attributes:!0,childList:!0,subtree:!0,characterData:!0,attributeFilter:["colspan","rowspan"]})}}else this.refCell=null,this.position=null,a&&Ja(i,Vi.ACTIVE),this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null)}},{key:"hide",value:function(e){this.isResizing()||this.setResizeToolActive(e,!1)}},{key:"isResizing",value:function(){return!!this.startEvent}}])&&ox(t.prototype,n),r&&ox(t,r),e}();ix.TABLE_CELL_MIN_WIDTH=40,ix.TABLE_CELL_DEFAULT_WIDTH=100,ix.tolerance=8;var ax=new ix;function sx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lx(e,t){var n={};return Object.entries(e).forEach((function(e){var r=sx(e,2),o=r[0],i=r[1];t[o]===i&&(n[o]=i)})),n}function ux(e){return function(e){if(Array.isArray(e))return dx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function px(e){var t={};return t.undo=e.undoState.canUndo()?"enabled":"disabled",t.redo=e.undoState.canRedo()?"enabled":"disabled",t.selectAll="enabled",t}function fx(e,t){var n={},r=function(e){for(var t=new Set,n=0;n<e.length;n++){var r=e[n];if(Uf(r)){if(!Gu(r))return 0;t.add(Wu(r))}}return 1===t.size?Array.from(t)[0]:0}(t);r&&(n.heading=r),jI(t,"ordered",{allowTextOnly:!1})&&(n.list=!0,n.ordered=!0,n.level=MD(t[0])),jI(t,"unordered",{allowTextOnly:!1})&&(n.list=!0,n.unordered=!0,n.level=MD(t[0])),jI(t,"checkbox",{allowTextOnly:!1})&&(n.list=!0,n.checkbox=!0,n.level=MD(t[0]));var o=function(e,t){for(var n,r,o=null,i=0;i<t.length;i++){var a=t[i],s=null!==(n=Ph(a))&&void 0!==n?n:"left";if(!s&&kN(a)!==e.rootContainer()){var c=Mh(a);w(c),s=null!==(r=tA(c,a))&&void 0!==r?r:"left"}if(o){if(o!==s)return null}else o=s}return o}(e,t);o&&(n.align=o);var i=function(e){for(var t,n=0,r=0;r<e.length;r++){var o=null!==(t=sf(e[r]))&&void 0!==t?t:0;if(n){if(n!==o)return 0}else n=o}return n}(t);return i&&(n.padding=i),n}function hx(e){var t={};return e["style-bold"]&&(t["style-bold"]=!0),e["style-italic"]&&(t["style-italic"]=!0),e["style-underline"]&&(t["style-underline"]=!0),e["style-strikethrough"]&&(t["style-strikethrough"]=!0),e["style-sub"]&&(t["style-vertical-align"]="sub"),e["style-super"]&&(t["style-vertical-align"]="super"),e["style-code"]&&(t["style-code"]=!0),Array.from(Object.keys(e)).forEach((function(e){e.startsWith("style-color-")?t.color=e:e.startsWith("style-bg-color-")?t.backgroundColor=e:e.startsWith("comment-")&&(t[e]=e)})),e.link&&(t.link=e.link),e.commentId&&(t["comment-".concat(e.commentId.toLocaleLowerCase())]=e.commentId),t}function Ax(e){if(!Uf(e))return{};var t=hf(e).text;w(t);for(var n={},r=t.toOps(),o=0;o<r.length;o++){var i=r[o];if(!i.attributes||!i.attributes.box){if(!i.attributes)return{};if(0!==o){if(n=lx(n,i.attributes),0===Object.keys(n).length)return{}}else n=i.attributes}}return hx(n)}function mx(e){if(!Uf(e.block))return{};if(e.start===e.end)return{};var t=hf(e.block).text;w(t),-1===e.end&&(e.end=Kf(e.block)),w(e.end>=e.start);for(var n={},r=t.sub(e.start,e.end-e.start).toOps(),o=0;o<r.length;o++){var i=r[o];if(!i.attributes||!i.attributes.box){if(!i.attributes)return{};if(0!==o){if(n=lx(n,i.attributes),0===Object.keys(n).length)return{}}else n=i.attributes}}return hx(n)}function gx(e){var t=e.getSelectionDetail();if(t.type===ia.INVALID){var n=e.getAgentSelector();if(n.isSelected()){var r=n.getSelectedSubContainers(),o=[];r.forEach((function(e){o.push.apply(o,ux(SN(e)))}));var i=fx(e,o),a=qh(n.getSelectedBlock()),s=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n];if(Uf(r)&&(t=t?lx(t,Ax(r)):Ax(r),0===Object.keys(t).length))return{}}return t||{}}(o);return Object.assign(Object.assign(Object.assign(Object.assign({fullComplexBlockSelected:n.isFullSelected()},px(e)),i),a),{wholeText:Object.assign({},s)})}return{}}var c=ZL(e);if(0===c.length)return{};var l=c.map((function(e){return e.block})),u=c[0],d=function(e,t,n){if(!Uf(e))return{};var r,o=hf(e).text;return w(o),(r=t>0&&n?o.getAttributesAt(t-1):o.getAttributesAt(t))?hx(r):{}}(u.block,u.start,t.collapsed),p=function(e){if(0===e.length)return{};for(var t=null,n=0;n<e.length;n++){var r=e[n];if(Uf(r.block)&&r.start!==r.end&&(t=t?lx(t,mx(r)):mx(r),0===Object.keys(t).length))return{}}return t||{}}(c),f=fx(e,l);return Object.assign(Object.assign(Object.assign({},px(e)),f),{wholeText:Object.assign({},p),partText:Object.assign({},d)})}function vx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yx(e){return parseFloat(window.getComputedStyle(e).marginLeft)}function wx(e,t){var n=e.children;return t>n.length-1?null:n[t]}function xx(e){var t=e.clientWidth;if(!t){var n=e.closest("table");w(n);for(var r=Mb.fromTable(n,{disableColWidth:!0}).getColumnRealCells(lk(e)),o=0;o<r.length;o+=1){var i=r[o];if(!i.virtual&&1===i.colSpan){t=i.cell.clientWidth;break}}}return t}function kx(e){var t=e.getAttribute("data-width");return w(t),parseFloat(t)}function Cx(e,t){t>0&&(e.style.width="".concat(t,"px")),e.setAttribute("data-width",t.toString())}function Ex(e,t){var n=document.createElement("col");return Cx(n,null!=t?t:e.options.defaultCellWidth||ix.TABLE_CELL_DEFAULT_WIDTH),n}function Bx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"td",n=document.createElement(t);return e&&(n.colSpan=e.colSpan,n.rowSpan=e.rowSpan),n}function Tx(e){var t=e.querySelector(".".concat(Vi.TABLE_COL_GROUP));return w(t),t}function Mx(e){for(;e;){if("TH"===e.tagName||"TD"===e.tagName)return w(e instanceof HTMLTableCellElement),e;if(!e.parentElement)return null;e=e.parentElement}return null}function Ix(e){return e.closest("table")}function Dx(e,t){var n=e.getContainerById(t);return w(n),n}function _x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0;if(!n||0===n.length)return r;for(var o=e;o<e+t;o+=1)r+=n[o]||0;return r}function Sx(e){var t=e.firstElementChild;return w(t),w(t instanceof HTMLElement),t}function Ox(e){w(jp(e)),w("table"===Rp(e));var t=Gp(e);return w(1===t.children.length),t}function Nx(e){w(jp(e)),w("table"===Rp(e));var t=Ox(e);w(1===t.children.length);var n=t.children[0];return w("TABLE"===n.tagName),w(n instanceof HTMLTableElement),n}function Lx(e){return Ga(Nx(e),Vi.NO_BORDER)}function Rx(e,t){var n=OX.getEditor(e);if(w(n),n.isBlockWritable(e)){var r=Nx(e),o=n.getBlockData(e),i=Mb.fromBlock(e),a=Tx(r),s=i.getRealCell(t);w(!s.virtual),w(s.colSpan>1||s.rowSpan>1);var c=s.cell;c.colSpan=1,c.rowSpan=1;var l=wx(a,s.col);w(l),c.setAttribute("data-width","".concat(kx(l)));for(var u=0;u<s.rowSpan;u++)for(var d=0;d<s.colSpan;d++)if(0!==u||0!==d){var p=u+s.row,f=d+s.col,h=r.rows[p];w(i.getCell({row:p,col:f}).cell);var A=Bx(void 0,"td");w(l=wx(a,f)),(0===f&&o.hasColTitle||0===p&&o.hasRowTitle)&&Qa(A,Vi.COL_TITLE_ITEM),A.setAttribute("data-width","".concat(kx(l)));var m=B(),g=n.createEmptyChildContainer(A,m);A.appendChild(g);var v=i.getRow(p).getNextNonVirtualCell(f);v?h.insertBefore(A,v.cell):h.appendChild(A)}var b=hf(e);n.updateBlockData(e,b,{fromUndo:!1,updateBlock:!1,partial:!1}),Ub(e,{updateNow:!1});var y=BN(Mb.fromTable(r).getCell({row:s.row,col:s.col}).container,0);n.selectBlock(y,0,0)}}function jx(e){for(var t=OX.getEditor(e).getBlockData(e),n=Mb.fromBlock(e),r=0;r<n.rowCount;r++)for(var o=0;o<n.colCount;o++){var i=n.getCell({row:r,col:o});i.virtual||(0===o&&t.hasColTitle?Qa(i.cell,Vi.COL_TITLE_ITEM):Ja(i.cell,Vi.COL_TITLE_ITEM))}}function Ux(e,t){var n=OX.getEditor(e);if(w(n),n.isBlockWritable(e)){var r=Nx(e);w(r);for(var o=_n()(n.getBlockData(e)),i=Mb.fromTable(r),a=i.map((function(e){return e.cellId})),s=new Set,c=[],l=document.createElement("tr"),u=0;u<i.colCount;u++){var d=t>0&&a[t-1][u],p=t<i.rowCount&&a[t][u];if(0===t||t===i.rowCount||d!==p){var f=B();c.push(f);var h=document.createElement("td"),A=n.createEmptyChildContainer(h,f);h.appendChild(A),l.appendChild(h)}else{if(!s.has(d))i.getCell({col:u,row:t}).cell.rowSpan+=1,s.add(d);c.push(d)}}if(t===i.rowCount)r.appendChild(l);else{var m=r.getElementsByTagName("tr");r.insertBefore(l,m[t])}a.splice(t,0,c),s.forEach((function(e){var t="".concat(e,"_rowSpan"),n=o[t];o[t]=n+1}));var g=Mb.virtualCellContainersGridToChildren(a),v=Object.assign(Object.assign({},o),{children:g,rows:o.rows+1});n.updateBlockData(e,v,{fromUndo:!1,updateBlock:!1,partial:!1}),Ub(e,{updateNow:!1}),jx(e)}}function Fx(e,t,n){for(var r=t,o=e.getCell({col:r,row:n});o.virtual;){if(r+=1,!(e.colCount>r))return null;o=e.getCell({col:r,row:n})}return o.cell}function zx(e){var t=Tx(e),n=0;Array.from(t.children).forEach((function(e){n+=kx(e)})),e.style.minWidth="".concat(n,"px")}function Qx(e,t){var n=Nx(e);w(n);var r=OX.getEditor(e);if(w(r),r.isBlockWritable(e)){for(var o=Mb.fromTable(n),i=o.map((function(e){return e.cellId})),a=new Set,s=_n()(r.getBlockData(e)),c=Array.from(n.rows),l=0;l<i.length;l++){var u=i[l],d=u[t-1],p=u[t];if(0===t||t===u.length||d!==p){var f=B();u.splice(t,0,f);var h=document.createElement("td"),A=r.createEmptyChildContainer(h,f);if(h.appendChild(A),o.colCount===t)c[l].appendChild(h);else{var m=Fx(o,t,l);m?c[l].insertBefore(h,m):c[l].appendChild(h)}}else{if(!a.has(d))o.getCell({col:t,row:l}).cell.colSpan+=1,a.add(d);u.splice(t,0,d)}}a.forEach((function(e){var t="".concat(e,"_colSpan"),n=s[t];s[t]=n+1}));var g=s.colsWidth.concat();g.splice(t,0,function(e){return e.options.defaultCellWidth||ix.TABLE_CELL_DEFAULT_WIDTH}(r));var v=Mb.virtualCellContainersGridToChildren(i),b=Object.assign(Object.assign({},s),{cols:s.cols+1,children:v,colsWidth:g}),y=o.colCount,x=Tx(n),k=Ex(r);if(y===t)x.appendChild(k);else{var C=wx(x,t);x.insertBefore(k,C)}r.updateBlockData(e,b,{fromUndo:!1,updateBlock:!1,partial:!1}),Ub(e,{updateNow:!1}),zx(n),jx(e)}}function Px(e){if(th(e))return Eb;var t=OX.getEditor(e).getAgentSelector().getDetail();if(!t)return Eb;var n=t;return w(n.block),n.block!==e?Eb:n}function Hx(e,t){if(e.isBlockWritable(t)){var n=Px(t);if(n.block===t&&(n.startCol!==n.endCol||n.startRow!==n.endRow)){for(var r=[],o=n.startRow;o<=n.endRow;o++)for(var i=n.startCol;i<=n.endCol;i++)r.push({row:o,col:i});!function(e,t){t.forEach((function(t){var n=Mb.fromBlock(e).getCell(t);(n.virtual||n.colSpan>1||n.rowSpan>1)&&Rx(e,t)}))}(t,r);for(var a=Mb.fromBlock(t),s=[],c=n.startRow;c<=n.endRow;c++)for(var l=n.startCol;l<=n.endCol;l++){var u=a.getCell({row:c,col:l});w(!u.virtual),s.push(u)}w(s.length>0);var d=s[0],p=s.slice(1),f=Dx(e,d.cellId);p.forEach((function(t){var n=Dx(e,t.cellId);SN(n).forEach((function(t){if(!Gf(t)){var n=Rp(t),r=hf(t);e.insertBlock(f,-1,n,r,{fromUndo:!1,focusToBlock:!1,localAction:!0})}}));var r=Mx(n);w(r),r.remove()}));for(var h=BN(f,0);h&&Gf(h)&&ON(f)>1;)e.deleteBlock(h,{fromUndo:!1,localAction:!0,withChildren:!1}),h=BN(f,0);var A=n.endCol-n.startCol+1,m=n.endRow-n.startRow+1,g=d.cell;g.colSpan=A,g.rowSpan=m,function(e,t){return Array.from(new Set(t.map((function(e){var t;return null!==(t=Ph(e))&&void 0!==t?t:"left"}))))}(0,SN(f)).length>1?ek(t,{row:d.row,col:d.col},"left"):ek(t,{row:d.row,col:d.col},"center");var v=hf(t);e.updateBlockData(t,v,{fromUndo:!1,updateBlock:!0,partial:!1});var b=e.getContainerById(d.cellId);w(b);var y=BN(b,ON(b)-1);e.selectBlock(y,-1,-1),Ub(t,{updateNow:!1})}}}var Vx=In()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:OX.getEditor(e),n=t.getAgentSelector();n.updateSelection(e)}));function Kx(e,t){Object.entries(e).forEach((function(n){var r=vx(n,1)[0];r.startsWith("".concat(t,"_"))&&delete e[r]}))}function Gx(e,t){var n=Nx(e);w(n);var r=OX.getEditor(e);if(w(r),r.isBlockWritable(e)){for(var o=t.startCol,i=t.endCol,a=Mb.fromTable(n),s=new Set,c=a.map((function(e){return e.cellId})),l=0;l<c.length;l++){for(var u=c[l],d=o;d<=i;d++){var p=u[d];s.add(p)}u.splice(o,i-o+1)}var f=i-o+1,h=new Map,A=new Map,m=new Set(c.flat()),g=new Set(Array.from(s).filter((function(e){return!m.has(e)})));s.forEach((function(e){if(!g.has(e)){var t=a.getCellById(e);if(t.col<o){var n=t.col+t.colSpan-1;n>i&&(n=i);var r=n-o+1,s=t.colSpan-r;h.set(e,s)}else{var c=t.col,l=t.col+t.colSpan-1,u=t.col-o,d=l-c+1-f+u,p=B();A.set(e,{newContainerId:p,colSpan:d})}}}));for(var v=0;v<c.length;v++)for(var b=c[v],y=o;y<b.length;y++){var x=b[y],k=A.get(x);k&&(b[y]=k.newContainerId)}var C=_n()(r.getBlockData(e));C.colsWidth.splice(o,i-o+1),g.forEach((function(e){Kx(C,e),a.getCellById(e).cell.remove()})),h.forEach((function(e,t){a.getCellById(t).cell.colSpan=e,1===e?delete C["".concat(t,"_colSpan")]:C["".concat(t,"_colSpan")]=e})),A.forEach((function(e,t){var n;Kx(C,t);var o=e.newContainerId,i=e.colSpan,s=document.createElement("td"),c=r.createEmptyChildContainer(s,o);s.appendChild(c);var l=a.getCellById(t),u=l.rowSpan,d=l.cell;null===(n=d.parentNode)||void 0===n||n.replaceChild(s,d),i>1&&(s.colSpan=i,C["".concat(o,"_colSpan")]=i),u>1&&(s.rowSpan=u,C["".concat(o,"_rowSpan")]=u)}));for(var E=Tx(n),T=[],M=o;M<=i;M++){var I=wx(E,M);I&&T.push(I)}T.forEach((function(e){return e.remove()})),T=[];var D=Mb.virtualCellContainersGridToChildren(c),_=Object.assign(Object.assign({},C),{cols:C.cols-f,children:D});r.updateBlockData(e,_,{fromUndo:!1,updateBlock:!1,partial:!1}),Vx(e,r),Ub(e,{updateNow:!1}),zx(n);var S,O=Mb.fromTable(n);S=o<O.colCount?o:o-1;var N=BN(O.getCell({row:0,col:S}).container,0);r.selectBlock(N,0,0),jx(e)}}function Wx(e,t){var n=OX.getEditor(e);if(w(n),n.isBlockWritable(e)){var r=Nx(e),o=t.startRow,i=t.endRow;w(r);for(var a=Mb.fromTable(r),s=new Set,c=a.map((function(e){return e.cellId})),l=i;l>=o;l--){c[l].forEach((function(e){return s.add(e)})),c.splice(l,1)}var u=new Set(c.flat()),d=new Set(Array.from(s).filter((function(e){return!u.has(e)}))),p=new Map,f=new Map,h=i-o+1;s.forEach((function(e){if(!d.has(e)){var t=a.getCellById(e);if(t.row<o){var n=t.row+t.rowSpan-1;n>i&&(n=i);var r=n-o+1,s=t.rowSpan-r;p.set(e,s)}else{var c=t.row,l=t.row+t.rowSpan-1,u=t.row-o,A=l-c+1-h+u,m=B();f.set(e,{newContainerId:m,rowSpan:A})}}}));for(var A=o;A<c.length;A++)for(var m=c[A],g=0;g<m.length;g++){var v=m[g],b=f.get(v);b&&(m[g]=b.newContainerId)}var y=_n()(n.getBlockData(e));p.forEach((function(e,t){a.getCellById(t).cell.rowSpan=e,1===e?delete y["".concat(t,"_rowSpan")]:y["".concat(t,"_rowSpan")]=e}));var x=Array.from(r.rows);f.forEach((function(e,t){Kx(y,t);var r=e.newContainerId,i=e.rowSpan,s=document.createElement("td"),c=n.createEmptyChildContainer(s,r);s.appendChild(c);var l=a.getCellById(t),u=h+o,d=Fx(a,l.col,u);d?x[u].insertBefore(s,d):x[u].appendChild(s),i>1&&(s.rowSpan=i,y["".concat(r,"_rowSpan")]=i),l.colSpan>1&&(s.colSpan=l.colSpan,y["".concat(r,"_colSpan")]=l.colSpan)})),d.forEach((function(e){Kx(y,e),a.getCellById(e).cell.remove()}));for(var k=o;k<o+h;)r.deleteRow(o),k+=1;var C=Mb.virtualCellContainersGridToChildren(c),E=Object.assign(Object.assign({},y),{rows:y.rows-h,children:C});n.updateBlockData(e,E,{fromUndo:!1,updateBlock:!1,partial:!1}),Vx(e,n),Ub(e,{updateNow:!1});var T,M=Mb.fromTable(r);T=o<M.rowCount?o:o-1;var I=BN(M.getCell({row:T,col:0}).container,0);n.selectBlock(I,0,0),jx(e)}}function Yx(e,t){return!SN(Sx(t)).find((function(t){return!e.isBlockWritable(t)}))}function qx(e,t){for(var n=Px(t),r=Mb.fromBlock(t),o=n.startRow;o<=n.endRow;o++)for(var i=n.startCol;i<=n.endCol;i++){if(!Yx(e,r.getCell({row:o,col:i}).cell))return!1}return!0}function Zx(e,t,n){if(e.isBlockWritable(t)){var r=e.getSelectionDetail();if(r.startBlock&&r.endBlock){w(r.startBlock),w(r.endBlock);var o=Mb.fromBlock(t),i=o.getCellByElement(r.startBlock),a=o.getCellByElement(r.endBlock);i&&a&&(e.beginUndoGroup(),Ux(t,"above"===n?i.row:a.row+1),e.endUndoGroup())}else{var s=Px(t);if(!s.startCell||!s.endCell)return;var c=s.startRow,l=s.endRow;e.beginUndoGroup(),Ux(t,"above"===n?c:l+1),e.endUndoGroup()}Vx(t,e)}}function Xx(e,t,n){if(e.isBlockWritable(t)){var r=e.getSelectionDetail();if(r.startBlock&&r.endBlock){var o=Mb.fromBlock(t),i=o.getCellByElement(r.startBlock),a=o.getCellByElement(r.endBlock);i&&a&&(e.beginUndoGroup(),Qx(t,"left"===n?i.col:a.col+1),e.endUndoGroup())}else{var s=Px(t);if(!s.startCell||!s.endCell)return;var c=s.startCol,l=s.endCol;e.beginUndoGroup(),Qx(t,"left"===n?c:l+1),e.endUndoGroup()}Vx(t,e)}}function Jx(e,t,n){var r=Nx(e);w(r);var o=(null!=n?n:Mb.fromTable(r)).getCell(t).container;return Ga(o,Vi.ALIGN_LEFT)?"left":Ga(o,Vi.ALIGN_CENTER)?"center":Ga(o,Vi.ALIGN_RIGHT)?"right":Ga(o,Vi.ALIGN_JUSTIFY)?"justify":void 0}function $x(e,t,n){var r=Nx(e);w(r);var o=null!=n?n:Mb.fromTable(r),i=Jy.getFirstFullySelectCell(o,t);if(i){var a=i.container;return Ga(a,Vi.ALIGN_LEFT)?"left":Ga(a,Vi.ALIGN_CENTER)?"center":Ga(a,Vi.ALIGN_RIGHT)?"right":Ga(a,Vi.ALIGN_JUSTIFY)?"justify":void 0}}function ek(e,t,n){var r=Nx(e);w(r);var o=Mb.fromTable(r).getCell(t).container,i=OX.getEditor(e);(SN(o).forEach((function(e){i.alignBlock(e)})),Ja(o,Vi.ALIGN_LEFT,Vi.ALIGN_RIGHT,Vi.ALIGN_CENTER,Vi.ALIGN_JUSTIFY),n)&&Qa(o,{left:Vi.ALIGN_LEFT,right:Vi.ALIGN_RIGHT,center:Vi.ALIGN_CENTER,justify:Vi.ALIGN_JUSTIFY}[n])}var tk=["style-bg-color-0","style-bg-color-1","style-bg-color-2","style-bg-color-3","style-bg-color-4","style-bg-color-5","style-bg-color-6","style-bg-color-7","style-bg-color-8","style-bg-color-9","style-bg-color-10","style-bg-color-11","style-bg-color-12","style-bg-color-13"],nk=["style-color-0","style-color-1","style-color-2","style-color-3","style-color-4","style-color-5","style-color-6"];function rk(e,t,n,r){var o=Nx(e);w(o);var i=Mb.fromTable(o).getCell(t).cell;n?Ja.apply(s,[i].concat(tk)):Ja.apply(s,[i].concat(nk)),r&&Qa(i,r),Ub(e,{updateNow:!1})}function ok(e,t){var n=Nx(e);w(n);var r=Mb.fromTable(n).getCell(t).cell;Ja.apply(s,[r].concat(nk)),Ub(e,{updateNow:!1})}function ik(e,t){var n=Nx(e);w(n);var r=Mb.fromTable(n).getCell(t).cell;Ja.apply(s,[r].concat(tk)),Ub(e,{updateNow:!1})}function ak(e,t,n){var r=Nx(e);w(r);for(var o=(null!=n?n:Mb.fromTable(r)).getCell(t).cell,i=0;i<tk.length;i++){var a=tk[i];if(Ga(o,a))return a}}function sk(e,t,n){var r=Nx(e);w(r);for(var o=(null!=n?n:Mb.fromTable(r)).getCell(t).cell,i=0;i<nk.length;i++){var a=nk[i];if(Ga(o,a))return a}}function ck(e,t){e.beginUndoGroup();var n=TN(t),r=kN(t);e.deleteBlock(t,{fromUndo:!1,localAction:!0,withChildren:!1});var o=e.insertTextBlock(r,n,"");e.endUndoGroup(),setTimeout((function(){e.selectBlock(o,0,0)}))}function lk(e){return w(e.parentElement),Array.from(e.parentElement.children).indexOf(e)}function uk(e,t,n,r){var o=parseFloat(e.style.minWidth),i=o?parseFloat(t.style.width):0;Cx(t,n);var a=lk(t),s=r||Mb.fromTable(e);s.getColumnRealCells(a).forEach((function(e){for(var t=0,n=s.getAllColsWidth(),r=0;r<e.colSpan;r+=1)t+=n[e.col+r];e.cell.setAttribute("data-width","".concat(t))}));var c=o?parseFloat(t.style.width):0;c&&i&&(e.style.minWidth="".concat(o+(c-i),"px"))}function dk(e){return 0===e.rows.length}function pk(e){return Ga(e,Vi.STRIPE_STYLE_TABLE)}function fk(e){return Ga(e,Vi.ROW_TITLE_TABLE)}function hk(e){return Ga(e,Vi.COL_TITLE_TABLE)}function Ak(e){return function(e){if(Array.isArray(e))return mk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mk(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gk=qo.boldIcon,vk=qo.addCommentIcon,bk=qo.italicIcon,yk=qo.underlineIcon,wk=qo.linkIcon,xk=qo.fontColorIcon,kk=qo.checkIcon,Ck=qo.orderListIcon,Ek=qo.checkboxIcon,Bk=qo.unOrderListIcon,Tk=qo.alignLeftIcon,Mk=qo.alignCenterIcon,Ik=qo.alignRightIcon,Dk=qo.strikethroughIcon,_k=qo.inlineCodeIcon,Sk=qo.moreIcon,Ok=qo.superIcon,Nk=qo.subIcon;function Lk(e,t){var n=t.data;OX.getCurrentCommandEditor().executeTextCommand(n)}function Rk(){OX.getCurrentCommandEditor().executeTextCommand("link")}function jk(){OX.getCurrentCommandEditor().executeTextCommand("comment")}function Uk(e){return"".concat(e.auth.userId,"_font_color")}function Fk(e){var t=Uk(e);return am(t)||{bgColor:"style-bg-color-2"}}var zk=null;function Qk(e){if(zk){var t=e||zk;Array.from(t.querySelectorAll(".editor-color-palette-item.".concat(Vi.ACTIVE))).forEach((function(e){Ja(e,Vi.ACTIVE)}))}}function Pk(e,t){var n=OX.getCurrentCommandEditor();w(n),n.beginUndoGroup(),t.color&&dL(n,t.color),t.bgColor&&dL(n,t.bgColor),n.endUndoGroup()}function Hk(e){var t=e.target;w(t instanceof Element);var n=t.closest(".editor-color-palette-item");if(n){var r=n.getAttribute("data-color"),o=OX.getCurrentCommandEditor();w(o),w(zk);var i,a=Uk(o),s=am(a)||{};r.startsWith("style-bg-color-")?(s.bgColor=r,i=zk.querySelector(".editor-color-palette-bg-colors")):(s.color=r,i=zk.querySelector(".editor-color-palette-colors")),sm(a,s),w(i instanceof HTMLElement),Qk(i),Qa(n,Vi.ACTIVE),OX.getCurrentCommandEditor().executeTextCommand(r)}}function Vk(){Qk();var e=OX.getCurrentCommandEditor(),t="style-color-1";e.executeTextCommand(t,{"style-color-1":null}),t="style-bg-color-1",e.executeTextCommand(t,{"style-bg-color-1":null});var n=e.getSelectionDetail().startBlock;if(n){var r=Mh(n);if(r)if("table"===Rp(r)){var o=r,i=kN(n);ok(o,Mb.fromBlock(o).getCellById(eL(i)))}}}function Kk(e,t,n,r,o,i){for(var a=ps("div",[e],null),s=0;s<o;s++){var c="".concat(r).concat(s),l=ps("div",[t,c],null);c===i&&Qa(l,Vi.ACTIVE),l.innerHTML=n,l.setAttribute("data-color",c),a.appendChild(l)}return a}function Gk(e,t){if(zk){if(Array.from(zk.querySelectorAll(".".concat(Vi.ACTIVE))).forEach((function(e){Ja(e,Vi.ACTIVE)})),e){var n=zk.querySelector(".".concat(e));w(n),Qa(n,Vi.ACTIVE)}if(t){var r=zk.querySelector(".".concat(t));w(r),Qa(r,Vi.ACTIVE)}return zk}var o=ps("div",["editor-color-palette"],null),i=ps("div",["editor-color-palette-title"],null,ju.command.fontColor);o.appendChild(i);var a=Kk("editor-color-palette-colors","editor-color-palette-item",xk,"style-color-",7,e);o.appendChild(a);var s=ps("div",["editor-color-palette-title"],null,ju.command.fontBackgroundColor);o.appendChild(s);var c=Kk("editor-color-palette-bg-colors","editor-color-palette-item",kk,"style-bg-color-",14,t);o.appendChild(c);var l=ps("div",["editor-color-palette-tools"],null),u=ps("button",["editor-color-palette-clear"],null,ju.command.clearColor);return l.appendChild(u),o.appendChild(l),o.addEventListener("click",Hk),u.addEventListener("click",Vk),zk=o}function Wk(e,t,n){if(t.id.startsWith("style-")){var r=t;r.disabled="disabled"===n[t.id],r.checked=!0===n[t.id]}if(t.id.startsWith("style-color")){var o=Fk(e),i=t;i.color=o.color,i.bgColor=o.bgColor}}function Yk(e,t){return-1===e.findIndex((function(e){var n=Ph(e);return"left"===t?"right"===n||"center"===n:n!==t}))}function qk(e,t,n){if("fixed"===n)return null;if(!OX.getEditor(e).isBlockWritable(e))return null;w(e);var r=OX.getEditor(e),o=r.getDetailCommandStatus(t),i=r.isMarkdownOnly();if(r.isTitleBlock(e))return null;var a,s,c=Fk(r);Object.keys(o).forEach((function(e){e.startsWith("style-color-")?a=e:e.startsWith("style-bg-color-")&&(s=e)}));var l=t.startBlock&&t.startBlock!==t.endBlock,u=[];return u.push({id:"style-bold",text:ju.fontType.bold,icon:gk,disabled:"disabled"===o["style-bold"],checked:!0===o["style-bold"],data:"style-bold",onClick:Lk,updateStatus:Wk},{id:"style-italic",text:ju.fontType.italic,icon:bk,disabled:"disabled"===o["style-italic"],checked:!0===o["style-italic"],data:"style-italic",onClick:Lk,updateStatus:Wk}),i||u.push({id:"style-underline",text:ju.fontType.underline,icon:yk,disabled:"disabled"===o["style-underline"],checked:!0===o["style-underline"],data:"style-underline",onClick:Lk,updateStatus:Wk}),u.push({id:"style-strikethrough",text:ju.fontType.strikethrough,icon:Dk,disabled:"disabled"===o["style-strikethrough"],checked:!0===o["style-strikethrough"],data:"style-strikethrough",onClick:Lk,updateStatus:Wk}),i||u.push({id:"style-color",text:"",icon:xk,color:a||c.color,bgColor:s||c.bgColor,disabled:!1,onClick:Pk,updateStatus:Wk,data:{autoHideSubItems:!0,placementSubItems:"top"},subItemsArrow:!0,subItems:[{id:"",text:"",element:Gk(a,s)}]}),u.push(ga),u.push.apply(u,Ak(function(e,t,n){var r=jI(t=t||e.getAllSelectedBlocks({deep:!1}),"checkbox",{allowTextOnly:!1}),o=jI(t,"ordered",{allowTextOnly:!1}),i=jI(t,"unordered",{allowTextOnly:!1});return[{id:"",icon:Bk,onClick:function(){e.executeBlockCommand(i?"toBodyText":"toUnorderedList")},text:ju.list.toUnordered,checked:jI(t,"unordered",{allowTextOnly:!1})},{id:"",text:ju.list.toOrdered,icon:Ck,onClick:function(){e.executeBlockCommand(o?"toBodyText":"toOrderedList")},checked:jI(t,"ordered",{allowTextOnly:!1})},{id:"",text:ju.blocks.todo,icon:Ek,onClick:function(){e.executeBlockCommand(r?"toBodyText":"toCheckbox")},checked:r},{id:"style-code",text:ju.fontType.inlineCode,icon:_k,disabled:"disabled"===n["style-code"],checked:!0===n["style-code"],data:"style-code",onClick:Lk,updateStatus:Wk},{id:"",text:"",icon:Sk,disabled:!1,data:{autoHideSubItems:!0,placementSubItems:"top"},subItemsArrow:!0,subItems:[{id:"style-super",text:ju.formatType.superscript,icon:Ok,disabled:"disabled"===n["style-super"],checked:!0===n["style-super"],data:"style-super",onClick:Lk,updateStatus:Wk},{id:"style-sub",text:ju.formatType.subscript,icon:Nk,disabled:"disabled"===n["style-sub"],checked:!0===n["style-sub"],data:"style-sub",onClick:Lk,updateStatus:Wk},{id:"",text:ju.formatType.alignLeft,icon:Tk,onClick:function(){e.executeBlockCommand("alignLeft")},checked:Yk(t,"left"),data:"left"},{id:"",text:ju.formatType.alignCenter,icon:Mk,onClick:function(){e.executeBlockCommand("alignCenter")},checked:Yk(t,"center"),data:"center"},{id:"",text:ju.formatType.alignRight,icon:Ik,onClick:function(){e.executeBlockCommand("alignRight")},checked:Yk(t,"right"),data:"right"}]},ga]}(r,[e],o))),u.push({id:"",text:ju.fontType.addLink,icon:wk,disabled:t.collapsed||l,onClick:Rk}),i||r.options.hideComments||r.isChildEditor()||u.push({id:"",text:ju.fontType.addComment,icon:vk,disabled:t.collapsed,onClick:jk}),u}function Zk(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function Xk(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}function Jk(){}function $k(e){return null==e?Jk:function(){return this.querySelector(e)}}function eC(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function tC(){return[]}function nC(e){return null==e?tC:function(){return this.querySelectorAll(e)}}function rC(e){return function(){return this.matches(e)}}function oC(e){return function(t){return t.matches(e)}}var iC=Array.prototype.find;function aC(){return this.firstElementChild}var sC=Array.prototype.filter;function cC(){return this.children}function lC(e){return new Array(e.length)}function uC(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function dC(e){return function(){return e}}function pC(e,t,n,r,o,i){for(var a,s=0,c=t.length,l=i.length;s<l;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new uC(e,i[s]);for(;s<c;++s)(a=t[s])&&(o[s]=a)}function fC(e,t,n,r,o,i,a){var s,c,l,u=new Map,d=t.length,p=i.length,f=new Array(d);for(s=0;s<d;++s)(c=t[s])&&(f[s]=l=a.call(c,c.__data__,s,t)+"",u.has(l)?o[s]=c:u.set(l,c));for(s=0;s<p;++s)l=a.call(e,i[s],s,i)+"",(c=u.get(l))?(r[s]=c,c.__data__=i[s],u.delete(l)):n[s]=new uC(e,i[s]);for(s=0;s<d;++s)(c=t[s])&&u.get(f[s])===c&&(o[s]=c)}function hC(e){return e.__data__}function AC(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}uC.prototype={constructor:uC,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var mC="http://www.w3.org/1999/xhtml";const gC={svg:"http://www.w3.org/2000/svg",xhtml:mC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vC(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),gC.hasOwnProperty(t)?{space:gC[t],local:e}:e}function bC(e){return function(){this.removeAttribute(e)}}function yC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wC(e,t){return function(){this.setAttribute(e,t)}}function xC(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function kC(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function CC(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function EC(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function BC(e){return function(){this.style.removeProperty(e)}}function TC(e,t,n){return function(){this.style.setProperty(e,t,n)}}function MC(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function IC(e,t){return e.style.getPropertyValue(t)||EC(e).getComputedStyle(e,null).getPropertyValue(t)}function DC(e){return function(){delete this[e]}}function _C(e,t){return function(){this[e]=t}}function SC(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function OC(e){return e.trim().split(/^|\s+/)}function NC(e){return e.classList||new LC(e)}function LC(e){this._node=e,this._names=OC(e.getAttribute("class")||"")}function RC(e,t){for(var n=NC(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function jC(e,t){for(var n=NC(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function UC(e){return function(){RC(this,e)}}function FC(e){return function(){jC(this,e)}}function zC(e,t){return function(){(t.apply(this,arguments)?RC:jC)(this,e)}}function QC(){this.textContent=""}function PC(e){return function(){this.textContent=e}}function HC(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function VC(){this.innerHTML=""}function KC(e){return function(){this.innerHTML=e}}function GC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function WC(){this.nextSibling&&this.parentNode.appendChild(this)}function YC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qC(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===mC&&t.documentElement.namespaceURI===mC?t.createElement(e):t.createElementNS(n,e)}}function ZC(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function XC(e){var t=vC(e);return(t.local?ZC:qC)(t)}function JC(){return null}function $C(){var e=this.parentNode;e&&e.removeChild(this)}function eE(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tE(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function nE(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function rE(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function oE(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function iE(e,t,n){var r=EC(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function aE(e,t){return function(){return iE(this,e,t)}}function sE(e,t){return function(){return iE(this,e,t.apply(this,arguments))}}LC.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var cE=[null];function lE(e,t){this._groups=e,this._parents=t}function uE(){return new lE([[document.documentElement]],cE)}lE.prototype=uE.prototype={constructor:lE,select:function(e){"function"!=typeof e&&(e=$k(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],c=s.length,l=r[o]=new Array(c),u=0;u<c;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),l[u]=a);return new lE(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:eC(t)}}(e):nC(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),o.push(a));return new lE(r,o)},selectChild:function(e){return this.select(null==e?aC:function(e){return function(){return iC.call(this.children,e)}}("function"==typeof e?e:oC(e)))},selectChildren:function(e){return this.selectAll(null==e?cC:function(e){return function(){return sC.call(this.children,e)}}("function"==typeof e?e:oC(e)))},filter:function(e){"function"!=typeof e&&(e=rC(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,c=r[o]=[],l=0;l<s;++l)(i=a[l])&&e.call(i,i.__data__,l,a)&&c.push(i);return new lE(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,hC);var n=t?fC:pC,r=this._parents,o=this._groups;"function"!=typeof e&&(e=dC(e));for(var i=o.length,a=new Array(i),s=new Array(i),c=new Array(i),l=0;l<i;++l){var u=r[l],d=o[l],p=d.length,f=eC(e.call(u,u&&u.__data__,l,r)),h=f.length,A=s[l]=new Array(h),m=a[l]=new Array(h),g=c[l]=new Array(p);n(u,d,A,m,g,f,t);for(var v,b,y=0,w=0;y<h;++y)if(v=A[y]){for(y>=w&&(w=y+1);!(b=m[w])&&++w<h;);v._next=b||null}}return(a=new lE(a,r))._enter=s,a._exit=c,a},enter:function(){return new lE(this._enter||this._groups.map(lC),this._parents)},exit:function(){return new lE(this._exit||this._groups.map(lC),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){if(!(e instanceof lE))throw new Error("invalid merge");for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var c,l=t[s],u=n[s],d=l.length,p=a[s]=new Array(d),f=0;f<d;++f)(c=l[f]||u[f])&&(p[f]=c);for(;s<r;++s)a[s]=t[s];return new lE(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=AC);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],c=s.length,l=o[i]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(t)}return new lE(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=vC(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?yC:bC:"function"==typeof t?n.local?CC:kC:n.local?xC:wC)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?BC:"function"==typeof t?MC:TC)(e,t,null==n?"":n)):IC(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?DC:"function"==typeof t?SC:_C)(e,t)):this.node()[e]},classed:function(e,t){var n=OC(e+"");if(arguments.length<2){for(var r=NC(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?zC:t?UC:FC)(n,t))},text:function(e){return arguments.length?this.each(null==e?QC:("function"==typeof e?HC:PC)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?VC:("function"==typeof e?GC:KC)(e)):this.node().innerHTML},raise:function(){return this.each(WC)},lower:function(){return this.each(YC)},append:function(e){var t="function"==typeof e?e:XC(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:XC(e),r=null==t?JC:"function"==typeof t?t:$k(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each($C)},clone:function(e){return this.select(e?tE:eE)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=nE(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?oE:rE,r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?sE:aE)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};const dE=uE;var pE={value:()=>{}};function fE(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new hE(r)}function hE(e){this._=e}function AE(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function mE(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function gE(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=pE,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}hE.prototype=fE.prototype={constructor:hE,on:function(e,t){var n,r=this._,o=AE(e+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=gE(r[n],e.name,t);else if(null==t)for(n in r)r[n]=gE(r[n],e.name,null);return this}for(;++i<a;)if((n=(e=o[i]).type)&&(n=mE(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new hE(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};const vE=fE;var bE,yE,wE=0,xE=0,kE=0,CE=0,EE=0,BE=0,TE="object"==typeof performance&&performance.now?performance:Date,ME="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function IE(){return EE||(ME(DE),EE=TE.now()+BE)}function DE(){EE=0}function _E(){this._call=this._time=this._next=null}function SE(e,t,n){var r=new _E;return r.restart(e,t,n),r}function OE(){EE=(CE=TE.now())+BE,wE=xE=0;try{!function(){IE(),++wE;for(var e,t=bE;t;)(e=EE-t._time)>=0&&t._call.call(null,e),t=t._next;--wE}()}finally{wE=0,function(){var e,t,n=bE,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:bE=t);yE=e,LE(r)}(),EE=0}}function NE(){var e=TE.now(),t=e-CE;t>1e3&&(BE-=t,CE=e)}function LE(e){wE||(xE&&(xE=clearTimeout(xE)),e-EE>24?(e<1/0&&(xE=setTimeout(OE,e-TE.now()-BE)),kE&&(kE=clearInterval(kE))):(kE||(CE=TE.now(),kE=setInterval(NE,1e3)),wE=1,ME(OE)))}function RE(e,t,n){var r=new _E;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}_E.prototype=SE.prototype={constructor:_E,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?IE():+n)+(null==t?0:+t),this._next||yE===this||(yE?yE._next=this:bE=this,yE=this),this._call=e,this._time=n,LE()},stop:function(){this._call&&(this._call=null,this._time=1/0,LE())}};var jE=vE("start","end","cancel","interrupt"),UE=[];function FE(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(i){var l,u,d,p;if(1!==n.state)return c();for(l in o)if((p=o[l]).name===n.name){if(3===p.state)return RE(a);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[l]):+l<t&&(p.state=6,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[l])}if(RE((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),l=0,u=-1;l<d;++l)(p=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=p);r.length=u+1}}function s(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(c),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=SE(i,0,n.time)}(e,n,{name:t,index:r,group:o,on:jE,tween:UE,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function zE(e,t){var n=PE(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function QE(e,t){var n=PE(e,t);if(n.state>3)throw new Error("too late; already running");return n}function PE(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function HE(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}function VE(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var KE,GE=180/Math.PI,WE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function YE(e,t,n,r,o,i){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*GE,skewX:Math.atan(c)*GE,scaleX:a,scaleY:s}}function qE(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],c=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var c=a.push("translate(",null,t,null,n);s.push({i:c-4,x:VE(e,o)},{i:c-2,x:VE(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,c),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:VE(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,c),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:VE(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,c),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:VE(e,n)},{i:s-2,x:VE(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,c),i=a=null,function(e){for(var t,n=-1,r=c.length;++n<r;)s[(t=c[n]).i]=t.x(e);return s.join("")}}}var ZE=qE((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?WE:YE(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),XE=qE((function(e){return null==e?WE:(KE||(KE=document.createElementNS("http://www.w3.org/2000/svg","g")),KE.setAttribute("transform",e),(e=KE.transform.baseVal.consolidate())?YE((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):WE)}),", ",")",")");function JE(e,t){var n,r;return function(){var o=QE(this,e),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function $E(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=QE(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===t){o[c]=s;break}c===l&&o.push(s)}i.tween=o}}function eB(e,t,n){var r=e._id;return e.each((function(){var e=QE(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return PE(e,r).value[t]}}function tB(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function nB(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function rB(){}var oB=.7,iB=1/oB,aB="\\s*([+-]?\\d+)\\s*",sB="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",cB="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lB=/^#([0-9a-f]{3,8})$/,uB=new RegExp("^rgb\\("+[aB,aB,aB]+"\\)$"),dB=new RegExp("^rgb\\("+[cB,cB,cB]+"\\)$"),pB=new RegExp("^rgba\\("+[aB,aB,aB,sB]+"\\)$"),fB=new RegExp("^rgba\\("+[cB,cB,cB,sB]+"\\)$"),hB=new RegExp("^hsl\\("+[sB,cB,cB]+"\\)$"),AB=new RegExp("^hsla\\("+[sB,cB,cB,sB]+"\\)$"),mB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function gB(){return this.rgb().formatHex()}function vB(){return this.rgb().formatRgb()}function bB(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lB.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?yB(t):3===n?new CB(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?wB(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?wB(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=uB.exec(e))?new CB(t[1],t[2],t[3],1):(t=dB.exec(e))?new CB(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=pB.exec(e))?wB(t[1],t[2],t[3],t[4]):(t=fB.exec(e))?wB(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=hB.exec(e))?MB(t[1],t[2]/100,t[3]/100,1):(t=AB.exec(e))?MB(t[1],t[2]/100,t[3]/100,t[4]):mB.hasOwnProperty(e)?yB(mB[e]):"transparent"===e?new CB(NaN,NaN,NaN,0):null}function yB(e){return new CB(e>>16&255,e>>8&255,255&e,1)}function wB(e,t,n,r){return r<=0&&(e=t=n=NaN),new CB(e,t,n,r)}function xB(e){return e instanceof rB||(e=bB(e)),e?new CB((e=e.rgb()).r,e.g,e.b,e.opacity):new CB}function kB(e,t,n,r){return 1===arguments.length?xB(e):new CB(e,t,n,null==r?1:r)}function CB(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function EB(){return"#"+TB(this.r)+TB(this.g)+TB(this.b)}function BB(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function TB(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function MB(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new DB(e,t,n,r)}function IB(e){if(e instanceof DB)return new DB(e.h,e.s,e.l,e.opacity);if(e instanceof rB||(e=bB(e)),!e)return new DB;if(e instanceof DB)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,c=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=c<.5?i+o:2-i-o,a*=60):s=c>0&&c<1?0:a,new DB(a,s,c,e.opacity)}function DB(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function _B(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function SB(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}tB(rB,bB,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:gB,formatHex:gB,formatHsl:function(){return IB(this).formatHsl()},formatRgb:vB,toString:vB}),tB(CB,kB,nB(rB,{brighter:function(e){return e=null==e?iB:Math.pow(iB,e),new CB(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?oB:Math.pow(oB,e),new CB(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EB,formatHex:EB,formatRgb:BB,toString:BB})),tB(DB,(function(e,t,n,r){return 1===arguments.length?IB(e):new DB(e,t,n,null==r?1:r)}),nB(rB,{brighter:function(e){return e=null==e?iB:Math.pow(iB,e),new DB(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?oB:Math.pow(oB,e),new DB(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new CB(_B(e>=240?e-240:e+120,o,r),_B(e,o,r),_B(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const OB=e=>()=>e;function NB(e,t){return function(n){return e+n*t}}function LB(e){return 1==(e=+e)?RB:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):OB(isNaN(t)?n:t)}}function RB(e,t){var n=t-e;return n?NB(e,n):OB(isNaN(e)?t:e)}const jB=function e(t){var n=LB(t);function r(e,t){var r=n((e=kB(e)).r,(t=kB(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=RB(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function UB(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=kB(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}UB((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return SB((n-r/t)*t,a,o,i,s)}})),UB((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return SB((n-r/t)*t,o,i,a,s)}}));var FB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zB=new RegExp(FB.source,"g");function QB(e,t){var n,r,o,i=FB.lastIndex=zB.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=FB.exec(e))&&(r=zB.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:VE(n,r)})),i=zB.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})}function PB(e,t){var n;return("number"==typeof t?VE:t instanceof bB?jB:(n=bB(t))?(t=n,jB):QB)(e,t)}function HB(e){return function(){this.removeAttribute(e)}}function VB(e){return function(){this.removeAttributeNS(e.space,e.local)}}function KB(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function GB(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function WB(e,t,n){var r,o,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(e))===(s=c+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,c));this.removeAttribute(e)}}function YB(e,t,n){var r,o,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(e.space,e.local))===(s=c+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,c));this.removeAttributeNS(e.space,e.local)}}function qB(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ZB(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function XB(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&ZB(e,o)),n}return o._value=t,o}function JB(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&qB(e,o)),n}return o._value=t,o}function $B(e,t){return function(){zE(this,e).delay=+t.apply(this,arguments)}}function eT(e,t){return t=+t,function(){zE(this,e).delay=t}}function tT(e,t){return function(){QE(this,e).duration=+t.apply(this,arguments)}}function nT(e,t){return t=+t,function(){QE(this,e).duration=t}}function rT(e,t){if("function"!=typeof t)throw new Error;return function(){QE(this,e).ease=t}}function oT(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?zE:QE;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}var iT=dE.prototype.constructor;function aT(e){return function(){this.style.removeProperty(e)}}function sT(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function cT(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&sT(e,i,n)),r}return i._value=t,i}function lT(e){return function(t){this.textContent=e.call(this,t)}}function uT(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&lT(r)),t}return r._value=e,r}var dT=0;function pT(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function fT(){return++dT}var hT=dE.prototype;pT.prototype=function(e){return dE().transition(e)}.prototype={constructor:pT,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=$k(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,c,l=r[a],u=l.length,d=i[a]=new Array(u),p=0;p<u;++p)(s=l[p])&&(c=e.call(s,s.__data__,p,l))&&("__data__"in s&&(c.__data__=s.__data__),d[p]=c,FE(d[p],t,n,p,d,PE(s,n)));return new pT(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=nC(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var c,l=r[s],u=l.length,d=0;d<u;++d)if(c=l[d]){for(var p,f=e.call(c,c.__data__,d,l),h=PE(c,n),A=0,m=f.length;A<m;++A)(p=f[A])&&FE(p,t,n,A,f,h);i.push(f),a.push(c)}return new pT(i,a,t,n)},filter:function(e){"function"!=typeof e&&(e=rC(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,c=r[o]=[],l=0;l<s;++l)(i=a[l])&&e.call(i,i.__data__,l,a)&&c.push(i);return new pT(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var c,l=t[s],u=n[s],d=l.length,p=a[s]=new Array(d),f=0;f<d;++f)(c=l[f]||u[f])&&(p[f]=c);for(;s<r;++s)a[s]=t[s];return new pT(a,this._parents,this._name,this._id)},selection:function(){return new iT(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=fT(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=PE(a,t);FE(a,e,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new pT(r,this._parents,e,n)},call:hT.call,nodes:hT.nodes,node:hT.node,size:hT.size,empty:hT.empty,each:hT.each,on:function(e,t){var n=this._id;return arguments.length<2?PE(this.node(),n).on.on(e):this.each(oT(n,e,t))},attr:function(e,t){var n=vC(e),r="transform"===n?XE:PB;return this.attrTween(e,"function"==typeof t?(n.local?YB:WB)(n,r,eB(this,"attr."+e,t)):null==t?(n.local?VB:HB)(n):(n.local?GB:KB)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=vC(e);return this.tween(n,(r.local?XB:JB)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?ZE:PB;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=IC(this,e),a=(this.style.removeProperty(e),IC(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,aT(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var a=IC(this,e),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(e),c=s=IC(this,e)),a===c?null:a===r&&c===o?i:(o=c,i=t(r=a,s))}}(e,r,eB(this,"style."+e,t))).each(function(e,t){var n,r,o,i,a="style."+t,s="end."+a;return function(){var c=QE(this,e),l=c.on,u=null==c.value[a]?i||(i=aT(t)):void 0;l===n&&o===u||(r=(n=l).copy()).on(s,o=u),c.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var a=IC(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,cT(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(eB(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,uT(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=PE(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?JE:$E)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?$B:eT)(t,e)):PE(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?tT:nT)(t,e)):PE(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(rT(t,e)):PE(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;QE(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},c={value:function(){0==--o&&i()}};n.each((function(){var n=QE(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),n.on=t})),0===o&&i()}))},[Symbol.iterator]:hT[Symbol.iterator]};var AT={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function mT(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}dE.prototype.interrupt=function(e){return this.each((function(){HE(this,e)}))},dE.prototype.transition=function(e){var t,n;e instanceof pT?(t=e._id,e=e._name):(t=fT(),(n=AT).time=IE(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,l=0;l<c;++l)(a=s[l])&&FE(a,e,t,l,s,n||mT(a,t));return new pT(r,this._parents,e,t)};const{abs:gT,max:vT,min:bT}=Math;function yT(e){return[+e[0],+e[1]]}function wT(e){return[yT(e[0]),yT(e[1])]}["w","e"].map(xT),["n","s"].map(xT),["n","w","e","s","nw","ne","sw","se"].map(xT);function xT(e){return{type:e}}function kT(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}const CT=Symbol("implicit");const ET=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function BT(e){return"string"==typeof e?new lE([[document.querySelector(e)]],[document.documentElement]):new lE([[e]],cE)}const TT=Math.PI,MT=2*TT,IT=1e-6,DT=MT-IT;function _T(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ST(){return new _T}_T.prototype=ST.prototype={constructor:_T,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var i=this._x1,a=this._y1,s=n-e,c=r-t,l=i-e,u=a-t,d=l*l+u*u;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>IT)if(Math.abs(u*s-c*l)>IT&&o){var p=n-i,f=r-a,h=s*s+c*c,A=p*p+f*f,m=Math.sqrt(h),g=Math.sqrt(d),v=o*Math.tan((TT-Math.acos((h+d-A)/(2*m*g)))/2),b=v/g,y=v/m;Math.abs(b-1)>IT&&(this._+="L"+(e+b*l)+","+(t+b*u)),this._+="A"+o+","+o+",0,0,"+ +(u*p>l*f)+","+(this._x1=e+y*s)+","+(this._y1=t+y*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,o,i){e=+e,t=+t,i=!!i;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),c=e+a,l=t+s,u=1^i,d=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>IT||Math.abs(this._y1-l)>IT)&&(this._+="L"+c+","+l),n&&(d<0&&(d=d%MT+MT),d>DT?this._+="A"+n+","+n+",0,1,"+u+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):d>IT&&(this._+="A"+n+","+n+",0,"+ +(d>=TT)+","+u+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const OT=ST;var NT=Array.prototype.slice;function LT(e){return function(){return e}}function RT(e){return e[0]}function jT(e){return e[1]}function UT(e){return e.source}function FT(e){return e.target}function zT(e){var t=UT,n=FT,r=RT,o=jT,i=null;function a(){var a,s=NT.call(arguments),c=t.apply(this,s),l=n.apply(this,s);if(i||(i=a=OT()),e(i,+r.apply(this,(s[0]=c,s)),+o.apply(this,s),+r.apply(this,(s[0]=l,s)),+o.apply(this,s)),a)return i=null,a+""||null}return a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(e){return arguments.length?(n=e,a):n},a.x=function(e){return arguments.length?(r="function"==typeof e?e:LT(+e),a):r},a.y=function(e){return arguments.length?(o="function"==typeof e?e:LT(+e),a):o},a.context=function(e){return arguments.length?(i=null==e?null:e,a):i},a}function QT(e,t,n,r,o){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,o,r,o)}function PT(e){e.preventDefault(),e.stopImmediatePropagation()}function HT(e){var t=e.document.documentElement,n=BT(e).on("dragstart.drag",PT,!0);"onselectstart"in t?n.on("selectstart.drag",PT,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function VT(e,t){var n=e.document.documentElement,r=BT(e).on("dragstart.drag",null);t&&(r.on("click.drag",PT,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function KT(e){return((e=Math.exp(e))+1/e)/2}const GT=function e(t,n,r){function o(e,o){var i,a,s=e[0],c=e[1],l=e[2],u=o[0],d=o[1],p=o[2],f=u-s,h=d-c,A=f*f+h*h;if(A<1e-12)a=Math.log(p/l)/t,i=function(e){return[s+e*f,c+e*h,l*Math.exp(t*e*a)]};else{var m=Math.sqrt(A),g=(p*p-l*l+r*A)/(2*l*n*m),v=(p*p-l*l-r*A)/(2*p*n*m),b=Math.log(Math.sqrt(g*g+1)-g),y=Math.log(Math.sqrt(v*v+1)-v);a=(y-b)/t,i=function(e){var r,o=e*a,i=KT(b),u=l/(n*m)*(i*(r=t*o+b,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+u*f,c+u*h,l*i/KT(t*o+b)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);function WT(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const YT=e=>()=>e;function qT(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function ZT(e,t,n){this.k=e,this.x=t,this.y=n}ZT.prototype={constructor:ZT,scale:function(e){return 1===e?this:new ZT(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ZT(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var XT=new ZT(1,0,0);function JT(e){for(;!e.__zoom;)if(!(e=e.parentNode))return XT;return e.__zoom}function $T(e){e.stopImmediatePropagation()}function eM(e){e.preventDefault(),e.stopImmediatePropagation()}function tM(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function nM(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function rM(){return this.__zoom||XT}function oM(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function iM(){return navigator.maxTouchPoints||"ontouchstart"in this}function aM(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}
/*! markmap-view v0.2.6 | MIT License */
function sM(){return(sM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uM(e,t,n){return t&&lM(e.prototype,t),n&&lM(e,n),e}function dM(e,t){return(dM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pM(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dM(e,t)}function fM(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function hM(e,t){var n,r,o,i,a,s=new vM(e),c=+e.value&&(s.value=e.value),l=[s];for(null==t&&(t=AM);n=l.pop();)if(c&&(n.value=+n.data.value),(o=t(n.data))&&(a=o.length))for(n.children=new Array(a),i=a-1;i>=0;--i)l.push(r=n.children[i]=new vM(o[i])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(gM)}function AM(e){return e.children}function mM(e){e.data=e.data.data}function gM(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function vM(e){this.data=e,this.depth=this.height=0,this.parent=null}JT.prototype=ZT.prototype,vM.prototype=hM.prototype={constructor:vM,count:function(){return this.eachAfter(fM)},each:function(e){var t,n,r,o,i=this,a=[i];do{for(t=a.reverse(),a=[];i=t.pop();)if(e(i),n=i.children)for(r=0,o=n.length;r<o;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(e){for(var t,n,r,o=this,i=[o],a=[];o=i.pop();)if(a.push(o),t=o.children)for(n=0,r=t.length;n<r;++n)i.push(t[n]);for(;o=a.pop();)e(o);return this},eachBefore:function(e){for(var t,n,r=this,o=[r];r=o.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)o.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)n+=r[o].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),o=null;e=n.pop(),t=r.pop();for(;e===t;)o=e,e=n.pop(),t=r.pop();return o}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var o=r.length;e!==n;)r.splice(o,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return hM(this).eachBefore(mM)}};var bM=Object.freeze({children:function(e){return e.children},nodeSize:function(e){return e.data.size},spacing:0});function yM(e){var t=Object.assign({},bM,e);function n(e){var n=t[e];return"function"==typeof n?n:function(){return n}}function r(e){var t,r,a,s=i((t=o(),r=n("nodeSize"),a=n("spacing"),function(e){function t(t){var n;return n=e.call(this,t)||this,Object.assign(cM(n),{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:cM(n),lExtRelX:0,lThr:null,rExt:cM(n),rExtRelX:0,rThr:null}),n}pM(t,e);var n=t.prototype;return n.spacing=function(e){return a(this.data,e.data)},n.update=function(){return wM(this),xM(this),this},uM(t,[{key:"size",get:function(){return r(this.data)}},{key:"x",get:function(){return this.data.x},set:function(e){this.data.x=e}},{key:"y",get:function(){return this.data.y},set:function(e){this.data.y=e}}]),t}(t)),e,(function(e){return e.children}));return s.update(),s.data}function o(){var e=n("nodeSize"),t=n("spacing");return function(n){function r(e){return n.call(this,e)||this}pM(r,n);var o=r.prototype;return o.copy=function(){var e=i(this.constructor,this,(function(e){return e.children}));return e.each((function(e){return e.data=e.data.data})),e},o.spacing=function(e){return t(this,e)},r.maxExtents=function(e,t){return{top:Math.min(e.top,t.top),bottom:Math.max(e.bottom,t.bottom),left:Math.min(e.left,t.left),right:Math.max(e.right,t.right)}},uM(r,[{key:"size",get:function(){return e(this)}},{key:"nodes",get:function(){return this.descendants()}},{key:"xSize",get:function(){return this.size[0]}},{key:"ySize",get:function(){return this.size[1]}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.ySize}},{key:"left",get:function(){return this.x-this.xSize/2}},{key:"right",get:function(){return this.x+this.xSize/2}},{key:"root",get:function(){var e=this.ancestors();return e[e.length-1]}},{key:"numChildren",get:function(){return this.hasChildren?this.children.length:0}},{key:"hasChildren",get:function(){return!this.noChildren}},{key:"noChildren",get:function(){return null===this.children}},{key:"firstChild",get:function(){return this.hasChildren?this.children[0]:null}},{key:"lastChild",get:function(){return this.hasChildren?this.children[this.numChildren-1]:null}},{key:"extents",get:function(){return(this.children||[]).reduce((function(e,t){return r.maxExtents(e,t.extents)}),this.nodeExtents)}},{key:"nodeExtents",get:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}]),r}(hM.prototype.constructor)}function i(e,t,n){return function t(r,o){var i=new e(r);Object.assign(i,{parent:o,depth:null===o?0:o.depth+1,height:0,length:1});var a=n(r)||[];return i.children=0===a.length?null:a.map((function(e){return t(e,i)})),i.children&&Object.assign(i,i.children.reduce((function(e,t){return{height:Math.max(e.height,t.height+1),length:e.length+t.length}}),i)),i}(t,null)}return Object.assign(r,{nodeSize:function(e){return arguments.length?(t.nodeSize=e,r):t.nodeSize},spacing:function(e){return arguments.length?(t.spacing=e,r):t.spacing},children:function(e){return arguments.length?(t.children=e,r):t.children},hierarchy:function(e,n){var r=void 0===n?t.children:n;return i(o(),e,r)},dump:function(e){var t=n("nodeSize");return function e(n){return function(r){var o=n+"  ",i=n+"    ",a=r.x,s=r.y,c=t(r),l=r.children||[],u=0===l.length?" ":","+o+"children: ["+i+l.map(e(i)).join(i)+o+"],"+n;return"{ size: ["+c.join(", ")+"],"+o+"x: "+a+", y: "+s+u+"},"}}("\n")(e)}}),r}yM.version="2.1.1";var wM=function e(t,n){return void 0===n&&(n=0),t.y=n,(t.children||[]).reduce((function(n,r){var o=n[0],i=n[1];e(r,t.y+t.ySize);var a=(0===o?r.lExt:r.rExt).bottom;return 0!==o&&CM(t,o,i),[o+1,SM(a,o,i)]}),[0,null]),kM(t),_M(t),t},xM=function e(t,n,r){void 0===n&&(n=-t.relX-t.prelim,r=0);var o=n+t.relX;return t.relX=o+t.prelim-r,t.prelim=0,t.x=r+t.relX,(t.children||[]).forEach((function(n){return e(n,o,t.x)})),t},kM=function(e){(e.children||[]).reduce((function(e,t){var n=e[0],r=e[1],o=n+t.shift,i=r+o+t.change;return t.relX+=i,[o,i]}),[0,0])},CM=function(e,t,n){for(var r=e.children[t-1],o=e.children[t],i=r,a=r.relX,s=o,c=o.relX,l=!0;i&&s;){i.bottom>n.lowY&&(n=n.next);var u=a+i.prelim-(c+s.prelim)+i.xSize/2+s.xSize/2+i.spacing(s);(u>0||u<0&&l)&&(c+=u,EM(o,u),BM(e,t,n.index,u)),l=!1;var d=i.bottom,p=s.bottom;d<=p&&(i=MM(i))&&(a+=i.relX),d>=p&&(s=TM(s))&&(c+=s.relX)}!i&&s?IM(e,t,s,c):i&&!s&&DM(e,t,i,a)},EM=function(e,t){e.relX+=t,e.lExtRelX+=t,e.rExtRelX+=t},BM=function(e,t,n,r){var o=e.children[t],i=t-n;if(i>1){var a=r/i;e.children[n+1].shift+=a,o.shift-=a,o.change-=r-a}},TM=function(e){return e.hasChildren?e.firstChild:e.lThr},MM=function(e){return e.hasChildren?e.lastChild:e.rThr},IM=function(e,t,n,r){var o=e.firstChild,i=o.lExt,a=e.children[t];i.lThr=n;var s=r-n.relX-o.lExtRelX;i.relX+=s,i.prelim-=s,o.lExt=a.lExt,o.lExtRelX=a.lExtRelX},DM=function(e,t,n,r){var o=e.children[t],i=o.rExt,a=e.children[t-1];i.rThr=n;var s=r-n.relX-o.rExtRelX;i.relX+=s,i.prelim-=s,o.rExt=a.rExt,o.rExtRelX=a.rExtRelX},_M=function(e){if(e.hasChildren){var t=e.firstChild,n=e.lastChild,r=(t.prelim+t.relX-t.xSize/2+n.relX+n.prelim+n.xSize/2)/2;Object.assign(e,{prelim:r,lExt:t.lExt,lExtRelX:t.lExtRelX,rExt:n.rExt,rExtRelX:n.rExtRelX})}},SM=function(e,t,n){for(;null!==n&&e>=n.lowY;)n=n.next;return{lowY:e,index:t,next:n}};
/*! markmap-common v0.1.5 | MIT License */
class OM{constructor(){this.listeners=[]}tap(e){return this.listeners.push(e),()=>this.revoke(e)}revoke(e){const t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}revokeAll(){this.listeners.splice(0)}call(...e){for(const t of this.listeners)t(...e)}}const NM=Math.random().toString(36).slice(2,8);let LM=0;function RM(){}function jM(e,t,n="c"){const r=(e,o)=>t(e,(()=>{var t;null==(t=e[n])||t.forEach((t=>{r(t,e)}))}),o);r(e)}function UM(e){if(Array.from)return Array.from(e);const t=[];for(let n=0;n<e.length;n+=1)t.push(e[n]);return t}function FM(e,...t){const n=(e||"").split(" ").filter(Boolean);return t.forEach((e=>{e&&n.indexOf(e)<0&&n.push(e)})),n.join(" ")}function zM(e){if("string"==typeof e){const t=e;e=e=>e.tagName===t}const t=e;return function(){let e=UM(this.childNodes);return t&&(e=e.filter((e=>t(e)))),e}}function QM(e,t,n){const r=document.createElement(e);return t&&Object.entries(t).forEach((([e,t])=>{r[e]=t})),n&&Object.entries(n).forEach((([e,t])=>{r.setAttribute(e,t)})),r}!function(e){const t={}}((e=>{document.head.append(QM("link",{rel:"preload",as:"script",href:e}))}));function PM(e){const t=e.data;return Math.max(6-2*t.d,1.5)}function HM(e,t){return e[function(e,t){let n,r=-1,o=-1;if(void 0===t)for(const t of e)++o,null!=t&&(n>t||void 0===n&&t>=t)&&(n=t,r=o);else for(let i of e)null!=(i=t(i,++o,e))&&(n>i||void 0===n&&i>=i)&&(n=i,r=o);return r}(e,t)]}function VM(e){e.stopPropagation()}const KM=new OM;class GM{constructor(e,t){this.options=void 0,this.state=void 0,this.svg=void 0,this.styleNode=void 0,this.g=void 0,this.zoom=void 0,this.viewHooks=void 0,this.revokers=[],["handleZoom","handleClick"].forEach((e=>{this[e]=this[e].bind(this)})),this.viewHooks={transformHtml:new OM},this.svg=e.datum?e:BT(e),this.styleNode=this.svg.append("style"),this.zoom=function(){var e,t,n,r=tM,o=nM,i=aM,a=oM,s=iM,c=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,d=GT,p=vE("start","zoom","end"),f=500,h=0,A=10;function m(e){e.property("__zoom",rM).on("wheel.zoom",k).on("mousedown.zoom",C).on("dblclick.zoom",E).filter(s).on("touchstart.zoom",B).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(c[0],Math.min(c[1],t)))===e.k?e:new ZT(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new ZT(e.k,r,o)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function y(e,t,n,r){e.on("start.zoom",(function(){w(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,i=arguments,a=w(e,i).event(r),s=o.apply(e,i),c=null==n?b(s):"function"==typeof n?n.apply(e,i):n,l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,p="function"==typeof t?t.apply(e,i):t,f=d(u.invert(c).concat(l/u.k),p.invert(c).concat(l/p.k));return function(e){if(1===e)e=p;else{var t=f(e),n=l/t[2];e=new ZT(n,c[0]-t[0]*n,c[1]-t[1]*n)}a.zoom(null,e)}}))}function w(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function k(e,...t){if(r.apply(this,arguments)){var n=w(this,t).event(e),o=this.__zoom,s=Math.max(c[0],Math.min(c[1],o.k*Math.pow(2,a.apply(this,arguments)))),u=WT(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=o.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(o.k===s)return;n.mouse=[u,o.invert(u)],HE(this),n.start()}eM(e),n.wheel=setTimeout(d,150),n.zoom("mouse",i(v(g(o,s),n.mouse[0],n.mouse[1]),n.extent,l))}function d(){n.wheel=null,n.end()}}function C(e,...t){if(!n&&r.apply(this,arguments)){var o=w(this,t,!0).event(e),a=BT(e.view).on("mousemove.zoom",p,!0).on("mouseup.zoom",f,!0),s=WT(e,c),c=e.currentTarget,u=e.clientX,d=e.clientY;HT(e.view),$T(e),o.mouse=[s,this.__zoom.invert(s)],HE(this),o.start()}function p(e){if(eM(e),!o.moved){var t=e.clientX-u,n=e.clientY-d;o.moved=t*t+n*n>h}o.event(e).zoom("mouse",i(v(o.that.__zoom,o.mouse[0]=WT(e,c),o.mouse[1]),o.extent,l))}function f(e){a.on("mousemove.zoom mouseup.zoom",null),VT(e.view,o.moved),eM(e),o.event(e).end()}}function E(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,a=WT(e.changedTouches?e.changedTouches[0]:e,this),s=n.invert(a),c=n.k*(e.shiftKey?.5:2),d=i(v(g(n,c),a,s),o.apply(this,t),l);eM(e),u>0?BT(this).transition().duration(u).call(y,d,a,e):BT(this).call(m.transform,d,a,e)}}function B(n,...o){if(r.apply(this,arguments)){var i,a,s,c,l=n.touches,u=l.length,d=w(this,o,n.changedTouches.length===u).event(n);for($T(n),a=0;a<u;++a)c=[c=WT(s=l[a],this),this.__zoom.invert(c),s.identifier],d.touch0?d.touch1||d.touch0[2]===c[2]||(d.touch1=c,d.taps=0):(d.touch0=c,i=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(d.taps<2&&(t=c[0],e=setTimeout((function(){e=null}),f)),HE(this),d.start())}}function T(e,...t){if(this.__zooming){var n,r,o,a,s=w(this,t).event(e),c=e.changedTouches,u=c.length;for(eM(e),n=0;n<u;++n)o=WT(r=c[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=o:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=o);if(r=s.that.__zoom,s.touch1){var d=s.touch0[0],p=s.touch0[1],f=s.touch1[0],h=s.touch1[1],A=(A=f[0]-d[0])*A+(A=f[1]-d[1])*A,m=(m=h[0]-p[0])*m+(m=h[1]-p[1])*m;r=g(r,Math.sqrt(A/m)),o=[(d[0]+f[0])/2,(d[1]+f[1])/2],a=[(p[0]+h[0])/2,(p[1]+h[1])/2]}else{if(!s.touch0)return;o=s.touch0[0],a=s.touch0[1]}s.zoom("touch",i(v(r,o,a),s.extent,l))}}function M(e,...r){if(this.__zooming){var o,i,a=w(this,r).event(e),s=e.changedTouches,c=s.length;for($T(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),f),o=0;o<c;++o)i=s[o],a.touch0&&a.touch0[2]===i.identifier?delete a.touch0:a.touch1&&a.touch1[2]===i.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(i=WT(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<A)){var l=BT(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",rM),e!==o?y(e,t,n,r):o.interrupt().each((function(){w(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,r){m.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,(function(){var e=o.apply(this,arguments),r=this.__zoom,a=null==n?b(e):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),c="function"==typeof t?t.apply(this,arguments):t;return i(v(g(r,c),a,s),e,l)}),n,r)},m.translateBy=function(e,t,n,r){m.transform(e,(function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),l)}),null,r)},m.translateTo=function(e,t,n,r,a){m.transform(e,(function(){var e=o.apply(this,arguments),a=this.__zoom,s=null==r?b(e):"function"==typeof r?r.apply(this,arguments):r;return i(XT.translate(s[0],s[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,l)}),r,a)},x.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=BT(this.that).datum();p.call(e,this.that,new qT(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:p}),t)}},m.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:YT(+e),m):a},m.filter=function(e){return arguments.length?(r="function"==typeof e?e:YT(!!e),m):r},m.touchable=function(e){return arguments.length?(s="function"==typeof e?e:YT(!!e),m):s},m.extent=function(e){return arguments.length?(o="function"==typeof e?e:YT([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):o},m.scaleExtent=function(e){return arguments.length?(c[0]=+e[0],c[1]=+e[1],m):[c[0],c[1]]},m.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(e){return arguments.length?(i=e,m):i},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=p.on.apply(p,arguments);return e===p?m:e},m.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,m):Math.sqrt(h)},m.tapDistance=function(e){return arguments.length?(A=+e,m):A},m}().on("zoom",this.handleZoom),this.options=sM({},GM.defaultOptions,t),this.state={id:this.options.id||(LM+=1,`mm-${NM}-${LM}`)},this.g=this.svg.append("g").attr("class",`${this.state.id}-g`),this.updateStyle(),this.svg.call(this.zoom),this.revokers.push(KM.tap((()=>{this.setData()})))}getStyleContent(){const{style:e,nodeFont:t}=this.options,{id:n}=this.state;return`.${n} { line-height: 1; }\n.${n} a { color: #0097e6; }\n.${n} a:hover { color: #00a8ff; }\n.${n}-g > path { fill: none; }\n.${n}-g > g > circle { cursor: pointer; }\n.${n}-fo > div { display: inline-block; font: ${t}; white-space: nowrap; }\n.${n}-fo code { font-size: calc(1em - 2px); color: #555; background-color: #f0f0f0; border-radius: 2px; }\n.${n}-fo :not(pre) > code { padding: .2em .4em; }\n.${n}-fo del { text-decoration: line-through; }\n.${n}-fo em { font-style: italic; }\n.${n}-fo strong { font-weight: bolder; }\n.${n}-fo pre { margin: 0; padding: .2em .4em; }\n${"function"==typeof e?e(n):""}\n`}updateStyle(){this.svg.attr("class",FM(this.svg.attr("class"),this.state.id)),this.styleNode.text(this.getStyleContent())}handleZoom(e){const{transform:t}=e;this.g.attr("transform",t)}handleClick(e,t){var n;const{data:r}=t;r.p=sM({},r.p,{f:!(null!=(n=r.p)&&n.f)}),this.renderData(t.data)}initializeData(e){let t=0;const{nodeFont:n,color:r,nodeMinHeight:o}=this.options,{id:i}=this.state,a=document.createElement("div"),s=`${i}-container`;a.className=FM(a.className,`${i}-fo`,s);const c=document.createElement("style");c.textContent=`\n${this.getStyleContent()}\n.${s} {\n  position: absolute;\n  width: 0;\n  height: 0;\n  top: -100px;\n  left: -100px;\n  overflow: hidden;\n  font: ${n};\n}\n.${s} > div {\n  display: inline-block;\n}\n`,document.body.append(c,a),jM(e,((e,n)=>{var o;e.c=null==(o=e.c)?void 0:o.map((e=>sM({},e))),t+=1;const i=document.createElement("div");i.innerHTML=e.v,a.append(i),e.p=sM({},e.p,{i:t,el:i}),r(e),n()}));const l=UM(a.childNodes);this.viewHooks.transformHtml.call(this,l),jM(e,((e,t,n)=>{var r;const i=e.p.el.getBoundingClientRect();e.v=e.p.el.innerHTML,e.p.s=[Math.ceil(i.width),Math.max(Math.ceil(i.height),o)],e.p.k=`${(null==n||null==(r=n.p)?void 0:r.i)||""}.${e.p.i}:${e.v}`,t()})),a.remove(),c.remove()}setOptions(e){Object.assign(this.options,e)}setData(e,t){e&&(this.state.data=e),this.initializeData(this.state.data),t&&this.setOptions(t),this.renderData()}renderData(e){var t,n;if(!this.state.data)return;const{spacingHorizontal:r,paddingX:o,spacingVertical:i,autoFit:a,color:s}=this.options,{id:c}=this.state,l=yM().children((e=>{var t;return!(null!=(t=e.p)&&t.f)&&e.c})).nodeSize((e=>{const[t,n]=e.data.p.s;return[n,t+(t?2*o:0)+r]})).spacing(((e,t)=>e.parent===t.parent?i:2*i)),u=l.hierarchy(this.state.data);l(u),function(e,t){jM(e,((e,n)=>{e.ySizeInner=e.ySize-t,e.y+=t,n()}),"children")}(u,r);const d=u.descendants().reverse(),p=u.links(),f=zT(QT),h=Xk(d,(e=>e.x-e.xSize/2)),A=Zk(d,(e=>e.x+e.xSize/2)),m=Xk(d,(e=>e.y)),g=Zk(d,(e=>e.y+e.ySizeInner));Object.assign(this.state,{minX:h,maxX:A,minY:m,maxY:g}),a&&this.fit();const v=e&&d.find((t=>t.data===e))||u,b=null!=(t=v.data.p.x0)?t:v.x,y=null!=(n=v.data.p.y0)?n:v.y,w=this.g.selectAll(zM("g")).data(d,(e=>e.data.p.k)),x=w.enter().append("g").attr("transform",(e=>`translate(${y+v.ySizeInner-e.ySizeInner},${b+v.xSize/2-e.xSize})`)),k=this.transition(w.exit());k.select("rect").attr("width",0).attr("x",(e=>e.ySizeInner)),k.select("foreignObject").style("opacity",0),k.attr("transform",(e=>`translate(${v.y+v.ySizeInner-e.ySizeInner},${v.x+v.xSize/2-e.xSize})`)).remove();const C=w.merge(x);this.transition(C).attr("transform",(e=>`translate(${e.y},${e.x-e.xSize/2})`));const E=C.selectAll(zM("rect")).data((e=>[e]),(e=>e.data.p.k)).join((e=>e.append("rect").attr("x",(e=>e.ySizeInner)).attr("y",(e=>e.xSize-PM(e)/2)).attr("width",0).attr("height",PM)),(e=>e),(e=>e.remove()));this.transition(E).attr("x",-1).attr("width",(e=>e.ySizeInner+2)).attr("fill",(e=>s(e.data)));const B=C.selectAll(zM("circle")).data((e=>e.data.c?[e]:[]),(e=>e.data.p.k)).join((e=>e.append("circle").attr("stroke-width","1.5").attr("cx",(e=>e.ySizeInner)).attr("cy",(e=>e.xSize)).attr("r",0).on("click",this.handleClick)),(e=>e),(e=>e.remove()));this.transition(B).attr("r",6).attr("stroke",(e=>s(e.data))).attr("fill",(e=>{var t;return null!=(t=e.data.p)&&t.f&&e.data.c?s(e.data):"#fff"}));const T=C.selectAll(zM("foreignObject")).data((e=>[e]),(e=>e.data.p.k)).join((e=>{const t=e.append("foreignObject").attr("class",`${c}-fo`).attr("x",o).attr("y",0).style("opacity",0).attr("height",(e=>e.xSize)).on("mousedown",VM).on("dblclick",VM);return t.append("xhtml:div").select((function(e){const t=e.data.p.el.cloneNode(!0);return this.replaceWith(t),t})).attr("xmlns","http://www.w3.org/1999/xhtml"),t}),(e=>e),(e=>e.remove())).attr("width",(e=>Math.max(0,e.ySizeInner-2*o)));this.transition(T).style("opacity",1);const M=this.g.selectAll(zM("path")).data(p,(e=>e.target.data.p.k)).join((e=>{const t=[y+v.ySizeInner,b+v.xSize/2];return e.insert("path","g").attr("d",f({source:t,target:t}))}),(e=>e),(e=>{const t=[v.y+v.ySizeInner,v.x+v.xSize/2];return this.transition(e).attr("d",f({source:t,target:t})).remove()}));this.transition(M).attr("stroke",(e=>s(e.target.data))).attr("stroke-width",(e=>PM(e.target))).attr("d",(e=>{const t=[e.source.y+e.source.ySizeInner,e.source.x+e.source.xSize/2],n=[e.target.y,e.target.x+e.target.xSize/2];return f({source:t,target:n})})),d.forEach((e=>{e.data.p.x0=e.x,e.data.p.y0=e.y}))}transition(e){const{duration:t}=this.options;return e.transition().duration(t)}async fit(){const e=this.svg.node(),{width:t,height:n}=e.getBoundingClientRect(),{fitRatio:r}=this.options,{minX:o,maxX:i,minY:a,maxY:s}=this.state,c=s-a,l=i-o,u=Math.min(t/c*r,n/l*r,2),d=XT.translate((t-c*u)/2-a*u,(n-l*u)/2-o*u).scale(u);return this.transition(this.svg).call(this.zoom.transform,d).end().catch(RM)}async ensureView(e,t){let n,r;if(this.g.selectAll(zM("g")).each((function(t){t.data===e&&(n=this,r=t)})),!n||!r)return;const o=this.svg.node(),i=o.getBoundingClientRect(),a=JT(o),[s,c]=[r.y,r.y+r.ySizeInner+2].map((e=>e*a.k+a.x)),[l,u]=[r.x-r.xSize/2,r.x+r.xSize/2].map((e=>e*a.k+a.y)),d=sM({left:0,right:0,top:0,bottom:0},t),p=[d.left-s,i.width-d.right-c],f=[d.top-l,i.height-d.bottom-u],h=p[0]*p[1]>0?HM(p,Math.abs)/a.k:0,A=f[0]*f[1]>0?HM(f,Math.abs)/a.k:0;if(h||A){const e=a.translate(h,A);return this.transition(this.svg).call(this.zoom.transform,e).end().catch(RM)}}async rescale(e){const t=this.svg.node(),{width:n,height:r}=t.getBoundingClientRect(),o=n/2,i=r/2,a=JT(t),s=a.translate((o-a.x)*(1-e)/a.k,(i-a.y)*(1-e)/a.k).scale(e);return this.transition(this.svg).call(this.zoom.transform,s).end().catch(RM)}destroy(){this.svg.remove(),this.revokers.forEach((e=>{e()}))}static create(e,t,n){const r=new GM(e,t);return n&&(r.setData(n),r.fit()),r}}var WM;function YM(e,t,n){var r,o=YD(t,{withSelf:!0});if(0!==o.length){var i=xD(o[0]);n.resetStart&&(i=null!==(r=null==n?void 0:n.start)&&void 0!==r?r:1),o.forEach((function(t){xD(t)!==i&&(_D(t,MD(t),i),e.updateBlockData(t,{start:i},{fromUndo:n.fromUndo,updateBlock:!1,partial:!0})),i+=1})),Mg(t)}}function qM(e,t,n){var r,o={id:zp(e)},i=YD(e,{withSelf:!1});t.groupId&&(w("string"==typeof t.groupId),LD(e,t.groupId),o.groupId=t.groupId),void 0!==t.start&&(w("number"==typeof t.start),_D(e,null!==(r=t.level)&&void 0!==r?r:MD(e),t.start),o.start=t.start),void 0!==t.level&&(w("number"==typeof t.level),SD(e,t.level),o.level=t.level),void 0!==t.ordered&&(w("boolean"==typeof t.ordered),ND(e,t.ordered),o.ordered=t.ordered),void 0!==t.viewAsMindmap&&(o.viewAsMindmap=t.viewAsMindmap);var a=OX.getEditor(e);w(a),a.updateBlockData(e,Object.assign({},o),{fromUndo:!1,updateBlock:!1,partial:!0}),(null==n?void 0:n.noFixStart)||(i.length>0&&YM(a,i[0],{fromUndo:!1,resetStart:null==n?void 0:n.resetStart}),YM(a,e,{fromUndo:!1,resetStart:null==n?void 0:n.resetStart}),Mg(e))}function ZM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}GM.defaultOptions={duration:500,nodeFont:"300 16px/20px sans-serif",nodeMinHeight:16,spacingVertical:5,spacingHorizontal:80,autoFit:!1,fitRatio:.95,color:(WM=function e(){var t=new Map,n=[],r=[],o=CT;function i(e){var i=e+"",a=t.get(i);if(!a){if(o!==CT)return o;t.set(i,a=n.push(e))}return r[(a-1)%r.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Map;for(const r of e){const e=r+"";t.has(e)||t.set(e,n.push(r))}return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(o=e,i):o},i.copy=function(){return e(n,r).unknown(o)},kT.apply(i,arguments),i}(ET),e=>WM(e.p.i)),paddingX:8};var XM=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodeMap=new Map,this.rootNodes=[]}var t,n,r;return t=e,(n=[{key:"addNode",value:function(e,t){var n={block:t,children:[]};if(this.nodeMap.set(t,n),e){var r=this.nodeMap.get(e);w(r),r.children.push(n)}else this.rootNodes.push(n)}}])&&ZM(t.prototype,n),r&&ZM(t,r),e}();function JM(e){var t=function(e){for(var t=e;;){var n=MN(t);if(!n)return t;if(!vD(n))return t;if(CD(n))return t;if(0===MD(e)&&0===MD(n)&&!$D(n,e))return t;t=n}}(e),n=new XM;n.addNode(null,t);for(var r=function(e){for(var n=MD(e),r=MN(e);r;){if(MD(r)<n)return r;if(r===t)return null;r=MN(r)}return null},o=IN(t);o&&vD(o)&&!CD(o);){var i=MD(o);if(0===i&&!$D(o,t))break;if(0!==i){var a=r(o);n.addNode(a,o),o=IN(o)}else n.addNode(null,o)}return n.rootNodes}var $M=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},eI=qo.closeMindmapIcon,tI=qo.exitFullscreenIcon,nI=qo.fullscreenIcon,rI=qo.fitIcon,oI=GM;function iI(e){if(w(vD(e)),Ga(e,"editor-in-mindmap-first"))return!0;if(!Fh(e))return!0;var t=e.classList;return!!Array.from(t).find((function(e){if(e.startsWith("editor-mindmap-root-"))return e}))}function aI(e){var t=e.classList;return Array.from(t).find((function(e){if(e.startsWith("editor-mindmap-root-"))return e}))}function sI(e,t,n){var r=e.querySelector(".editor-mindmap-close-button");if(r)return r;var o=ps("div",[Vi.TEXT_BUTTON,"editor-mindmap-close-button","editor-tooltip"],e);return o.innerHTML='<div class="editor-mindmap-close-icon">'.concat(eI,"</div>"),o.onclick=function(){!function(e){$M(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=aI(e)){t.next=3;break}return t.abrupt("return");case 3:if(qM(e,{viewAsMindmap:!1}),SN(kN(e)).forEach((function(e){Ga(e,n)&&Ja(e,n,"editor-in-mindmap-first",Vi.HIDDEN)})),w(r=Wp(e,!1)),document.fullscreenElement!==r){t.next=12;break}return t.next=12,js();case 12:w(o=r.querySelector(".editor-mindmap-svg")),o.remove(),e.contentEditable="inherit",w(i=r.querySelector(".editor-mindmap-fit-button")),i.remove(),OX.getEditor(e).isReadOnly()||(w(a=r.querySelector(".editor-mindmap-close-button")),a.remove()),w(s=r.querySelector(".editor-mindmap-fullscreen-button")),s.remove();case 24:case"end":return t.stop()}}),t)})))}(t),n!==t&&qM(n,{viewAsMindmap:!1})},o.setAttribute("data-tooltip",ju.mindmap.close),o}function cI(e,t){if(!(navigator.userAgent.includes("Mobile")&&!navigator.userAgent.includes("iPad")||e.querySelector(".editor-mindmap-fullscreen-button"))){var n=ps("div",[Vi.TEXT_BUTTON,"editor-mindmap-fullscreen-button","editor-tooltip"],e);n.innerHTML='<div class="editor-mindmap-fullscreen-icon">'.concat(nI,"</div>"),n.onclick=function(){!function(e){$M(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w(n=Wp(e,!0)),w(r=n.querySelector(".editor-mindmap-fullscreen-button")),o=function(){setTimeout((function(){uI(e,{},{reset:!0})}),300)},i=function(){Ja(n,Vi.FULLSCREEN),r.innerHTML='<div class="editor-mindmap-fullscreen-icon">'.concat(nI,"</div>"),r.setAttribute("data-tooltip",ju.mindmap.fullScreen),iI(e)&&setTimeout((function(){o()}),300)},document.fullscreenElement!==n){t.next=18;break}return t.prev=7,t.next=10,js();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(7),console.error(t.t0);case 15:i(),t.next=30;break;case 18:return t.prev=18,Qa(n,Vi.FULLSCREEN),t.next=22,Rs(n);case 22:o(),t.next=28;break;case 25:t.prev=25,t.t1=t.catch(18),console.error(t.t1);case 28:r.innerHTML='<div class="editor-mindmap-fullscreen-icon">'.concat(tI,"</div>"),r.setAttribute("data-tooltip",ju.mindmap.exitFullscreen);case 30:n.onfullscreenchange=function(){document.fullscreenElement||i()};case 31:case"end":return t.stop()}}),t,null,[[7,12],[18,25]])})))}(t)},n.setAttribute("data-tooltip",ju.mindmap.fullScreen)}}function lI(e){w(vD(e));var t=JM(e),n=t[0].block,r=function e(t){return{t:"text",v:Gp(t.block).textContent,d:1,c:t.children.length>0?t.children.map((function(t){return e(t)})):void 0}};return{root:t.length>1?{t:"root",v:"root",d:0,c:t.length>0?t.map((function(e){return r(e)})):void 0}:r(t[0]),block:n,nodes:t,last:function e(t){if(0===t.length)return null;var n=t[t.length-1];return n.children&&n.children.length>0?e(n.children):n}(t)}}function uI(e,t,n){var r,o=OX.getEditor(e);if(!o.isHistory()){var i=lI(e),a=i.root,s=i.block,c=i.last;n.saveData&&qM(s,{viewAsMindmap:!0}),null===(r=o.blockCommentButton)||void 0===r||r.hide();var l=Wp(s,!0);w(l);var u=l.querySelector(".editor-mindmap-svg");if(n.reset&&(u&&u.remove(),u=null),u)u.innerHTML="";else{var d=l.getBoundingClientRect(),p=document.fullscreenElement===l,f="".concat(p?d.width:e.getBoundingClientRect().width),h=p?"".concat(d.height):"600",A=document.createElementNS("http://www.w3.org/2000/svg","svg");A.setAttributeNS(null,"viewBox","0 0 ".concat(f," ").concat(h)),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height",h),A.style.display="block",A.style.width="100%",A.style.height="".concat(h,"px"),A.classList.add("editor-mindmap-svg"),l.appendChild(A),u=A}var m=s,g=zp(s),v="editor-mindmap-root-".concat(g);Qa(m,"editor-in-mindmap-first",v,Vi.READONLY),m.contentEditable="false";var b=IN(s);b&&TN(b)<=TN(c.block)&&Uh(b,c.block,[Vi.HIDDEN,v]);var y=new oI(u,Object.assign(Object.assign({},t),{autoFit:!0}));y.viewHooks.transformHtml.tap((function(e,t){if(t.length>0){var n=t[0].parentElement;n&&(n.style.width="100vw",n.style.maxWidth="200px")}t.forEach((function(e){Qa(e,"editor-mindmap-node")}))})),y.setData(a),y.fit();var x=Wp(s,!0);w(x);var k=x.querySelector(".mindmap-toolbar");k||(k=ps("div",["mindmap-toolbar"],x)),function(e,t){if(!e.querySelector(".editor-mindmap-fit-button")){var n=ps("div",[Vi.TEXT_BUTTON,"editor-mindmap-fit-button","editor-tooltip"],e);n.innerHTML='<div class="editor-mindmap-fit-icon">'.concat(rI,"</div>"),n.onclick=function(){var e=t.mindMap;e&&e.fit()},n.setAttribute("data-tooltip",ju.mindmap.autoFit)}}(k,m),cI(k,m),sI(k,m,e),m.mindMap=y,n.selectBlock&&o.selectBlock(s,0,0)}}var dI=In()((function(e){var t=document.querySelector(".".concat(e,".editor-in-mindmap-first"));t&&uI(t,{duration:0},{})}),100),pI="";function fI(e){var t=aI(e);t&&(t!==pI&&dI.flush(),pI=t,dI(t))}var hI=new Map;function AI(e,t){var n=function e(t,n){t.forEach((function(t){n?Qa(t.block,"to-mindmap-highlight"):Ja(t.block,"to-mindmap-highlight"),e(t.children,n)}))},r=lI(e),o=r.nodes,i=r.block;if(t){var a=hI.get(i);a&&(a.forEach((function(e){return e.cancel()})),hI.delete(i)),n(o,!0)}else{var s=setTimeout((function(){n(o,!1),hI.delete(i)}),300),c=function(){clearTimeout(s),hI.delete(i)},l=hI.get(i);l?l.push({cancel:c}):hI.set(i,[{cancel:c}])}}function mI(e){var t=hs(qo.mindmapIcon,["link-text","view-as-mindmap","editor-tooltip"],null);return t.setAttribute("data-tooltip",ju.list.viewAsMindMap),t.onmouseenter=function(){AI(e,!0)},t.onmouseleave=function(){AI(e,!1)},t}function gI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bI(e){return w(Rp(e)===Qi.LIST),bD(e)}function yI(e){return Sg(bI(e))}function wI(e,t){if(0!==t.length){var n=t[0].block,r=MD(n),o=MN(n),i=1,a=B();if(o&&vD(o)){w(o),w(vD(o));var s=MD(o);if(r===s+1)return;if(r===s)i=r,a=TD(o);else for(i=r;i>1;){var c=VD(o).find((function(e){var t=MD(e);return t===i||t===i-1}));if(c){var l=PD(c);l&&(a=TD(l));break}i-=1}}else i=1;w(i>=1);var u=r-i;w(u>=0);var d=function t(n,r,o){var i=!1;0!==r&&e.options.strictList&&(SD(n.block,MD(n.block)-r),i=!0),o&&o!==TD(n.block)&&(LD(n.block,o),i=!0),i&&e.updateBlockData(n.block,hf(n.block),{fromUndo:!1,updateBlock:!1,partial:!0}),n.children.forEach((function(e){t(e,r)}))};t.forEach((function(e){d(e,u,a)}))}}function xI(e){if(!bD(e))throw new Error("invalid list type");var t=OD(e),n=xD(e),r=TD(e),o=MD(e),i=yI(e),a=CD(e);return{id:zp(e),type:Rp(e),text:i,groupId:r,start:n,level:o,ordered:t,textOnly:a,checkbox:kD(e),align:Ph(e)}}function kI(e){var t=kN(e),n=TD(e);w(n);var r=OX.getEditor(t),o=PL(OX.getEditor(e));w(o.type===ia.ONE_TEXT_BLOCK),w(o.startBlock===e),w(void 0!==o.startOffset);var i=0===o.startOffset,a=!i&&o.endOffset===Kf(e),s=B(),c=Qi.LIST,l=new Yo([]);if(!i&&!a&&o.collapsed){var u=gI(yI(e).split(o.startOffset),2),d=u[0],p=u[1];r.updateBlockText(e,d,{fromUndo:!1,updateBlock:!0}),l=p}var f,h=OD(e),A=MD(e),m=CD(e);m?f=xD(e):(f=xD(e),i||(f+=1));var g=hf(e),v={id:s,type:c,text:l,start:f,groupId:n,level:A,ordered:h,checkbox:kD(e)?"unchecked":void 0,padding:sf(e),textOnly:m,heading:Gu(e)?ff(e):void 0,quoted:g.quoted},b=TN(e);if(i);else if(Gu(e)&&qu(e)){var y=function(e){w(Gu(e));var t=Zu(e);return 0===t.length?null:IN(t[t.length-1])}(e);b=y?TN(y):ON(kN(e))}else b+=1;var x=r.insertBlock(t,b,Qi.LIST,v,{fromUndo:!1,focusToBlock:!1,localAction:!0});return i&&(x=e),x}function CI(e){var t=OX.getEditor(e);if(t.options.callbacks&&t.options.callbacks.onCheckboxChanged){var n=_n()(xI(e));w(n.text);var r=n.text.toPlainText();delete n.text,delete n.start,delete n.level,delete n.ordered;var o=[],i=[];yh(e).forEach((function(e){var t=e.type;t===Pi.MENTION?o.push(e):t===Pi.CALENDAR&&i.push(e)})),t.options.callbacks.onCheckboxChanged(t,r,n,o,i)}}function EI(e){return OX.getEditor(e).options.strictList?(w(vD(e)),!!UD(e)&&MD(e)<AD):MD(e)<AD}function BI(e){w(EI(e));var t=OX.getEditor(e);if(!t.options.strictList){var n,r,o=MD(e),i=OD(e),a=o+1,s=!UD(e),c=MN(e),l=IN(e);return c&&vD(c)&&MD(c)===a&&OD(c)===i?(n=TD(c),r=xD(c)+1):l&&vD(l)&&MD(l)===a&&OD(l)===i?(n=TD(l),(r=xD(l)-1)<1&&(r=1)):(r=1,n=B()),t.beginUndoGroup(),qM(e,{groupId:n,start:r,level:a},{noFixStart:!1,resetStart:s}),void t.endUndoGroup()}var u=UD(e);w(u);var d=u,p=function(e){var t=KD(e);if(0===t.length)return null;return t[t.length-1].block}(d),f=p?xD(p)+1:1,h=p?TD(p):B(),A=MD(d)+1,m=OD(p||d),g=function e(t,n){qM(t.block,{level:MD(t.block)+1,groupId:n});var r=B();t.children.forEach((function(t){return e(t,r)}))},v=KD(e);t.beginUndoGroup(),qM(e,{groupId:h,start:f,level:A,ordered:m});var b=B();v.forEach((function(e){return g(e,b)})),t.endUndoGroup()}function TI(e){return 1!==MD(e)}function MI(e){w(TI(e));var t=MD(e);if(1!==t){var n=OX.getEditor(e);if(!n.options.strictList){var r,o,i=MD(e),a=OD(e),s=i-1,c=Yu(e),l=XD(e,s,a,c),u=JD(e,s,a,c);return l?(r=TD(l),o=xD(l)+1):u?(r=TD(u),(o=xD(u)-1)<1&&(o=1)):(o=1,r=B()),n.beginUndoGroup(),qM(e,{groupId:r,start:o,level:s}),void n.endUndoGroup()}var d,p=B(),f=1,h=HD(e);h&&(p=TD(h),f=xD(h)+1,d=OD(h)),CD(e)&&(f-=1);var A=QD(e);A.unshift(e),n.beginUndoGroup();var m=function e(t,n){qM(t.block,{level:MD(t.block)-1,groupId:n});var r=B();t.children.forEach((function(t){return e(t,r)}))};A.reverse().forEach((function(e,n,r){qM(e,{groupId:p,start:f+(r.length-n)-1,level:t-1,ordered:d});var o=KD(e),i=B();o.forEach((function(e){return m(e,i)}))})),n.endUndoGroup()}}function II(e,t){var n=kD(e),r=document.elementFromPoint(t.x,t.y),o=null,i=null,a=0;if(n)o=Gp(e),i=function(e){var t=Gp(e),n=t.getBoundingClientRect(),r=window.getComputedStyle(t,":before"),o=parseInt(r.top,10),i=parseInt(r.left,10),a=parseInt(r.marginTop,10),s=parseInt(r.marginLeft,10),c=parseFloat(r.width),l=parseFloat(r.height);return new DOMRect(n.left+i-s,n.top+o+a,c,l)}(e),a=4;else{if(pD(t.target))return!0;o=bD(e),i=pA(e)}return t.clientX<i.left+i.width+a&&t.clientX>i.left-a&&t.clientY<i.top+i.height+a&&t.clientY>i.top-a||(o=null),r===o}function DI(e){if(!pD(e.relatedTarget)){var t=e.target;w(t),w(t instanceof Node);var n=wN(t);w(n),w(Rp(n)===Qi.LIST),LI(n,e)}}var _I="checkbox-hover",SI="list-hover";function OI(e,t,n){var r=e.rootElement.querySelectorAll(".".concat(n));Array.from(r).forEach((function(r){var o=wN(r);(w(o),o!==t)&&(Ja(Gp(o),n),lD(e,o))}))}function NI(e,t){var n=kD(e),r=n?_I:SI,o=OD(e),i=OX.getEditor(e);if(w(i),!i.options.isMobile&&(n||o)){w(t);var a=Gp(e);if(!Ga(a,r)){if(o&&!i.options.disableListBulletClick)!function(e,t){var n,r=OX.getEditor(e);if(w(r),r.isReadOnly()||r.options.isMobile)return;var o=Wp(e,!0),i=cD(e);i||(i=ps("div",[aD,Vi.TOOLTIP],o));var a=e.getBoundingClientRect(),s=t.top-a.top,c=t.left-a.left;i.setAttribute("style","top:".concat(s,"px; left:").concat(c,"px; width:").concat(t.width,"px; height:").concat(t.height,"px;")),i.setAttribute("data-tooltip",ju.list.setStart),i.addEventListener("click",dD),null===(n=r.tooltip)||void 0===n||n.show(i,{},null)}(e,pA(e));Qa(a,r),a.addEventListener("mouseleave",DI)}}}function LI(e,t){var n=kD(e)?_I:SI;w(t);var r=OD(e),o=Gp(e);if(Ga(o,n)){if(r)lD(OX.getEditor(e),e);Ja(o,n),o.removeEventListener("mouseleave",DI)}}function RI(e,t){var n;console.log(t);var r=e.target;w(r);var o=wN(r);if(o){var i=OX.getEditor(o);w(i);var a=i.getSelectionDetail();if(a.startBlock!==o&&(i.selectBlock(o,-1,-1),a=i.getSelectionDetail()),"add-mention"===t.data)(null===(n=i.options.callbacks)||void 0===n?void 0:n.onAddMention)?i.options.callbacks.onAddMention(i,o,a):i.insertEmptyBox(Pi.MENTION);else if("add-reminder"===t.data){var s=o.querySelector(".inline-plugin.box-calendar");s?i.editBox(i.getBoxData(Md(s)),o):i.insertEmptyBox(Pi.CALENDAR)}}}function jI(e,t,n){if(0===e.filter((function(e){return vD(e)})).length)return!1;for(var r=0;r<e.length;r++){var o=e[r];if(vD(o)||Uf(o)){if(!n.allowTextOnly&&CD(o))return!1;if("ordered"===t&&(!OD(o)||BD(o)))return!1;if("unordered"===t&&(OD(o)||BD(o)))return!1;if("checkbox"===t&&!BD(o))return!1}}return!0}function UI(e,t,n,r){if(0===t.length)return[];if(t.some((function(e){var t=Rp(e);return t===Qi.CODE_LINE||t===Qi.CODE})))return[];var o,i,a=null!=r?r:{};if("toCheckbox"===n)i="checkbox";else if("toUnorderedList"===n)i="unordered";else{if("toOrderedList"!==n)return[];i="ordered"}if(!(o=!jI(t,i,{allowTextOnly:!1})))return[];var s=new Set,c=[];if(t.forEach((function(e){Uf(e)&&c.push(wb(e,void 0,n,a))})),o&&"toOrderedList"===n&&c.length>0)YM(e,c[0],{fromUndo:!1,resetStart:!0});else if(!o&&c.length>0){var l=kN(c[0]);Array.from(s).forEach((function(t){var n=ZD(l,t);n&&YM(e,n,{fromUndo:!1,resetStart:!0})}))}return VL(c[0],0,c[c.length-1],0),c}var FI={getBlockOptions:function(){return{textBlock:!0}},getTextElement:bI,createBlockTemplateData:function(e,t){var n;return{start:(null==t?void 0:t.start)||1,level:(null==t?void 0:t.level)||1,ordered:!!t.ordered,text:null==t?void 0:t.text,groupId:null!==(n=null==t?void 0:t.groupId)&&void 0!==n?n:B(),checkbox:t.checkbox,textOnly:t.textOnly}},createBlockContent:function(e,t,n,r){w(n);var o=n,i=o.level;w(i),w(i>=1&&i<=AD);var a=document.createElement("ol"),s=document.createElement("li");a.appendChild(s),a.start=o.start,s.setAttribute("data-start",DD(e,i,o.start)),o.ordered?Qa(a,Vi.ORDERED):Qa(a,Vi.UNORDERED),o.textOnly&&Qa(a,"editor-list-text-only"),o.checkbox&&Qa(r,"editor-list-checkbox"),e.options.disableCalendar&&Qa(r,"editor-list-disable-calendar"),a.setAttribute("groupId",o.groupId),a.setAttribute("level","".concat(o.level)),_g(e,s,n);var c=a;return mD(c,i),gD(c,o.checkbox),o.viewAsMindmap&&setTimeout((function(){var e=wN(c);e&&uI(e,{},{})})),o.textOnly&&setTimeout((function(){try{var e=wN(c);null==e||e.classList.add("list-text-only")}catch(e){}})),c},updateBlockData:function(e,t){var n=t;void 0!==n.start&&null!==n.start&&_D(e,n.level||MD(e),n.start),void 0!==n.level&&null!==n.level&&SD(e,n.level),void 0!==n.groupId&&null!==n.groupId&&LD(e,n.groupId),void 0!==n.ordered&&null!==n.ordered&&ND(e,n.ordered),void 0!==n.checkbox&&function(e,t){var n=Gp(e);w(Ga(n,Vi.CHECKBOX)),"checked"===t?Qa(n,Vi.CHECKED):Ja(n,Vi.CHECKED);gD(n,t)}(e,n.checkbox),ED(e,!!n.textOnly),Ng(e,t),Mg(e),iI(e)&&fI(e)},updateBlockText:function(e,t){kD(e)&&CI(e),w(vD(e)),Og(Vf(e),t),t.toOps().length>0&&iI(e)&&fI(e)},executeBlockCommand:function(e,t,n){switch(t){case"list/indent":if(EI(e))return BI(e),!0;break;case"list/outdent":if(TI(e))return MI(e),!0;break;case"list/continueList":if(uA(e))return function(e){w(vD(e));for(var t=MD(e),n=MN(e);n;){if(vD(n)&&OD(n)&&!CD(n)){var r=MD(n);if(r<t)return;if(r===t)break}n=MN(n)}w(n);var o=TD(n),i=xD(n)+1,a=TN(e),s=YD(e,{withSelf:!0}).filter((function(e){return TN(e)>=a}));if(o===TD(e)){var c=s.indexOf(e);w(-1!==c),s.splice(0,c)}var l=OX.getEditor(e);l.beginUndoGroup(),s.forEach((function(e,t){qM(e,{groupId:o,start:i+t},{noFixStart:!0,resetStart:!1})})),l.endUndoGroup(),Mg(e)}(e),!0;break;case"list/restartList":if(dA(e))return function(e){w(dA(e));var t=QD(e);t.unshift(e);var n=B(),r=OX.getEditor(e);r.beginUndoGroup();var o=0;t.forEach((function(e){CD(e)||(qM(e,{groupId:n,start:o+1},{noFixStart:!0,resetStart:!1}),o+=1)})),r.endUndoGroup(),Mg(e)}(e),!0;break;case"list/changeListStart":if(lA(e)&&(null==n?void 0:n.start)&&"number"==typeof n.start&&n.start>=1)return function(e,t){w(vD(e)),w(t>=1);var n=QD(e);n.unshift(e);var r=B(),o=OX.getEditor(e);o.beginUndoGroup(),n.forEach((function(e,n){CD(e)||qM(e,{groupId:r,start:t+n},{noFixStart:!0,resetStart:!1})})),o.endUndoGroup(),Mg(e)}(e,n.start),!0;break;case"list/remove":if(vD(e))return function(e){w(vD);var t=hf(e);w(Uf(e)),w(t),w(t.text);var n,r=t.text.clone(),o=zp(e),i=OX.getEditor(e),a=t.heading,s=MD(e)-1;return n=If(i,Qi.TEXT,{text:r,padding:s,heading:a},o),OX.getEditor(e).replaceBlock(e,n,{fromUndo:!1,focusToBlock:!0})}(e)}return!1},executeTextCommand:function(e,t,n,r,o){return bm(e,bI(e),t,n,r,o)},getContextMenuData:function(e,t){return w(e),w(t),[]},getTextCommandStatus:Ug,handleKeydownEvent:function(e,t,n){if(w(vD(e)),iI(e))return n.preventDefault(),!0;var r=OX.getEditor(e),o=kN(e);if(w(o),ci(n)&&GN(r,n,""))return!0;if(si(n)){if(n.preventDefault(),n.stopPropagation(),Gf(e)){if(TI(e))MI(e);else{r.beginUndoGroup();var i=WD(e,{withSelf:!0}),a=i.findIndex((function(t){return t===e}));r.replaceBlockToText(e,""),a>0&&YM(r,i[a-1],{fromUndo:!1}),r.endUndoGroup()}return!0}if(CD(e)&&t.startOffset===Kf(e)&&MD(e)>1){var s=qD(e)||HD(e);if(s){var c={id:B(),type:Qi.LIST,text:Yo.create(""),start:xD(s)+1,groupId:TD(s),level:MD(s),ordered:OD(s),checkbox:kD(s)?"unchecked":void 0,padding:sf(s)},l=TN(e)+1,u=r.insertBlock(o,l,Qi.LIST,c,{fromUndo:!1,focusToBlock:!0,localAction:!0});return YM(r,u,{fromUndo:!1,resetStart:!0}),!0}}return r.beginUndoGroup(),KL(kI(e),0),r.endUndoGroup(),!0}var d=0===t.startOffset;if(di(n)&&d){if(n.preventDefault(),n.stopPropagation(),!CD(e)&&!BD(e)){r.beginUndoGroup(),ED(e,!0);var p=xI(e);r.updateBlockData(e,p,{updateBlock:!1,fromUndo:!1,partial:!0});var f=!qD(e);return YM(r,e,{fromUndo:!1,resetStart:f}),r.endUndoGroup(),!0}var h=YD(e,{withSelf:!1}),A={id:zp(e),type:Qi.TEXT,text:yI(e).clone(),heading:Gu(e)?ff(e):void 0};return r.replaceBlock(e,A,{fromUndo:!1,focusToBlock:!0}),h.length>0&&YM(r,h[0],{fromUndo:!1,resetStart:!0}),!0}if(pi(n))return n.preventDefault(),n.stopPropagation(),EI(e)&&BI(e),!0;if(fi(n)){if(n.preventDefault(),n.stopPropagation(),TI(e))MI(e);else if(!BD(e)){r.beginUndoGroup();var m=TD(e);r.executeBlockCommand("list/remove",e);var g=ZD(o,m);g&&YM(r,g,{fromUndo:!1,resetStart:!0}),r.endUndoGroup()}return!0}return jg(e,t,n)},handleBlockInserted:function(e,t){Mg(e),function(e){if(w(vD(e)),iI(e))fI(e);else{var t=UD(e);if(t&&iI(t))fI(t);else{var n=FD(e);if(n&&iI(n))fI(n);else{var r=HD(e);r&&iI(r)?fI(r):console.debug("skip update mindmap")}}}}(e),t.localAction&&YM(OX.getEditor(e),e,{fromUndo:t.fromUndo,resetStart:!1})},handleBlockDeleted:function(e,t,n,r){w(n),w(r);try{var o=BN(e,t);iI(o)&&fI(o)}catch(e){console.error(e)}},handleBlockClicked:function(e,t){if(w(t),CD(e))return!0;var n=kD(e),r=OX.getEditor(e);if(!r.lastEvent||r.lastEvent instanceof KeyboardEvent)return!0;if(!r.isReadOnly()&&n&&II(e,t)&&II(e,r.lastEvent)){gD(Gp(e),"checked"===n?"unchecked":"checked");var o=xI(e);r.updateBlockData(e,o,{updateBlock:!1,fromUndo:!1,partial:!0}),CI(e)}return!0},handleBlockMouseMove:function(e,t){if(w(t),CD(e))return!0;if(II(e,t)){var n=OX.getEditor(e);OI(n,e,_I),OI(n,e,SI),NI(e,t)}else LI(e,t);return!0},handleBlockTextChanged:function(e){return kD(e)?(CI(e),zg(e)):zg(e)},handleBlockMouseEnter:nd,handleBlockMouseLeave:function(e,t){LI(e,t),rd(e)},saveData:xI,getCaretPos:function(e,t,n){return Ig(e,t,n)},createRange:function(e,t){return Dg(e,t)},getToolbarOptions:function(e,t,n){var r,o,i=OX.getEditor(e);if(!i.isBlockWritable(e))return[];if("fixed"===n){if(!BD(e))return Ga(e,"editor-in-mindmap-first")||i.options.disableMindmap?null:[{id:"view-as-mindmap",element:mI(e),text:"",infoText:ju.list.viewAsMindMap,className:"link-text view-as-mindmap",disabled:!1,data:e,onClick:function(){uI(e,{},{saveData:!0,selectBlock:!0})}}];if(i.isMarkdownOnly())return null;var a=[];return((null===(r=i.options.callbacks)||void 0===r?void 0:r.onGetMentionItems)||(null===(o=i.options.callbacks)||void 0===o?void 0:o.onAddMention))&&a.push({id:"",text:ju.list.addMention,icon:qo.addUserIcon,className:"link-text editor-add-mention-button",disabled:!1,data:"add-mention",onClick:RI}),i.options.disableCalendar||a.push({id:"",text:ju.list.addCalendar,icon:qo.alarmIcon,className:"editor-add-reminder-button",disabled:!1,data:"add-reminder",onClick:RI}),a}return qk(e,t,n)},getTextToolbarOptions:Fg,highlightText:Bg,getAbstract:function(e){return bI(e).innerText}};function zI(e,t){var n=function(e){var t=e.getSelectionDetail();if(t.type===ia.INVALID)return null;var n=t.startBlock,r=t.startOffset,o=t.endBlock,i=t.endOffset;return w(n),w(o),w(void 0!==r),w(void 0!==i),{start:{containerId:eL(kN(n)),blockIndex:TN(n),offset:r},end:{containerId:eL(kN(o)),blockIndex:TN(o),offset:i}}}(e);if(t(),n)try{var r=e.getContainerById(n.start.containerId);if(!r)return;var o=e.getContainerById(n.end.containerId);if(!o)return;var i=BN(r,n.start.blockIndex),a=BN(o,n.end.blockIndex);if(!i||!a)return;var s=n.start.offset,c=n.end.offset;Kf(i)<s&&(s=Kf(i)),Kf(a)<c&&(c=Kf(a)),HL(i,s,a,c)}catch(e){console.warn("failed to restore selection, ".concat(e.message))}}function QI(e,t,n){if(!Uf(e))return t;if(t<=0)return t;if(t>=Kf(e))return t;var r=Hp(e).sub(t,1).toPlainText();return r&&function(e){if("string"==typeof e)return 0!==e.length&&e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343;if(void 0===e)return!1;throw new TypeError("string-character-is-astral-surrogate/isLowSurrogate(): the input is not string but "+typeof e)}(r)&&("forward"===n?t+=1:"backward"===n&&(t-=1)),t}tf(Qi.LIST,FI);var PI={stop:!0};function HI(e,t){var n=e,r=Kf(t);return n>r&&(n=r),n}function VI(e,t,n){return Uf(e)?{block:e,offset:iR(e,n.lineOffset),moveToEnd:n.atEnd&&!n.atHome}:{block:e,offset:HI(t,e)}}function KI(e,t,n,r,o){if(Hf(r)){var i=Ip(e,t,n,r,o,"left");if(i)return i;o=0}if(0===o){var a=vL(r);return a?{block:a,offset:-1}:{stop:!0}}var s;if((t.ctrlKey||t.metaKey)&&Uf(r)){if(Jo())return WI(e,t,n,r);s=function(e,t){var n=t;-1===n&&(n=ep(e));var r=qd(e);if(w(r.length>=t),n===r.length&&r[r.length-1]===Zi)return r.length-1;for(;n>0;){var o=r[n-1];if(o===Zi)return n-1;if(" "===o||o===String.fromCharCode(160))return n-1;n-=1}return 0}(Vf(r),o)}return void 0===s&&(s=o-1),{block:r,offset:s}}function GI(e,t,n,r,o){var i,a=Kf(r);if(Hf(r)){var s=Ip(e,t,n,r,o,"right");if(s)return s;o=a}if(o===a){var c=bL(r);return c?{block:c,offset:0}:{stop:!0}}if((t.ctrlKey||t.metaKey)&&Uf(r)){if(Jo())return YI(e,t,n,r);i=function(e,t){var n=t;-1===n&&(n=ep(e));var r=qd(e);if(w(r.length>=t),0===n&&r[0]===Zi)return 1;for(;n<r.length;){var o=r[n];if(o===Zi)return n+1;if(" "===o||o===String.fromCharCode(160))return n+1;n+=1}return n}(Vf(r),o)}return void 0===i&&(i=o+1),{block:r,offset:i}}function WI(e,t,n,r){return{block:r,offset:n.homeOffset}}function YI(e,t,n,r){return n.atEnd?{}:{block:r,offset:n.endOffset,moveToEnd:!0}}function qI(e,t,n,r,o,i,a,s){var c=aR(n.selection,r,o,a,s);return"ArrowLeft"===t.key?KI(e,t,c,r,o):"ArrowRight"===t.key?GI(e,t,c,r,o):"ArrowUp"===t.key?ii(t)?function(e){var t=e.rootContainer();return w(ON(t)>0),{block:BN(t,0),offset:0}}(e):function(e,t,n,r,o,i){if(Uf(r)){if(!n.atTop){w(void 0!==n.previousLineHomeOffset);var a=n.atEnd,s=n.previousLineHomeOffset+(o-n.homeOffset);return s>=n.homeOffset&&(s=n.homeOffset-1,a=!0),{block:r,offset:s,moveToEnd:a}}}else if(Hf(r)){var c=vL(r);if(c)return VI(c,o,n)}if(i){var l=MN(r);if(!l){var u=Xf(i,r,"top");if(u){var d=ON(u);w(d>0),w(l=BN(u,d-1))}else(l=MN(i))||(l=e.insertTextBlock(e.rootContainer(),0,""));if(l)return VI(l,o,n)}}var p=vL(r);return p?VI(p,o,n):PI}(e,0,c,r,o,i):"ArrowDown"===t.key?ii(t)?function(e){var t=e.rootContainer(),n=ON(t);return w(n>0),{block:BN(t,n-1),offset:-1}}(e):function(e,t,n,r,o,i,a){if(Uf(o)){if(!r.atBottom){w(void 0!==r.nextLineEndOffset);var s,c=r.atEnd,l=n.collapsed&&!t.shiftKey;return r.atEnd?s=l?r.nextLineEndOffset-1:r.nextLineEndOffset:r.atHome?s=r.endOffset:(s=r.endOffset+(i-r.homeOffset))>=r.nextLineEndOffset&&(s=l?r.nextLineEndOffset-1:r.nextLineEndOffset,c=!0),{block:o,offset:s,moveToEnd:c}}}else Hf(o);if(a){var u=IN(o);if(!u){var d=Xf(a,o,"bottom");if(d?(w(ON(d)>0),u=BN(d,0)):u=bL(a),!u&&e.isWritable()){var p=TN(a);u=e.insertTextBlock(e.rootContainer(),p+1,"")}if(u)return{block:u,offset:HI(i,u),moveToEnd:r.atEnd}}}var f=bL(o);return f&&Uf(f)?{block:f,offset:oR(f,r.atHome?0:rR(o,i)),moveToEnd:r.atEnd}:f?{block:f,offset:HI(r.lineOffset,f),moveToEnd:r.atEnd}:e.isWritable()?{block:e.insertTextBlock(e.rootContainer(),-1,""),offset:0}:PI}(e,t,n,c,r,o,i):"Home"===t.key?WI(0,0,c,r):"End"===t.key?YI(0,0,c,r):"PageUp"===t.key?function(e,t,n,r){var o,i=kN(n),a=TN(n);if(0===a){if(pL(i))return{block:n,offset:0};var s=wN(i);w(s);var c=kN(s);if(w(c),i=c,0===(a=TN(s)))return{block:s,offset:0}}return{block:o=BN(i,a>5?a-5:0),offset:HI(r,o)}}(0,0,r,o):"PageDown"===t.key?function(e,t,n,r){var o,i=kN(n),a=TN(n),s=ON(i);if(a===s-1){if(pL(i))return{block:n,offset:-1};var c=wN(i);w(c);var l=kN(c);if(w(l),i=l,(a=TN(c))===(s=ON(i))-1)return{block:c,offset:-1}}return{block:o=BN(i,a<s-5?a+5:s-1),offset:HI(r,o)}}(0,0,r,o):{}}function ZI(e,t,n,r){if(n.focusedOnInput)return console.log("input keydown event"),"Enter"===r.key&&(r.preventDefault(),r.stopPropagation(),!0);if(!e.isBlockWritable(t))return r.stopPropagation(),r.preventDefault(),!0;e.isBlockMarkerExpired(t)||e.setBlockMarkerExpired(t,!0);var o=di(r);if(nA(t))return function(e,t,n){if(n.preventDefault(),n.stopPropagation(),di(n)||ui(n)){e.beginUndoGroup();var r=TN(t),o=kN(t);return e.deleteBlock(t,{fromUndo:!1,localAction:!0}),e.insertTextBlock(o,r,""),e.endUndoGroup(),!0}if(si(n)){var i=TN(t),a=kN(t);e.insertTextBlock(a,i+1,"")}}(e,t,r),!0;if(o&&0===n.startOffset&&n.collapsed){var i=sf(t);if(i&&i>1)return e.setBlockPadding(t,1),r.preventDefault(),r.stopPropagation(),!0;if(1===i)return e.setBlockPadding(t,0),r.preventDefault(),r.stopPropagation(),!0}var a=$o(r.key),s=ui(r),c=si(r),l=r.shiftKey&&"Enter"===r.key&&!r.metaKey&&!r.ctrlKey&&!r.altKey;if(a||o||s||c||l){if(!n.collapsed){if(!Uf(t)){w(Hf(t)),w(0===n.startOffset),w(1===n.endOffset||-1===n.endOffset);var u=e.replaceBlock(t,{id:zp(t),type:Qi.TEXT,text:new Yo([])},{fromUndo:!1,focusToBlock:!0});return $o(r.key)&&ef(u,n,r),!0}if(function(e,t,n){return!(n.collapsed||!n.startBlock||!n.endBlock||n.startBlock!==n.endBlock||!Uf(n.startBlock)||"`"!==t.key||(e.executeTextCommand("style-code"),t.preventDefault(),t.stopPropagation(),0))}(e,r,n))return!0;if(n.range.deleteContents(),w(Vf(t)),function(e){0===ep(e)&&(e.innerHTML="<br>")}(Vf(t)),Tf(t),o||s)return!0}if(Hf(t))return function(e,t,n,r){var o=kN(t);if(w(o),ef(t,n,r))return!0;if("Enter"===r.key&&r.shiftKey){var i=TN(t);return e.insertBlock(o,i,Qi.TEXT,{id:B(),type:Qi.TEXT,text:new Yo([])},{fromUndo:!1,focusToBlock:!0,localAction:!0}),!0}if($o(r.key)){if(0===n.startOffset){var a=MN(t);if(a&&Uf(a))KL(a,-1,-1);else{var s=0;t&&(s=TN(t)),e.insertBlock(o,s,Qi.TEXT,{id:B(),type:Qi.TEXT,text:new Yo([])},{fromUndo:!1,focusToBlock:!0,localAction:!0})}return!1}if(1===n.startOffset){var c=IN(t);return c&&Uf(c)?KL(c,0,0):e.insertBlock(o,-1,Qi.TEXT,{id:B(),type:Qi.TEXT,text:new Yo([])},{fromUndo:!1,focusToBlock:!0,localAction:!0}),!1}w(!1)}if((di(r)||ui(r))&&gf(t))return!0;if(di(r)){var l=zp(t),u=Qi.TEXT;return KL(e.replaceBlock(t,{id:l,type:u,text:new Yo([])},{fromUndo:!1,focusToBlock:!0}),0),!0}if(ui(r)){var d=zp(t),p=Qi.TEXT;return KL(e.replaceBlock(t,{id:d,type:p,text:new Yo([])},{fromUndo:!1,focusToBlock:!0}),0),!0}if(si(r)){var f=TN(t)+1;return e.insertBlock(o,f,Qi.TEXT,null,{fromUndo:!1,focusToBlock:!0,localAction:!0}),!0}return!0}(e,t,n,r);if(s&&Uf(t)&&Gf(t)){var d=IN(t);if(d){if(e.isTitleBlock(t)){if(e.beginUndoGroup(),Uf(d)){var p=Ch(d);e.insertBlockText(t,0,p),e.selectBlock(t,0,0)}return e.deleteBlock(d,{fromUndo:!1,localAction:!0}),e.endUndoGroup(),!0}return KL(d,0),e.deleteBlock(t,{fromUndo:!1,localAction:!0}),!0}}if(o&&Rp(t)===Qi.TEXT&&Gf(t)){var f=MN(t);if(f)return KL(f,-1),e.deleteBlock(t,{fromUndo:!1,localAction:!0}),!0;var h=Mh(t);if(h&&Rp(h)===Qi.TABLE&&(f=vL(t)))return KL(f,-1),!0}}return!1}function XI(e){var t=e.target;w(t),w(t instanceof Node);var n=EN(t);if(n){var r=OX.getEditor(n);if(!r.isReadOnly())if(Yp(t)){if(pi(e)){var o=wN(t);w(o);var i=kN(o),a=TN(o),s=IN(o);s||(s=r.insertTextBlock(i,a+1,"")),r.selectBlock(s,0,0),e.stopPropagation(),e.preventDefault()}}else if(!r.isComposing()&&!r.autoSuggest.handleKeydown(e))if(ri(e)){var c=e.key.toLowerCase();/^(c|v|x)$/i.test(c)&&ii(e)||(function(e,t){var n=t.key.toLowerCase();if(!n)return!1;if(ai(t)){if("†"===n||"t"===n)e.executeTextCommand(gm());else if("∫"===n||"b"===n)e.executeTextCommand(vm());else{if("˙"!==n&&"h"!==n)return!1;e.beginUndoGroup(),e.executeTextCommand(gm()),e.executeTextCommand(vm()),e.endUndoGroup()}return t.stopPropagation(),t.preventDefault(),!0}if(ii(t)){if("z"===n)e.undo();else if("y"===n)e.redo();else if("s"===n)e.saveData();else if("b"===n)e.executeTextCommand("style-bold");else if("i"===n)e.executeTextCommand("style-italic");else if("l"===n)e.executeTextCommand("style-italic");else if("u"===n)e.executeTextCommand("style-underline");else if("+"===n)e.executeTextCommand("style-super");else if("="===n)e.executeTextCommand("style-sub");else if("a"===n)e.executeTextCommand("selectAll");else if("d"===n)e.executeTextCommand("style-strikethrough");else if("f"===n)e.isChildEditor()||e.showFindDialog();else if("h"===n)e.isChildEditor()||e.showReplaceDialog();else if(["1","2","3","4","5","6","7","8"].includes(n))e.executeBlockCommand("toHeading".concat(n));else if("enter"===n)e.insertBlock(e.rootContainer(),-2,Qi.TEXT,null,{fromUndo:!1,localAction:!0,focusToBlock:!0});else{if("k"!==n)return!1;e.executeTextCommand("link")}return t.preventDefault(),!0}if(oi(t)&&t.shiftKey&&!t.altKey){if("z"===n)return e.redo(),t.preventDefault(),!0;if("="===n||"+"===n)return e.executeTextCommand("style-super"),t.preventDefault(),!0;if("u"===n)return zI(e,(function(){jI(e.getAllSelectedBlocks({deep:!0}),"ordered",{allowTextOnly:!1})?(e.executeBlockCommand("list/remove"),t.preventDefault()):(e.executeBlockCommand("toOrderedList"),t.preventDefault())})),!0;if("l"===n)return zI(e,(function(){jI(e.getAllSelectedBlocks({deep:!0}),"unordered",{allowTextOnly:!1})?(e.executeBlockCommand("list/remove"),t.preventDefault()):(e.executeBlockCommand("toUnorderedList"),t.preventDefault())})),!0;if("v"===n)return ob().then((function(t){return Kv(e,t)})),!0}if(t.altKey&&t.shiftKey&&!oi(t)){if("ArrowUp"===t.key)e.executeBlockCommand("cloneBlockBelow");else{if("ArrowDown"!==t.key)return!1;e.executeBlockCommand("cloneBlockAbove")}return!0}if(t.altKey&&!t.shiftKey&&!oi(t)){if("ArrowUp"===t.key)e.executeBlockCommand("moveBlockUp");else{if("ArrowDown"!==t.key)return!1;e.executeBlockCommand("moveBlockDown")}return!0}if(t.altKey&&!t.shiftKey&&oi(t)){if("¬"===t.key||"l"===t.key)e.executeBlockCommand("alignLeft");else if("®"===t.key||"r"===t.key)e.executeBlockCommand("alignRight");else if("Dead"!==t.key&&"e"!==t.key||"KeyI"===t.code)if("≥"===t.key||"."===t.key)e.executeBlockCommand("toQuoted");else{if("†"!==n&&"t"!==n)return!1;e.executeBlockCommand("toCheckbox")}else e.executeBlockCommand("alignCenter");return!0}return!1}(r,e)&&(e.preventDefault(),e.stopPropagation()),Jo()&&e.metaKey&&"backspace"===c&&(e.preventDefault(),e.stopPropagation()))}else{var l=PL(r);if(l.type===ia.INVALID)return r.getAgentSelector().isMultiSelected()?(r.getAgentSelector().handleMultiBlocksEvent(e),e.preventDefault(),void e.stopPropagation()):(e.preventDefault(),void e.stopPropagation());if("ArrowRight"===e.key&&!ni(e)&&l.collapsed&&l.startBlock&&Uf(l.startBlock)&&Pg(l))return e.preventDefault(),void e.stopPropagation();if(ei(e.key))try{!function(e,t,n){if(w(n.startBlock),w(n.endBlock),w(void 0!==n.startOffset),w(void 0!==n.endOffset),!n.focusedOnInput){var r=n.direction,o="ArrowUp"===t.key||"ArrowLeft"===t.key||"Home"===t.key,i=r<0||0===r&&o,a=i?n.startBlock:n.endBlock,s=i?n.startOffset:n.endOffset,c=i?n.startComplexBlock:n.endComplexBlock,l=i?n.range.startContainer:n.range.endContainer,u=i?n.range.startOffset:n.range.endOffset;if(n.collapsed||t.shiftKey||"ArrowLeft"!==t.key&&"ArrowRight"!==t.key){var d=qI(e,t,n,a,s,c,l,u);if(t.preventDefault(),t.stopPropagation(),d.block)if(w(void 0!==d.offset),d.offset=QI(d.block,d.offset,o?"backward":"forward"),t.shiftKey){var p=i?-1:1;-1===p?HL(d.block,d.offset,n.endBlock,n.endOffset,p):HL(n.startBlock,n.startOffset,d.block,d.offset,p)}else if(d.moveToEnd&&Uf(d.block)){var f=hf(d.block).text;w(f);var h=d.offset>0?f.getCharAt(d.offset-1):-1;-1===h||""===h?KL(d.block,d.offset):" "===h?KL(d.block,d.offset-1):fR(d.block,d.offset-1)?KL(d.block,d.offset):(KL(d.block,d.offset-1),as())}else KL(d.block,d.offset)}}}(r,e,l)}catch(e){console.warn("failed to handle arrow event: ".concat(e.message))}else{if(!dR(r,l))return e.preventDefault(),void e.stopPropagation();if(l.startBlock&&l.startBlock===l.endBlock&&Uf(l.startBlock)&&l.startOffset!==l.endOffset&&("["===e.key||"]"===e.key))return e.preventDefault(),e.stopPropagation(),void r.executeTextCommand("link");if(l.type!==ia.MULTI_BLOCKS){var u=l.startBlock;if(w(u),!Vd(l.range.startContainer,l.range.startOffset)){if(ZI(r,u,l,e))return e.preventDefault(),void e.stopPropagation();for(var d=u;zf(d);)if(w(d=Mh(u)),ef(d,l,e))return e.preventDefault(),void e.stopPropagation();var p=ef(u,l,e);if(!p&&(pi(e)||fi(e))){var f=sf(u)||0;return f<12&&pi(e)?r.indentBlock(u):f>0&&fi(e)&&r.outdentBlock(u),e.preventDefault(),void e.stopPropagation()}p&&(e.preventDefault(),e.stopPropagation())}}else!function(e,t,n){var r=$o(n.key),o=di(n),i=ui(n),a=si(n);if((pi(n)||fi(n))&&t.startBlock)return Rp(t.startBlock)===Qi.LIST?fi(n)?e.executeBlockCommand("list/outdent"):e.executeBlockCommand("list/indent"):fi(n)?e.executeBlockCommand("outdent"):e.executeBlockCommand("indent"),n.preventDefault(),void n.stopPropagation();if(r||o||i||a){if((o||i)&&e.undoState.rememberCaretPos(),l_(t,{merge:!a}),r){e.undoState.rememberCaretPos();var s=e.getSelectionDetail();return void(s.startBlock&&Uf(s.startBlock)&&e.isBlockWritable(s.startBlock)||(n.preventDefault(),n.stopPropagation()))}n.preventDefault(),n.stopPropagation()}}(r,l,e)}}}}function JI(e){return ib()&&!!e&&Date.now()-e<100}function $I(e){return($I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tD(e,t){return(tD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oD(e);if(t){var o=oD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rD(this,n)}}function rD(e,t){if(t&&("object"===$I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oD(e){return(oD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var iD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tD(e,t)}(i,e);var t,n,r,o=nD(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this))._selectionState=null,n._compositionEndTime=0,n.getReferenceClientRect=function(){w(n._placementCenterContainer);var e=n._placementCenterContainer.getBoundingClientRect(),t=(e.width-n._contentContainer.clientWidth)/2,r=(e.height-n._contentContainer.clientHeight)/2;return new DOMRect(t,r,0,0)},n.unbindKeydown=function(){document.body.removeEventListener("keydown",n.handleKeydown),document.body.removeEventListener("compositionend",n.handleCompositionEnd)},n.bindKeydown=function(){n.unbindKeydown(),document.body.addEventListener("keydown",n.handleKeydown),document.body.addEventListener("compositionend",n.handleCompositionEnd)},n.handleWheel=function(e){e.stopPropagation(),e.preventDefault()},n.handleScroll=function(){n.options.noListenScroll||n.hide()},n.handleKeydown=function(e){e.isComposing||JI(n._compositionEndTime)||li(e)&&n.hide(!0)},n.handleCompositionEnd=function(){n._compositionEndTime=Date.now()},n.hide=function(e){n.isVisible()&&n.popover.hide(e)},n.editor=e,n.options=t,n._contentContainer=ps("div",[Vi.POPOVER_DIALOG_CONTAINER],null),n._contentContainer.appendChild(t.content),n.popover=new QA,n.popover.on("show",(function(e){e.instance===n.popover.instance&&n.handleShown()})),n.popover.on("hide",(function(e){e.instance===n.popover.instance&&n.handleHidden()})),n.options.placementCenter&&(n._placementCenterContainer=cs(n.editor.rootElement),n.options.popoverOptions.popoverTarget=n._placementCenterContainer,n.getReferenceClientRect.contextElement=n._placementCenterContainer,n.options.popoverOptions.getReferenceClientRect=n.getReferenceClientRect),n}return t=i,(n=[{key:"destroy",value:function(){this.unbindKeydown(),this.popover.destroy(),this._contentContainer.remove()}},{key:"handleHidden",value:function(){var e,t;this.options.placementCenter&&(null===(e=this._placementCenterContainer)||void 0===e||e.removeEventListener("wheel",this.handleWheel),null===(t=this._placementCenterContainer)||void 0===t||t.removeEventListener("scroll",this.handleScroll)),this.unbindKeydown(),w(this._selectionState),w(this.options),this.editor.restoreSelectionState(this._selectionState),this.options.onHidden&&this.options.onHidden(this.options.data)}},{key:"handleShown",value:function(){var e,t;w(this.options),this.options.placementCenter&&(null===(e=this._placementCenterContainer)||void 0===e||e.addEventListener("wheel",this.handleWheel),null===(t=this._placementCenterContainer)||void 0===t||t.addEventListener("scroll",this.handleScroll)),this.options.disableEscape||this.bindKeydown(),this._selectionState=this.editor.saveSelectionState(),this.options.onShown&&this.options.onShown(this.options.data)}},{key:"isVisible",value:function(){return this.popover.isVisible()}},{key:"restoreSelectionState",value:function(){return w(this._selectionState),this.editor.restoreSelectionState(this._selectionState)}},{key:"show",value:function(){var e,t,n;if(!this.isVisible()){var r=Object.assign({content:this._contentContainer,maskTarget:null,parentPopover:null,autoHide:!1,autoShow:!1,hideOnClick:!0,trigger:"click",showMask:!1,interactive:!0,placement:"bottom-start",fallbackPlacements:["top-start","left","right"],arrow:!1,theme:"popover-menu",zIndex:(null===(e=this.editor.options.zIndex)||void 0===e?void 0:e.popoverDialog)||1805,refuseOverflow:null===(t=this.editor.options.popover)||void 0===t?void 0:t.refuseOverflow,overflowBoundary:null===(n=this.editor.options.popover)||void 0===n?void 0:n.overflowBoundary},this.options.popoverOptions);this.popover.create(r)}}}])&&eD(t.prototype,n),r&&eD(t,r),i}(sa),aD="list-bullet-mask",sD="data-dialog";function cD(e){return e.querySelector(".".concat(aD))}function lD(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=cD(t);null===(n=e.tooltip)||void 0===n||n.hide();var i=r.forcedRemove,a=void 0!==i&&i;if(o&&(a||!o.getAttribute(sD))){var s=o.dialog;s&&s.destroy(),r.isTextOnly&&o.remove()}}function uD(e,t,n){e.selectBlock(t,0,0);var r=cD(t);r&&r.setAttribute(sD,"popover-dialog");var o=function(e,t){var n=ps("div",["editor-list-number-input-container"],null);ps("span",[],n,ju.list.numberLabel);var r=ps("input",[Vi.POPOVER_INPUT],n);r.type="number",r.min="1";var o=Gp(t);return r.value="".concat(o.start||1),ps("button",[Vi.BUTTON,Vi.POPOVER_BUTTON],n,ju.common.OK).onclick=function(){e.executeBlockCommand("list/changeListStart",t,{start:parseInt(r.value,10)}),lD(e,t,{forcedRemove:!0})},n}(e,t),i=new iD(e,{popoverOptions:{commandTarget:t,popoverTarget:n},content:o,onShown:function(){var e=o.querySelector("input");setTimeout((function(){null==e||e.focus()}))},onHidden:function(){i.destroy(),function(e,t){var n=cD(t);n&&(n.removeAttribute(sD),lD(e,t,{forcedRemove:!0}))}(e,t)}});r.dialog=i,i.show()}function dD(e){var t,n,r=e.target;w(r instanceof HTMLElement);var o=wN(r);w(o),OL().removeAllRanges();var i=OX.getEditor(o);lD(i,o,{forcedRemove:!0});var a={continueList:uA(o),restartList:dA(o),changeListStart:lA(o)};if(null===(t=i.options.callbacks)||void 0===t?void 0:t.onClickListNumber){var s=pA(o);null===(n=i.options.callbacks)||void 0===n||n.onClickListNumber(i,o,{rect:s,status:a})}else{var c=cD(o);w(c),c.setAttribute(sD,"float-menu"),i.floatMenu.show(i,o,r,[{id:"continueList",text:ju.list.continueList,shortCut:"",disabled:!a.continueList,onClick:function(){!function(e,t){e.executeBlockCommand("list/continueList",t),setTimeout((function(){e.selectBlock(t,0,0),e.focus()}),0)}(i,o)}},{id:"restartList",text:ju.list.restartList,shortCut:"",disabled:!a.restartList,onClick:function(){!function(e,t){e.executeBlockCommand("list/restartList",t),setTimeout((function(){e.selectBlock(t,0,0),e.focus()}),0)}(i,o)}},{id:"changeNumber",text:ju.list.changeNumber,shortCut:"",disabled:!a.changeListStart,onClick:function(){uD(i,o,r)}}],{autoHide:!0,autoShow:!1,showMask:!1,onHidden:function(){!function(e,t){e.floatMenu.destroy();var n=cD(t);n&&"float-menu"===n.getAttribute(sD)&&(n.removeAttribute(sD),lD(e,t))}(i,o)}})}}function pD(e){return!!(e&&e instanceof Element)&&e.classList.contains(aD)}function fD(e){return function(e){if(Array.isArray(e))return hD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return hD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var AD=8;function mD(e,t){w(t>=1&&t<=AD);Ja.apply(s,[e].concat(["level1","level2","level3","level4","level5","level6","level7","level8"])),Qa(e,"level".concat(t))}function gD(e,t){t?(Qa(e,Vi.CHECKBOX),"checked"===t?(Ja(e,Vi.UNCHECKED),Qa(e,Vi.CHECKED)):(Ja(e,Vi.CHECKED),Qa(e,Vi.UNCHECKED))):Ja(e,Vi.CHECKBOX,Vi.CHECKED,Vi.UNCHECKED)}function vD(e){return jp(e)&&"list"===Rp(e)}function bD(e){w("OL"===Gp(e).tagName);var t=function(e){var t=Gp(e);w("OL"===t.tagName);var n=t.children;w(1===n.length);var r=n[0];return w(r instanceof HTMLLIElement),r}(e);return w(t),t}function yD(e){w(vD(e));var t=Gp(e);return w(t instanceof HTMLOListElement),t}function wD(e,t){return Gp(e).getAttribute(t)}function xD(e){return yD(e).start}function kD(e){var t=Gp(e);if(Ga(t,Vi.CHECKBOX))return Ga(t,Vi.CHECKED)?"checked":"unchecked"}function CD(e){return!!Ga(Gp(e),"editor-list-text-only")||void 0}function ED(e,t){var n=Gp(e);t?(Qa(n,"editor-list-text-only"),Qa(e,"list-text-only"),lD(OX.getEditor(e),e,{isTextOnly:!0,forcedRemove:!0})):(Ja(n,"editor-list-text-only"),Ja(e,"list-text-only"))}function BD(e){return!!kD(e)}function TD(e){var t=wD(e,"groupId");return w(t),t}function MD(e){var t=wD(e,"level")||"1";return w(t),Number.parseInt(t,10)}function ID(e,t,n){Gp(e).setAttribute(t,n)}function DD(e,t,n){var r,o;return(null===(r=(o=e instanceof HTMLElement?OX.getEditor(e):e).options.callbacks)||void 0===r?void 0:r.onGetListNumber)?o.options.callbacks.onGetListNumber(o,t,n):xn(t,n)}function _D(e,t,n){yD(e).start=n,bD(e).setAttribute("data-start",DD(e,t,n)),w(null!==n)}function SD(e,t){ID(e,"level","".concat(t)),_D(e,t,xD(e)),mD(Gp(e),t)}function OD(e){return Ga(Gp(e),Vi.ORDERED)}function ND(e,t){var n=yD(e);t?(Qa(n,Vi.ORDERED),Ja(n,Vi.UNORDERED)):(Qa(n,Vi.UNORDERED),Ja(n,Vi.ORDERED))}function LD(e,t){ID(e,"groupId",t)}function RD(e,t,n){var r=kN(e),o=TN(e);o-=1;for(var i=[];o>=0;){var a=BN(r,o);if(vD(a)&&n(a)){if("findOne"===t)return a;i.push(a)}o-=1}return"findOne"===t&&0===i.length?null:i}function jD(e,t,n){var r=kN(e),o=ON(r),i=TN(e);i+=1;for(var a=[];i<o;){var s=BN(r,i);if(vD(s)&&n(s)){if("findOne"===t)return s;a.push(s)}i+=1}return"findOne"===t&&0===a.length?null:a}function UD(e){w(vD(e));var t=TD(e),n=MD(e),r=RD(e,"findOne",(function(e){if(TD(e)===t){if(n===MD(e))return!0;console.warn("invalid level: block level: ".concat(n,", test level: ").concat(MD(e)))}return!1}));return r?(w(!Array.isArray(r)),r):null}function FD(e){w(vD(e));var t=TD(e),n=MD(e),r=jD(e,"findOne",(function(e){if(TD(e)===t){if(n===MD(e))return!0;console.warn("invalid level: block level: ".concat(n,", test level: ").concat(MD(e)))}return!1}));return r?(w(!Array.isArray(r)),r):null}function zD(e){w(vD(e));var t=TD(e),n=MD(e),r=RD(e,"findAll",(function(e){if(TD(e)===t){if(n===MD(e))return!0;console.warn("invalid level: block level: ".concat(n,", test level: ").concat(MD(e)))}return!1}));return w(Array.isArray(r)),r}function QD(e,t){w(vD(e));var n=TD(e),r=MD(e),o=jD(e,"findAll",(function(e){if((null==t?void 0:t.skipTextOnly)&&CD(e))return!1;if(TD(e)===n){if(r===MD(e))return!0;console.warn("invalid level: block level: ".concat(r,", test level: ").concat(MD(e)))}return!1}));return w(Array.isArray(o)),o}function PD(e){var t=IN(e);if(!t)return null;for(var n=FD(e);t!==n;){if(w(t),vD(t))return MD(t)>MD(e)?t:null;if(!(t=IN(t)))return null}return null}function HD(e){w(vD);var t=e,n=zD(e);n.length>0&&(t=n[n.length-1]);var r=MN(t);return r&&vD(r)&&MD(r)+1===MD(t)?r:null}function VD(e){for(var t=[],n=HD(e);n;)t.push(n),n=HD(n);return t}function KD(e){var t=[],n=PD(e);if(!n)return t;for(;n;){var r=FD(n);t.push({block:n,children:KD(n)}),n=r}return t}function GD(e){var t=KD(e),n=[],r=function e(t){n.push(t.block),t.children.forEach((function(t){return e(t)}))};return t.forEach((function(e){return r(e)})),n}function WD(e,t){var n=zD(e),r=QD(e);return t.withSelf?[].concat(fD(n.reverse()),[e],fD(r)):[].concat(fD(n.reverse()),fD(r))}function YD(e,t){return WD(e,t).filter((function(e){return!CD(e)}))}function qD(e){return zD(e).find((function(e){return!CD(e)}))||null}function ZD(e,t){var n;return null!==(n=SN(e).find((function(e){return vD(e)&&TD(e)===t})))&&void 0!==n?n:null}function XD(e,t,n,r,o){var i;if(r)return function(e,t){for(var n=MN(e);n;){if(Gu(n)){var r=Wu(n);if(r<t)return null;if(r===t)return vD(n)?n:null}n=MN(n)}return null}(e,r);for(var a=OX.getEditor(e),s=null!==(i=null==o?void 0:o.start)&&void 0!==i?i:-1,c=!1,l=MN(e);l;){if(!vD(l)){if(a.options.strictList)break;if(!((null==o?void 0:o.start)&&(null==o?void 0:o.start)>1))break;c=!0}if(MD(l)===t&&OD(l)===n&&!CD(l))return Yu(l)!==r?null:c?xD(l)+1===s?l:null:l;if(MD(l)<t)return null;l=MN(l)}return null}function JD(e,t,n,r){for(var o=IN(e);o&&vD(o);){if(MD(o)===t&&OD(o)===n&&!CD(o)&&Yu(o)===r)return o;o=IN(o)}return null}function $D(e,t){return w(vD(e)),w(vD(t)),BD(e)===BD(t)&&OD(e)===OD(t)}function e_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return t_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n_(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];w(Uf(e)),w(Uf(t));var r=kN(e);w(r),w(r===kN(t));var o=n?e:t,i=n?t:e,a=Kf(e),s=Hp(e),c=Hp(t),l=Yo.combine(s,c),u=OX.getEditor(o);if(!u.isBlockWritable(e)||!u.isBlockWritable(t))throw new Gi;return u.updateBlockText(o,l,{fromUndo:!1,updateBlock:!0}),KL(o,a,a),u.deleteBlock(i,{fromUndo:!1,localAction:!0}),!0}function r_(e,t,n){if(w(Uf(e)),-1===n&&(n=Kf(e)),n!==t){w(n>t);var r=_o.createDeleteOp(t,n-t),o=OX.getEditor(e),i=hf(e).text;w(i);var a=i.clone().compose(r);o.updateBlockText(e,a,{fromUndo:!1,updateBlock:!0})}}function o_(e,t,n){w(Uf(e)),w(-1===n.indexOf("\n")),-1===t&&(t=Kf(e));var r=_o.createInsertOp(t,n),o=OX.getEditor(e),i=hf(e).text;w(i);var a=i.clone().compose(r);o.updateBlockText(e,a,{fromUndo:!1,updateBlock:!0})}function i_(e,t,n){w(Uf(e));var r=OX.getEditor(e),o=hf(e).text;w(o instanceof Yo);var i=o.insert(t,n);w(Yo.isDocument(i.toOps())),r.updateBlockText(e,i,{fromUndo:!1,updateBlock:!0})}function a_(e,t,n){var r=OX.getEditor(t[0].block);(w(r),w(!pL(e)),t.forEach((function(t){w(kN(t.block)===e)})),t.length>2)&&t.splice(1,t.length-2).reverse().forEach((function(e){r.deleteBlock(e.block,{fromUndo:!1,localAction:!0})}));if(1!==t.length){w(2===t.length);var o=t[0],i=o.block,a=o.start,s=t[1],c=s.block,l=s.end;w(!Ff(i)),w(!Ff(c)),Uf(i)&&Uf(c)?(r_(i,a,-1),(l>0||-1===l)&&r_(c,0,l),n.merge&&n_(i,c)):Uf(i)?(r.deleteBlock(c,{fromUndo:!1,localAction:!0}),r_(i,a,-1)):Uf(c)?(r.deleteBlock(i,{fromUndo:!1,localAction:!0}),(l>0||-1===l)&&r_(c,0,l)):(w(Hf(i)),w(Hf(c)),r.deleteBlock(c,{fromUndo:!1,localAction:!0}))}else{var u=t[0],d=u.block,p=u.start,f=u.end;if(Ff(d))return void w(!1,"should not be complex block");if(p===f)return;Uf(d)?r_(d,p,f):(w(Hf(d)),console.log("is embed block"),w(!1))}}function s_(e,t,n){w(Ff(t));var r=qL(t,e);if(0!==r.length)for(var o=0;o<r.length;o++){var i=r[o];a_(i.container,i.selectedBlocks,n)}}function c_(e,t,n){if(w(t.type!==ia.INVALID),t.collapsed){var r=e.getFocusedImage();if(r){var o=wN(r);if(w(o),w(o===t.startBlock),gf(o))return{deleteNothing:!0}}var i=!1;if((t.type===ia.ONE_EMBED_BLOCK||t.startBlock&&nA(t.startBlock))&&(i=!0),i){w(t.startBlock);var a=MN(t.startBlock),s=IN(t.startBlock);return e.deleteBlock(t.startBlock,{fromUndo:!1,localAction:!0}),{deleteOneBlock:!0,focusBlocks:[a,s],focusOffset:-1}}return console.warn("can not clear an collapsed selection"),{deleteNothing:!0}}if((w(t.startBlock),w(t.endBlock),Uf(t.startBlock)&&t.endBlock!==t.startBlock&&t.endBlock&&0===t.endOffset)&&MN(t.endBlock)===t.startBlock)return w(void 0!==t.startOffset),r_(t.startBlock,t.startOffset,Kf(t.startBlock)),{deleteOneTextBlockText:!0,focusBlocks:[t.startBlock],focusOffset:t.startOffset};if(t.type===ia.ONE_TEXT_BLOCK)return w(void 0!==t.startOffset),w(void 0!==t.endOffset),r_(t.startBlock,t.startOffset,t.endOffset),{deleteOneTextBlockText:!0,focusBlocks:[t.startBlock],focusOffset:t.startOffset};var c=MN(t.startBlock),l=IN(t.endBlock);if(t.type===ia.ONE_EMBED_BLOCK||t.type===ia.ONE_FULL_COMPLEX_BLOCK)return e.deleteBlock(t.startBlock,{fromUndo:!1,localAction:!0}),{deleteOneBlock:!0,focusBlocks:[c,l],focusOffset:-1};if(w(t.type===ia.MULTI_BLOCKS),w(t.startBlock!==t.endBlock),CN(t.startBlock,t.endBlock))return w(void 0!==t.startOffset),w(void 0!==t.endOffset),function(e,t,n,r,o,i,a){w(t),w(n),w(t!==n);var s=kN(t);w(s===kN(n));var c=MN(t),l=IN(n),u=!1,d=!1;0!==r||e.isTitleBlock(t)?Ff(t)?s_(i,t,a):Uf(t)?(w(void 0!==r),r_(t,r,-1)):(w(Hf(t)),0===r&&(u=!0)):u=!0,-1===o||o===Kf(n)?d=!0:Ff(n)?s_(i,n,a):Uf(n)?(w(void 0!==o),r_(n,0,o),o=0):(w(Hf(n)),1!==o&&-1!==o||(d=!0)),u&&d&&(Uf(t)?(u=!1,r_(t,0,-1)):Uf(n)&&(d=!1,r_(n,0,-1)));for(var p,f,h=TN(t)+(u?0:1),A=!1,m=TN(n)-(d?0:1);m>=h;m--){var g=BN(s,m);w(g),e.deleteBlock(g,{fromUndo:!1,localAction:!0})}if(!a.merge||u||d){if(!a.merge&&u&&d)return{deleteMultiBlocks:!0,deleteStart:u,deleteEnd:d,merged:!1,focusBlocks:[e.insertBlock(s,h,Qi.TEXT,null,{fromUndo:!1,focusToBlock:!1,localAction:!0})],focusOffset:0}}else Uf(t)&&Uf(n)?(n_(t,n,!0),A=!0):console.log("skip merge text, not text block");return A?(p=[t],f=r):u||d?u?d?(p=[c,l],f=-1):(p=[n],f=o):(p=[t],f=r):a.merge?(p=[t],f=-1):(p=[n],f=0),{deleteMultiBlocks:!0,deleteStart:u,deleteEnd:d,merged:A,focusBlocks:p,focusOffset:f}}(e,t.startBlock,t.endBlock,t.startOffset,t.endOffset,t.range,n);w(t.startComplexBlock||t.endComplexBlock);var u=!1,d=!1;t.startComplexBlock?(w(t.startComplexBlock),s_(t.range,t.startComplexBlock,n)):Uf(t.startBlock)?(w(void 0!==t.startOffset),r_(t.startBlock,t.startOffset,-1)):(w(Hf(t.startBlock)),0===t.startOffset&&(u=!0)),t.endComplexBlock?t.startComplexBlock!==t.endComplexBlock&&(w(t.endComplexBlock),s_(t.range,t.endComplexBlock,n)):Uf(t.endBlock)?(w(void 0!==t.endOffset),r_(t.endBlock,0,t.endOffset)):(w(Hf(t.endBlock)),1!==t.endOffset&&-1!==t.endOffset||(d=!0));var p=t.startComplexBlock||t.startBlock,f=t.endComplexBlock||t.endBlock;w(p),w(f);var h=kN(p);w(h===kN(f));for(var A,m,g=TN(p)+(u?0:1),v=TN(f)-(d?0:1);v>=g;v--){var b=BN(h,v);w(b),e.deleteBlock(b,{fromUndo:!1,localAction:!0})}var y=!e.isInEditor(t.startBlock),x=!e.isInEditor(t.endBlock);return y||x?y?x?(A=[c,l],m=-1):n.merge?(A=[c],m=-1):(A=[t.endBlock],m=0):(A=[t.startBlock],m=t.startOffset):n.merge?(A=[t.startBlock],m=-1):(A=[t.endBlock],m=0),{deleteMultiBlocks:!0,deleteStart:u,deleteEnd:d,merged:!1,focusBlocks:A,focusOffset:m}}function l_(e,t){w(e.startBlock);var n=OX.getEditor(e.startBlock);w(n);var r=kN(e.startBlock);n.beginUndoGroup();var o=c_(n,e,t);if(n.endUndoGroup(),!o.deleteNothing){if(n.updateCommentsCore(),w(o.focusBlocks),1===o.focusBlocks.length){var i=o.focusBlocks[0];return w(i),void KL(i,o.focusOffset||0)}w(2===o.focusBlocks.length);var a,s,c=e_(o.focusBlocks,2),l=c[0],u=c[1];if(!l&&!u)return 0===ON(r)?(console.warn("no blocks, create one text block"),void n.insertBlock(r,0,Qi.TEXT,null,{fromUndo:!1,focusToBlock:!0,localAction:!0})):void KL(BN(r,0),0);t.merge?(a=l||u,s=l?-1:0):(a=u||l,s=u?0:-1),w(a),KL(a,s)}}function u_(e,t,n){n.fixCaret&&function(e,t){var n=OX.getEditor(e);if(n.focusedBlock){var r=function(){var e=MN(t[t.length-1]);e&&KL(e,-1)},o=PL(OX.getEditor(e));if(o.type!==ia.INVALID){if(o.type===ia.MULTI_BLOCKS){var i=o.startBlock,a=o.endBlock;return w(i),w(a),-1!==t.indexOf(i)&&-1!==t.indexOf(a)?void r():-1!==t.indexOf(i)?void KL(i,0):-1!==t.indexOf(a)?void KL(a,0):void 0}var s=o.startBlock;s||w(s),-1!==t.indexOf(s)&&r()}else if(!n.getAgentSelector().isSelected()){var c=BN(e,0);w(c),KL(c,0)}}}(e,t),t.forEach((function(t){zN(e,t)}))}function d_(e){var t=SN(e);w(t.length>0);var n=OX.getEditor(t[0]);(w(n),w(!pL(e)),t.length>1)&&t.splice(1,t.length-1).reverse().forEach((function(e){n.deleteBlock(e,{fromUndo:!1,localAction:!0})}));var r=t[0];Ff(r)&&w(!1,"should not be complex block");var o=r;return Uf(r)&&!vD(r)?r_(r,0,-1):o=n.replaceBlockToText(r,""),o}var p_=qo.textIcon;function f_(e){return w(Rp(e)===Qi.TEXT),Gp(e)}function h_(e,t){w(t);var n=OX.getCurrentCommandBlock();w(n);var r=kN(n),o=TN(n);Gf(n)||(o+=1),OX.getEditor(n).insertTextBlock(r,o,"")}var A_={getBlockOptions:function(){return{textBlock:!0}},getBlockMenuItems:function(){return[{id:"",text:ju.blocks.text,order:50,icon:p_,onClick:h_,supportMarkdown:!0}]},getTextElement:f_,createBlockTemplateData:function(e,t){return{text:null==t?void 0:t.text}},createBlockContent:function(e,t,n){var r=document.createElement("div");return _g(e,r,n),r},updateBlockData:function(e,t){Ng(e,t),zh(e,"data-change")},updateBlockText:function(e,t){w(t);var n=Og(Vf(e),t);t.toOps().length>0&&zh(e,"text-change"),0===n?Qa(e,Vi.EMPTY_BLOCK):Ja(e,Vi.EMPTY_BLOCK)},executeTextCommand:function(e,t,n,r,o){return bm(e,f_(e),t,n,r,o)},getTextCommandStatus:Ug,saveData:function(e){var t=Sg(f_(e));return{id:zp(e),type:Rp(e),text:t,align:Ph(e)}},handleKeydownEvent:function(e,t,n){return!(!si(n)&&!ci(n)||!GN(OX.getEditor(e),n,""))||jg(e,t,n)},handleBlockTextChanged:function(e){return zg(e)},handleBlockInserted:function(e,t){w(t),Mg(e),zh(e,"insert"),Gu(e)&&function(e,t){w(e),t.fromUndo&&$u(e)}(e,t)},handleBlockDeleted:function(e,t,n,r){w(r);var o=BN(e,t);Mg(o),zh(o,"delete")},getCaretPos:Ig,createRange:Dg,getToolbarOptions:qk,getTextToolbarOptions:Fg,highlightText:Bg,getAbstract:function(e){var t=hf(e).text;w(t);var n=t.toOps(),r="";return n.forEach((function(e){e.insert&&(e.attributes&&!0===e.attributes.box&&"math"===e.attributes.type?r+="[".concat(ju.quickInsert.math,"]"):r+=e.insert)})),r},accept:function(e){return!OX.getEditor(e).isTitleBlock(e)},handleBlockMouseEnter:nd,handleBlockMouseLeave:rd};tf(Qi.TEXT,A_);var m_=Object.assign(Object.assign({},A_),{getBlockMenuItems:void 0,getBlockOptions:function(){return{textBlock:!0}},saveData:function(e){var t=Sg(f_(e));return{id:zp(e),type:Rp(e),text:t,align:Ph(e),headingCollapsed:qu(e)}}});function g_(e,t){var n=OX.getEditor(e);if(n.isBlockWritable(e)){var r=hf(e);r.noBorder=!t,n.updateBlockData(e,r,{updateBlock:!0,fromUndo:!1,partial:!1})}}function v_(e,t){var n=Nx(e),r=pk(n),o=fk(n),i=hk(n),a=[];a.push({id:"rowTitle",text:ju.table.rowTitle,checked:o,onClick:function(){o?function(e){var t=OX.getEditor(e);if(t.isBlockWritable(e)){var n=hf(e);n.hasRowTitle=!1,t.updateBlockData(e,n,{updateBlock:!0,fromUndo:!1,partial:!1})}}(e):function(e){var t=OX.getEditor(e);if(t.isBlockWritable(e)){var n=hf(e);n.hasRowTitle=!0,t.updateBlockData(e,n,{updateBlock:!0,fromUndo:!1,partial:!1})}}(e)}}),a.push({id:"colTitle",text:ju.table.colTitle,checked:i,onClick:function(){i?function(e){var t=OX.getEditor(e);if(t.isBlockWritable(e)){var n=hf(e);n.hasColTitle=!1,t.updateBlockData(e,n,{updateBlock:!0,fromUndo:!1,partial:!1})}}(e):function(e){var t=OX.getEditor(e);if(t.isBlockWritable(e)){var n=hf(e);n.hasColTitle=!0,t.updateBlockData(e,n,{updateBlock:!0,fromUndo:!1,partial:!1})}}(e)}}),a.push({id:"stripeStyle",text:ju.table.stripeStyle,checked:r,onClick:function(){r?function(e){var t=OX.getEditor(e);if(t.isBlockWritable(e)){var n=hf(e);n.isStripeStyle=!1,t.updateBlockData(e,n,{updateBlock:!0,fromUndo:!1,partial:!1})}}(e):function(e){var t=OX.getEditor(e);if(t.isBlockWritable(e)){var n=hf(e);n.isStripeStyle=!0,t.updateBlockData(e,n,{updateBlock:!0,fromUndo:!1,partial:!1})}}(e)}}),a.push(ga);var s,c=1===t.length&&t[0];return c&&(c.colSpan>1||c.rowSpan>1)&&a.push({id:"splitCell",text:ju.table.splitCell,shortCut:"",disabled:!1,onClick:function(){Rx(e,c)}}),a.push({id:"showBorder",text:Lx(e)?ju.table.showBorder:ju.table.hideBorder,shortCut:"",disabled:!1,onClick:function(){var t;g_(t=e,!!Lx(t))}},{id:"showAsChart",text:(s=e,Ga(Nx(s),"editor-table-chart")?ju.table.hideChart:ju.table.showChart),shortCut:"",disabled:!1,onClick:function(){!function(e){var t=OX.getEditor(e);if(t.isBlockWritable(e)){var n=hf(e);n.chart=!n.chart,t.updateBlockData(e,n,{updateBlock:!0,fromUndo:!1,partial:!1})}}(e)}}),[{id:"table",text:ju.blocks.table,subItems:a}]}function b_(e){return(b_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w_(e,t){return(w_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C_(e);if(t){var o=C_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k_(this,n)}}function k_(e,t){if(t&&("object"===b_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C_(e){return(C_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}tf(Qi.HEADING,m_);var E_=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},B_="comment-highlight",T_="data-group-id",M_="data-comment-id",I_="comment-",D_="comment-root",__="comment-mobile-root",S_="comment-head",O_="comment-count",N_="comment-groups-container",L_="comment-group-container",R_="comment-group-layer",j_="comment-item",U_="comment-item-head",F_="comment-avatar",z_="comment-username",Q_="comment-modified",P_="waiting-show",H_="comment-item-tools",V_="comment-item-edit",K_="comment-item-editing",G_="comment-group-editing",W_="comment-item-delete",Y_="comment-item-reply",q_="comment-item-reply-editor",Z_="comment-mini",X_="comment-mini-button-container",J_="comment-switch-container",$_="comment-item-next",eS="comment-item-pre",tS="comment-quote-container",nS="comment-item-more",rS="comment-handler-container",oS="comment-btn-cancel",iS="comment-btn-send",aS="comment-btn-reply",sS="comment-image-container",cS="comment-item-image",lS="comment-menu-button-icon-container",uS="comment-menu-button-text-container",dS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w_(e,t)}(n,e);var t=x_(n);function n(){return y_(this,n),t.apply(this,arguments)}return n}(Ca),pS=qo.closeIcon,fS=qo.commentIcon,hS=qo.moreIcon,AS=qo.commentInsertImageIcon,mS=qo.preCommentIcon,gS=qo.nextCommentIcon;function vS(e){null!==e&&Ja(e,Vi.ACTIVE)}function bS(e,t,n,r,o,i){var a=this,s=document.createElement("div");s.id=B(),Qa(s,Vi.COMMENT_EDITOR);var c=e.options,l=Object.assign(Object.assign({},c),{titleInEditor:!1,placeholder:r,hideBlockMenuButton:!0,hideBlockIcon:!0,maxLength:800});l.callbacks?l.callbacks=Object.assign({},l.callbacks):l.callbacks={},l.callbacks.onUploadResource=function(t,n){return E_(a,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uploadResource(n,(function(){}));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))},l.callbacks.onStatusChanged=null==i?void 0:i.onChange,l.callbacks.onBlur=null==i?void 0:i.onBlur;var u=e.createChildLocalEditor(s,t,l,o);return u.setReadOnly(n),{elem:s,childEditor:u}}function yS(e){return"comment_item_".concat(e)}function wS(e,t,n){var r=As("",[Vi.TEXT_BUTTON,n],null);return ps("div",[lS],r).innerHTML=t,ps("div",[uS],r,e),r}function xS(e,t,n){var r,o,i=document.createElement("div");if(!e.options.isMobile){var a=document.createElement("div"),s=document.createElement("img"),c=e.getUserAvatarUrl(t.avatarUrl,t.userId);c&&(s.src=c),Qa(s,F_),a.appendChild(s);var l=document.createElement("span");l.appendChild(document.createTextNode(t.displayName)),Qa(l,z_),a.appendChild(l);var u=document.createElement("span"),d=new Date(t.modified),p=e.formatDate(d);u.appendChild(document.createTextNode(p)),Qa(u,Q_),a.appendChild(u);var f=document.createElement("div");Qa(f,rS),As(ju.common.cancel,[Vi.BUTTON,Vi.BUTTON_CANCEL,oS],f);var h=As(ju.common.OK,[Vi.BUTTON,iS],f);h.disabled=!0;var A=e.auth.userId===t.userId?"w":"r";Qa(a,U_),i.appendChild(a);var m=bS(e,A,n,ju.comment.replyPlaceholder,t,{onChange:In()((function(e){h.disabled=ln(e.data())}))});i.appendChild(m.elem),i.editor=m.childEditor;var g=document.createElement("div");Qa(g,H_);var v=!(null===(r=e.options.commentsOptions)||void 0===r?void 0:r.disableReply),b=!(null===(o=e.options.commentsOptions)||void 0===o?void 0:o.disableEdit)&&e.auth.userId===t.userId;if(v)hs(fS,[Vi.TEXT_BUTTON,Y_,Vi.TOOLTIP],g).setAttribute("data-tooltip",ju.comment.reply);if(b)hs(hS,[Vi.TEXT_BUTTON,nS,Vi.TOOLTIP],g).setAttribute("data-tooltip","更多");a.appendChild(g),i.appendChild(f);var y=ps("div",[sS],m.elem);hs(AS,[Vi.TEXT_BUTTON,cS,Vi.TOOLTIP],y).setAttribute("data-tooltip",ju.comment.image)}return w(i instanceof HTMLElement),i.id=yS(t.id),i.setAttribute(M_,t.id),Qa(i,j_),i}function kS(e){return"comment_group_".concat(e)}function CS(e,t,n){var r,o=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div");return o.id=kS(t),Qa(o,L_),Qa(i,O_),Qa(a,R_),o.appendChild(i),o.appendChild(a),o.setAttribute(T_,t),e.options.isMobile||((null===(r=e.options.commentsOptions)||void 0===r?void 0:r.disableQuickReply)||As(ju.comment.quicklyReply,[Vi.TEXT_BUTTON,"comment-quickly-reply"],a),a.appendChild(function(e,t){var n=document.createElement("div"),r=document.createElement("div");r.innerHTML=t,Qa(n,"comment-top-tool-container"),Qa(r,tS);var o=document.createElement("div");return Qa(o,J_),hs(mS,[Vi.TEXT_BUTTON,eS],o),hs(gS,[Vi.TEXT_BUTTON,$_],o),n.appendChild(r),n.appendChild(o),n}(0,n.commentGroupAbstract))),n.comments.forEach((function(t){a.appendChild(xS(e,t,!0))})),o}function ES(e){var t=[];return Object.keys(e).forEach((function(n){n.startsWith(I_)&&t.push(e[n])})),t}function BS(e){return e?".".concat(Vi.COMMENT,"[").concat(I_).concat(e,"], .").concat(Vi.COMMENT,".editor-comment-").concat(e):".".concat(Vi.COMMENT)}function TS(e,t){return e.querySelector("#".concat(kS(t)))}function MS(e,t){return e.querySelector("#".concat(yS(t)))}function IS(e){return e.querySelector(".".concat(L_,".").concat(Vi.ACTIVE))}function DS(e){return e.editor}function _S(e){return e.closest(".".concat(j_))}function SS(e){return e.closest(".".concat(q_))}function OS(e){var t=e.querySelector(".".concat(R_));return w(t instanceof HTMLElement),t}function NS(e,t){var n=e.querySelector("#".concat(B_));if(t){var r="\n  ".concat(function(e){return".".concat(Vi.BLOCK_CONTENT," .").concat(Vi.COMMENT,"[").concat(I_).concat(e,"]:not(.embed-block),\n.").concat(Vi.COMMENT,".editor-comment-").concat(e,":not(.embed-block) .text-element > span")}(t.groupId)," {\n    background-color: var(--editor-comment-text-bg-color) !important;\n    border-color: var(--editor-comment-text-border-color-active) !important;\n  }\n  ").concat(function(e){return"\n  .".concat(Vi.COMMENT,"[").concat(I_).concat(e,"] .embed-container .editor-image,\n  .").concat(Vi.COMMENT,".editor-comment-").concat(e," .embed-container .editor-image,\n  .").concat(Vi.COMMENT,"[").concat(I_).concat(e,"] .embed-container .embed-office-card,\n  .").concat(Vi.COMMENT,".editor-comment-").concat(e," .embed-container .embed-office-card,\n  .").concat(Vi.COMMENT,"[").concat(I_).concat(e,"] .embed-container .editor-embed:not([data-embed-type=image]),\n  .").concat(Vi.COMMENT,".editor-comment-").concat(e," .embed-container .editor-embed:not([data-embed-type=image])")}(t.groupId)," {\n    outline: 4px solid var(--editor-comment-text-bg-color);\n    border-color: var(--editor-comment-text-bg-color);\n  }\n  ");n||((n=document.createElement("style")).id=B_),n.textContent=r,e.appendChild(n)}else n&&n.remove()}function LS(e){var t,n=(t=e,Array.from(t.querySelectorAll(".".concat(j_,".").concat(K_)))),r=function(e){return Array.from(e.querySelectorAll(".".concat(q_,".").concat(K_)))}(e);0===n.length&&0===r.length&&Ja(e,G_)}function RS(e,t,n){e.removeEventListener(zi.RESIZE,n),e.destroy();var r=_S(e.rootElement)||SS(e.rootElement);r&&Ja(r,K_),t&&LS(t)}function jS(e,t,n,r){e.setReadOnly(n);var o=_S(e.rootElement)||SS(e.rootElement);if(n)o&&Ja(o,K_),LS(t),e.removeEventListener(zi.RESIZE,r);else{if(Qa(t,G_),o){Qa(o,K_);var i=o.querySelector(".".concat(iS));i instanceof HTMLButtonElement&&(i.disabled=!0)}e.addEventListener(zi.RESIZE,r)}}function US(e,t){var n,r,o;return o=(null===(n=e.options.callbacks)||void 0===n?void 0:n.onCreateReplyCommentMention)?null===(r=e.options.callbacks)||void 0===r?void 0:r.onCreateReplyCommentMention(e,t.userId,t.displayName,t.avatarUrl):vd(Pi.MENTION,null,{iconUrl:e.getUserAvatarUrl(t.avatarUrl,t.userId),text:t.displayName,mentionId:t.userId}),new Yo(_o.createInsertBoxOp(0,o).toOps())}function FS(e,t){var n=t.querySelector(".".concat(oS)),r=t.querySelector(".".concat(aS)),o=t.querySelector(".".concat(cS));w(n),w(r),w(o),n.onclick=null,r.onclick=null,o.onmousedown=null,o.onclick=null,t.remove()}function zS(e){var t,n,r=OX.getEditor(e),o=r.getCurrentScale(),i=r.options.tableExtendBoundary||{},a=i.left,s=i.right,c=i.container,l=!!(null===(t=r.options.tableExtendBoundary)||void 0===t?void 0:t.enable),u=void 0!==a?a:40,d=void 0!==s?s:32,p=(c||r.editorElement).getBoundingClientRect(),f=e.getBoundingClientRect(),h=function(e){var t=Gp(e),n=window.getComputedStyle(t),r=parseInt(n.paddingRight,10),o=parseInt(n.paddingLeft,10);return Nx(e).clientWidth+r+o}(e),A=f.width/o,m=Math.floor(f.left/o-p.left/o-u);(m<0||!l)&&(m=0);var g=r.rootElement.querySelector(".".concat(D_)),v=null==g?void 0:g.getBoundingClientRect(),b=p.right/o;!r.options.isMobile&&!(null===(n=r.options.tableExtendBoundary)||void 0===n?void 0:n.rightIgnoreComments)&&Ga(g,Vi.ACTIVE)&&v&&v.left<b&&(b=v.left);var y=(b-=d)-f.right/o;return(y<0||!l)&&(y=0),l&&(y=h>A?Math.min(h-A,y):0),{originWidth:A,maxLeft:m=Math.round(m),maxRight:y=Math.round(y)}}var QS="table-border-shadow",PS="table-right-border-shadow",HS="table-left-border-shadow";function VS(e,t,n){var r=e,o=t.getBoundingClientRect(),i=n.getBoundingClientRect();r.style.top="".concat(i.top-o.top,"px"),r.style.bottom="".concat(o.bottom-i.bottom,"px")}function KS(e,t){var n=e;n.style.width=t<24?"".concat((t/3).toFixed(2),"px"):""}function GS(e){if(e.closest("body")&&!OX.getEditor(e).options.isMobile){var t=wN(e);w(t);var n=Math.round(e.scrollLeft);e.scrollWidth<=e.clientWidth||e.scrollWidth<=n+e.clientWidth?function(e){var t=Wp(e,!0);w(t);var n=t.querySelector(".".concat(PS));n&&Ja(n,Vi.ACTIVE)}(t):function(e){var t=OX.getEditor(e).getCurrentScale(),n=Wp(e,!0);w(n);var r=Gp(e),o=n.querySelector(".".concat(PS));if(!o){var i=Nx(e);w((o=ps("div",[QS,PS],n))instanceof HTMLDivElement),VS(o,r,i)}var a=e.getBoundingClientRect(),s=r.getBoundingClientRect();w(o instanceof HTMLElement),o.style.right="".concat((a.right-s.right)/t,"px");var c=r.scrollWidth-r.scrollLeft-r.clientWidth;w(o instanceof HTMLDivElement),KS(o,c),Qa(o,Vi.ACTIVE)}(t);var r=Nx(t);e.scrollLeft>=r.offsetLeft?function(e){var t=OX.getEditor(e).getCurrentScale(),n=Wp(e,!0);w(n);var r=Gp(e),o=n.querySelector(".".concat(HS));if(!o){var i=Nx(e);w((o=ps("div",[QS,HS],n))instanceof HTMLDivElement),VS(o,r,i)}var a=e.getBoundingClientRect(),s=r.getBoundingClientRect();w(o instanceof HTMLElement),o.style.left="".concat((s.left-a.left)/t,"px");var c=r.scrollLeft;w(o instanceof HTMLDivElement),KS(o,c),Qa(o,Vi.ACTIVE)}(t):function(e){var t=Wp(e,!0);w(t);var n=t.querySelector(".".concat(HS));n&&Ja(n,Vi.ACTIVE)}(t)}}var WS=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),YS="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,qS=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),ZS="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(qS):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var XS=["top","right","bottom","left","width","height","size","weight"],JS="undefined"!=typeof MutationObserver,$S=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&s()}function a(){ZS(i)}function s(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){YS&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),JS?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){YS&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;XS.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),eO=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},tO=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||qS},nO=cO(0,0,0,0);function rO(e){return parseFloat(e)||0}function oO(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+rO(e["border-"+n+"-width"])}),0)}function iO(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return nO;var r=tO(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=rO(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=rO(r.width),c=rO(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=oO(r,"left","right")+i),Math.round(c+a)!==n&&(c-=oO(r,"top","bottom")+a)),!function(e){return e===tO(e).document.documentElement}(e)){var l=Math.round(s+i)-t,u=Math.round(c+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return cO(o.left,o.top,s,c)}var aO="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof tO(e).SVGGraphicsElement}:function(e){return e instanceof tO(e).SVGElement&&"function"==typeof e.getBBox};function sO(e){return YS?aO(e)?function(e){var t=e.getBBox();return cO(0,0,t.width,t.height)}(e):iO(e):nO}function cO(e,t,n,r){return{x:e,y:t,width:n,height:r}}var lO=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=cO(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=sO(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),uO=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return eO(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}(t);eO(this,{target:e,contentRect:n})},dO=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new WS,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof tO(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new lO(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof tO(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new uO(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),pO="undefined"!=typeof WeakMap?new WeakMap:new WS,fO=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=$S.getInstance(),r=new dO(t,n,this);pO.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){fO.prototype[e]=function(){var t;return(t=pO.get(this))[e].apply(t,arguments)}}));const hO=void 0!==qS.ResizeObserver?qS.ResizeObserver:fO;function AO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vO=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entriesMap=new Map,this.callback=function(e){window.requestAnimationFrame((function(){if(Array.isArray(e)&&e.length){var n=new Map;e.forEach((function(e){var r=t.entriesMap.get(e.target);if(r){var o=r.editorId,i=n.has(o);if(!i){var a=e.target.closest("#".concat(o));if(i=!a,a){var s=a.getBoundingClientRect();i=0===s.width&&0===s.height}i&&n.set(o,!0)}i||r.callback(e)}else t.unobserve(e.target)}))}}))},this.resizeObserver=new hO(this.callback)}var t,n,r;return t=e,(n=[{key:"observe",value:function(e,t,n){var r;w(e),this.unobserve(t),null===(r=this.resizeObserver)||void 0===r||r.observe(t),this.entriesMap.set(t,{callback:n,editorId:e.id})}},{key:"unobserve",value:function(e){var t;null===(t=this.resizeObserver)||void 0===t||t.unobserve(e),this.entriesMap.delete(e)}},{key:"destroy",value:function(e){var t=this;w(e),Array.from(this.entriesMap.entries()).forEach((function(n){var r=AO(n,2),o=r[0];r[1].editorId===e.id&&t.unobserve(o)}))}}])&&gO(t.prototype,n),r&&gO(t,r),e}());function bO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yO=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entriesMap=new Map,this.callback=function(e){e.forEach((function(e){var n=t.entriesMap.get(e.target);n?n(e):t.unobserve(e.target)}))}}var t,n,r;return t=e,(n=[{key:"observe",value:function(e,t){var n;this.unobserve(e),null===(n=this.intersectionObserver)||void 0===n||n.observe(e),this.entriesMap.set(e,t)}},{key:"unobserve",value:function(e){var t;null===(t=this.intersectionObserver)||void 0===t||t.unobserve(e),this.entriesMap.delete(e)}},{key:"init",value:function(e){var t=cs(e.rootContainer()),n={root:t===document.documentElement?null:t,rootMargin:"20px",threshold:0};this.intersectionObserver=new window.IntersectionObserver(this.callback,n)}},{key:"destroy",value:function(e){var t=this,n=e.isChildEditor()?e.parentEditor:e;w(n);var r=n.rootContainer();this.entriesMap.forEach((function(e,n){r.contains(n)&&t.unobserve(n)}))}}])&&bO(t.prototype,n),r&&bO(t,r),e}());function wO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xO=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scrollContainerTargets=[],this.tableBlockContentsInViewable=new Map,this.handleBlockContentScroll=function(e){var n=e.target;w(n instanceof HTMLElement),t.handleResize(n)},this.handleEditorResize=function(e){e.isChildEditor()||BO.handleResize(e)},this.handleTableResize=function(e){var n=e.target;w(n instanceof HTMLTableElement);var r=wN(n);w(r);var o=Gp(r);t.handleResize(o),BO.resetScrollbar(n)},this.handleTableContentResize=function(e){var n=e.target;w(n instanceof HTMLElement),t.handleResize(n)},this.handleTableIntersection=function(e){var n=e.target;if(!e.isIntersecting)return t.tableBlockContentsInViewable.delete(n),void t.unbindScrollContainer(n);var r=OX.getEditor(n);t.tableBlockContentsInViewable.set(n,{editorId:r.id}),t.bindScrollContainer(n);var o=wN(n);w(o),BO.show(o)},this.handleScrollContainerChange=function(e){t.scrollContainerTargets.forEach((function(t){var n=t.getBoundingClientRect(),r=e.target===document?document.documentElement:e.target;w(r instanceof Element);var o=_s(r),i=wN(t);w(i);var a=OX.getEditor(i);o.bottom<n.bottom?BO.show(i):BO.hide(a,i,{})}))}}var t,n,r;return t=e,(n=[{key:"init",value:function(e){e.options.isMobile||Qa(e.rootElement,"custom-table-scrollbar")}},{key:"handleResize",value:function(e){var t;if(e.closest("body")){var n=OX.getEditor(e);null===(t=n.blockMenuButton)||void 0===t||t.updatedXOffset();var r=wN(e);w(r),Mw.isVisible(r)&&Mw.updatedXOffset(r),GS(e),n.updateCommandStatus()}else{var o=wN(e);w(o);var i=Nx(o);this.unbind(e,i)}}},{key:"bindScrollContainer",value:function(e){var t=0===this.scrollContainerTargets.length;if(this.scrollContainerTargets.push(e),t){if(!e.closest("body"))return;var n=cs(OX.getEditor(e).rootContainer());(n===document.documentElement?document:n).addEventListener("scroll",this.handleScrollContainerChange)}}},{key:"unbindScrollContainer",value:function(e){var t=this.scrollContainerTargets.indexOf(e),n=!1;if(t>-1&&(this.scrollContainerTargets.splice(t,1),n=0===this.scrollContainerTargets.length),n)try{var r=OX.getEditor(e),o=cs(r.rootContainer());(o===document.documentElement?document:o).removeEventListener("scroll",this.handleScrollContainerChange);var i=wN(e);w(i),BO.hide(r,i,{})}catch(e){}}},{key:"getTableBlockContentsInViewable",value:function(e){var t=[];return this.tableBlockContentsInViewable.forEach((function(n,r){e.id===n.editorId&&t.push(r)})),t}},{key:"bind",value:function(e,t,n){var r=this;this.unbind(t,n),vO.observe(e,n,this.handleTableResize),vO.observe(e,t,this.handleTableContentResize),t.addEventListener("scroll",this.handleBlockContentScroll),yO.observe(t,this.handleTableIntersection),setTimeout((function(){t.closest("body")&&r.handleResize(t)}),100)}},{key:"unbind",value:function(e,t){this.unbindScrollContainer(e),vO.unobserve(t),vO.unobserve(e),e.removeEventListener("scroll",this.handleBlockContentScroll),yO.unobserve(e)}},{key:"destroyBlock",value:function(e){var t=Gp(e),n=Nx(e);this.unbind(t,n)}},{key:"destroy",value:function(e){var t=this;this.tableBlockContentsInViewable.clear(),Array.from(e.rootContainer().querySelectorAll(".editor-block.table-block")).forEach((function(n){var r=n;t.destroyBlock(r),BO.destroy(e,r)}))}}])&&wO(t.prototype,n),r&&wO(t,r),e}());function kO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var CO,EO,BO=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.debounceShow=In()(this.show,300),this.debounceHide=In()(this.hide,300),this.resetScrollbar=function(e){w(e instanceof HTMLTableElement);var n=wN(e);w(n);var r=OX.getEditor(n);if(!th(n)){var o=t.getScrollbarContainer(n),i=yx(e);!function(e,t){var n=zS(t);Gp(t).style.marginRight="".concat(0-n.maxRight,"px")}(0,n),function(e){var t=Gp(e),n=zS(e).maxLeft;t.style.marginLeft="".concat(0-n,"px"),t.style.paddingLeft="".concat(n,"px")}(n);var a=zS(n),s=Gp(n),c=a.originWidth,l=a.maxRight;o.style.width="".concat(c+l-i,"px"),t.bindCore(o),t.bindContentScrollCore(r,s),w(o.firstChild instanceof HTMLDivElement);var u=s.scrollWidth-s.clientWidth;o.firstChild.style.width="".concat(c+l+u-i,"px"),t.resetScrollbarLeft(n,o)}},this.bind=In()(this.bindCore,200),this.handleBlockContentScroll=function(e){var n=e.target;w(n instanceof Element);var r=wN(n);w(r);var o=t.getScrollbarContainer(r);o.removeEventListener("scroll",t.handleScroll);t.fixScrollXPos(r,n.scrollLeft,!0),t.bind(o)},this.handleScroll=function(e){var n=e.target;w(n instanceof HTMLElement);var r=n.scrollLeft,o=wN(n);w(o);var i=Gp(o);t.unbindContentScroll(i),t.fixScrollXPos(o,r,!1);var a=OX.getEditor(o);t.bindContentScroll(a,i)},this.tableBlocksPool=[],this.tableBlocksPoolResize=function(){for(var e=0;e<5&&t.tableBlocksPool.length>0;e+=1){var n=t.tableBlocksPool.shift();if(null==n?void 0:n.closest("body")){var r=n,o=Gp(r);t.show(r),GS(o)}}t.tableBlocksPool.length&&(t.tableBlocksPoolResizeTimer=setTimeout((function(){t.tableBlocksPoolResize()}),10))},this.handleResize=In()((function(e){t.tableBlocksPoolResizeTimer&&clearTimeout(t.tableBlocksPoolResizeTimer);var n=xO.getTableBlockContentsInViewable(e);t.tableBlocksPool=Array.from(e.rootContainer().querySelectorAll(".editor-block.table-block")),n.forEach((function(e){var n=wN(e);n&&t.tableBlocksPool.unshift(n)})),t.tableBlocksPoolResize()}),100),this.bindContentScrollCore=function(e,n){t.unbindContentScroll(n),n.addEventListener("scroll",t.handleBlockContentScroll)},this.bindContentScroll=In()(this.bindContentScrollCore,300),this.unbindContentScroll=function(e){e.removeEventListener("scroll",t.handleBlockContentScroll)},this.handleBlockMouseEnter=function(e,n){n===t.block&&t.debounceHide.cancel(),t.debounceShow(n)},this.handleBlockMouseLeave=function(e,n){n===t.block&&t.debounceShow.cancel(),t.debounceHide(e,n,{})}}var t,n,r;return t=e,(n=[{key:"getScrollbarContainer",value:function(e){var t=Wp(e,!0);w(t);var n=t.querySelector(".".concat(Vi.BLOCK_SCROLL_BAR));return n||(n=ps("div",[Vi.BLOCK_SCROLL_BAR],t)),w(n instanceof HTMLDivElement),n.firstChild||ps("div",[],n),n}},{key:"resetScrollbarLeft",value:function(e,t){if(Ga(t,"fixed")){var n=OX.getEditor(e).getCurrentScale(),r=yx(Nx(e)),o=e.getBoundingClientRect();t.style.left="".concat((o.left+r)/n,"px")}else t.style.left=""}},{key:"bindCore",value:function(e){this.unbind(e),e.addEventListener("scroll",this.handleScroll)}},{key:"unbind",value:function(e){e.removeEventListener("scroll",this.handleScroll)}},{key:"fixScrollXPos",value:function(e,t,n){var r=this.getScrollbarContainer(e),o=Gp(e);0===t?Ja(e,Vi.BLOCK_LEFT_OVERFLOW):Qa(e,Vi.BLOCK_LEFT_OVERFLOW),n||(o.scrollLeft=t),n&&r.scrollLeft!==t&&(r.scrollLeft=t)}},{key:"calcScrollbarPos",value:function(e){var t=cs(OX.getEditor(e).rootContainer()),n=_s(t),r=Gp(e),o=r.getBoundingClientRect(),i=this.getScrollbarContainer(e);i.style.visibility="hidden",i.style.display="block";var a=i.getBoundingClientRect(),s=n.top+t.clientHeight,c=r.scrollWidth>r.clientWidth&&o.top<s-a.height&&o.bottom>s-a.height;return i.style.visibility="",i.style.display="",c?Qa(i,"fixed"):Ja(i,"fixed"),this.resetScrollbarLeft(e,i),{needFloat:c,bottom:o.bottom-s}}},{key:"show",value:function(e){try{var t=OX.getEditor(e);if(!e.closest("body"))return;var n=t.getCurrentScale(),r=Nx(e);if(this.table=r,this.block=e,this.resetScrollbar(r),this.calcScrollbarPos(e).needFloat){var o=this.getScrollbarContainer(e);if(Qa(o,Vi.ACTIVE),t.isSetScale()){var i=cs(t.rootElement);o.style.bottom="".concat((i.scrollHeight-i.scrollTop-i.clientHeight)/n,"px")}}else this.hide(t,e,{notCalcPos:!0})}catch(e){}}},{key:"hide",value:function(e,t,n){var r;if(t.closest("body")){if(!n.notCalcPos&&this.calcScrollbarPos(t).needFloat)return;var o=this.getScrollbarContainer(t);if(o.style.position="",o.style.bottom="",!(null===(r=e.options.tableExtendBoundary)||void 0===r?void 0:r.enable)){var i=Nx(t);this.table&&t===this.block&&i!==this.table&&(i=this.table),this.table=void 0,this.block=void 0,Ja(o,Vi.ACTIVE)}}}},{key:"destroy",value:function(e,t){this.hide(e,t,{})}}])&&kO(t.prototype,n),r&&kO(t,r),e}());function TO(e){var t=_n()(e);return $t(t,{onBeginBlock:function(e,n,r,o){if(o.id=B(),Qf(r)){Pf(r,t,o);var i=o.children;w(i),i.forEach((function(e){t[e].forEach((function(e){e.id=B()}))}))}},onText:function(e,t,n,r){r.box&&(r.id=B())}}),t}function MO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return IO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e[e.h1=100]="h1",e[e.h2=200]="h2",e[e.h3=300]="h3",e[e.todo=400]="todo",e[e.quote=500]="quote",e[e.code=600]="code",e[e.link=700]="link",e[e.math=800]="math",e[e.line=900]="line",e[e.image=1e3]="image",e[e.video=1100]="video",e[e.audio=1200]="audio",e[e.file=1300]="file",e[e.uml=1400]="uml",e[e.table=1500]="table",e[e.MAX=1e5]="MAX"}(CO||(CO={})),function(e){e[e.image=100]="image",e[e.table=200]="table",e[e.code=300]="code",e[e.office=400]="office",e[e.link=500]="link",e[e.hr=600]="hr",e[e.uml=700]="uml",e[e.video=800]="video",e[e.audio=900]="audio",e[e.math=1e3]="math",e[e.webpage=1100]="webpage",e[e.secondLevelHeader=2e3]="secondLevelHeader",e[e.webpageCategory=2100]="webpageCategory"}(EO||(EO={}));var DO=qo.tableIcon,_O=Qi.TABLE;function SO(e,t){var n,r=new qt(t),o=t.rows,i=t.cols;if(0===o||0===i){var a=document.createElement("table");return Qa(a,"empty-table"),a}w(o>=1),w(i>=1),w(t.children);var s=document.createElement("table"),c=document.createElement("colgroup"),l=0,u=!0;Qa(c,Vi.TABLE_COL_GROUP);for(var d=0;d<i;d++){var p=Ex(e,null===(n=t.colsWidth)||void 0===n?void 0:n[d]);if(c.append(p),e.isMarkdownOnly())p.removeAttribute("style");else if(u){var f=parseFloat(p.style.width);f?l+=f:(u=!1,l=0)}}s.append(c),u&&l&&(s.style.minWidth="".concat(l,"px"));for(var h=0,A=0;A<o;A++){for(var m=document.createElement("tr"),g=0;g<i;g++){var v=r.getCell({col:g,row:A});if(v.virtual)w(v.colSpan>1||v.rowSpan>1);else{var b=t.children[h],y=Bx(v,"td"),x=_x(g,v.colSpan,t.colsWidth).toString();y.setAttribute("data-width",x),m.appendChild(y);var k=e.getChildContainerData(b);w(k);var C=e.createChildContainer(y,b,k),E=t["".concat(b,"_align")];if(E){var B={left:Vi.ALIGN_LEFT,right:Vi.ALIGN_RIGHT,center:Vi.ALIGN_CENTER,justify:Vi.ALIGN_JUSTIFY}[E];B&&Qa(C,B)}0===g&&Qa(y,Vi.COL_TITLE_ITEM);var T=t["".concat(b,"_background")];T&&Qa(y,T);var M=t["".concat(b,"_fontColor")];M&&Qa(y,M),h+=1}}s.appendChild(m)}return w(h===t.children.length),t.noBorder&&Qa(s,Vi.NO_BORDER),t.chart&&Qa(s,"editor-table-chart"),t.isStripeStyle&&Qa(s,Vi.STRIPE_STYLE_TABLE),t.hasRowTitle&&Qa(s,Vi.ROW_TITLE_TABLE),t.hasColTitle&&Qa(s,Vi.COL_TITLE_TABLE),setTimeout((function(){var e=wN(s);e&&Ub(e,{updateNow:!0})})),s}function OO(e){return w(e),SN(e)}function NO(e,t){return"table-creator-cell-".concat(e,"-").concat(t)}function LO(e,t,n){var r=ps("div",["table-creator-cell"],e);return r.id=NO(t,n),r}function RO(e){var t=e.target;w(t instanceof HTMLElement);var n=t.id;w(n.startsWith("table-creator-cell-"));var r=n.substr("table-creator-cell-".length).split("-");w(2===r.length);var o=Number.parseInt(r[0],10),i=Number.parseInt(r[1],10);0===o&&0===i&&(o=-1,i=-1);for(var a=0;a<9;a++)for(var s=0;s<9;s++){var c=NO(a,s),l=document.getElementById(c);w(l),a<=o&&s<=i?Qa(l,Vi.ACTIVE):Ja(l,Vi.ACTIVE)}}function jO(e){w(e);for(var t=0;t<9;t++)for(var n=0;n<9;n++){var r=NO(t,n),o=document.getElementById(r);o&&Ja(o,Vi.ACTIVE)}}function UO(e){var t=e.target;w(t instanceof HTMLElement);var n=t.closest(".table-creator");w(n);var r=n.querySelectorAll(".".concat(Vi.ACTIVE));if(0!==r.length){var o=r[r.length-1].id;if(w(o),o.startsWith("table-creator-cell-")){var i=o.substr("table-creator-cell-".length).split("-");w(2===i.length);var a=Number.parseInt(i[0],10)+1,s=Number.parseInt(i[1],10)+1;console.log("".concat(a,", ").concat(s));var c=OX.getCurrentCommandTarget();w(c);var l=OX.getEditor(c.target);w(l);var u=wN(c.target);w(u);var d=kN(u);l.isMainContainer(d)||(w(u=wN(d)),d=kN(u));var p=TN(u);Gf(u)||(p+=1);var f=If(l,Qi.TABLE,{rows:a,cols:s});l.insertBlock(d,p,Qi.TABLE,f,{fromUndo:!1,focusToBlock:!0,localAction:!0}),OX.hideCurPopover()}}}function FO(){var e=ps("div",["table-creator"],null);e.addEventListener("click",UO),e.addEventListener("mouseleave",jO);for(var t=0;t<9;t++)for(var n=ps("div",["table-creator-row"],e),r=0;r<9;r++){LO(n,t,r).addEventListener("mouseenter",RO)}return e}tf(_O,{getBlockOptions:function(){return{textBlock:!1,complexBlock:!0,prefix:"/:t"}},getBlockMenuItems:function(){return[{id:"",text:ju.blocks.table,order:EO.table,icon:DO,supportMarkdown:!0,subItems:[{id:"",text:"",element:FO()}]}]},createBlockTemplateData:function(e,t){var n=(null==t?void 0:t.rows)||3,r=(null==t?void 0:t.cols)||3;w(n>=1),w(r>=1);for(var o=n*r,i=[],a=0;a<o;a++){var s=e.createEmptyChildContainerData();i.push(s)}var c={children:i,rows:(null==t?void 0:t.rows)||3,cols:(null==t?void 0:t.cols)||3,noBorder:t.noBorder,chart:t.chart},l=e.options.defaultCellWidth;return l&&(c.colsWidth=Array(r).fill(l)),c},createBlockContent:function(e,t,n){w(n);var r=SO(e,n),o=document.createElement("div");o.appendChild(r);var i=o;return BO.bindContentScroll(e,i),xO.bind(e,i,r),i},updateBlockData:function(e,t){var n=OX.getEditor(e),r=t,o=SO(n,r),i=function(){var t=Gp(e);w(1===t.children.length);var i=Nx(e);w(t.firstChild===i),xO.unbind(t,i),t.removeChild(i),t.appendChild(o),xO.bind(n,t,o),Mw.isVisible(e)&&(Mw.hide(e),Mw.show(e)),r.chart&&Ub(e,{updateNow:!1})},a=n.getSelectionDetail();if(a.startBlock&&a.startComplexBlock===e&&!n.isApplyingRemoteOpsForComposition()){var s=n.saveSelectionState();i(),setTimeout((function(){console.log("try fix caret pos for sogou input"),n.fixSelection({autoScroll:!1}),n.restoreSelectionState(s)}))}else i()},handleKeydownEvent:function(e,t,n){if(w(n),w(e),w(t),pi(n)&&t.collapsed&&t.startComplexBlock&&t.startBlock&&t.endBlock===t.startBlock&&"list"!==Rp(t.startBlock)){for(var r=t.startComplexBlock,o=OX.getEditor(r),i=Mb.fromBlock(r),a=i.getCellByElement(t.startBlock),s=a.col,c=a.row,l=!1;c!==i.rowCount-1||s!==i.colCount-1;){s===i.colCount-1?(c+=1,s=0):s+=1;var u=i.getCell({col:s,row:c});if(!u.virtual){var d=BN(u.container,-1);o.selectBlock(d,-1,-1),l=!0;break}}if(l)return!0;Ux(e,i.rowCount);var p=Mb.fromBlock(r),f=BN(p.getCell({col:0,row:p.rowCount-1}).container,-1);return o.selectBlock(f,-1,-1),!0}return!1},saveData:function(e){w(e);for(var t=Mb.fromBlock(e),n=t.rowCount,r=t.colCount,o=zp(e),i={},a=[],s=0;s<n;s++)for(var c=0;c<r;c++){var l=t.getCell({row:s,col:c});if(!l.virtual){var u=l.cellId;a.push(u),(l.colSpan>1||l.rowSpan>1)&&(i["".concat(u,"_colSpan")]=l.colSpan,i["".concat(u,"_rowSpan")]=l.rowSpan)}}for(var d={},p={},f={},h=0;h<n;h++)for(var A=0;A<r;A++){var m=t.getCell({row:h,col:A});if(!m.virtual){var g=m.cellId;d["".concat(g,"_align")]=Jx(e,{row:h,col:A},t),p["".concat(g,"_background")]=ak(e,{row:h,col:A},t),f["".concat(g,"_fontColor")]=sk(e,{row:h,col:A},t)}}var v=Nx(e),b=Ga(v,"editor-table-chart"),y=Ga(v,Vi.NO_BORDER);return Object.assign(Object.assign(Object.assign(Object.assign({id:o,type:_O,text:new Yo([]),rows:n,cols:r,children:a,chart:b,noBorder:y,colsWidth:t.getAllColsWidth(),isStripeStyle:pk(v),hasRowTitle:fk(v),hasColTitle:hk(v)},i),d),p),f)},getChildContainersData:function(e){var t=Nx(e),n=[];return Array.from(t.rows).forEach((function(e){Array.from(e.cells).forEach((function(e){n.push(function(e){w(1===e.children.length);var t=Sx(e),n=t.id,r=[];return OO(t).forEach((function(e){var t=hf(e);r.push(t)})),{id:n,blocks:r}}(e))}))})),n},getCaretPos:function(e,t,n){return t===Ox(e)?(w(0===n||1===n),n):0},createRange:function(e,t){w(e),w(0===t||-1===t||1===t);var n=Mb.fromBlock(e),r=0===t?n.getFirstCellContainer():n.getLastCellContainer();w(r);var o=OO(r),i=0===t?o[0]:o[o.length-1];return w(i),Sf(i,0===t?0:-1)},getSubContainerInComplexBlock:function(e,t,n){var r=Mb.fromBlock(e),o=Mx(t);w(o);var i=r.getCellByElement(o);w(i);var a=OX.getEditor(e);if("top"===n){var s=r.getTopCell(i);return s?a.getContainerById(s.cellId):null}if("bottom"===n){var c=r.getBottomCell(i);return c?a.getContainerById(c.cellId):null}return w("not implement"),null},replaceChildrenId:function(e,t){var n=e,r=t.children;w(r);var o=new Map;r.forEach((function(e){var t=B();o.set(e,t),n[t]=n[e],delete n[e]})),w(t.children),t.children=r.map((function(e){var t=o.get(e);return w(t),t})),Object.entries(t).forEach((function(e){var n=MO(e,2),r=n[0],i=n[1];if(r.endsWith("_colSpan")||r.endsWith("_rowSpan")||r.endsWith("_align")||r.endsWith("_background")||r.endsWith("_fontColor")){var a=r.lastIndexOf("_");w(a>0);var s=r.substr(0,a),c=o.get(s);w(c);var l=c+r.substr(s.length);t[l]=i,delete t[r]}}))},executeBlockCommand:function(e,t,n){w(Rp(e)===Qi.TABLE),"table/splitCell"===t?function(e,t){if(e.isBlockWritable(t)&&qx(e,t)){var n=Px(t);if(n.startCell&&n.endCell){var r=n.startCell,o=Nx(t),i=Mb.fromTable(o).getCellByElement(r);(r.colSpan>1||r.rowSpan>1)&&(e.beginUndoGroup(),Rx(t,i),Vx(t),e.endUndoGroup())}}}(OX.getEditor(e),e):"table/mergeCells"===t?function(e,t){e.isBlockWritable(t)&&qx(e,t)&&(e.beginUndoGroup(),Hx(e,t),e.endUndoGroup(),Vx(t,e))}(OX.getEditor(e),e):"table/deleteSelectedRows"===t?function(e,t){if(e.isBlockWritable(t)&&qx(e,t)){var n=Px(t);e.beginUndoGroup(),Wx(t,n),e.endUndoGroup()}}(OX.getEditor(e),e):"table/deleteSelectedCols"===t?function(e,t){if(e.isBlockWritable(t)&&qx(e,t)){var n=Px(t);n.startCell&&n.endCell||(e.beginUndoGroup(),Gx(t,n),e.endUndoGroup())}}(OX.getEditor(e),e):"table/clearCellBackground"===t?function(e,t){if(e.isBlockWritable(t)){var n=Px(t);if(n.startCell&&n.endCell){for(var r=n.startRow;r<=n.endRow;r++)for(var o=n.startCol;o<=n.endCol;o++)ik(t,{row:r,col:o});var i=hf(t);e.updateBlockData(t,i,{fromUndo:!1,updateBlock:!1,partial:!1})}}}(OX.getEditor(e),e):"table/setCellBackground"===t&&(null==n?void 0:n.color)?function(e,t,n,r){if(e.isBlockWritable(t)){var o=Px(t);if(o.startCell&&o.endCell){for(var i=o.startRow;i<=o.endRow;i++)for(var a=o.startCol;a<=o.endCol;a++)rk(t,{row:i,col:a},n,r);var s=hf(t);e.updateBlockData(t,s,{fromUndo:!1,updateBlock:!1,partial:!1})}}}(OX.getEditor(e),e,!0,n.color):"table/insertRowAbove"===t?Zx(OX.getEditor(e),e,"above"):"table/insertRowBelow"===t?Zx(OX.getEditor(e),e,"below"):"table/insertColLeft"===t?Xx(OX.getEditor(e),e,"left"):"table/insertColRight"===t?Xx(OX.getEditor(e),e,"right"):"table/showBorder"===t?g_(e,!0):"table/hideBorder"===t?g_(e,!1):"table/delete"===t&&ck(OX.getEditor(e),e)},handleBlockMouseDown:function(e,t){return t.target instanceof Element&&(!t.target.closest("td")&&(t.preventDefault(),!0))},handleBlockMouseEnter:function(e){Mw.show(e);var t=OX.getEditor(e);BO.handleBlockMouseEnter(t,e)},handleBlockMouseLeave:function(e){var t=OX.getEditor(e),n=t.getAgentSelector().getDetail();BO.handleBlockMouseLeave(t,e),(null==n?void 0:n.block)===e||nA(e)||(Mw.hide(e),ax.hide(e))},handleBlockMouseMove:function(e,t){return ax.handleBlockMouseMove(e,t),!0},handleBlockFocusChanged:function(e,t){t?Mw.show(e):Mw.hide(e)},handleBlockDeleted:function(e,t){var n=BN(e,t),r=Gp(n),o=Nx(n);xO.unbind(r,o)},handleBlockReload:function(e,t){var n=Gp(t),r=Nx(t);xO.unbind(n,r)},handleChildBlockChanged:function(e,t,n){w(t),w(n),e.querySelector(".editor-chartjs-canvas")&&Ub(e,{updateNow:!1})},getContextMenuData:function(e,t){if(w(e),t.startBlock===e)return[];var n=t.startBlock;w(n),w(ts(e,n));var r=Mx(n);w(r);var o=wN(r);w(o);var i=OX.getEditor(o);return i.isReadOnly()||!i.isBlockWritable(o)||i.options.markdownOnly?[]:v_(o,[Mb.fromBlock(o).getCellByElement(r)])},getBlockCommandStatus:function(e){var t,n,r,o,i={"table/showBorder":"enable"},a=Px(e);if(!a.startCell||!a.endCell){var s=OX.getEditor(e).getSelectionDetail();if(s.startBlock){var c=Mx(s.startBlock);c&&(i["table/setCellBackground"]="enabled",i["table/clearCellBackground"]="enabled",i["table/insertColLeft"]="enabled",i["table/insertColRight"]="enabled",i["table/insertRowAbove"]="enabled",i["table/insertRowBelow"]="enabled",(c.colSpan>1||c.rowSpan>1)&&(i["table/splitCell"]="enabled"))}return i}i["table/setCellBackground"]="enabled",i["table/clearCellBackground"]="enabled",i["table/insertColLeft"]="enabled",i["table/insertColRight"]="enabled",i["table/insertRowAbove"]="enabled",i["table/insertRowBelow"]="enabled";var l=a.startCell,u=Mb.fromBlock(e),d=Jy.getFirstFullySelectCell(u,a),p=ak(e,{col:null!==(t=null==d?void 0:d.col)&&void 0!==t?t:a.startCol,row:null!==(n=null==d?void 0:d.row)&&void 0!==n?n:a.startRow},u);p&&(i[p]=!0);var f=sk(e,{col:null!==(r=null==d?void 0:d.col)&&void 0!==r?r:a.startCol,row:null!==(o=null==d?void 0:d.row)&&void 0!==o?o:a.startRow},u);return f&&(i[f]=!0),(l.colSpan>1||l.rowSpan>1)&&(i["table/splitCell"]="enabled"),a.startCell!==a.endCell&&(i["table/mergeCells"]="enabled"),0!==a.startRow&&(0===a.startCol&&a.endCol===u.colCount-1||a.startCell===a.endCell)&&(i["table/deleteSelectedRows"]="enabled"),u.colCount-(a.endCol-a.startCol+1)>0&&(0===a.startRow&&a.endRow===u.rowCount-1||a.startCell===a.endCell)&&(i["table/deleteSelectedCols"]="enabled"),i},getContainerAlign:function(e,t){var n,r=Nx(e);return null!==(n=Jx(e,Mb.fromTable(r).getCellByElement(t),null))&&void 0!==n?n:null},handlePaste:function(e,t,n){var r=t.doc;if(!r)return!1;if(1!==r.blocks.length)return!1;var o=TO(r),i=o.blocks[0];if(i.type!==Qi.TABLE)return!1;w(Rp(e)===Qi.TABLE),w(n.startBlock),w(Mh(n.startBlock)===e);var a=Nx(e),s=Mb.fromBlock(e),c=Mx(n.startBlock);w(c);for(var l=Mb.fromTable(a).getCellByElement(c),u=i.cols,d=i.rows,p=l.col,f=l.row,h=p+u,A=f+d,m=[],g=p;g<h&&g<s.colCount;g++)for(var v=f;v<A&&v<s.rowCount;v++){var b=s.getCell({col:g,row:v});b.virtual?b.virtual&&m.push({col:g,row:v}):(b.colSpan>1||b.rowSpan>1)&&m.push({col:g,row:v})}var y=OX.getEditor(e);if(y.beginUndoGroup(),m.forEach((function(t){var n=Mb.fromBlock(e).getCell(t);(n.colSpan>1||n.rowSpan>1)&&Rx(e,t)})),h>s.colCount)for(var x=s.colCount;x<h;x++)Qx(e,x);if(A>s.rowCount)for(var k=s.rowCount;k<A;k++)Ux(e,k);s=Mb.fromBlock(e);for(var C,E=Mb.fromData(y,o,i),B=0;B<E.colCount;B++)for(var T=0;T<E.rowCount;T++){var M=E.getCell({col:B,row:T});if(!M.virtual){var I=o[M.cellId];w(I);var D={col:p+B,row:f+T},_=s.getCellContainer(D);y.replaceContainerData(_,I),C=_}}w(C);var S=NN(C);return y.selectBlock(S,-1,-1),y.endUndoGroup(),!0},getAbstract:function(){return"[".concat(ju.table.abstract,"]")}});var zO=new Map,QO="";function PO(e,t){if(e.innerHTML=function(){if(QO)return QO;var e=Wn.map((function(e){return"-"===e.key?'<option value="-" disabled>-</option>':(zO.set(e.name,e.key),'<option value="'.concat(e.name,'">').concat(e.name).concat("","</option>"))}));return QO=e.join("")}(),t){var n=Wn.findIndex((function(e){return!!(t===e.name||t===e.key||e.aliases&&-1!==e.aliases.indexOf(t))}));-1!==n&&(e.selectedIndex=n)}}function HO(e){if(!function(e){return e instanceof HTMLSpanElement}(e))return!1;var t=e;return!!t.textContent&&(1===t.childNodes.length&&(t.childNodes[0]instanceof Text&&-1!==t.textContent.indexOf("\n")))}function VO(e){var t=document.createElement("pre");t.innerHTML=e;var n=document.createElement("pre");return Array.from(t.childNodes).forEach((function(e){HO(e)?function(e){var t=e.textContent.split("\n"),n=[];return t.forEach((function(t,r){var o=e.cloneNode(!0);o.textContent=t,r>0&&n.push(document.createTextNode("\n")),n.push(o)})),n}(e).forEach((function(e){return n.append(e)})):n.append(e)})),t.childNodes.length===n.childNodes.length?e:n.innerHTML}var KO=qo.codeIcon,GO=qo.copyIcon,WO=qo.wrapIcon,YO="editor-code-lang";function qO(){return am(YO)}function ZO(e,t){t?Qa(e,"editor-code-no-wrap"):Ja(e,"editor-code-no-wrap")}function XO(e){return Ga(e,"editor-code-no-wrap")}function JO(e){var t=e.querySelector(".editor-code-language");return w(t),t}function $O(e){var t,n=JO(e).value;return t=n,zO.get(t)}function eN(e,t,n){JO(e).value=t,n&&cN(e),function(e){sm(YO,e)}(t)}function tN(e){w(jp(e)),w(Rp(e)===Qi.CODE);var t=Gp(e);return w(2===t.children.length),t.children[1]}function nN(e){var t=SN(tN(e)),n=[];return t.forEach((function(e){w(Rp(e)===Qi.CODE_LINE);var t=hf(e).text;w(t),n.push(t.toPlainText())})),n.join("\n")}function rN(e){w(e);var t=[eL(tN(e))],n=JO(e).value,r=zp(e),o=function(e){return XO(Gp(e))}(e);return{id:r,type:Qi.CODE,text:new Yo([]),children:t,language:n||void 0,disableWrap:o,code:nN(e)}}function oN(){var e,t=OX.getCurrentCommandTarget();w(t);var n=OX.getEditor(t.target);w(n);var r=wN(t.target);w(r);var o=kN(r);n.isMainContainer(o)||(w(r=wN(o)),o=kN(r));var i=TN(r);Gf(r)||(i+=1);var a=null!==(e=qO())&&void 0!==e?e:Yn(""),s=If(n,Qi.CODE,{language:a,code:""},B());n.insertBlock(o,i,Qi.CODE,s,{fromUndo:!1,focusToBlock:!0,localAction:!0})}function iN(e,t,n){var r;try{r=OX.getEditorById(e)}catch(e){return}w(r);var o=r.getBlockById(t);if(o){var i=SN(tN(o)),a=(n=VO(n)).split("\n");if(a.length===i.length){var s=r.getSelectionDetail(),c=!1;i.forEach((function(e,t){!function(e,t){w(e),w(void 0!==t),function(e,t){var n=OX.getEditor(e);if(n.isComposing()&&n.getSelectionDetail().startBlock===e)return;var r=function(e){var t=document.createElement("pre");t.innerHTML=e;var n=[],r=function(e){var t={};return e.classList.forEach((function(e){t["style-".concat(e)]=!0})),t},o=function e(t){if(t instanceof Text||t instanceof HTMLFontElement)return w(void 0!==t.nodeValue),w(t.nodeValue),void n.push({insert:t.nodeValue});if(!(t instanceof HTMLBRElement)){if(w(t instanceof HTMLSpanElement),1===t.childNodes.length){var o=t.childNodes[0];if(o instanceof Text||o instanceof HTMLFontElement)return w(o.nodeValue),void n.push({insert:o.nodeValue,attributes:r(t)})}t.childNodes.forEach((function(t){e(t)}))}};return t.childNodes.forEach((function(e){o(e)})),new Yo(n)}(t),o=pN(e).text;if(w(o),r.toPlainText()!==o.toPlainText())return void console.log("text changed, skip to highlight");var i=Vf(e),a=zp(e),s=n.getRemoteCaretPosesInBlock(a),c=em(n,i,r,s),l=tm(n,i);if(w(l),w(c),rn()(c.children,l.children))return;Object.entries(c).forEach((function(e){var t,n,r=(n=1,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return dN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dN(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];"children"!==r&&"count"!==r&&(c[r]=l[r])}));var u=GA()(l,c);rm(n,i,u)}(e,t)}(e,a[t]),e===s.startBlock&&(c=!0)})),c&&(w(s.startBlock),w(void 0!==s.startOffset),r.selectBlock(s.startBlock,s.startOffset,s.startOffset)),Qa(o,"editor-code-highlighted")}}}function aN(e){try{var t=OX.getEditor(e);if(t.isHistory())return;var n=t.rootContainer(),r=t.options.highlightMaxCodeLines||500;if(!t.isReadOnly()&&n.querySelectorAll(".code-line-block").length>r)return;var o=nN(e),i=$O(e);if(!i||"plain text"===i.toLocaleLowerCase())return;var a=i.replace("clike","cpp"),s=zp(e);_v.highlightCodeBlock(t,t.id,s,a||"",o)}catch(e){console.info("failed to update highlight",e)}}_v.on("highlight",iN);var sN=new Map;function cN(e){var t=sN.get(zp(e));t||(t=In()(aN,300),sN.set(zp(e),t)),t(e)}function lN(e){return Ga(e,"editor-code-highlighted")}var uN={getBlockOptions:function(){return{textBlock:!1,complexBlock:!0}},getBlockMenuItems:function(){return[{id:"",icon:KO,text:ju.blocks.code,supportMarkdown:!0,order:EO.code,onClick:oN}]},createBlockTemplateData:function(e,t){var n;return n=t.code?t.code.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n").map((function(t){return If(e,Qi.CODE_LINE,{text:Yo.fromText(t)})})):[If(e,Qi.CODE_LINE,{text:new Yo([])})],{children:[e.createEmptyChildContainerData(n,B())],language:t.language||qO()}},createBlockContent:function(e,t,n){var r;w(n);var o=n,i=document.createElement("div"),a=ps("div",["editor-code-config"],i);a.contentEditable="false";var s=function(e,t){var n=ps("select",["editor-code-language"],e);return setTimeout((function(){PO(n,t)}),100),n}(a,null!==(r=o.language)&&void 0!==r?r:"");s.onchange=function(){var n=e.getBlockById(t);n&&(eN(n,s.value,!0),e.updateBlockData(n,{language:s.value},{fromUndo:!1,updateBlock:!1,partial:!0}),cN(n))},ps("div",["editor-code-config-spacer"],a);var c=ps("div",[Vi.TEXT_BUTTON,Vi.TOOLTIP,"editor-code-wrap-button"],a);c.innerHTML=WO,c.setAttribute("data-tooltip",ju.common.wordWrap),c.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},c.onclick=function(n){n.preventDefault(),n.stopPropagation(),w(e);var r=e.getBlockById(t);if(r){var o=!XO(i);ZO(i,o),e.updateBlockData(r,{disableWrap:o},{partial:!0,fromUndo:!1,updateBlock:!1})}},ZO(i,o.disableWrap);var l=ps("div",[Vi.TEXT_BUTTON,Vi.TOOLTIP,"editor-code-copy-button"],a);return l.innerHTML=GO,l.setAttribute("data-tooltip",ju.common.copy),l.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},l.onclick=function(n){var r;n.preventDefault(),n.stopPropagation(),w(e);var o=e.getBlockById(t);if(o){var i=nN(o);try{var a=e.saveSelectionState();rb(i),e.restoreSelectionState(a),(null===(r=e.options.callbacks)||void 0===r?void 0:r.onCodeCopied)&&e.options.callbacks.onCodeCopied(e,i)}catch(e){console.error(e)}}},function(e,t,n){w(n.children),w(1===n.children.length);var r=n.children[0],o=e.getChildContainerData(r);e.createChildContainer(t,r,o)}(e,i,o),i},updateBlockData:function(e,t){var n=t,r=rN(e);w(r.children),w(n.children),w(r.children[0]===n.children[0]),r.language!==n.language&&eN(e,n.language||"txt",!1),r.disableWrap!==n.disableWrap&&ZO(Gp(e),n.disableWrap)},handleKeydownEvent:function(e,t,n){if(w(n),w(e),w(t),fi(n)){var r=NL();if(r&&r.startContainer.textContent){var o=r.startContainer.textContent.substring(0,r.startOffset);if(o.match(/\s{4}$/)){var i=r.startOffset-4;r.startContainer.textContent=r.startContainer.textContent.substring(0,i)+r.startContainer.textContent.substring(r.startOffset),r.setStart(r.startContainer,i),r.setEnd(r.startContainer,i)}else if(o.match(/\t$/)){var a=r.startOffset-1;r.startContainer.textContent=r.startContainer.textContent.substring(0,a)+r.startContainer.textContent.substring(r.startOffset),r.setStart(r.startContainer,a),r.setEnd(r.startContainer,a)}}}return!1},saveData:rN,getChildContainersData:function(e){var t=tN(e),n=eL(t),r=[];return SN(t).forEach((function(e){var t=hf(e);r.push(t)})),[{id:n,blocks:r}]},getCaretPos:function(e,t,n){return t===tN(e)?(w(0===n||1===n),n):0},createRange:function(e,t){w(e),w(0===t||-1===t||1===t);var n=tN(e);w(n);var r=SN(n),o=0===t?r[0]:r[r.length-1];return w(o),Sf(o,0===t?0:-1)},getSubContainerInComplexBlock:function(e,t,n){return w(n),null},replaceChildrenId:function(e,t){var n=e,r=t.children;w(r);var o=r[0];w(o);var i=B();n[i]=n[o],delete n[o],t.children=[i]},executeBlockCommand:function(e,t,n){w(Rp(e)===Qi.CODE)},handleBlockLoaded:function(e){th(e)||cN(e)},accept:function(e,t){return w(t),t===Qi.CODE_LINE},fixEmptyContainer:function(e,t){return OX.getEditor(e).insertBlock(tN(e),0,Qi.CODE_LINE,{type:Qi.CODE_LINE,id:B(),text:Yo.create("")},t),!0},handleBlockInserted:function(e,t){cN(e)},notify:function(e,t){if("removeHighlight"===t){if(!lN(e))return;var n=OX.getEditor(e),r=nN(e),o=document.createElement("pre");o.innerText=r;var i=o.innerHTML.replace(/<br>/g,"\n");iN(n.id,zp(e),i),Ja(e,"editor-code-highlighted")}else if("highlight"===t){if(lN(e))return;cN(e)}},getAbstract:function(){return"[".concat(ju.code.abstract,"]")}};function dN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pN(e){var t=Sg(Vf(e));return OX.getEditor(e).isHistory()?{id:zp(e),type:Rp(e),text:t}:{id:zp(e),type:Rp(e),text:Yo.fromText(t.toPlainText())}}function fN(e){cN(function(e){var t=wN(kN(e));return w(t),t}(e))}tf(Qi.CODE,uN);var hN={getBlockOptions:function(){return{textBlock:!0,disableQuickInput:!0}},getTextElement:function(e){return w(Rp(e)===Qi.CODE_LINE),Gp(e)},createBlockTemplateData:function(e,t){return{text:null==t?void 0:t.text}},createBlockContent:function(e,t,n){w(n);var r=document.createElement("div");return _g(e,r,n),r},updateBlockData:function(e,t){console.debug("code block has no data: ".concat(zp(e),", ").concat(JSON.stringify(t)))},updateBlockText:function(e,t){Og(Vf(e),t),fN(e)},executeTextCommand:function(e,t,n,r,o){return w(void 0!==r),[]},getTextCommandStatus:function(e,t,n){return w(void 0!==t),w(void 0!==n),{insertComplexBlock:"disabled",insertBox:"disabled",insertBlock:"disabled",textStyle:"disabled",link:"disabled",comment:"disabled",unlink:"disabled"}},handleKeydownEvent:function(e,t,n){if(pi(n)){var r=OX.getEditor(e),o=r.options.codeTabSize||4;o>16&&(o=16);for(var i="",a=0;a<o;a++)i+=" ";return w(void 0!==t.startOffset),r.insertBlockText(e,t.startOffset,Yo.fromText(i)),!0}return jg(e,t,n)},handlePaste:function(e,t,n){w(t);var r,o=OX.getEditor(e);if(t.fromEditor&&!t.pasteAsText&&(w(t.doc),r=Cn(t.doc)),t.html&&t.text&&t.doc)r=t.text;else if(t.text&&t.pasteAsText)r=t.text;else if(t.doc)r=Cn(t.doc);else{if(!t.text)return!1;r=t.text}var i=n.startOffset;w(void 0!==i);var a=r.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n");if(1===a.length)return o.insertBlockText(e,i,Yo.fromText(a[0])),!0;var s=ip(e,i,{keepFormat:!1}),c=kN(e),l=TN(e),u=0;return a.forEach((function(t,n){if(0===n)o.insertBlockText(e,i,Yo.fromText(t));else if(n===a.length-1)o.insertBlockText(s,0,Yo.fromText(t)),u=t.length;else{var r=If(o,Qi.CODE_LINE,{text:Yo.fromText(t)});o.insertBlock(c,l+n,Qi.CODE_LINE,r,{fromUndo:!1,focusToBlock:!1,localAction:!0})}})),VL(s,u),!0},handleBlockTextChanged:function(e){return pN(e),fN(e),!0},saveData:pN,getCaretPos:Ig,createRange:Dg,getTextToolbarOptions:Fg,createSplittedBlockData:function(e){return w(e),w(Rp(e)===Qi.CODE_LINE),{type:Qi.CODE_LINE}},accept:function(e,t){return w(t),!1},highlightText:Bg};function AN(e,t,n){var r=t.block,o=t.start,i=t.end;return Uf(r)?Yf(r,"comment",o,i,{commentId:n}):e.addCommentToBlock(r,n)}function mN(e,t){if(function(e){for(;e.length>0;){var t=e[0],n=t.block,r=t.start,o=t.end;if(!Uf(n)||r!==o)break;e.shift()}for(;e.length>0;){var i=e[e.length-1],a=i.block,s=i.start,c=i.end;if(!Uf(a)||s!==c)break;e.pop()}}(t),0===t.length)return[];if(1===t.length){var n=t[0],r=n.block,o=n.start,i=n.end;if(Uf(r)){if(o===i)return[];var a=Zp(r),s=e.createComment(null,null,null,null==a?void 0:a.slice(o,i));return Yf(r,"comment",o,i,{commentId:s}),[s]}return e.executeBlockCommand("comment",r)}w(t.length>1);var c="";t.forEach((function(e){c+="\n".concat(Zp(e.block))}));var l=t.shift(),u=t.pop();w(l&&u);var d=e.createComment(null,null,null,c);return e.beginUndoGroup(),AN(e,l,d),AN(e,u,d),t.forEach((function(t){e.addCommentToBlock(t.block,d,{noEditComment:!0})})),e.endUndoGroup(),[d]}function gN(e){return function(e){if(Array.isArray(e))return vN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return vN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}tf(Qi.CODE_LINE,hN);var bN=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},yN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function wN(e){var t,n=e||null;return!n||n instanceof HTMLElement||(n=null==n?void 0:n.parentElement),(null===(t=n)||void 0===t?void 0:t.closest("[".concat(Ui.NODE_TYPE,"=block]")))||null}function xN(e){var t=wN(e);if(t&&t.parentElement){var n=wN(t.parentElement);n&&(t=n)}return t}function kN(e){var t,n=e||null;!n||n instanceof HTMLElement||(w(n.parentElement),n=null==n?void 0:n.parentElement);var r=null===(t=n)||void 0===t?void 0:t.closest(".editor-container");return w(r),w(r instanceof HTMLElement),r}function CN(e,t){return kN(e)===kN(t)}function EN(e){var t,n=e;return!n||n instanceof HTMLElement||(n=null==n?void 0:n.parentElement),(null===(t=n)||void 0===t?void 0:t.closest(".".concat(Vi.ROOT_CONTAINER)))||null}function BN(e,t){if(w(e.children.length>0),-1===t)return e.children[e.children.length-1];var n=e.children[t];return w(n),n}function TN(e){return Array.prototype.slice.call(function(e){return e.parentElement}(e).children).indexOf(e)}function MN(e){var t=e,n=null;do{if(!((t=t.previousElementSibling)&&t instanceof HTMLElement))return null;n=wN(t)}while(!n&&t);return n}function IN(e){var t=e,n=null;do{if(!((t=t.nextElementSibling)&&t instanceof HTMLElement))return null;n=wN(t)}while(!n&&t);return n}function DN(e){var t=PL(e);return w(t.startBlock),w(t.startBlock===t.endBlock),t.startBlock}function _N(e,t,n,r){return Kp(e,t,n,r)}function SN(e){return Array.from(e.children).map((function(e){return w(e instanceof HTMLElement),w(jp(e)),e}))}function ON(e){return e.childElementCount}function NN(e){return BN(e,ON(e)-1)}function LN(e,t,n){return-1===t?e.appendChild(n):t===e.children.length?e.insertAdjacentElement("beforeend",n):e.children[t].insertAdjacentElement("beforebegin",n),n}function RN(e){var t=cs(e.rootElement);w(t instanceof Element);var n=0,r=0,o=0;if(t===document.documentElement){var i=e.rootContainer().getBoundingClientRect();n=i.left+i.width/2,r=10,o=t.offsetHeight}else{var a=t.getBoundingClientRect();n=a.left+a.width/2,r=a.top+10,o=a.bottom}for(;r<o;){for(var s=document.elementsFromPoint(n,r),c=0;c<s.length;c++){var l=wN(s[c]);if(l&&e.rootContainer().contains(l))return l}r+=10}return null}function jN(e,t,n){return LN(e,t,n)}function UN(e,t,n){Jp(BN(e,t),n)}function FN(e,t,n){var r=BN(e,t);(Jp(r,n),Rp(r)===Qi.LIST)&&lD(OX.getEditor(r),r,{forcedRemove:!0})}function zN(e,t){var n;n=t instanceof HTMLElement?t:BN(e,t);var r=OX.getEditor(n);r.getCaretPos().blockId===zp(n)&&r.endComposition(),e.removeChild(n)}function QN(e,t,n){var r=BN(t,n);w(r);var o=Rp(r);o===Qi.TABLE&&xO.destroyBlock(r),o===Qi.LIST&&lD(e,r,{forcedRemove:!0}),e.autoSuggest.isInBlock(r)&&e.autoSuggest.hide(),u_(t,[r],{remote:!0,fixCaret:!0})}function PN(e,t,n){$p(BN(e,t),n)}function HN(e,t,n){$p(BN(e,t),n)}function VN(e){var t=null;w(t=e instanceof Node?OX.getEditor(e):e);var n=t.getCaretPos();if(!n.blockId)return-1;var r=t.getBlockById(n.blockId);return w(r),TN(r)}function KN(e){XI(e)}function GN(e,t,n){return Qv(e,t,n)}function WN(e){var t=OX.getEditor(e),n=kN(e);Ef(n,e);var r=pL(n)?"blocks":eL(n),o=t.data()[r][TN(e)],i=_N(t,o.id,o.type,Ba(o));return e.insertAdjacentElement("beforebegin",i),e.remove(),i}var YN=null;function qN(e){if("insertText"===e.inputType&&!e.isComposing){var t=e.data||"";if(/\n/.test(t))Kv(OX.getEditor(e.target),t),e.preventDefault()}}function ZN(e){var t,n;if(e instanceof InputEvent){w(e instanceof InputEvent);var r=e.target;if(w(r),w(r instanceof Node),!Yp(r)){var o=OX.getEditor(e.target);if(o.isComposing()){if(o.isLockedForComposition()){var i=o.compositionLockData;w(i),i.inputEvent=[e]}}else{var a=DN(o),s=null;if("deleteContentBackward"===e.inputType){var c=o.compositionData.block,l=!1,u=IN(a);if(c&&!o.isInEditor(c)){w(o.compositionData.complexBlock);var d=o.compositionData.complexBlock.contains(a);WN(o.compositionData.complexBlock),d||WN(a),l=!0}else u&&!u.querySelector(".".concat(Vi.BLOCK_CONTENT))?(u=WN(u),WN(a),o.selectBlock(u,0),l=!0):c&&!c.querySelector(".".concat(Vi.BLOCK_CONTENT))&&(WN(a),u=WN(c),l=!0);if(l)return e.preventDefault(),e.stopPropagation(),o.compositionData.complexBlock=null,o.compositionData.block=null,void(YN=e);s=Array.from(a.querySelectorAll(".".concat(Vi.BLOCK_CONTENT," > br")))}if(o.compositionData.complexBlock=null,o.compositionData.block=null,YN&&e.timeStamp-YN.timeStamp<100){var p=WN(a);o.selectBlock(p,0)}else{YN=null;var f=o.getWaitingCommand();w(Uf(a));var h=null;if(o.lastEvent&&o.lastEvent instanceof KeyboardEvent&&(h=o.lastEvent),f)if(o.clearWaitingCommand(),function(e,t,n){if(!t.data)return!1;var r=t.data,o=PL(OX.getEditor(e));w(o.startBlock),w(void 0!==o.startOffset);var i=wN(e);w(i===o.startBlock),w(i);var a=o.startOffset,s=a-r.length;w(s<a&&s>=0);var c=Yo.from(hf(i).text);return Object.keys(n).forEach((function(e){n[e]?c.addStyle(s,a,e,!0):c.removeStyle(s,a,e)})),KL(i,s,s),OX.getEditor(i).updateBlockText(i,c,{fromUndo:!1,updateBlock:!0}),KL(i,a,a),!0}(Vf(a),e,f))return void(h&&GN(o,h,null!==(t=e.data)&&void 0!==t?t:""));if(s&&s.length>1){w(o.getBlockData(a).text);for(var A=Gp(a),m=0;m<s.length;m++){var g=s[m];if(g!==A.firstChild)break;g.remove()}}Tf(a),GN(o,h,null!==(n=e.data)&&void 0!==n?n:"")}}}}}function XN(e){e.removeEventListener("beforeinput",qN),e.removeEventListener("input",ZN)}function JN(e,t,n,r){var o=document.createElement("div");o.setAttribute(Ui.NODE_TYPE,Fi.CONTAINER);var i,a=r||B();(o.id=a,Qa(o,Vi.CONTAINER,n?Vi.ROOT_CONTAINER:"sub-container"),n)?(Array.from(t.querySelectorAll(".".concat(Vi.ROOT_CONTAINER))).forEach((function(e){e.remove()})),t.insertBefore(o,t.firstChild)):t.appendChild(o);return XN(i=o),i.addEventListener("beforeinput",qN),i.addEventListener("input",ZN),n&&e.isWritable()&&(o.contentEditable="true"),o}function $N(e){e.rootContainer().contentEditable=e.isReadOnly()?"false":"true",e.autoSuggest.hide()}function eL(e){return e.id}function tL(e){XN(e),e.parentElement&&e.parentElement.removeChild(e)}function nL(e,t,n){var r;n.forEach((function(n){var r=n.id,o=n.type,i=n.text,a=yN(n,["id","type","text"]),s=null;i&&(s=new Yo(i));var c=_N(e,r,o,Object.assign(Object.assign({text:s},a),{id:r,type:o}));LN(t,-1,c),kf(c)})),0===n.length&&e.insertBlock(t,0,Qi.TEXT,{id:B(),type:Qi.TEXT,text:new Yo([])},{fromUndo:!0,focusToBlock:!0,localAction:!0}),(null===(r=e.options.callbacks)||void 0===r?void 0:r.onLoadBlocks)&&e.options.callbacks.onLoadBlocks(e,t,n)}function rL(e){var t=[];return Array.from(e.children).forEach((function(e){w(e instanceof HTMLElement),w(jp(e));var n=hf(e),r=n.id,o=n.type,i=n.text,a=yN(n,["id","type","text"]),s=Array.isArray(i)?i:null==i?void 0:i.toOps();t.push(Object.assign({id:r,type:o,text:s},a))})),t}var oL={containerId:"",blockId:"",offset:0};function iL(e){var t=PL(e);return w(t.startBlock),w(void 0!==t.startOffset),{containerId:eL(kN(t.startBlock)),blockId:zp(t.startBlock),offset:t.startOffset}}function aL(e){var t=PL(e);switch(t.type){case ia.INVALID:return oL;case ia.MULTI_BLOCKS:case ia.ONE_TEXT_BLOCK:case ia.ONE_FULL_COMPLEX_BLOCK:case ia.ONE_EMBED_BLOCK:var n=t.startBlock,r=t.startOffset;return w(n),w(void 0!==r),{containerId:eL(kN(n)),blockId:zp(n),offset:r};default:w(!1)}}function sL(e,t){var n=e.getBlockById(t.blockId);w(n),KL(n,t.offset,t.offset)}function cL(e,t){var n=e.getBlockById(t.blockId);return!!n&&(0===t.offset?(KL(n,0),!0):-1===t.offset||t.offset>Kf(n)?(KL(n,-1),!0):(KL(n,t.offset,t.offset),!0))}function lL(e,t){return e.containerId===t.containerId&&e.blockId===t.blockId&&e.offset===t.offset}function uL(e,t,n){var r,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n){var a=kN(n),s=wN(a);return wb(n,s||void 0,t,i)}var c=ZL(e),l=c.map((function(e){return e.block}));if("webpage"===t){var u=up(aa.WEBPAGE);if(u){var d=i.type||"normal",p={name:ju.webpage.other,type:"normal",helpLink:"",helpHtml:ju.webpage.otherHelp,icon:qo.webIcon},f=null!==(o=(null!==(r=e.options.allowedWebPages)&&void 0!==r?r:[]).find((function(e){return e.type===d})))&&void 0!==o?o:p;u.handleShowInsertWebPageDialog(l[l.length-1],f)}return[]}if(0===c.length){var h=e.getAgentSelector();if(h.isSelected()){var A=h.getSelectedBlocks();if(A&&A.length>0&&-1===t.indexOf("/")){var m=A.map((function(e){return wb(e,void 0,t,i)}));return m}var g=h.getSelectedBlock();if(g)return wb(g,void 0,t,i)}return[]}if(e.isTitleBlock(c[0].block)&&(-1===["comment","alignLeft","alignCenter","alignRight"].indexOf(t)&&c.shift(),0===c.length))return[];if(c.length>=2){var v=c[1];0===v.start&&0===v.end&&c.pop()}if(0===l.length)return[];if("toCheckbox"===t||"toUnorderedList"===t||"toOrderedList"===t)return UI(e,l,t,i);var b=[],y=!0;return l.forEach((function(e){var n=wb(e,void 0,t,i);!1!==n&&(y&&(y=!1,t.startsWith("toHeading")?(Gu(n)||(t="toBodyText"),i.keepHeading=!0):"toQuoted"===t&&(i.quoted=rf(n))),b.push(n))})),b}function dL(e,t,n){var r=this;if("comment"===t){var o=XL(e);return mN(e,o)}var i=JL(e);if(0===i.length&&(e.getAgentSelector().isSelected()&&(i=e.getAgentSelector().getSelectedBlocks().map((function(e){return{block:e,start:0,end:-1}}))),0===i.length))return[];if(0===(i=i.filter((function(t){return e.isBlockWritable(t.block)}))).length)return[];if(i.some((function(e){var t=Rp(e.block);return t===Qi.CODE_LINE||t===Qi.CODE})))return[];if(i.length>1&&"link"===t)return[];if(/^(link|unlink)$/i.test(t)&&i[0].start===i[0].end){var a=i[0].block,s=hf(a);w(s.text);var c=s.text.getAttributesAt(i[0].start);if(!c||!c.link)return"link"===t&&Lm(e,(function(t,n){return bN(r,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.beginUndoGroup(),e.insertBlockText(a,i[0].start,Yo.createWithAttributes(t,{link:n})),e.endUndoGroup(),r.abrupt("return",!0);case 4:case"end":return r.stop()}}),r)})))})),[];var l=s.text.getOpRangeAt(i[0].start),u=l.start,d=l.end;KL(i[0].block,u,d),i=JL(e)}var p=n&&n[t];if(void 0===p){var f={},h=i[0],A=h.block;Uf(A)&&(f=Zf(A,h.start,{selectNext:i[0].start!==i[0].end}));var m=f[t];if(p="boolean"!=typeof m||!m,n||(n={}),n[t]=p,"link"===t){var g=i[0].block;return m?Rm(e,g,m||""):function(e){Nm(e,{initUrl:"",hideText:!1,allowCollapsed:!1,onOK:function(t,n){if(n){var r=e.getSelectionDetail();r.collapsed||r.startBlock&&r.startBlock===r.endBlock&&r.startOffset!==r.endOffset&&e.executeTextCommand("link",{link:n,text:t})}},onHidden:function(){RL()}})}(e),[]}}var v=[];return i.forEach((function(e){var r=e.block;w(r);var o=e.start,i=e.end,a=Yf(r,t,o,i,n);a&&v.push({blockId:Lf(r),result:a})})),v}function pL(e){return e.classList.contains("root-container")}function fL(e){var t,n=e.getSelectionDetail(),r=n.direction>0?n.endBlock:n.startBlock;if(r){var o=cs(r),i=o.getBoundingClientRect(),a=Ds(n.range);if(w(a),!(0===a.width&&0===a.height&&(r&&Gf(r)&&(a=r.getBoundingClientRect()),0===a.width&&0===a.height)||o!==document.documentElement&&a.left>=i.left&&a.top>=i.top&&a.bottom<=i.bottom&&a.right<=i.right)){var s=n.direction>0?n.range.endContainer:n.range.startContainer;if(w(s),s){if(s instanceof Element);else{var c=s.parentElement;if(!c)return;s=c}w(s instanceof Element),(null===(t=e.options.callbacks)||void 0===t?void 0:t.onScrollIntoView)?e.options.callbacks.onScrollIntoView(e,o,s):ds(s,e.options.scrollIntoViewIfNeeded)}}}}var hL=In()((function(e,t){var n=PL(e);return!n.noSel&&(!Yp(n.range.startContainer)&&(function(e,t,n){if(!t.collapsed&&n.mouseDown)return!1;if(ib()&&t.collapsed&&t.startBlock&&Uf(t.startBlock)&&t.startOffset===Kf(t.startBlock)&&Qg(t.startBlock))return console.debug("fix safari caret"),setTimeout((function(){e.selectBlock(t.startBlock,-1,-1)})),!1;if(n.lastEvent&&n.lastEvent instanceof MouseEvent){var r=n.lastEvent;if((new Date).valueOf()-n.lastEvent.timeValue<300){var o=document.elementFromPoint(r.x,r.y);if(o instanceof HTMLImageElement){var i=wN(o);if(i&&Rp(i)===Qi.EMBED&&dp(Nw(i)))return KL(i,0),!0}}}if(t.collapsed){var a=cR(t.range.startContainer,t.range.startOffset,"start"),s=a.block,c=a.offset;return!s||(w(void 0!==c),KL(s,c),!0)}if(t.type===ia.ONE_TEXT_BLOCK){var l=t.startBlock;w(l);var u=Vf(l);if(!ts(u,t.range.startContainer)||!ts(u,t.range.endContainer))return KL(l,t.startOffset||0,t.endOffset),!0}var d=cR(t.range.startContainer,t.range.startOffset,"start"),p=cR(t.range.endContainer,t.range.endOffset,"end");if(!d.block&&!p.block)return n.autoScroll&&fL(e),!0;var f=document.createRange();f.setStart(t.range.startContainer,t.range.startOffset);var h=QL(f,t.direction),A=h.startBlock,m=h.startOffset,g=document.createRange();g.setStart(t.range.endContainer,t.range.endOffset);var v=QL(g,t.direction),b=v.endBlock,y=v.endOffset;return d.block&&(A=d.block,m=d.offset),p.block&&(b=p.block,y=p.offset),w(A),w(void 0!==m),b||console.error("err"),w(b),w(void 0!==y),HL(A,m,b,y,t.direction),Qw(t),n.autoScroll&&fL(e),!0}(e,n,t)?((n=PL(e)).collapsed?n.startBlock&&Of(n.startBlock,n,t.lastEvent,t.lastPosition):(n.startBlock&&Of(n.startBlock,n,t.lastEvent,t.lastPosition),n.endBlock&&n.startBlock!==n.endBlock&&Of(n.endBlock,n,t.lastEvent,t.lastPosition)),Qw(n),t.autoScroll&&(e.isReadOnly()||e.mouseWheeled||fL(e)),!0):(Qw(n),!1)))}),10);function AL(e){var t=[],n=_f(e);w(n);var r=OX.getEditor(e);return n.forEach((function(e){var n=r.getContainerById(e.id);w(n);for(var o=ON(n),i=0;i<o;i++){var a=BN(n,i);w(a),t.push(a)}})),t}function mL(e){var t=MN(e);if(t){if(Ff(t)){var n=AL(t);return w(n.length>0),n[n.length-1]}return t}var r=kN(e);if(!pL(r)){var o=wN(r);w(o),w(Ff(o));var i=AL(o);w(i.length>0);var a=i.indexOf(e);return w(a>-1),a>0?i[a-1]:mL(o)}return t}function gL(e){var t=IN(e);if(t){if(Ff(t)){var n=AL(t);return w(n.length>0),n[0]}return t}var r=kN(e);if(!pL(r)){var o=wN(r);w(o),w(Ff(o));var i=AL(o);w(i.length>0);var a=i.indexOf(e);return w(a>-1),a<i.length-1?i[a+1]:gL(o)}return t}function vL(e){for(var t=e;;){var n=mL(t);if(!n)return null;if(Fh(n))return n;t=n}}function bL(e){for(var t=e;;){var n=gL(t);if(!n)return null;if(Fh(n))return n;t=n}}function yL(e,t){var n=e.rootContainer();return Array.from(document.getElementsByClassName(Vi.BLOCK)).filter((function(e){return!!ts(n,e)&&(w(e instanceof HTMLElement),w(jp(e)),Rp(e)===t)})).map((function(e){return e}))}function wL(e){return Ga(e,"block-exclusive")}function xL(e,t,n,r){console.log("block ".concat(zp(e)," ").concat(t?"exclusive":"unexclusive",", ").concat(n,", ").concat(r)),t?(e.style.pointerEvents="none",Qa(e,"block-exclusive"),e.setAttribute("data-user-name",r),e.setAttribute("data-user-id",n)):(e.style.pointerEvents="",Ja(e,"block-exclusive"),e.removeAttribute("data-user-name"),e.removeAttribute("data-user-id"))}function kL(e,t,n,r){if(!Uf(t)){var o={};return xa.forEach((function(e){o[e]="disabled"})),o.textStyle="disabled",o.selectAll="enabled",o}var i=Zf(t,n,{selectNext:n!==r}),a={textStyle:"enabled"};return n===r?((a=Object.assign(Object.assign({},a),{"inline-math":"enabled",math:"enabled"})).link?a.unlink="enabled":a.link="disabled",a.comment="disabled"):(a.commentId?a.comment="disabled":a.comment="enabled",a.link?a.unlink="enabled":a.link="enabled"),a.undo=e.undoState.canUndo()?"enabled":"disabled",a.redo=e.undoState.canRedo()?"enabled":"disabled",a.selectAll="enabled",a=Object.assign(Object.assign({},a),i)}function CL(e){var t,n,r=Rp(e),o=ka,i={},a=Uf(e);o.forEach((function(e){a&&(i[e]=-1===e.indexOf("/")?"enabled":"disabled")})),i.type=r;var s=hf(e);if(s.heading&&(i.heading=s.heading),s.quoted&&(i.quoted=s.quoted),i.align=null!==(t=s.align)&&void 0!==t?t:"left",i.padding=null!==(n=s.padding)&&void 0!==n?n:1,vD(e)){var c=s;i.ordered=c.ordered,i.level=c.level,c.checkbox&&(i.checkbox=c.checkbox)}var l=qh(e);return Object.assign(Object.assign({},i),l)}function EL(e,t){var n={},r=e.getAgentSelector();if(r.isSelected())return qh(r.getSelectedBlock());if(t.collapsed||t.startBlock===t.endBlock){var o=t.startBlock;if(!o)return n;w(o),w(void 0!==t.startOffset),n=Object.assign(Object.assign({type:Rp(o)},n),CL(o)),t.startComplexBlock&&(n=Object.assign(Object.assign({},n),{parentComplexBlock:Object.assign({},CL(t.startComplexBlock))})),w(void 0!==t.endOffset),n=Object.assign(Object.assign({},n),kL(e,o,t.startOffset,t.endOffset)),t.startComplexBlock}else{var i=t.startBlock;w(i),Uf(i)&&(w(void 0!==t.startOffset),n=Object.assign(Object.assign({},n),kL(e,i,t.startOffset,-1)))}return n}function BL(e,t){var n,r;if(!e.isComposing()){var o=null===(n=e.options.callbacks)||void 0===n?void 0:n.onCommandStatusChanged;if(t.type!==ia.INVALID){var i=EL(e,t),a=null!==(r=e.getWaitingCommand())&&void 0!==r?r:{};Object.assign(i,a),o&&o(e,i),e.textToolbar.isVisible()&&e.textToolbar.updateStatus(e,i)}else o&&o(e,{})}}function TL(e,t){var n;w(t);var r=function(){var e=Wp(t,!1);if(e){var n=e.querySelector(".block-tools-button-container");n&&n.remove()}};if(!e.isReadOnly()&&(mh(t)||bh(t))){var o=Jf(t,e.getSelectionDetail(),"fixed")||[];if(null===(n=e.options.callbacks)||void 0===n?void 0:n.onGetBlockCommand){var i=e.options.callbacks.onGetBlockCommand(e,t,e.getSelectionDetail(),"fixed",null,o);i&&i.length>0&&o.push.apply(o,gN(i))}if(o&&0!==o.length){var a=Wp(t,!0);if(w(a),!a.querySelector(".block-tools-button-container")){var s=uy(t,o);w(s),Qa(s,"block-tools-button-container"),a.appendChild(s)}}else r()}else r()}function ML(e,t){var n=e.rootContainer(),r=SN(n);if(!t.deep)return r;for(var o=[],i=ON(n),a=0;a<i;a++){var s=BN(n,a);if(Ff(s)){var c=AL(s);o.push.apply(o,gN(c))}else o.push(s)}return o}function IL(e,t){var n=SN(e);w(n.length>0);var r=n[0],o=n[n.length-1];return t.startBlock===r&&0===t.startOffset&&t.endBlock===o&&(-1===t.endOffset||t.endOffset===Kf(o))}function DL(e,t){if(e.isReadOnly())return!1;var n=e.rootContainer(),r=e.getBlockByIndex(n,ON(n)-1);if(!e.isBlockWritable(r))return!1;if(Uf(r))return!1;var o=r.getBoundingClientRect(),i=n.getBoundingClientRect(),a=new DOMRect(o.left,o.bottom,o.width,i.bottom-o.bottom);return!(t.x<a.left||t.x>a.right)&&(!(t.y<a.top||t.y>a.bottom)&&(e.insertTextBlock(n,-1,""),t.preventDefault(),t.stopPropagation(),!0))}function _L(e){return function(e){if(Array.isArray(e))return SL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return SL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SL(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OL(){var e=document.getSelection();return w(e),e}function NL(){var e=OL();return e.rangeCount>0?e.getRangeAt(0):null}function LL(e){if(!e||!e.focusNode||!e.anchorNode)return 0;var t=document.createRange();try{t.setStart(e.focusNode,e.focusOffset)}catch(e){return 1}var n=document.createRange();try{n.setStart(e.anchorNode,e.anchorOffset)}catch(e){return 1}return t.compareBoundaryPoints(Range.START_TO_START,n)}function RL(){OL().collapseToEnd()}function jL(){return OL().isCollapsed}function UL(){return OL().rangeCount>0}function FL(e){return ep(Vf(e))}function zL(e){try{return!!OX.getEditor(e)}catch(e){return!1}}function QL(e,t){var n=Vd(e.startContainer,e.startOffset),r=Vd(e.endContainer,e.endOffset),o=n||r,i=function(e,t,n){var r,o;if(w(t.startContainer),w(t.endContainer),!Uf(e))return"start"!==n&&"both"!==n||(t.startContainer===e?r=0:(w(ts(e,t.startContainer)),w(void 0!==t.startOffset),r=Wf(e,t.startContainer,t.startOffset))),"end"!==n&&"both"!==n||(t.endContainer===e?o=-1:(w(ts(e,t.endContainer)),w(void 0!==t.endOffset),o=Wf(e,t.endContainer,t.endOffset))),{startOffset:r,endOffset:o};var i=Vf(e),a={startOffset:void 0,endOffset:void 0};return"start"!==n&&"both"!==n||(t.startContainer===e?a.startOffset=0:(w(ts(e,t.startContainer)),a.startOffset=rp(i,t.startContainer,t.startOffset))),"end"!==n&&"both"!==n||(t.endContainer===e?a.endOffset=-1:(w(ts(e,t.endContainer)),a.endOffset=rp(i,t.endContainer,t.endOffset))),a},a=function(e,t){var n;zf(e)?n=wN(kN(e)):Ff(e)&&(n=e);return"start"===t?{startComplexBlock:n||void 0}:{endComplexBlock:n||void 0}};if(!(e.startContainer&&e.endContainer&&zL(e.startContainer)&&zL(e.endContainer)))return{range:e,collapsed:e.collapsed,type:ia.INVALID,noSel:!0,direction:t,focusedOnInput:o};if(e.collapsed){if(e.startContainer instanceof HTMLElement&&Up(e.startContainer))return{range:e,type:ia.INVALID,collapsed:!1,direction:t,focusedOnInput:o};var s,c=wN(e.startContainer);if(!c)return{range:e,type:ia.INVALID,collapsed:!1,direction:t,focusedOnInput:o};if(!Ff(c)){var l=Mh(c);if(l&&nA(l))return{type:ia.ONE_FULL_COMPLEX_BLOCK,startBlock:l,endBlock:l,startOffset:0,endOffset:1,direction:t,range:e,collapsed:!0,focusedOnInput:o}}return Uf(c)?s=ia.ONE_TEXT_BLOCK:Ff(c)?s=ia.ONE_FULL_COMPLEX_BLOCK:(w(Hf(c)),s=ia.ONE_EMBED_BLOCK),Object.assign(Object.assign(Object.assign({range:e,type:s,collapsed:!0,startBlock:c,endBlock:c,direction:t,focusedOnInput:o},i(c,e,"both")),a(c,"start")),a(c,"end"))}if(e.startContainer&&e.startContainer instanceof HTMLElement&&Up(e.startContainer))return{range:e,type:ia.INVALID,collapsed:!1,direction:t};if(e.endContainer&&e.endContainer instanceof HTMLElement&&Up(e.endContainer))return{range:e,type:ia.INVALID,collapsed:!1,direction:t};var u=wN(e.startContainer),d=wN(e.endContainer);return u&&d?u===d?Uf(u)?Object.assign(Object.assign(Object.assign({range:e,type:ia.ONE_TEXT_BLOCK,collapsed:!1,startBlock:u,endBlock:u,direction:t},i(u,e,"both")),a(u,"start")),a(u,"end")):Ff(u)?Object.assign(Object.assign(Object.assign({range:e,type:ia.ONE_FULL_COMPLEX_BLOCK,collapsed:!1,startBlock:u,endBlock:u,direction:t},i(u,e,"both")),a(u,"start")),a(u,"end")):(w(Hf(u)),Object.assign(Object.assign(Object.assign({range:e,type:ia.ONE_EMBED_BLOCK,collapsed:!1,startBlock:u,endBlock:u,direction:t},i(u,e,"both")),a(u,"start")),a(u,"end"))):Object.assign(Object.assign({range:e,type:ia.MULTI_BLOCKS,collapsed:!1,startBlock:u,endBlock:d,startOffset:i(u,e,"start").startOffset,endOffset:i(d,e,"end").endOffset,direction:t},a(u,"start")),a(d,"end")):{range:e,type:ia.INVALID,collapsed:!1,direction:t}}function PL(e){var t=OL(),n=LL(t);if(0===t.rangeCount)return{selection:t,range:document.createRange(),type:ia.INVALID,collapsed:!1,direction:n};var r=t.getRangeAt(0);return Yp(r.startContainer)||Yp(r.endContainer)?{selection:t,range:document.createRange(),type:ia.INVALID,collapsed:!1,direction:n}:(w(r),ts(e.rootContainer(),r.startContainer)?Object.assign(Object.assign({},QL(r,n)),{selection:t}):{selection:t,range:document.createRange(),type:ia.INVALID,collapsed:!1,direction:n})}function HL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;w(e),w(t>=-1);var i={container:null,offset:0},a={container:null,offset:0};if(n||(n=e,w(-1===r),r=FL(e)),e===n&&t===r){var s=Sf(e,t);i.container=s.startContainer,i.offset=s.startOffset,a.container=i.container,a.offset=i.offset}else{var c=Sf(e,t),l=Sf(n,r);i.container=c.startContainer,i.offset=c.startOffset,a.container=l.startContainer,a.offset=l.startOffset}var u=o<0?a:i,d=o<0?i:a,p=OL();p.collapse(u.container,u.offset),!d.container||d.container===u.container&&d.offset===u.offset||p.extend(d.container,d.offset)}function VL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;HL(e,t,n,r,1)}function KL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;w(t>=-1),void 0===n&&(n=t),VL(e,t,e,n)}function GL(e,t){var n=Vf(e);w(n);var r=rp(n,t,0);w(r>=0),KL(e,r,r+1)}function WL(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=wN(e);w(o),w(e.parentElement===Vf(o));var i=Vf(o),a=rp(i,e,0),s=(null===(n=e.textContent)||void 0===n?void 0:n.length)||0;KL(o,t=-1===t?a+s:a+t,r=-1===r?a+s:void 0===r?t:a+r)}function YL(e){var t=Array.from(e.childNodes).filter((function(e){return Ga(e,Vi.COMPOSITION)}));w(1===t.length);var n=t[0];if(w(1===n.childNodes.length),n.textContent===Zi){var r=document.createRange();w(n.lastChild),r.setStart(n.lastChild,1);var o=OL();o.removeAllRanges(),o.addRange(r)}}function qL(e,t){var n=t.startContainer,r=t.endContainer,o=[],i=_f(e);w(i);var a=OX.getEditor(e);return i.forEach((function(e){var i=a.getContainerById(e.id);w(i);for(var s=[],c=ON(i),l=0;l<c;l++){var u=BN(i,l);if(w(u),ts(u,n))if(Uf(u)){var d=rp(Vf(u),t.startContainer,t.startOffset);s.push({block:u,start:d,end:-1})}else s.push({block:u,start:0,end:-1});else if(ts(u,r))if(Uf(u)){var p=rp(Vf(u),t.endContainer,t.endOffset);s.push({block:u,start:0,end:p})}else s.push({block:u,start:0,end:-1});else ns(u,t)&&s.push({block:u,start:0,end:-1})}s.length>0&&o.push({container:i,selectedBlocks:s})})),o}function ZL(e){var t=e.getSelectionDetail();if(t.type===ia.INVALID)return[];var n=t.range;if(t.startBlock===t.endBlock&&t.startBlock)return w(void 0!==t.startOffset),w(void 0!==t.endOffset),[{block:t.startBlock,start:t.startOffset,end:t.endOffset}];var r=t.startComplexBlock||t.startBlock,o=t.endComplexBlock||t.endBlock;w(r),w(o);var i=kN(r);w(i===kN(o));for(var a=TN(r),s=TN(o),c=[],l=a;l<=s;l++){var u=BN(i,l);if(Ff(u))qL(u,n).forEach((function(e){c.push.apply(c,_L(e.selectedBlocks))}));else Uf(u)?u===t.startBlock&&u===t.endBlock?(w(void 0!==t.startOffset),w(void 0!==t.endOffset),c.push({block:u,start:t.startOffset,end:t.endOffset})):u===t.startBlock?(w(void 0!==t.startOffset),c.push({block:u,start:t.startOffset,end:-1})):u===t.endBlock?(w(void 0!==t.endOffset),c.push({block:u,start:0,end:t.endOffset})):c.push({block:u,start:0,end:-1}):c.push({block:u,start:0,end:-1})}return c}function XL(e){var t=ZL(e);if(t.length<=1)return t;if(1===new Set(t.map((function(e){return kN(e.block)}))).size)return t;var n=e.rootContainer(),r=[],o=new Set;return t.forEach((function(e){if(n===kN(e.block))r.push(e);else{var t=Mh(e.block);w(t),o.has(t)||(o.add(t),r.push({block:t,start:0,end:1}))}})),r}function JL(e){return ZL(e).filter((function(e){return Uf(e.block)}))}function $L(e){var t=e.startComplexBlock||e.startBlock,n=e.endComplexBlock||e.endBlock;w(t),w(n);var r=kN(t);w(r===kN(n));var o=TN(t),i=TN(n);w(o<=i);for(var a=[],s=o;s<=i;s++){var c=BN(r,s);a.push(c)}return a}function eR(e,t){return e.left===t.left&&e.top===t.top&&e.right===t.right&&e.bottom===t.bottom}function tR(e,t){if(!Uf(e))return 0;var n=Sf(e,t),r=Ds(n);w(r),n.startContainer instanceof HTMLBRElement&&(r=n.startContainer.getBoundingClientRect());var o=hf(e).text;w(o);for(var i=t-1;i>=0;i--){var a=Ds(Sf(e,i));if(w(a),Math.abs(a.y-r.y)>r.height/2)return" "===o.sub(i,1).toPlainText()?i+1:i}return 0}function nR(e,t){var n;if(!Uf(e))return 1;var r=Kf(e);if(t===r)return r;var o=hf(e).text;w(o);var i=Ds(Sf(e,t));w(i);for(var a=t+1;a<=r;a++){var s=o.getOpAt(a);if(s.length>0&&"br"===(null===(n=s[0].attributes)||void 0===n?void 0:n.type))return a;var c=Ds(Sf(e,a));if(w(c),Math.abs(c.y-i.y)>i.height/2)return a-1}return r}function rR(e,t){return Uf(e)?t-tR(e,t):t}function oR(e,t){if(!Uf(e))return 0===t?0:1;var n=Kf(e);if(t>n)return n;var r=nR(e,0);return t>r?r:t}function iR(e,t){if(!Uf(e))return 0===t?0:1;var n=Kf(e);if(t>n)return n;var r=tR(e,n);return t>n-r?n:r+t}function aR(e,t,n,r,o){if(!Uf(t)||!Fh(t))return{atTop:!0,atBottom:!0,atHome:0===n,atEnd:0!==n,homeOffset:0,endOffset:1,lineOffset:n};if(e.isCollapsed){var i=Vf(t);w(i);var a=Ds(e.getRangeAt(0));w(a);var s=FL(t);if(r===i){w(o<=i.childNodes.length);var c,l,u=tR(t,n),d=nR(t,n),p=0===u,f=d===s,h=d===n,A=u===n;return p||(c=tR(t,u-1)),f||(l=nR(t,d+1)),{atTop:p,atBottom:f,atHome:A,atEnd:h,homeOffset:u,endOffset:d,lineOffset:n-u,previousLineHomeOffset:c,nextLineEndOffset:l}}e.modify("move","backward","lineboundary");var m,g=Ds(e.getRangeAt(0));w(g),w(e.focusNode),m=wN(e.focusNode)===t?e.focusNode===r&&e.focusOffset===o?n:Wf(t,e.focusNode,e.focusOffset):0,e.modify("move","forward","lineboundary");var v,b=Ds(e.getRangeAt(0));w(b),v=wN(e.focusNode)===t?Wf(t,e.focusNode,e.focusOffset):nR(t,n);var y=eR(a,g),x=eR(a,b);y?e.modify("move","backward","lineboundary"):x||(e.removeAllRanges(),e.addRange(function(e,t){var n=document.createRange();return n.setStart(e,t),n}(r,o)));var k,C,E=0===m,B=v===s;if(!B&&!x){var T=Ds(tp(i,-1));w(T);var M=(T.top+T.bottom)/2,I=(a.top+a.bottom)/2;Math.abs(M-I)<6&&(B=!0)}return E||(k=tR(t,m-1)),B||(C=nR(t,v+1)),{lineOffset:n-m,atHome:y,atEnd:x,atTop:E,atBottom:B,homeOffset:m,endOffset:v,previousLineHomeOffset:k,nextLineEndOffset:C}}var D,_,S=tR(t,n),O=nR(t,n),N=0===S,L=O===Kf(t),R=S===n,j=O===n;return N||(D=tR(t,S-1)),L||(_=nR(t,O+1)),{lineOffset:n-S,atHome:R,atEnd:j,atTop:N,atBottom:L,homeOffset:S,endOffset:O,previousLineHomeOffset:D,nextLineEndOffset:_}}function sR(e){try{OX.getEditor(e)}catch(e){return{type:"invalid"}}if(e instanceof Element){if(Up(e))return{type:"container",container:e};if(jp(e)){var t=e;return Ff(t)?{type:"complex_block",block:t}:{type:"block",block:t}}var n=wN(e);if(w(n),Bd(e))return{type:"box",block:n};if(Fp(e))return Ff(n)?{type:"complex_block_content",block:n}:{type:"block_content",block:n};if(Hf(n))return w(ts(Nw(n),e)),{type:"in_embed",block:n};if(Uf(n)){var r=Vf(n);return"BR"===e.tagName?(w(e.parentElement===r),{type:"block_content",block:n}):(w(r===e||r===e.parentElement),{type:"block_content",block:n})}w(Ff(n));var o=_f(n);w(o.length>0);var i=o[0].id,a=OX.getEditor(n).getContainerById(i);return w(a),{type:"in_complex_block",block:n,nearbyContainer:a}}var s=wN(e);if(w(s),Hf(s))return w(ts(Nw(s),e)),{type:"in_embed",block:s};w(e instanceof Text);var c=wN(e);if(w(c),w(Uf(c)),Bd(e))return{type:"box",block:c};var l=Vf(c),u=e.parentElement;return w(u),w(u===l||u.parentElement===l),{type:"block_content",block:c}}function cR(e,t,n){var r,o=sR(e);if("invalid"===o.type)return{};if("block_content"===o.type)return o.block?function(e,t,n){return Hf(e)?"start"===n?0===t?{}:{block:e,offset:0}:1===t||-1===t?{}:{block:e,offset:-1}:{}}(o.block,t,n):{};if("container"===o.type){var i=o.container;return w(i),w(t>=0&&t<=ON(i)),t===ON(i)&&(t-=1),-1===t?{}:{block:BN(i,t),offset:0}}if("box"===o.type){var a=o.block;if(w(a),Vd(e,t))return{};var s=Wf(a,e,t);return"end"===n&&(s+=1),{block:a,offset:s}}if("in_embed"===o.type){var c=o.block;return w(c),w(Hf(c)),w(c),0===t?{block:c,offset:0}:{block:c,offset:1}}if("complex_block"===o.type||"complex_block_content"===o.type){var l=o.block;w(l),w(Ff(l)),w(l);var u=Gp(l);w(e===l||e===u);var d=AL(l);return 0===d.length?(console.warn("can not select an empty complex block"),{block:null!==(r=IN(l))&&void 0!==r?r:void 0,offset:0}):(w(d.length>0),0===t?{block:d[0],offset:0}:{block:d[d.length-1],offset:-1})}if("block"===o.type){var p=o.block;return w(p),{block:p,offset:0===t?0:-1}}w("in_complex_block"===o.type);var f=o.nearbyContainer;w(f),w(!ts(f,e));var h=is(e,f),A=h?0:-1;return{block:BN(f,h?0:ON(f)-1),offset:A}}function lR(e,t){if(!(e&&e.startBlock||t&&t.startBlock))return!0;if(!(e&&e.startBlock&&t&&t.startBlock))return!1;w(e.endBlock),w(t.endBlock);var n=zp(e.startBlock),r=zp(e.endBlock),o=e.startOffset,i=e.endOffset,a=zp(t.startBlock),s=zp(t.endBlock),c=t.startOffset,l=t.endOffset;return n===a&&r===s&&o===c&&i===l}function uR(e,t,n){var r=hf(e).text;return w(r),r.transformOffset(t,n)}function dR(e,t){if(t.type===ia.INVALID){if(e.getAgentSelector().isSelected()){var n=e.getAgentSelector().getSelectedBlock(),r=e.getAgentSelector().getSelectedBlocks();if(!e.isBlockWritable(n))return!1;for(var o=0;o<r.length;o++)if(!e.isBlockWritable(r[o]))return!1;if(r.length>0){var i=r[0];if(!Ff(i)){var a=Mh(i);if(a&&!e.isBlockWritable(a))return!1}}return!0}return!1}if(t.collapsed&&t.focusedOnInput)return!0;for(var s=$L(t),c=0;c<s.length;c++)if(!e.isBlockWritable(s[c]))return!1;return!0}function pR(e,t){if(t.deep)return ZL(e).map((function(e){return e.block}));var n=e.getSelectionDetail();if(!n.startBlock||!n.endBlock)return[];if(n.startComplexBlock||n.endComplexBlock)return $L(n);w(n.startBlock),w(n.endBlock);var r=kN(n.startBlock);w(kN(n.endBlock)===r);for(var o=TN(n.startBlock),i=TN(n.endBlock),a=[],s=o;s<=i;s++)a.push(BN(r,s));return a}function fR(e,t){var n;if(!Uf(e))return!1;var r=nR(e,t),o=hf(e).text;w(o);var i=o.getOpAt(r),a=i.length>0&&i[0];return!(!a||"br"!==(null===(n=a.attributes)||void 0===n?void 0:n.type))}function hR(e,t){if(0===e)return"0 Bytes";var n=t||2,r=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,r)).toFixed(n))," ").concat(["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r])}function AR(e,t){for(var n="".concat(e),r=t-n.length,o=0;o<r;o++)n="0".concat(n);return n}function mR(e,t){var n=new Date(e).getTime()+864e5*t;return new Date(n)}function gR(e,t){return e=new Date(e),t=new Date(t),e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function vR(e,t){e=new Date(e);var n=new Date;if(e.getTime()-n.getTime()>1e4)return ju.get("date.dateFromFuture");if(function(e){return gR(new Date,new Date(e))}(e)){var r=(n.getTime()-e.getTime())/1e3;if(r<600)return ju.get("date.dateJustNow");if(r<3600)return ju.get("date.dateMinutesAgo",{num:Math.floor(r/60)});var o=Math.floor(r/60/60);return 1===o?ju.get("date.date1HourAgo"):ju.get("date.dateHoursAgo",{num:o})}if(function(e){return gR(mR(new Date,-1),e)}(e))return ju.get("date.dateYesterday");var i=Math.floor((n.getTime()-e.getTime())/1e3/24/60/60)+1;return i<14?ju.get("date.dateDaysAgo",{num:i}):i<28?ju.get("date.dateWeeksAgo",{num:Math.round(i/7)}):function(e,t){if(e=new Date(e),t){var n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),i=t;return(i=(i=(i=(i=i.replace("yyyy","".concat(n))).replace("mm",AR(r,2))).replace("dd",AR(o,2))).replace("m","".concat(r))).replace("d","".concat(o))}return e.toLocaleDateString()}(e,t)}n(6409);var bR=n(8244),yR=n.n(bR),wR=n(6514);function xR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||CR(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kR(e){return function(e){if(Array.isArray(e))return ER(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||CR(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CR(e,t){if(e){if("string"==typeof e)return ER(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ER(e,t):void 0}}function ER(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BR(e){var t=[];en(e,{onBeginBlock:function(e,n,r,o){if(o.comments&&o.comments.length>0)t.push.apply(t,kR(o.comments));else if("embed"===o.type){var i=o;if("image"===i.embedType){var a=i.embedData;Object.entries(a).forEach((function(e){var n=xR(e,2),r=n[0],o=n[1];if(r.endsWith("_comments")){var i=o;t.push.apply(t,kR(i))}}))}}},onText:function(e,n,r,o){o&&Object.entries(o).forEach((function(e){var n=xR(e,2),r=n[0],i=n[1];if("commentId"===r){var a=i;-1===t.indexOf(a)&&t.push(o.commentId)}else if(r.startsWith("comment-")){var s=i;t.push(s)}}))}});var n=new Map;t.forEach((function(e){n.set(e,[])})),Object.values(e.comments).forEach((function(e){var t=e.groupId,r=n.get(t);r&&r.push(e)}));var r=Array.from(n.values());return r.forEach((function(e){e.sort((function(e,t){return e.created-t.created}))})),r.filter((function(e){return e.length>0}))}var TR=n(1593);function MR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var IR=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},DR=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initPresence=function(){return IR(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))},this.insertBlock=function(e,t,r){return IR(n,void 0,void 0,regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=this._data[e],w(Array.isArray(o)),o.splice(t,0,r);case 3:case"end":return n.stop()}}),n,this)})))},this.deleteObject=function(e,t){return IR(n,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=this._data[e],w(Array.isArray(r)),r.splice(t,1);case 3:case"end":return n.stop()}}),n,this)})))},this.updateObject=function(e,t,r){var o=n._data[e];return w(Array.isArray(o)),o.splice(t,1,r),!0},this.replaceObject=function(e,t,r){return IR(n,void 0,void 0,regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=this._data[e],w(Array.isArray(o)),o.splice(t,1,r);case 3:case"end":return n.stop()}}),n,this)})))},this.submitRichTextBlockOps=function(e,t,r){return IR(n,void 0,void 0,regeneratorRuntime.mark((function n(){var o,i,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=this._data[e],w(Array.isArray(o)),w((i=o[t]).text),a=new Yo(i.text),s=a.compose(new _o(r)),i.text=s.toOps();case 7:case"end":return n.stop()}}),n,this)})))},this.insertRootObject=function(e,t){return IR(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this._data[e]=t;case 1:case"end":return n.stop()}}),n,this)})))},this.createComment=function(e,t,r,o,i,a,s){return IR(n,void 0,void 0,regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this._data.comments||(this._data.comments={}),c=(new Date).valueOf(),this._data.comments[e]=Object.assign(Object.assign({id:e,userId:r,displayName:o,abstract:s,avatarUrl:i},_n()(a)),{created:c,modified:c,groupId:t});case 3:case"end":return n.stop()}}),n,this)})))},this.deleteComment=function(e){return IR(n,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(this._data.comments),delete this._data.comments[e];case 2:case"end":return t.stop()}}),t,this)})))},this.updateComment=function(e,t){return IR(n,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:w(this._data.comments),w(this._data.comments[e]),r=this._data.comments[e],this._data.comments[e]=Object.assign(Object.assign({},r),t);case 4:case"end":return n.stop()}}),n,this)})))},this._data=_n()(t),w(this._data.blocks),w(this._data.blocks.length>0)}var t,n,r;return t=e,(n=[{key:"getComment",value:function(e){return w(this._data.comments),this._data.comments[e]}},{key:"getComments",value:function(){return BR(this._data)}},{key:"getGroupComments",value:function(e){return Object.values(this.data().comments).filter((function(t){return t.groupId===e}))}},{key:"subscribe",value:function(e){e(null)}},{key:"onOp",value:function(e){w(e)}},{key:"onNothingPending",value:function(e){w(e)}},{key:"onCreate",value:function(e){w(e)}},{key:"onDelete",value:function(e){w(e)}},{key:"onLocalDataUpdated",value:function(e){w(e)}},{key:"data",value:function(){return this._data}},{key:"version",value:function(){return null}},{key:"broadcastMessage",value:function(e){return IR(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(e);case 1:case"end":return t.stop()}}),t)})))}},{key:"applyOps",value:function(e){this._data=TR.type.apply(this._data,e)}},{key:"delDoc",value:function(){return IR(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}},{key:"createDoc",value:function(e){return IR(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._data=_n()(e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"destroy",value:function(){}}])&&MR(t.prototype,n),r&&MR(t,r),e}(),_R=(n(6964),n(9133)),SR=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function OR(e){if(!e)return"";w(null!=e);var t=e.lastIndexOf(".");return-1===t?"":e.substr(t+1)}function NR(e){return SR(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a,s,c,l,u,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=102400,r=e.size,o=Math.floor((r+n-1)/n),i=new _R.Hash,a=0;case 5:if(!(a<o)){t.next=18;break}return(c=(s=a*n)+n)>r&&(c=r),l=e.slice(s,c,e.type),t.next=13,l.arrayBuffer();case 13:u=t.sent,i.update(new Uint8Array(u));case 15:a++,t.next=5;break;case 18:return d=i.digest(),t.abrupt("return",yo(d));case 20:case"end":return t.stop()}}),t)})))}function LR(e,t){return new Promise((function(n,r){var o=document.createElement("input");o.type="file",o.style.display="none",(null==t?void 0:t.multiple)&&(o.multiple=!0),o.accept=e,o.onchange=function(){var e=o.files;n(e?Array.from(e):[]),o.remove()},o.onerror=function(){r(),o.remove()},o.click()}))}!function(){function e(){var e=this;return new Promise((function(t){var n=new FileReader;n.onload=function(){t(n.result)},n.readAsArrayBuffer(e)}))}File.prototype.arrayBuffer=File.prototype.arrayBuffer||e,Blob.prototype.arrayBuffer=Blob.prototype.arrayBuffer||e}();var RR=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function jR(e){return RR(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){e.fetch((function(e){e?n(e):t()}))})));case 1:case"end":return t.stop()}}),t)})))}function UR(e,t){return RR(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){e.create(t,"ot-json1",(function(e){e?r(e):n()}))})));case 1:case"end":return n.stop()}}),n)})))}function FR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zR=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"logger",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(window.onEditorLog)window.onEditorLog(e,t,r);else switch(e){case"debug":console.debug(t,r);break;case"info":console.info(t,r);break;case"warn":console.warn(t,r);break;case"error":console.error(t,r);break;default:console.log(t,r)}}},{key:"debug",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.logger.apply(this,["debug",e].concat(n))}},{key:"log",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.logger.apply(this,["log",e].concat(n))}},{key:"info",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.logger.apply(this,["info",e].concat(n))}},{key:"warn",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.logger.apply(this,["warn",e].concat(n))}},{key:"error",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.logger.apply(this,["error",e].concat(n))}}],(n=null)&&FR(t.prototype,n),r&&FR(t,r),e}(),QR=function(e,t){return(QR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function PR(e,t){function n(){this.constructor=e}QR(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function HR(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function VR(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(HR(arguments[t]));return e}var KR=function(e,t){this.target=t,this.type=e},GR=function(e){function t(t,n){var r=e.call(this,"error",n)||this;return r.message=t.message,r.error=t,r}return PR(t,e),t}(KR),WR=function(e){function t(t,n,r){void 0===t&&(t=1e3),void 0===n&&(n="");var o=e.call(this,"close",r)||this;return o.wasClean=!0,o.code=t,o.reason=n,o}return PR(t,e),t}(KR),YR=function(){if("undefined"!=typeof WebSocket)return WebSocket},qR={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1};const ZR=function(){function e(e,t,n){var r=this;void 0===n&&(n={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(e){r._debug("open event");var t=r._options.minUptime,n=void 0===t?qR.minUptime:t;clearTimeout(r._connectTimeout),r._uptimeTimeout=setTimeout((function(){return r._acceptOpen()}),n),r._ws.binaryType=r._binaryType,r._messageQueue.forEach((function(e){return r._ws.send(e)})),r._messageQueue=[],r.onopen&&r.onopen(e),r._listeners.open.forEach((function(t){return r._callEventListener(e,t)}))},this._handleMessage=function(e){r._debug("message event"),r.onmessage&&r.onmessage(e),r._listeners.message.forEach((function(t){return r._callEventListener(e,t)}))},this._handleError=function(e){r._debug("error event",e.message),r._disconnect(void 0,"TIMEOUT"===e.message?"timeout":void 0),r.onerror&&r.onerror(e),r._debug("exec error listeners"),r._listeners.error.forEach((function(t){return r._callEventListener(e,t)})),r._connect()},this._handleClose=function(e){r._debug("close event"),r._clearTimeouts(),r._shouldReconnect&&r._connect(),r.onclose&&r.onclose(e),r._listeners.close.forEach((function(t){return r._callEventListener(e,t)}))},this._url=e,this._protocols=t,this._options=n,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){return this._messageQueue.reduce((function(e,t){return"string"==typeof t?e+=t.length:t instanceof Blob?e+=t.size:e+=t.byteLength,e}),0)+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?e.CLOSED:e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(e,t):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")},e.prototype.reconnect=function(e,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(e,t),this._connect()):this._connect()},e.prototype.send=function(e){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",e),this._ws.send(e);else{var t=this._options.maxEnqueuedMessages,n=void 0===t?qR.maxEnqueuedMessages:t;this._messageQueue.length<n&&(this._debug("enqueue",e),this._messageQueue.push(e))}},e.prototype.addEventListener=function(e,t){this._listeners[e]&&this._listeners[e].push(t)},e.prototype.dispatchEvent=function(e){var t,n,r=this._listeners[e.type];if(r)try{for(var o=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(r),i=o.next();!i.done;i=o.next()){var a=i.value;this._callEventListener(e,a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!0},e.prototype.removeEventListener=function(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter((function(e){return e!==t})))},e.prototype._debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._options.debug&&console.log.apply(console,VR(["RWS>"],e))},e.prototype._getNextDelay=function(){var e=this._options,t=e.reconnectionDelayGrowFactor,n=void 0===t?qR.reconnectionDelayGrowFactor:t,r=e.minReconnectionDelay,o=void 0===r?qR.minReconnectionDelay:r,i=e.maxReconnectionDelay,a=void 0===i?qR.maxReconnectionDelay:i,s=0;return this._retryCount>0&&(s=o*Math.pow(n,this._retryCount-1))>a&&(s=a),this._debug("next delay",s),s},e.prototype._wait=function(){var e=this;return new Promise((function(t){setTimeout(t,e._getNextDelay())}))},e.prototype._getNextUrl=function(e){if("string"==typeof e)return Promise.resolve(e);if("function"==typeof e){var t=e();if("string"==typeof t)return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")},e.prototype._connect=function(){var e=this;if(!this._connectLock&&this._shouldReconnect){this._connectLock=!0;var t=this._options,n=t.maxRetries,r=void 0===n?qR.maxRetries:n,o=t.connectionTimeout,i=void 0===o?qR.connectionTimeout:o,a=t.WebSocket,s=void 0===a?YR():a;if(this._retryCount>=r)this._debug("max retries reached",this._retryCount,">=",r);else{if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),void 0===(c=s)||!c||2!==c.CLOSING)throw Error("No valid WebSocket class provided");var c;this._wait().then((function(){return e._getNextUrl(e._url)})).then((function(t){e._closeCalled||(e._debug("connect",{url:t,protocols:e._protocols}),e._ws=e._protocols?new s(t,e._protocols):new s(t),e._ws.binaryType=e._binaryType,e._connectLock=!1,e._addListeners(),e._connectTimeout=setTimeout((function(){return e._handleTimeout()}),i))}))}}},e.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new GR(Error("TIMEOUT"),this))},e.prototype._disconnect=function(e,t){if(void 0===e&&(e=1e3),this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.close(e,t),this._handleClose(new WR(e,t,this))}catch(e){}}},e.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},e.prototype._callEventListener=function(e,t){"handleEvent"in t?t.handleEvent(e):t(e)},e.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},e.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e}();var XR=n(4155);function JR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ej=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function tj(e){try{e()}catch(e){zR.error(e)}}var nj=0,rj=0,oj=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.reAuthFunc=n,this.enabled=!0,this.waitHandshake=!1,this.events=new m.EventEmitter,this.token=null,this.resourceToken=null,this.retryCount=0,this.connected=!1;var r=new URL(this.url),o="wss:"===r.protocol?"https:":"http:";this.baseHttpURL="".concat(o,"//").concat(r.host).concat(r.pathname)}var t,n,r;return t=e,(n=[{key:"getBaseURL",value:function(){var e=new URL(this.url),t="wss:"===e.protocol?"https:":"http:";return"".concat(t,"//").concat(e.host).concat(e.pathname)}},{key:"getBase64BaseURL",value:function(){return yo(this.getBaseURL())}},{key:"auth",value:function(e){return ej(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(e.token),r="".concat(this.baseHttpURL,"/auth"),t.next=4,window.fetch(r,{method:"GET",headers:(n={},JR(n,Rn,e.token),JR(n,jn,this.getBase64BaseURL()),n),credentials:"include"});case 4:if(200===(o=t.sent).status){t.next=7;break}throw new Error("http auth error");case 7:if(this.enabled){t.next=9;break}return t.abrupt("return",{read:"",user:""});case 9:return this.events.emit("auth",e),this.token=e.token,t.next=13,o.json();case 13:return i=t.sent,this.resourceToken=i.read,this.events.emit("resctoken",this.resourceToken),t.abrupt("return",i);case 17:case"end":return t.stop()}}),t,this)})))}},{key:"getOps",value:function(e,t){return ej(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return w(this.token),r=null==t?"":"&to=".concat(t),o="".concat(this.baseHttpURL,"/ops?from=").concat(e).concat(r),n.prev=3,n.next=6,window.fetch(o,{method:"GET",headers:JR({},Rn,this.token),credentials:"include"});case 6:return i=n.sent,n.abrupt("return",i.json());case 10:return n.prev=10,n.t0=n.catch(3),zR.error(n.t0),n.abrupt("return",[]);case 14:case"end":return n.stop()}}),n,this,[[3,10]])})))}},{key:"logout",value:function(){return ej(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.token){e.next=2;break}return e.abrupt("return");case 2:return t="".concat(this.baseHttpURL,"/logout"),e.next=5,window.fetch(t,{method:"GET",headers:JR({},jn,yo(this.baseHttpURL))});case 5:case"end":return e.stop()}}),e,this)})))}},{key:"init",value:function(e){return ej(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.auth(e);case 2:if(this.enabled){t.next=4;break}return t.abrupt("return");case 4:nj+=1,zR.info("create websocket:",nj),this.ws=new ZR(this.url,void 0,{maxReconnectionDelay:2500,minReconnectionDelay:1e3}),this.ws.addEventListener("close",(function(){o.events.emit("disconnected"),o.connected=!1})),this.connection=Object.create(wR.Connection.prototype),w(this.connection),n=this.ws,this.connection._initializeHandshake=function(){var t;o.connection&&(null===(t=o.connection)||void 0===t||t.send({a:"hs",id:o.connection.id,auth:e}),o.ping||(rj+=1,zR.info("add interval count",rj),o.ping=window.setInterval((function(){var e;if(o.connection){var t=Date.now();t-(null!==(e=o.lastReceiveTime)&&void 0!==e?e:0)>5e4&&o.connection.send({a:"ping",id:o.connection.id,ts:t}),o.lastReceiveTime&&t-o.lastReceiveTime>15e4&&n&&n.readyState===n.OPEN&&(n.reconnect(),o.lastReceiveTime=Date.now())}}),1e3)))},r=this.connection.handleMessage.bind(this.connection),this.connection.handleMessage=function(e){var t;if(o.lastReceiveTime=Date.now(),"err"in e||"pong"===e.a)o.handleMessage(e);else{e.a&&"init"!==e.a&&(o.retryCount=0,o.connected?o.waitHandshake&&(o.events.emit("handshakeIsOK"),o.waitHandshake=!1):(o.events.emit("connected"),o.connected=!0));try{r(e)}catch(e){if("writeConflict"===e.type)return void o.emitWriteConflictError(e);if(null===(t=e.message)||void 0===t?void 0:t.startsWith("Cannot invert subtype"))return void o.emitWriteConflictError(e);throw e}}},wR.Connection.apply(this.connection,[this.ws]);case 15:case"end":return t.stop()}}),t,this)})))}},{key:"handleAuthError",value:function(){return ej(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.reAuthFunc&&this.retryCount<5)){e.next=23;break}if(this.retryCount+=1,zR.info("retrying re-auth attempt no. ".concat(this.retryCount)),e.prev=3,!this.connection){e.next=15;break}return e.next=7,this.reAuthFunc();case 7:return t=e.sent,e.next=10,this.auth(t);case 10:if(this.enabled){e.next=14;break}return this.retryCount=10,setTimeout((function(){return n.handleAuthError()}),0),e.abrupt("return");case 14:this.connection._initializeHandshake=function(){this.send({a:"hs",id:this.id,auth:t})};case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),zR.error(e.t0),setTimeout((function(){return n.handleAuthError()}),200);case 21:e.next=26;break;case 23:zR.error("auth error, cannot retry anymore"),this.emitAuthError(),this.end(!1);case 26:case"end":return e.stop()}}),e,this,[[3,17]])})))}},{key:"emitAuthError",value:function(){var e=new Error(On.msg);e.code=On.err,this.events.emit("error",e)}},{key:"emitRequestReloadError",value:function(){var e=new Error(Ln.msg);e.code=Ln.err,this.events.emit("requestReloadError",e)}},{key:"emitWriteConflictError",value:function(e){this.events.emit("writeConflictError",e)}},{key:"emitMaxUsersError",value:function(){this.events.emit("maxUsersError"),this.end(!1)}},{key:"handleMessage",value:function(e){if("pong"!==e.a){var t=e.err;if(t===On.err)zR.warn("auth error"),this.handleAuthError();else if(t===Nn.err)zR.warn(Nn.msg),this.emitMaxUsersError();else if(t===Ln.err){zR.warn(Ln.msg);try{this.emitRequestReloadError()}catch(e){zR.error("error occurred while process reload error: ".concat(JSON.stringify(e)))}finally{this.end(!1)}}else zR.error("unknown message received: ".concat(JSON.stringify(e))),this.emitAuthError()}}},{key:"get",value:function(e,t){return ej(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return w(this.connection),n.abrupt("return",this.connection.get(e,t));case 2:case"end":return n.stop()}}),n,this)})))}},{key:"getPresence",value:function(e){var t;return w(this.connection),null===(t=this.connection)||void 0===t?void 0:t.getPresence(e)}},{key:"addEventListener",value:function(e,t){"error"===e||"handshakeIsOK"===e||"connected"===e||"disconnected"===e||"auth"===e||"resctoken"===e?(this.events.addListener(e,t),"connected"===e&&this.connected&&XR.nextTick((function(){return t(null)})),"disconnected"!==e||this.connected||XR.nextTick((function(){return t(null)}))):(w(this.ws),this.ws.addEventListener(e,t))}},{key:"onWriteConflictError",value:function(e){this.events.addListener("writeConflictError",e)}},{key:"onMaxUsersError",value:function(e){w(0===this.events.listenerCount("maxUsersError")),this.events.addListener("maxUsersError",e)}},{key:"onRequestReloadError",value:function(e){w(0===this.events.listenerCount("requestReloadError")),this.events.addListener("requestReloadError",e)}},{key:"end",value:function(e){var t=this;this.enabled=!1,this.reAuthFunc=void 0,this.events.removeAllListeners(),tj((function(){var e;return null===(e=t.connection)||void 0===e?void 0:e.close()})),zR.info("end connection"),this.ping&&(window.clearInterval(this.ping),rj-=1,zR.info("clear interval: ",rj),this.ping=0),this.connection=void 0,this.ws&&(tj((function(){t.ws._listeners={error:[],message:[],open:[],close:[]}})),tj((function(){return t.ws._disconnect()})),tj((function(){var e;return null===(e=t.ws)||void 0===e?void 0:e.close()}))),this.ws=void 0,e&&tj((function(){return t.logout()})),nj-=1,zR.info("destroy websocket (interval):",nj)}}])&&$R(t.prototype,n),r&&$R(t,r),e}(),ij=n(6486),aj=function(){return(aj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function sj(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var cj=Object.keys,lj=Array.isArray,uj="undefined"!=typeof self?self:"undefined"!=typeof window?window:global;function dj(e,t){return"object"!=typeof t||cj(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||uj.Promise||(uj.Promise=Promise);var pj=Object.getPrototypeOf,fj={}.hasOwnProperty;function hj(e,t){return fj.call(e,t)}function Aj(e,t){"function"==typeof t&&(t=t(pj(e))),cj(t).forEach((function(n){gj(e,n,t[n])}))}var mj=Object.defineProperty;function gj(e,t,n,r){mj(e,t,dj(n&&hj(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function vj(e){return{from:function(t){return e.prototype=Object.create(t.prototype),gj(e.prototype,"constructor",e),{extend:Aj.bind(null,e.prototype)}}}}var bj=Object.getOwnPropertyDescriptor;function yj(e,t){var n;return bj(e,t)||(n=pj(e))&&yj(n,t)}var wj=[].slice;function xj(e,t,n){return wj.call(e,t,n)}function kj(e,t){return t(e)}function Cj(e){if(!e)throw new Error("Assertion Failed")}function Ej(e){uj.setImmediate?setImmediate(e):setTimeout(e,0)}function Bj(e,t){return e.reduce((function(e,n,r){var o=t(n,r);return o&&(e[o[0]]=o[1]),e}),{})}function Tj(e,t){if(hj(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var i=Tj(e,t[r]);n.push(i)}return n}var a=t.indexOf(".");if(-1!==a){var s=e[t.substr(0,a)];return void 0===s?void 0:Tj(s,t.substr(a+1))}}function Mj(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){Cj("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)Mj(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var a=t.substr(0,i),s=t.substr(i+1);if(""===s)void 0===n?lj(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var c=e[a];c||(c=e[a]={}),Mj(c,s,n)}}else void 0===n?lj(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Ij(e,t){"string"==typeof t?Mj(e,t,void 0):"length"in t&&[].map.call(t,(function(t){Mj(e,t,void 0)}))}function Dj(e){var t={};for(var n in e)hj(e,n)&&(t[n]=e[n]);return t}var _j=[].concat;function Sj(e){return _j.apply([],e)}var Oj="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(Sj([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return uj[e]})),Nj=Oj.map((function(e){return uj[e]})),Lj=Bj(Oj,(function(e){return[e,!0]}));function Rj(e){if(!e||"object"!=typeof e)return e;var t;if(lj(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(Rj(e[n]))}else if(Nj.indexOf(e.constructor)>=0)t=e;else for(var o in t=e.constructor?Object.create(e.constructor.prototype):{},e)hj(e,o)&&(t[o]=Rj(e[o]));return t}var jj={}.toString;function Uj(e){return jj.call(e).slice(8,-1)}var Fj=function(e,t){return"Array"===t?""+e.map((function(e){return Fj(e,Uj(e))})):"ArrayBuffer"===t?""+new Uint8Array(e):"Date"===t?e.getTime():ArrayBuffer.isView(e)?""+new Uint8Array(e.buffer):e};function zj(e,t,n,r){return n=n||{},r=r||"",cj(e).forEach((function(o){if(hj(t,o)){var i=e[o],a=t[o];if("object"==typeof i&&"object"==typeof a&&i&&a){var s=Uj(i),c=Uj(a);s===c?Lj[s]?Fj(i,s)!==Fj(a,c)&&(n[r+o]=t[o]):zj(i,a,n,r+o+"."):n[r+o]=t[o]}else i!==a&&(n[r+o]=t[o])}else n[r+o]=void 0})),cj(t).forEach((function(o){hj(e,o)||(n[r+o]=t[o])})),n}var Qj="undefined"!=typeof Symbol&&Symbol.iterator,Pj=Qj?function(e){var t;return null!=e&&(t=e[Qj])&&t.apply(e)}:function(){return null},Hj={};function Vj(e){var t,n,r,o;if(1===arguments.length){if(lj(e))return e.slice();if(this===Hj&&"string"==typeof e)return[e];if(o=Pj(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Kj="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},Gj="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Wj(e,t){Gj=e,Yj=t}var Yj=function(){return!0},qj=!new Error("").stack;function Zj(){if(qj)try{throw new Error}catch(e){return e}return new Error}function Xj(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Yj).map((function(e){return"\n"+e})).join("")):""}var Jj=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],$j=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Jj),eU={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function tU(e,t){this._e=Zj(),this.name=e,this.message=t}function nU(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function rU(e,t,n,r){this._e=Zj(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=nU(e,t)}function oU(e,t){this._e=Zj(),this.name="BulkError",this.failures=t,this.message=nU(e,t)}vj(tU).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Xj(this._e,2))}},toString:function(){return this.name+": "+this.message}}),vj(rU).from(tU),vj(oU).from(tU);var iU=$j.reduce((function(e,t){return e[t]=t+"Error",e}),{}),aU=tU,sU=$j.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=Zj(),this.name=n,e?"string"==typeof e?(this.message=e+(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=eU[t]||n,this.inner=null)}return vj(r).from(aU),e[t]=r,e}),{});sU.Syntax=SyntaxError,sU.Type=TypeError,sU.Range=RangeError;var cU=Jj.reduce((function(e,t){return e[t+"Error"]=sU[t],e}),{});var lU=$j.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=sU[t]),e}),{});function uU(){}function dU(e){return e}function pU(e,t){return null==e||e===dU?t:function(n){return t(e(n))}}function fU(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function hU(e,t){return e===uU?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?fU(r,this.onsuccess):r),o&&(this.onerror=this.onerror?fU(o,this.onerror):o),void 0!==i?i:n}}function AU(e,t){return e===uU?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?fU(n,this.onsuccess):n),r&&(this.onerror=this.onerror?fU(r,this.onerror):r)}}function mU(e,t){return e===uU?t:function(n){var r=e.apply(this,arguments);dj(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?fU(o,this.onsuccess):o),i&&(this.onerror=this.onerror?fU(i,this.onerror):i),void 0===r?void 0===a?void 0:a:dj(r,a)}}function gU(e,t){return e===uU?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function vU(e,t){return e===uU?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}lU.ModifyError=rU,lU.DexieError=tU,lU.BulkError=oU;var bU={},yU="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,e.__proto__,e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,t.__proto__,e]}(),wU=yU[0],xU=yU[1],kU=yU[2],CU=xU&&xU.then,EU=wU&&wU.constructor,BU=!!kU,TU=!1,MU=kU?function(){kU.then(XU)}:uj.setImmediate?setImmediate.bind(null,XU):uj.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){XU(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(XU,0)},IU=function(e,t){UU.push([e,t]),_U&&(MU(),_U=!1)},DU=!0,_U=!0,SU=[],OU=[],NU=null,LU=dU,RU={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xF,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{xF(e[0],e[1])}catch(e){}}))}},jU=RU,UU=[],FU=0,zU=[];function QU(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=uU,this._lib=!1;var t=this._PSD=jU;if(Gj&&(this._stackHolder=Zj(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==bU)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&KU(this,this._value))}this._state=null,this._value=null,++t.ref,VU(this,e)}var PU={get:function(){var e=jU,t=sF;function n(n,r){var o=this,i=!e.global&&(e!==jU||t!==sF),a=i&&!dF(),s=new QU((function(t,s){WU(o,new HU(bF(n,e,i,a),bF(r,e,i,a),t,s,e))}));return Gj&&ZU(s,this),s}return n.prototype=bU,n},set:function(e){gj(this,"then",e&&e.prototype===bU?PU:{get:function(){return e},set:PU.set})}};function HU(e,t,n,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o}function VU(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&JU();t&&"function"==typeof t.then?VU(e,(function(e,n){t instanceof QU?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,GU(e)),n&&$U()}}),KU.bind(null,e))}catch(t){KU(e,t)}}function KU(e,t){if(OU.push(t),null===e._state){var n=e._lib&&JU();t=LU(t),e._state=!1,e._value=t,Gj&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}((function(){var n=yj(t,"stack");t._promise=e,gj(t,"stack",{get:function(){return TU?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){SU.some((function(t){return t._value===e._value}))||SU.push(e)}(e),GU(e),n&&$U()}}function GU(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)WU(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===FU&&(++FU,IU((function(){0==--FU&&eF()}),[]))}function WU(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++FU,IU(YU,[n,e,t])}else e._listeners.push(t)}function YU(e,t,n){try{NU=t;var r,o=t._value;t._state?r=e(o):(OU.length&&(OU=[]),r=e(o),-1===OU.indexOf(o)&&function(e){var t=SU.length;for(;t;)if(SU[--t]._value===e._value)return void SU.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{NU=null,0==--FU&&eF(),--n.psd.ref||n.psd.finalize()}}function qU(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var o,i,a=e._value;null!=a?(o=a.name||"Error",i=a.message||a,r=Xj(a,0)):(o=a,i=""),t.push(o+(i?": "+i:"")+r)}return Gj&&((r=Xj(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&qU(e._prev,t,n)),t}function ZU(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function XU(){JU()&&$U()}function JU(){var e=DU;return DU=!1,_U=!1,e}function $U(){var e,t,n;do{for(;UU.length>0;)for(e=UU,UU=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(UU.length>0);DU=!0,_U=!0}function eF(){var e=SU;SU=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=zU.slice(0),n=t.length;n;)t[--n]()}function tF(e){return new QU(bU,!1,e)}function nF(e,t){var n=jU;return function(){var r=JU(),o=jU;try{return AF(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{AF(o,!1),r&&$U()}}}Aj(QU.prototype,{then:PU,_then:function(e,t){WU(this,new HU(null,null,e,t,jU))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?n(e):tF(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):tF(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),tF(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{TU=!0;var e=qU(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{TU=!1}}},timeout:function(e,t){var n=this;return e<1/0?new QU((function(r,o){var i=setTimeout((function(){return o(new sU.Timeout(t))}),e);n.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&gj(QU.prototype,Symbol.toStringTag,"Dexie.Promise"),RU.env=mF(),Aj(QU,{all:function(){var e=Vj.apply(null,arguments).map(pF);return new QU((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(o,i){return QU.resolve(o).then((function(n){e[i]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof QU)return e;if(e&&"function"==typeof e.then)return new QU((function(t,n){e.then(t,n)}));var t=new QU(bU,!0,e);return ZU(t,NU),t},reject:tF,race:function(){var e=Vj.apply(null,arguments).map(pF);return new QU((function(t,n){e.map((function(e){return QU.resolve(e).then(t,n)}))}))},PSD:{get:function(){return jU},set:function(e){return jU=e}},totalEchoes:{get:function(){return sF}},newPSD:lF,usePSD:gF,scheduler:{get:function(){return IU},set:function(e){IU=e}},rejectionMapper:{get:function(){return LU},set:function(e){LU=e}},follow:function(e,t){return new QU((function(n,r){return lF((function(t,n){var r=jU;r.unhandleds=[],r.onunhandled=n,r.finalize=fU((function(){var e=this;!function(e){function t(){e(),zU.splice(zU.indexOf(t),1)}zU.push(t),++FU,IU((function(){0==--FU&&eF()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}}),EU&&(EU.allSettled&&gj(QU,"allSettled",(function(){var e=Vj.apply(null,arguments).map(pF);return new QU((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,o){return QU.resolve(e).then((function(e){return r[o]={status:"fulfilled",value:e}}),(function(e){return r[o]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),EU.any&&"undefined"!=typeof AggregateError&&gj(QU,"any",(function(){var e=Vj.apply(null,arguments).map(pF);return new QU((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,o=new Array(r);e.forEach((function(e,i){return QU.resolve(e).then((function(e){return t(e)}),(function(e){o[i]=e,--r||n(new AggregateError(o))}))}))}))})));var rF={awaits:0,echoes:0,id:0},oF=0,iF=[],aF=0,sF=0,cF=0;function lF(e,t,n,r){var o=jU,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++cF;var a=RU.env;i.env=BU?{Promise:QU,PromiseProp:{value:QU,configurable:!0,writable:!0},all:QU.all,race:QU.race,allSettled:QU.allSettled,any:QU.any,resolve:QU.resolve,reject:QU.reject,nthen:yF(a.nthen,i),gthen:yF(a.gthen,i)}:{},t&&dj(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=gF(i,e,n,r);return 0===i.ref&&i.finalize(),s}function uF(){return rF.id||(rF.id=++oF),++rF.awaits,rF.echoes+=100,rF.id}function dF(){return!!rF.awaits&&(0==--rF.awaits&&(rF.id=0),rF.echoes=100*rF.awaits,!0)}function pF(e){return rF.echoes&&e&&e.constructor===EU?(uF(),e.then((function(e){return dF(),e}),(function(e){return dF(),kF(e)}))):e}function fF(e){++sF,rF.echoes&&0!=--rF.echoes||(rF.echoes=rF.id=0),iF.push(jU),AF(e,!0)}function hF(){var e=iF[iF.length-1];iF.pop(),AF(e,!1)}function AF(e,t){var n=jU;if((t?!rF.echoes||aF++&&e===jU:!aF||--aF&&e===jU)||vF(t?fF.bind(null,e):hF),e!==jU&&(jU=e,n===RU&&(RU.env=mF()),BU)){var r=RU.env.Promise,o=e.env;xU.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(uj,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function mF(){var e=uj.Promise;return BU?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(uj,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:xU.then,gthen:e.prototype.then}:{}}function gF(e,t,n,r,o){var i=jU;try{return AF(e,!0),t(n,r,o)}finally{AF(i,!1)}}function vF(e){CU.call(wU,e)}function bF(e,t,n,r){return"function"!=typeof e?e:function(){var o=jU;n&&uF(),AF(t,!0);try{return e.apply(this,arguments)}finally{AF(o,!1),r&&vF(dF)}}}function yF(e,t){return function(n,r){return e.call(this,bF(n,t),bF(r,t))}}-1===(""+CU).indexOf("[native code]")&&(uF=dF=uU);var wF="unhandledrejection";function xF(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,o={promise:t,reason:e};if(uj.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(wF,!0,!0),dj(r,o)):uj.CustomEvent&&dj(r=new CustomEvent(wF,{detail:o}),o),r&&uj.dispatchEvent&&(dispatchEvent(r),!uj.PromiseRejectionEvent&&uj.onunhandledrejection))try{uj.onunhandledrejection(r)}catch(e){}Gj&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var kF=QU.reject;function CF(e,t,n,r){if(e._state.openComplete||jU.letThrough){var o=e._createTransaction(t,n,e._dbSchema);try{o.create()}catch(e){return kF(e)}return o._promise(t,(function(e,t){return lF((function(){return jU.trans=o,r(e,t,o)}))})).then((function(e){return o._completion.then((function(){return e}))}))}if(!e._state.isBeingOpened){if(!e._options.autoOpen)return kF(new sU.DatabaseClosed);e.open().catch(uU)}return e._state.dbReadyPromise.then((function(){return CF(e,t,n,r)}))}var EF="3.0.3",BF=String.fromCharCode(65535),TF=-1/0,MF="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",IF="String expected.",DF=[],_F="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),SF=_F,OF=_F,NF=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},LF="__dbnames",RF="readonly",jF="readwrite";function UF(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var FF={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function zF(e){return function(t){return void 0===Tj(t,e)&&Ij(t=Rj(t),e),t}}var QF=function(){function e(){}return e.prototype._trans=function(e,t,n){var r=this._tx||jU.trans,o=this.name;function i(e,n,r){if(!r.schema[o])throw new sU.NotFound("Table "+o+" not part of transaction");return t(r.idbtrans,r)}var a=JU();try{return r&&r.db===this.db?r===jU.trans?r._promise(e,i,n):lF((function(){return r._promise(e,i,n)}),{trans:r,transless:jU.transless||jU}):CF(this.db,e,[this.name],i)}finally{a&&$U()}},e.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)},e.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(lj(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var t=cj(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&this.db._maxKey!==BF)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));!n&&Gj&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var r=this.schema.idxByName,o=this.db._deps.indexedDB;function i(e,t){try{return 0===o.cmp(e,t)}catch(e){return!1}}var a=t.reduce((function(t,n){var o=t[0],a=t[1],s=r[n],c=e[n];return[o||s,o||!s?UF(a,s&&s.multi?function(e){var t=Tj(e,n);return lj(t)&&t.some((function(e){return i(c,e)}))}:function(e){return i(c,Tj(e,n))}):a]}),[null,null]),s=a[0],c=a[1];return s?this.where(s.name).equals(e[s.keyPath]).filter(c):n?this.filter(c):this.where(t).equals("")},e.prototype.filter=function(e){return this.toCollection().and(e)},e.prototype.count=function(e){return this.toCollection().count(e)},e.prototype.offset=function(e){return this.toCollection().offset(e)},e.prototype.limit=function(e){return this.toCollection().limit(e)},e.prototype.each=function(e){return this.toCollection().each(e)},e.prototype.toArray=function(e){return this.toCollection().toArray(e)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,lj(e)?"["+e.join("+")+"]":e))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(hj(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e},e.prototype.defineClass=function(){return this.mapToClass((function(e){dj(this,e)}))},e.prototype.add=function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=zF(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})})).then((function(e){return e.numFailures?QU.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{Mj(e,i,t)}catch(e){}return t}))},e.prototype.update=function(e,t){if("object"!=typeof t||lj(t))throw new sU.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||lj(e))return this.where(":id").equals(e).modify(t);cj(t).forEach((function(n){Mj(e,n,t[n])}));var n=Tj(e,this.schema.primKey.keyPath);return void 0===n?kF(new sU.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)},e.prototype.put=function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=zF(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?QU.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{Mj(e,i,t)}catch(e){}return t}))},e.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?QU.reject(e.failures[0]):void 0}))},e.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:FF})})).then((function(e){return e.numFailures?QU.reject(e.failures[0]):void 0}))},e.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))},e.prototype.bulkAdd=function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,s=n.keyPath;if(s&&o)throw new sU.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new sU.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,l=s&&a?e.map(zF(s)):e;return r.core.mutate({trans:t,type:"add",keys:o,values:l,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult,a=e.failures;if(0===t)return i?n:o;throw new oU(r.name+".bulkAdd(): "+t+" of "+c+" operations failed",Object.keys(a).map((function(e){return a[e]})))}))}))},e.prototype.bulkPut=function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,s=n.keyPath;if(s&&o)throw new sU.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new sU.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,l=s&&a?e.map(zF(s)):e;return r.core.mutate({trans:t,type:"put",keys:o,values:l,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult,a=e.failures;if(0===t)return i?n:o;throw new oU(r.name+".bulkPut(): "+t+" of "+c+" operations failed",Object.keys(a).map((function(e){return a[e]})))}))}))},e.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,o=e.lastResult,i=e.failures;if(0===r)return o;throw new oU(t.name+".bulkDelete(): "+r+" of "+n+" operations failed",i)}))},e}();function PF(e){var t={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(e,r,o){if("object"==typeof e)return a(e);r||(r=gU),o||(o=uU);var i={subscribers:[],fire:o,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=r(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(r,o)}};return t[e]=n[e]=i,i}function a(e){cj(e).forEach((function(t){var n=e[t];if(lj(n))i(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new sU.InvalidArgument("Invalid event config");var r=i(t,dU,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){Ej((function(){e.apply(null,t)}))}))}))}}))}}function HF(e,t){return vj(t).from({prototype:e}),t}function VF(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function KF(e,t){e.filter=UF(e.filter,t)}function GF(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return UF(r(),t())}:t,e.justLimit=n&&!r}function WF(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new sU.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function YF(e,t,n){var r=WF(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function qF(e,t,n,r){var o=e.replayFilter?UF(e.filter,e.replayFilter()):e.filter;if(e.or){var i={},a=function(e,n,r){if(!o||o(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))){var a=n.primaryKey,s=""+a;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(a)),hj(i,s)||(i[s]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),ZF(YF(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return ZF(YF(e,r,n),UF(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function ZF(e,t,n,r){var o=nF(r?function(e,t,o){return n(r(e),t,o)}:n);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=uU}),(function(t){e.fail(t),n=uU}))||o(e.value,e,(function(e){return n=e})),n()}))}))}var XF=function(){function e(){}return e.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,kF.bind(null,n.error)):n.table._trans("readonly",e).then(t)},e.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,kF.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},e.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=UF(t.algorithm,e)},e.prototype._iterate=function(e,t){return qF(this._ctx,e,t,this._ctx.table.core)},e.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&dj(n,e),t._ctx=n,t},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(e){var t=this._ctx;return this._read((function(n){return qF(t,e,n,t.table.core)}))},e.prototype.count=function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(VF(n,!0))return r.count({trans:e,query:{index:WF(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var o=0;return qF(n,(function(){return++o,!1}),e,r).then((function(){return o}))})).then(e)},e.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],o=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function s(e,t){var n=i(e,o),r=i(t,o);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(s)})).then(t)},e.prototype.toArray=function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&VF(n,!0)&&n.limit>0){var r=n.valueMapper,o=WF(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then((function(e){var t=e.result;return r?t.map(r):t}))}var i=[];return qF(n,(function(e){return i.push(e)}),e,n.table.core).then((function(){return i}))}),e)},e.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,VF(t)?GF(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):GF(t,(function(){var t=e;return function(){return--t<0}}))),this},e.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),GF(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},e.prototype.until=function(e,t){return KF(this._ctx,(function(n,r,o){return!e(n.value)||(r(o),t)})),this},e.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},e.prototype.last=function(e){return this.reverse().first(e)},e.prototype.filter=function(e){var t,n;return KF(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=UF(t.isMatch,n),this},e.prototype.and=function(e){return this.filter(e)},e.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},e.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},e.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},e.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},e.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},e.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&VF(t,!0)&&t.limit>0)return this._read((function(e){var n=WF(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)},e.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},e.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},e.prototype.lastKey=function(e){return this.reverse().firstKey(e)},e.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return KF(this._ctx,(function(e){var t=e.primaryKey.toString(),r=hj(n,t);return n[t]=!0,!r})),this},e.prototype.modify=function(e){var t=this,n=this._ctx;return this._write((function(r){var o;if("function"==typeof e)o=e;else{var i=cj(e),a=i.length;o=function(t){for(var n=!1,r=0;r<a;++r){var o=i[r],s=e[o];Tj(t,o)!==s&&(Mj(t,o,s),n=!0)}return n}}var s=n.table.core,c=s.schema.primaryKey,l=c.outbound,u=c.extractKey,d="testmode"in Pz?1:2e3,p=t.db.core.cmp,f=[],h=0,A=[],m=function(e,t){var n=t.failures,r=t.numFailures;h+=e-r;for(var o=0,i=cj(n);o<i.length;o++){var a=i[o];f.push(n[a])}};return t.clone().primaryKeys().then((function(e){var t=function(n){var i=Math.min(d,e.length-n);return s.getMany({trans:r,keys:e.slice(n,n+i)}).then((function(a){for(var c=[],f=[],h=l?[]:null,A=[],g=0;g<i;++g){var v=a[g],b={value:Rj(v),primKey:e[n+g]};!1!==o.call(b,b.value,b)&&(null==b.value?A.push(e[n+g]):l||0===p(u(v),u(b.value))?(f.push(b.value),l&&h.push(e[n+g])):(A.push(e[n+g]),c.push(b.value)))}return Promise.resolve(c.length>0&&s.mutate({trans:r,type:"add",values:c}).then((function(e){for(var t in e.failures)A.splice(parseInt(t),1);m(c.length,e)}))).then((function(e){return f.length>0&&s.mutate({trans:r,type:"put",keys:h,values:f}).then((function(e){return m(f.length,e)}))})).then((function(){return A.length>0&&s.mutate({trans:r,type:"delete",keys:A}).then((function(e){return m(A.length,e)}))})).then((function(){return e.length>n+i&&t(n+d)}))}))};return t(0).then((function(){if(f.length>0)throw new rU("Error modifying one or more objects",f,h,A);return e.length}))}))}))},e.prototype.delete=function(){var e=this._ctx,t=e.range;return VF(e)&&(e.isPrimKey&&!OF||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,o=t;return e.table.core.count({trans:n,query:{index:r,range:o}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((function(e){var n=e.failures,r=(e.lastResult,e.results,e.numFailures);if(r)throw new rU("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-r);return t-r}))}))})):this.modify((function(e,t){return t.value=null}))},e}();function JF(e,t){return e<t?-1:e===t?0:1}function $F(e,t){return e>t?-1:e===t?0:1}function ez(e,t,n){var r=e instanceof az?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function tz(e){return new e.Collection(e,(function(){return iz("")})).limit(0)}function nz(e,t,n,r,o,i){for(var a=Math.min(e.length,r.length),s=-1,c=0;c<a;++c){var l=t[c];if(l!==r[c])return o(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):o(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;o(e[c],l)<0&&(s=c)}return a<r.length&&"next"===i?e+n.substr(e.length):a<e.length&&"prev"===i?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function rz(e,t,n,r){var o,i,a,s,c,l,u,d=n.length;if(!n.every((function(e){return"string"==typeof e})))return ez(e,IF);function p(e){o=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),i=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),a="next"===e?JF:$F;var t=n.map((function(e){return{lower:i(e),upper:o(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));s=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),l=e,u="next"===e?"":r}p("next");var f=new e.Collection(e,(function(){return oz(s[0],c[d-1]+r)}));f._ondirectionchange=function(e){p(e)};var h=0;return f._addAlgorithm((function(e,n,r){var o=e.key;if("string"!=typeof o)return!1;var p=i(o);if(t(p,c,h))return!0;for(var f=null,A=h;A<d;++A){var m=nz(o,p,s[A],c[A],a,l);null===m&&null===f?h=A+1:(null===f||a(f,m)>0)&&(f=m)}return n(null!==f?function(){e.continue(f+u)}:r),!1})),f}function oz(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function iz(e){return{type:1,lower:e,upper:e}}var az=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!0,configurable:!0}),e.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?tz(this):new this.Collection(this,(function(){return oz(e,t,!n,!r)}))}catch(e){return ez(this,MF)}},e.prototype.equals=function(e){return null==e?ez(this,MF):new this.Collection(this,(function(){return iz(e)}))},e.prototype.above=function(e){return null==e?ez(this,MF):new this.Collection(this,(function(){return oz(e,void 0,!0)}))},e.prototype.aboveOrEqual=function(e){return null==e?ez(this,MF):new this.Collection(this,(function(){return oz(e,void 0,!1)}))},e.prototype.below=function(e){return null==e?ez(this,MF):new this.Collection(this,(function(){return oz(void 0,e,!1,!0)}))},e.prototype.belowOrEqual=function(e){return null==e?ez(this,MF):new this.Collection(this,(function(){return oz(void 0,e)}))},e.prototype.startsWith=function(e){return"string"!=typeof e?ez(this,IF):this.between(e,e+BF,!0,!0)},e.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):rz(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],BF)},e.prototype.equalsIgnoreCase=function(e){return rz(this,(function(e,t){return e===t[0]}),[e],"")},e.prototype.anyOfIgnoreCase=function(){var e=Vj.apply(Hj,arguments);return 0===e.length?tz(this):rz(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var e=Vj.apply(Hj,arguments);return 0===e.length?tz(this):rz(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,BF)},e.prototype.anyOf=function(){var e=this,t=Vj.apply(Hj,arguments),n=this._cmp;try{t.sort(n)}catch(e){return ez(this,MF)}if(0===t.length)return tz(this);var r=new this.Collection(this,(function(){return oz(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var o=0;return r._addAlgorithm((function(e,r,i){for(var a=e.key;n(a,t[o])>0;)if(++o===t.length)return r(i),!1;return 0===n(a,t[o])||(r((function(){e.continue(t[o])})),!1)})),r},e.prototype.notEqual=function(e){return this.inAnyRange([[TF,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var e=Vj.apply(Hj,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return ez(this,MF)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[TF,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,o=this._ascending,i=this._descending,a=this._min,s=this._max;if(0===e.length)return tz(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&o(e[0],e[1])<=0})))return ez(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",sU.InvalidArgument);var c=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers;var u,d=o;function p(e,t){return d(e[0],t[0])}try{(u=e.reduce((function(e,t){for(var n=0,o=e.length;n<o;++n){var i=e[n];if(r(t[0],i[1])<0&&r(t[1],i[0])>0){i[0]=a(i[0],t[0]),i[1]=s(i[1],t[1]);break}}return n===o&&e.push(t),e}),[])).sort(p)}catch(e){return ez(this,MF)}var f=0,h=l?function(e){return o(e,u[f][1])>0}:function(e){return o(e,u[f][1])>=0},A=c?function(e){return i(e,u[f][0])>0}:function(e){return i(e,u[f][0])>=0};var m=h,g=new this.Collection(this,(function(){return oz(u[0][0],u[u.length-1][1],!c,!l)}));return g._ondirectionchange=function(e){"next"===e?(m=h,d=o):(m=A,d=i),u.sort(p)},g._addAlgorithm((function(e,t,r){for(var i=e.key;m(i);)if(++f===u.length)return t(r),!1;return!!function(e){return!h(e)&&!A(e)}(i)||(0===n._cmp(i,u[f][1])||0===n._cmp(i,u[f][0])||t((function(){d===o?e.continue(u[f][0]):e.continue(u[f][1])})),!1)})),g},e.prototype.startsWithAnyOf=function(){var e=Vj.apply(Hj,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?tz(this):this.inAnyRange(e.map((function(e){return[e,e+BF]}))):ez(this,"startsWithAnyOf() only works with strings")},e}();function sz(e){return 1===e.length?e[0]:e}function cz(e){try{return e.only([[]]),[[]]}catch(e){return BF}}function lz(e){return nF((function(t){return uz(t),e(t.target.error),!1}))}function uz(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var dz=function(){function e(){}return e.prototype._lock=function(){return Cj(!jU.global),++this._reculock,1!==this._reculock||jU.global||(jU.lockOwnerFor=this),this},e.prototype._unlock=function(){if(Cj(!jU.global),0==--this._reculock)for(jU.global||(jU.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{gF(e[1],e[0])}catch(e){}}return this},e.prototype._locked=function(){return this._reculock&&jU.lockOwnerFor!==this},e.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(Cj(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new sU.DatabaseClosed(r);case"MissingAPIError":throw new sU.MissingAPI(r.message,r);default:throw new sU.OpenFailed(r)}if(!this.active)throw new sU.TransactionInactive;return Cj(null===this._completion._state),(e=this.idbtrans=e||n.transaction(sz(this.storeNames),this.mode)).onerror=nF((function(n){uz(n),t._reject(e.error)})),e.onabort=nF((function(n){uz(n),t.active&&t._reject(new sU.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=nF((function(){t.active=!1,t._resolve()})),this},e.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return kF(new sU.ReadOnly("Transaction is readonly"));if(!this.active)return kF(new sU.TransactionInactive);if(this._locked())return new QU((function(o,i){r._blockedFuncs.push([function(){r._promise(e,t,n).then(o,i)},jU])}));if(n)return lF((function(){var e=new QU((function(e,n){r._lock();var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var o=new QU((function(e,n){var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return o._lib=!0,o},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(e){var t=this._root(),n=QU.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var o=t._waitingFor;return new QU((function(e,r){n.then((function(n){return t._waitingQueue.push(nF(e.bind(null,n)))}),(function(e){return t._waitingQueue.push(nF(r.bind(null,e)))})).finally((function(){t._waitingFor===o&&(t._waitingFor=null)}))}))},e.prototype.abort=function(){this.active&&this._reject(new sU.Abort),this.active=!1},e.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(hj(t,e))return t[e];var n=this.schema[e];if(!n)throw new sU.NotFound("Table "+e+" not part of transaction");var r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r},e}();function pz(e,t,n,r,o,i,a){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+fz(t)}}function fz(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function hz(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Bj(n,(function(e){return[e.name,e]}))}}function Az(e){return null==e?function(){}:"string"==typeof e?function(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return Tj(t,e)}}(e):function(t){return Tj(t,e)}}function mz(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}function gz(e){return[].slice.call(e)}var vz=0;function bz(e){return null==e?":id":"string"==typeof e?e:"["+e.join("+")+"]"}function yz(e,t,n,r){var o=t.cmp.bind(t);function i(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var t=e.lower,r=e.upper,o=e.lowerOpen,i=e.upperOpen;return void 0===t?void 0===r?null:n.upperBound(r,!!i):void 0===r?n.lowerBound(t,!!o):n.bound(t,r,!!o,!!i)}var a=function(e,t){var n=gz(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=lj(t),o=null==t,i={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Az(t)},indexes:gz(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry,o=e.keyPath,a={name:t,compound:lj(o),keyPath:o,unique:n,multiEntry:r,extractKey:Az(o)};return i[bz(o)]=a,a})),getIndexByKeyPath:function(e){return i[bz(e)]}};return i[":id"]=a.primaryKey,null!=t&&(i[bz(t)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),s=a.schema,c=a.hasGetAll,l=s.tables.map((function(e){return function(e){var t=e.name;return{name:t,schema:e,mutate:function(n){var r=n.trans,o=n.type,a=n.keys,s=n.values,c=n.range,l=n.wantResults;return new Promise((function(n,u){n=nF(n);var d=r.objectStore(t),p=null==d.keyPath,f="put"===o||"add"===o;if(!f&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var h=(a||s||{length:1}).length;if(a&&s&&a.length!==s.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return n({numFailures:0,failures:{},results:[],lastResult:void 0});var A,m=l&&sj(a||mz(e.primaryKey,{type:o,keys:a,values:s})),g=[],v=0,b=function(e){++v,uz(e),m&&(m[e.target._reqno]=void 0),g[e.target._reqno]=e.target.error},y=function(e){var t=e.target;m[t._reqno]=t.result};if("deleteRange"===o){if(4===c.type)return n({numFailures:v,failures:g,results:m,lastResult:void 0});A=3===c.type?d.clear():d.delete(i(c))}else{var w=f?p?[s,a]:[s,null]:[a,null],x=w[0],k=w[1];if(f)for(var C=0;C<h;++C)(A=k&&void 0!==k[C]?d[o](x[C],k[C]):d[o](x[C]))._reqno=C,m&&void 0===m[C]&&(A.onsuccess=y),A.onerror=b;else for(C=0;C<h;++C)(A=d[o](x[C]))._reqno=C,A.onerror=b}var E=function(e){var t=e.target.result;m&&(m[h-1]=t),n({numFailures:v,failures:g,results:m,lastResult:t})};A.onerror=function(e){b(e),E(e)},A.onsuccess=E}))},getMany:function(e){var n=e.trans,r=e.keys;return new Promise((function(e,o){e=nF(e);for(var i,a=n.objectStore(t),s=r.length,c=new Array(s),l=0,u=0,d=function(t){var n=t.target;c[n._pos]=n.result,++u===l&&e(c)},p=lz(o),f=0;f<s;++f)null!=r[f]&&((i=a.get(r[f]))._pos=f,i.onsuccess=d,i.onerror=p,++l);0===l&&e(c)}))},get:function(e){var n=e.trans,r=e.key;return new Promise((function(e,o){e=nF(e);var i=n.objectStore(t).get(r);i.onsuccess=function(t){return e(t.target.result)},i.onerror=lz(o)}))},query:function(e){return function(n){return new Promise((function(r,o){r=nF(r);var a=n.trans,s=n.values,c=n.limit,l=n.query,u=c===1/0?void 0:c,d=l.index,p=l.range,f=a.objectStore(t),h=d.isPrimaryKey?f:f.index(d.name),A=i(p);if(0===c)return r({result:[]});if(e){var m=s?h.getAll(A,u):h.getAllKeys(A,u);m.onsuccess=function(e){return r({result:e.target.result})},m.onerror=lz(o)}else{var g=0,v=s||!("openKeyCursor"in h)?h.openCursor(A):h.openKeyCursor(A),b=[];v.onsuccess=function(e){var t=v.result;return t?(b.push(s?t.value:t.primaryKey),++g===c?r({result:b}):void t.continue()):r({result:b})},v.onerror=lz(o)}}))}}(c),openCursor:function(e){var n=e.trans,r=e.values,o=e.query,a=e.reverse,s=e.unique;return new Promise((function(e,c){e=nF(e);var l=o.index,u=o.range,d=n.objectStore(t),p=l.isPrimaryKey?d:d.index(l.name),f=a?s?"prevunique":"prev":s?"nextunique":"next",h=r||!("openKeyCursor"in p)?p.openCursor(i(u),f):p.openKeyCursor(i(u),f);h.onerror=lz(c),h.onsuccess=nF((function(t){var r=h.result;if(r){r.___id=++vz,r.done=!1;var o=r.continue.bind(r),i=r.continuePrimaryKey;i&&(i=i.bind(r));var a=r.advance.bind(r),s=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=nF(c),r.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},r.start=function(e){var t=new Promise((function(e,t){e=nF(e),h.onerror=lz(t),r.fail=t,r.stop=function(t){r.stop=r.continue=r.continuePrimaryKey=r.advance=s,e(t)}})),n=function(){if(h.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return h.onsuccess=nF((function(e){h.onsuccess=n,n()})),r.continue=o,r.continuePrimaryKey=i,r.advance=a,n(),t},e(r)}else e(null)}),c)}))},count:function(e){var n=e.query,r=e.trans,o=n.index,a=n.range;return new Promise((function(e,n){var s=r.objectStore(t),c=o.isPrimaryKey?s:s.index(o.name),l=i(a),u=l?c.count(l):c.count();u.onsuccess=nF((function(t){return e(t.target.result)})),u.onerror=lz(n)}))}}}(e)})),u={};return l.forEach((function(e){return u[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!u[e])throw new Error("Table '"+e+"' not found");return u[e]},cmp:o,MIN_KEY:-1/0,MAX_KEY:cz(n),schema:s}}function wz(e,t,n,r){var o=n.IDBKeyRange;return{dbcore:function(e,t){return t.reduce((function(e,t){var n=t.create;return aj(aj({},e),n(e))}),e)}(yz(t,n.indexedDB,o,r),e.dbcore)}}function xz(e,t){var n=t.db,r=wz(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((function(t){var n=t.name;e.core.schema.tables.some((function(e){return e.name===n}))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function kz(e,t,n,r){n.forEach((function(n){var o=r[n];t.forEach((function(t){var r=yj(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?gj(t,n,{get:function(){return this.table(n)},set:function(e){mj(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,o))}))}))}function Cz(e,t){t.forEach((function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]}))}function Ez(e,t){return e._cfg.version-t._cfg.version}function Bz(e,t,n,r){var o=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,o);i.create(n),i._completion.catch(r);var a=i._reject.bind(i),s=jU.transless||jU;lF((function(){jU.trans=i,jU.transless=s,0===t?(cj(o).forEach((function(e){Mz(n,e,o[e].primKey,o[e].indexes)})),xz(e,n),QU.follow((function(){return e.on.populate.fire(i)})).catch(a)):function(e,t,n,r){var o=[],i=e._versions,a=e._dbSchema=Dz(e,e.idbdb,r),s=!1;function c(){return o.length?QU.resolve(o.shift()(n.idbtrans)).then(c):QU.resolve()}return i.filter((function(e){return e._cfg.version>=t})).forEach((function(i){o.push((function(){var o=a,c=i._cfg.dbschema;_z(e,o,r),_z(e,c,r),a=e._dbSchema=c;var l=Tz(o,c);l.add.forEach((function(e){Mz(r,e[0],e[1].primKey,e[1].indexes)})),l.change.forEach((function(e){if(e.recreate)throw new sU.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){return Iz(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),Iz(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var u=i._cfg.contentUpgrade;if(u&&i._cfg.version>t){xz(e,r),n._memoizedTables={},s=!0;var d=Dj(c);l.del.forEach((function(e){d[e]=o[e]})),Cz(e,[e.Transaction.prototype]),kz(e,[e.Transaction.prototype],cj(d),d),n.schema=d;var p,f=Kj(u);f&&uF();var h=QU.follow((function(){if((p=u(n))&&f){var e=dF.bind(null,null);p.then(e,e)}}));return p&&"function"==typeof p.then?QU.resolve(p):h.then((function(){return p}))}})),o.push((function(t){s&&SF||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(i._cfg.dbschema,t);Cz(e,[e.Transaction.prototype]),kz(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),c().then((function(){var e,t;t=r,cj(e=a).forEach((function(n){t.db.objectStoreNames.contains(n)||Mz(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,i,n).catch(a)}))}function Tz(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var o=e[n],i=t[n];if(o){var a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!_F)a.recreate=!0,r.change.push(a);else{var s=o.idxByName,c=i.idxByName,l=void 0;for(l in s)c[l]||a.del.push(l);for(l in c){var u=s[l],d=c[l];u?u.src!==d.src&&a.change.push(d):a.add.push(d)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,i])}return r}function Mz(e,t,n,r){var o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return Iz(o,e)})),o}function Iz(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Dz(e,t,n){var r={};return xj(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),o=t.keyPath,i=pz(fz(o),o||"",!1,!1,!!t.autoIncrement,o&&"string"!=typeof o,!0),a=[],s=0;s<t.indexNames.length;++s){var c=t.index(t.indexNames[s]);o=c.keyPath;var l=pz(c.name,o,!!c.unique,!!c.multiEntry,!1,o&&"string"!=typeof o,!1);a.push(l)}r[e]=hz(e,i,a)})),r}function _z(e,t,n){for(var r=n.db.objectStoreNames,o=0;o<r.length;++o){var i=r[o],a=n.objectStore(i);e._hasGetAll="getAll"in a;for(var s=0;s<a.indexNames.length;++s){var c=a.indexNames[s],l=a.index(c).keyPath,u="string"==typeof l?l:"["+xj(l).join("+")+"]";if(t[i]){var d=t[i].idxByName[u];d&&(d.name=c,delete t[i].idxByName[u],t[i].idxByName[c]=d)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&uj.WorkerGlobalScope&&uj instanceof uj.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}var Sz,Oz=function(){function e(){}return e.prototype._parseStoresSpec=function(e,t){cj(e).forEach((function(n){if(null!==e[n]){var r=e[n].split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return pz(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),lj(r),0===t)})),o=r.shift();if(o.multi)throw new sU.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new sU.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new sU.Schema("Index must have a name and cannot be an empty string")})),t[n]=hz(n,o,r)}}))},e.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?dj(this._cfg.storesSource,e):e;var n=t._versions,r={},o={};return n.forEach((function(e){dj(r,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(r,o)})),t._dbSchema=o,Cz(t,[t._allTables,t,t.Transaction.prototype]),kz(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],cj(o),o),t._storeNames=cj(o),this},e.prototype.upgrade=function(e){return this._cfg.contentUpgrade=e,this},e}();function Nz(e){return lF((function(){return jU.letThrough=!0,e()}))}function Lz(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?kF(t.dbOpenError):e}));Gj&&(t.openCanceller._stackHolder=Zj()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.dbReadyResolve,o=null;return QU.race([t.openCanceller,new QU((function(r,i){if(!n)throw new sU.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var a=e.name,s=t.autoSchema?n.open(a):n.open(a,Math.round(10*e.verno));if(!s)throw new sU.MissingAPI("IndexedDB API not available");s.onerror=lz(i),s.onblocked=nF(e._fireOnBlocked),s.onupgradeneeded=nF((function(r){if(o=s.transaction,t.autoSchema&&!e._options.allowEmptyDB){s.onerror=uz,o.abort(),s.result.close();var c=n.deleteDatabase(a);c.onsuccess=c.onerror=nF((function(){i(new sU.NoSuchDatabase("Database "+a+" doesnt exist"))}))}else{o.onerror=lz(i);var l=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;e.idbdb=s.result,Bz(e,l/10,o,i)}}),i),s.onsuccess=nF((function(){o=null;var n=e.idbdb=s.result,i=xj(n.objectStoreNames);if(i.length>0)try{var c=n.transaction(sz(i),"readonly");t.autoSchema?function(e,t,n){e.verno=t.version/10;var r=e._dbSchema=Dz(0,t,n);e._storeNames=xj(t.objectStoreNames,0),kz(e,[e._allTables],cj(r),r)}(e,n,c):(_z(e,e._dbSchema,c),function(e,t){var n=Tz(Dz(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((function(e){return e.add.length||e.change.length})))}(e,c)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),xz(e,c)}catch(e){}DF.push(e),n.onversionchange=nF((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),Sz.add(a),r()}),i)}))]).then((function(){return t.onReadyBeingFired=[],QU.resolve(Nz(e.on.ready.fire)).then((function e(){if(t.onReadyBeingFired.length>0){var n=t.onReadyBeingFired.reduce(vU,uU);return t.onReadyBeingFired=[],QU.resolve(Nz(n)).then(e)}}))})).finally((function(){t.onReadyBeingFired=null})).then((function(){return t.isBeingOpened=!1,e})).catch((function(n){try{o&&o.abort()}catch(e){}return t.isBeingOpened=!1,e.close(),t.dbOpenError=n,kF(t.dbOpenError)})).finally((function(){t.openComplete=!0,r()}))}function Rz(e){var t=function(t){return e.next(t)},n=o(t),r=o((function(t){return e.throw(t)}));function o(e){return function(t){var o=e(t),i=o.value;return o.done?i:i&&"function"==typeof i.then?i.then(n,r):lj(i)?Promise.all(i).then(n,r):n(i)}}return o(t)()}function jz(e,t,n){var r=arguments.length;if(r<2)throw new sU.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];n=o.pop();var i=Sj(o);return[e,i,n]}function Uz(e,t,n,r,o){return QU.resolve().then((function(){var i=jU.transless||jU,a=e._createTransaction(t,n,e._dbSchema,r),s={trans:a,transless:i};r?a.idbtrans=r.idbtrans:a.create();var c,l=Kj(o);l&&uF();var u=QU.follow((function(){if(c=o.call(a,a))if(l){var e=dF.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=Rz(c))}),s);return(c&&"function"==typeof c.then?QU.resolve(c).then((function(e){return a.active?e:kF(new sU.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):u.then((function(){return c}))).then((function(e){return r&&a._resolve(),a._completion.then((function(){return e}))})).catch((function(e){return a._reject(e),kF(e)}))}))}function Fz(e,t,n){for(var r=lj(e)?e.slice():[e],o=0;o<n;++o)r.push(t);return r}var zz={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return aj(aj({},e),{table:function(t){var n=e.table(t),r=n.schema,o={},i=[];function a(e,t,n){var r=bz(e),s=o[r]=o[r]||[],c=null==e?0:"string"==typeof e?1:e.length,l=t>0,u=aj(aj({},n),{isVirtual:l,isPrimaryKey:!l&&n.isPrimaryKey,keyTail:t,keyLength:c,extractKey:Az(e),unique:!l&&n.unique});(s.push(u),u.isPrimaryKey||i.push(u),c>1)&&a(2===c?e[0]:e.slice(0,c-1),t+1,n);return s.sort((function(e,t){return e.keyTail-t.keyTail})),u}var s=a(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[s];for(var c=0,l=r.indexes;c<l.length;c++){var u=l[c];a(u.keyPath,0,u)}function d(t){var n,r,o=t.query.index;return o.isVirtual?aj(aj({},t),{query:{index:o,range:(n=t.query.range,r=o.keyTail,{type:1===n.type?2:n.type,lower:Fz(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:Fz(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}):t}return aj(aj({},n),{schema:aj(aj({},r),{primaryKey:s,indexes:i,getIndexByKeyPath:function(e){var t=o[bz(e)];return t&&t[0]}}),count:function(e){return n.count(d(e))},query:function(e){return n.query(d(e))},openCursor:function(t){var r=t.query.index,o=r.keyTail,i=r.isVirtual,a=r.keyLength;if(!i)return n.openCursor(t);return n.openCursor(d(t)).then((function(n){return n&&function(n){return Object.create(n,{continue:{value:function(r){null!=r?n.continue(Fz(r,t.reverse?e.MAX_KEY:e.MIN_KEY,o)):t.unique?n.continue(Fz(n.key,t.reverse?e.MIN_KEY:e.MAX_KEY,o)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(Fz(t,e.MAX_KEY,o),r)}},key:{get:function(){var e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:function(){return n.value}}})}(n)}))}})}})}},Qz={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return aj(aj({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey;return aj(aj({},n),{mutate:function(e){var o=jU.trans,i=o.table(t).hook,a=i.deleting,s=i.creating,c=i.updating;switch(e.type){case"add":if(s.fire===uU)break;return o._promise("readwrite",(function(){return l(e)}),!0);case"put":if(s.fire===uU&&c.fire===uU)break;return o._promise("readwrite",(function(){return l(e)}),!0);case"delete":if(a.fire===uU)break;return o._promise("readwrite",(function(){return l(e)}),!0);case"deleteRange":if(a.fire===uU)break;return o._promise("readwrite",(function(){return function(e){return u(e.trans,e.range,1e4)}(e)}),!0)}return n.mutate(e);function l(e){var t=jU.trans,o=e.keys||mz(r,e);if(!o)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?aj(aj({},e),{keys:o,wantResults:!0}):aj({},e)).type&&(e.values=sj(e.values)),e.keys&&(e.keys=sj(e.keys)),function(e,t,n){return"add"===t.type?Promise.resolve(new Array(t.values.length)):e.getMany({trans:t.trans,keys:n})}(n,e,o).then((function(i){var l=o.map((function(n,o){var l=i[o],u={onerror:null,onsuccess:null};if("delete"===e.type)a.fire.call(u,n,l,t);else if("add"===e.type||void 0===l){var d=s.fire.call(u,n,e.values[o],t);null==n&&null!=d&&(n=d,e.keys[o]=n,r.outbound||Mj(e.values[o],r.keyPath,n))}else{var p=zj(l,e.values[o]),f=c.fire.call(u,p,n,l,t);if(f){var h=e.values[o];Object.keys(f).forEach((function(e){hj(h,e)?h[e]=f[e]:Mj(h,e,f[e])}))}}return u}));return n.mutate(e).then((function(t){for(var n=t.failures,r=t.results,a=t.numFailures,s=t.lastResult,c=0;c<o.length;++c){var u=r?r[c]:o[c],d=l[c];null==u?d.onerror&&d.onerror(n[c]):d.onsuccess&&d.onsuccess("put"===e.type&&i[c]?e.values[c]:u)}return{failures:n,results:r,numFailures:a,lastResult:s}})).catch((function(e){return l.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}function u(e,t,o){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:o}).then((function(n){var r=n.result;return l({type:"delete",keys:r,trans:e}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<o?{failures:[],numFailures:0,lastResult:void 0}:u(e,aj(aj({},t),{lower:r[r.length-1],lowerOpen:!0}),o)}))}))}}})}})}},Pz=function(){function e(t,n){var r=this;this._middlewares={},this.verno=0;var o=e.dependencies;this._options=n=aj({addons:e.addons,autoOpen:!0,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var i=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null;var a,s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:uU,dbReadyPromise:null,cancelOpen:uU,openCanceller:null,autoSchema:!0};s.dbReadyPromise=new QU((function(e){s.dbReadyResolve=e})),s.openCanceller=new QU((function(e,t){s.cancelOpen=t})),this._state=s,this.name=t,this.on=PF(this,"populate","blocked","versionchange",{ready:[vU,uU]}),this.on.ready.subscribe=kj(this.on.ready.subscribe,(function(t){return function(n,o){e.vip((function(){var e=r._state;if(e.openComplete)e.dbOpenError||QU.resolve().then(n),o&&t(n);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(n),o&&t(n);else{t(n);var i=r;o||t((function e(){i.on.ready.unsubscribe(n),i.on.ready.unsubscribe(e)}))}}))}})),this.Collection=(a=this,HF(XF.prototype,(function(e,t){this.db=a;var n=FF,r=null;if(t)try{n=t()}catch(e){r=e}var o=e._ctx,i=o.table,s=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:s!==dU?s:null}}))),this.Table=function(e){return HF(QF.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:PF(null,{creating:[hU,uU],reading:[pU,dU],updating:[mU,uU],deleting:[AU,uU]})}))}(this),this.Transaction=function(e){return HF(dz.prototype,(function(t,n,r,o){var i=this;this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.idbtrans=null,this.on=PF(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new QU((function(e,t){i._resolve=e,i._reject=t})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),kF(e)}))}))}(this),this.Version=function(e){return HF(Oz.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return HF(az.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};var o=e._deps.indexedDB;if(!o)throw new sU.MissingAPI("indexedDB API missing");this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(e,t){return o.cmp(t,e)},this._max=function(e,t){return o.cmp(e,t)>0?e:t},this._min=function(e,t){return o.cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+e.oldVersion/10)})),this._maxKey=cz(n.IDBKeyRange),this._createTransaction=function(e,t,n,o){return new r.Transaction(e,t,n,o)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),DF.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(zz),this.use(Qz),i.forEach((function(e){return e(r)}))}return e.prototype.version=function(e){if(isNaN(e)||e<.1)throw new sU.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new sU.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(Ez),n.stores({}),this._state.autoSchema=!1,n)},e.prototype._whenReady=function(e){var t=this;return this._state.openComplete||jU.letThrough?e():new QU((function(e,n){if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void n(new sU.DatabaseClosed);t.open().catch(uU)}t._state.dbReadyPromise.then(e,n)})).then(e)},e.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,o=e.name;o&&this.unuse({stack:t,name:o});var i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:n,level:null==r?10:r,name:o}),i.sort((function(e,t){return e.level-t.level})),this},e.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this},e.prototype.open=function(){return Lz(this)},e.prototype.close=function(){var e=DF.indexOf(this),t=this._state;if(e>=0&&DF.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(e){}this.idbdb=null}this._options.autoOpen=!1,t.dbOpenError=new sU.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError),t.dbReadyPromise=new QU((function(e){t.dbReadyResolve=e})),t.openCanceller=new QU((function(e,n){t.cancelOpen=n}))},e.prototype.delete=function(){var e=this,t=arguments.length>0,n=this._state;return new QU((function(r,o){var i=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=nF((function(){Sz.remove(e.name),r()})),t.onerror=lz(o),t.onblocked=e._fireOnBlocked};if(t)throw new sU.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()}))},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return null!==this.idbdb},e.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},e.prototype.hasFailed=function(){return null!==this._state.dbOpenError},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var e=this;return cj(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!0,configurable:!0}),e.prototype.transaction=function(){var e=jz.apply(this,arguments);return this._transaction.apply(this,e)},e.prototype._transaction=function(e,t,n){var r=this,o=jU.trans;o&&o.db===this&&-1===e.indexOf("!")||(o=null);var i,a,s=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map((function(e){var t=e instanceof r.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===RF)i=RF;else{if("rw"!=e&&e!=jF)throw new sU.InvalidArgument("Invalid transaction mode: "+e);i=jF}if(o){if(o.mode===RF&&i===jF){if(!s)throw new sU.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach((function(e){if(o&&-1===o.storeNames.indexOf(e)){if(!s)throw new sU.SubTransaction("Table "+e+" not included in parent transaction.");o=null}})),s&&o&&!o.active&&(o=null)}}catch(e){return o?o._promise(null,(function(t,n){n(e)})):kF(e)}var c=Uz.bind(null,this,i,a,o,n);return o?o._promise(i,c,"lock"):jU.trans?gF(jU.transless,(function(){return r._whenReady(c)})):this._whenReady(c)},e.prototype.table=function(e){if(!hj(this._allTables,e))throw new sU.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},e}(),Hz=Pz;Aj(Hz,aj(aj({},lU),{delete:function(e){return new Hz(e).delete()},exists:function(e){return new Hz(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){return Sz?Sz.getDatabaseNames().then(e):QU.resolve([])},defineClass:function(){return function(e){dj(this,e)}},ignoreTransaction:function(e){return jU.trans?gF(jU.transless,e):e()},vip:Nz,async:function(e){return function(){try{var t=Rz(e.apply(this,arguments));return t&&"function"==typeof t.then?t:QU.resolve(t)}catch(e){return kF(e)}}},spawn:function(e,t,n){try{var r=Rz(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:QU.resolve(r)}catch(e){return kF(e)}},currentTransaction:{get:function(){return jU.trans||null}},waitFor:function(e,t){var n=QU.resolve("function"==typeof e?Hz.ignoreTransaction(e):e).timeout(t||6e4);return jU.trans?jU.trans.waitFor(n):n},Promise:QU,debug:{get:function(){return Gj},set:function(e){Wj(e,"dexie"===e?function(){return!0}:NF)}},derive:vj,extend:dj,props:Aj,override:kj,Events:PF,getByKeyPath:Tj,setByKeyPath:Mj,delByKeyPath:Ij,shallowClone:Dj,deepClone:Rj,getObjectDiff:zj,asap:Ej,minKey:TF,addons:[],connections:DF,errnames:iU,dependencies:function(){try{return{indexedDB:uj.indexedDB||uj.mozIndexedDB||uj.webkitIndexedDB||uj.msIndexedDB,IDBKeyRange:uj.IDBKeyRange||uj.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:EF,version:EF.split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)})),default:Hz,Dexie:Hz})),Hz.maxKey=cz(Hz.dependencies.IDBKeyRange),function(e){try{Sz=function(e){var t,n=e&&"function"==typeof e.databases;if(!n){var r=new Pz(LF,{addons:[]});r.version(1).stores({dbnames:"name"}),t=r.table("dbnames")}return{getDatabaseNames:function(){return n?QU.resolve(e.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return e!==LF}))})):t.toCollection().primaryKeys()},add:function(e){return!n&&e!==LF&&t.put({name:e}).catch(uU)},remove:function(e){return!n&&e!==LF&&t.delete(e).catch(uU)}}}(e)}catch(e){}}(Pz.dependencies.indexedDB),QU.rejectionMapper=function(e,t){if(!e||e instanceof tU||e instanceof TypeError||e instanceof SyntaxError||!e.name||!cU[e.name])return e;var n=new cU[e.name](t||e.message,e);return"stack"in e&&gj(n,"stack",{get:function(){return this.inner.stack}}),n},Wj(Gj,NF);const Vz=Pz;function Kz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gz=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Wz=new TextEncoder,Yz=new TextDecoder,qz=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.db=new Vz("wiz-editor-ot"),this.db.version(1).stores({docs:"id",ops:"[id+ver],id"}),this.docs=this.db.table("docs"),this.ops=this.db.table("ops")}var t,n,r;return t=e,(n=[{key:"createDoc",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Gz(this,void 0,void 0,regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return zR.log("OfflineDb - createDoc"),o.next=3,Promise.all([this.createOp({id:e,data:{create:{type:"http://sharejs.org/types/JSONv1",data:t}},ver:n}),0===n&&1===r?this.docs.add({id:e,ver:1,syncVer:0,data:t,mtime:Date.now()}):this.updateDoc(e,t,r,0)]);case 3:case"end":return o.stop()}}),o,this)})))}},{key:"getDoc",value:function(e){return Gz(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.docs.get(e);case 2:if(null!=(n=t.sent)){t.next=5;break}return t.abrupt("return",n);case 5:if(n.data instanceof ArrayBuffer){r=Yz.decode(n.data);try{n.data=JSON.parse(r)}catch(e){n.data=null}}return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"createOp",value:function(e){return Gz(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.ops.add(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"createOps",value:function(e){return Gz(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&e.length>0&&this.ops.bulkAdd(e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getOps",value:function(e){return Gz(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.ops.where({id:e}).toArray());case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getOpsCount",value:function(e){return Gz(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.ops.where({id:e}).count());case 1:case"end":return t.stop()}}),t,this)})))}},{key:"deleteOps",value:function(e){return Gz(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.ops.where({id:e}).delete());case 1:case"end":return t.stop()}}),t,this)})))}},{key:"updateDoc",value:function(e,t,n,r){return Gz(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r>0&&zR.log("OfflineDb - updateDoc - update ".concat(e," syncVer to ").concat(r)),o.next=3,this.getDoc(e);case 3:return i=o.sent,o.next=6,this.docs.put({id:e,ver:n,syncVer:0===r&&void 0!==i?i.syncVer:r,data:Wz.encode(JSON.stringify(t)).buffer,mtime:Date.now()});case 6:case"end":return o.stop()}}),o,this)})))}},{key:"destroy",value:function(){try{this.db.close()}catch(e){}}}])&&Kz(t.prototype,n),r&&Kz(t,r),e}();function Zz(e,t){return Gz(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new qz,n.next=3,r.createDoc(e,t);case 3:r.destroy();case 4:case"end":return n.stop()}}),n)})))}function Xz(e){return Gz(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new qz,t.next=3,n.getDoc(e);case 3:return r=t.sent,n.destroy(),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))}function Jz(e){return e.some((function(e){return!!e.data.create}))}function $z(e){for(var t=e.length-1;t>=0;t--)if(e[t].data.del)return t;return-1}function eQ(e){if(0===e.length)return null;for(var t=e[0],n=1;n<e.length;++n)t=TR.type.compose(t,e[n]);return t}TR.type.registerSubtype(Io.type),TR.type.name="ot-json1",TR.type.invert=null;var tQ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function nQ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;return tQ(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e()){r.next=2;break}return r.abrupt("return");case 2:return r.abrupt("return",new Promise((function(r){if(e())r();else{var o=Date.now();!function i(){return e()?(zR.log("waited ".concat(t," for ").concat(Date.now()-o,", resolving")),void r()):Date.now()-o>n?(zR.log("timeout waiting for condition ".concat(t)),void r()):void setTimeout(i,100)}()}})));case 3:case"end":return r.stop()}}),r)})))}function rQ(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return oQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oQ(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function oQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var aQ,sQ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},cQ=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.collection=t,this.id=n,this.connection=r,this.type=null,this.data=null,this.version=0,this.opVer=-1,this.docQueue=[],this.onlineDoc=null,this.onConnectedEntered=!1,this.onConnectedProcessing=!1,this.opQueueDuringConnectedProcessing=[],this.opsInDbCount=0,this.events=new(g()),this.offlineDb=new qz,this.nothingPendingCount=1,this.deferDestroy=!1,this.processingDocQueue=!1,this.dbId="".concat(t,":").concat(n);var i=function(e){o.connection.handshake()},a=function(e){o.connection.connected=!1,o.onDisconnected()};this.connection.addEventListener("connected",i),this.connection.addEventListener("disconnected",a),this.connection.addEventListener("handshakeIsOK",(function(){o.connection.connected=!0,o.onConnected()})),window.addEventListener("online",i),window.addEventListener("offline",a),this.connection.addEventListener("end",(function(){window.removeEventListener("online",i),window.removeEventListener("offline",a)}))}var t,n,r;return t=e,(n=[{key:"removeAllListeners",value:function(){this.events.removeAllListeners(),this.onlineDoc&&this.onlineDoc.removeAllListeners()}},{key:"clearConnectedProcessing",value:function(){this.onConnectedProcessing=!1,this.opQueueDuringConnectedProcessing.length>0&&(this.offlineDb.createOps(this.opQueueDuringConnectedProcessing),this.opsInDbCount+=this.opQueueDuringConnectedProcessing.length)}},{key:"onConnected",value:function(){return sQ(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,s,c,l,u,d,p,f,h,A,m,g,v=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.onConnectedEntered){e.next=2;break}return e.abrupt("return");case 2:if(this.onConnectedEntered=!0,this.connection.connected=!0,zR.log("OfflineDoc - onConnected ".concat(this.dbId)),!this.onlineDoc){e.next=8;break}return zR.log("OfflineDoc - onConnected - already have onlineDoc ".concat(this.dbId)),e.abrupt("return");case 8:return this.onConnectedProcessing=!0,this.opQueueDuringConnectedProcessing=[],e.next=12,this.connection.getOnlineDoc(this.collection,this.id);case 12:if(this.onlineDoc=e.sent,null!=this.onlineDoc){e.next=18;break}return zR.warn("OfflineDoc - onConnected - cannot get onlineDoc ".concat(this.dbId)),this.clearConnectedProcessing(),this.tryDeferedDestroy(),e.abrupt("return");case 18:if(null!=this.onlineDoc.data){e.next=21;break}return e.next=21,jR(this.onlineDoc);case 21:if(null!=this.onlineDoc){e.next=24;break}return this.clearConnectedProcessing(),e.abrupt("return");case 24:return e.next=26,this.offlineDb.getDoc(this.dbId);case 26:if(t=e.sent,null!=this.onlineDoc){e.next=30;break}return this.clearConnectedProcessing(),e.abrupt("return");case 30:if(n=0,!t){e.next=87;break}return e.next=34,this.offlineDb.getOps(this.dbId);case 34:if(r=e.sent,null!=this.onlineDoc){e.next=38;break}return this.clearConnectedProcessing(),e.abrupt("return");case 38:if(o=r.filter((function(e){return e.ver>=t.syncVer})),!(this.onlineDoc&&this.onlineDoc.type&&this.onlineDoc.version&&o.length>0&&t.syncVer<this.onlineDoc.version&&t.syncVer)){e.next=45;break}return e.next=42,this.connection.getOps(t.syncVer,this.onlineDoc.version);case 42:e.t0=e.sent,e.next=46;break;case 45:e.t0=[];case 46:if(i=e.t0,null!=this.onlineDoc){e.next=50;break}return this.clearConnectedProcessing(),e.abrupt("return");case 50:if(a=null,s=!0,i.some((function(e){return!!e.create}))){e.next=81;break}if(a=eQ(i.map((function(e){return e.op}))),!((c=$z(o))>=0)){e.next=60;break}this.recreateDocAndSubmitOps(o,c),n=this.nothingPendingCount,e.next=79;break;case 60:if(!a){e.next=66;break}if(w(!Jz(o),"cannot handle when remote has op and local has create, yet"),l=eQ(o.map((function(e){return e.data}))))try{this.onlineDoc.submitOp(TR.type.transform(l,a,"left")),n=this.nothingPendingCount}catch(e){zR.warn(e)}e.next=79;break;case 66:if(null!=this.onlineDoc.type){e.next=78;break}return w((u=r.shift())&&u.data.create&&u.data.create.data,"first op must be create and have data"),e.next=71,UR(this.onlineDoc,u.data.create.data);case 71:if(null!=this.onlineDoc){e.next=74;break}return this.clearConnectedProcessing(),e.abrupt("return");case 74:d=rQ(r);try{for(d.s();!(p=d.n()).done;)f=p.value,this.onlineDoc.submitOp(f.data),n=this.nothingPendingCount}catch(e){d.e(e)}finally{d.f()}e.next=79;break;case 78:try{(h=eQ(o.map((function(e){return e.data}))))&&(this.onlineDoc.submitOp(h),n=this.nothingPendingCount)}catch(e){zR.warn(e)}case 79:e.next=82;break;case 81:s=!1;case 82:return e.next=84,this.offlineDb.deleteOps(this.dbId);case 84:if(this.opsInDbCount=0,s&&this.opQueueDuringConnectedProcessing.length>0)if(zR.log("OfflineDoc - onConnected - there are ops during connected event, applying them. ".concat(this.dbId)),(A=$z(this.opQueueDuringConnectedProcessing))>=0)this.recreateDocAndSubmitOps(this.opQueueDuringConnectedProcessing,A),n=this.nothingPendingCount;else if(m=eQ(this.opQueueDuringConnectedProcessing.map((function(e){return e.data}))))if(a)try{this.onlineDoc.submitOp(TR.type.transform(m,a,"left"))}catch(e){zR.warn(e)}else this.onlineDoc.submitOp(m);this.opQueueDuringConnectedProcessing=[];case 87:if(null!=this.onlineDoc){e.next=90;break}return this.clearConnectedProcessing(),e.abrupt("return");case 90:if(this.onlineDoc.on("op",(function(e,t){v.onOnlineDocOp(e,t)})),this.onlineDoc.on("nothing pending",(function(){v.nothingPendingCount+=1,v.onOnlineDocNothingPending()})),this.onlineDoc.data&&(zR.log("OfflineDoc - onConnected - setting data to onlineDoc.data ".concat(this.dbId)),this.type=TR.type,g=this.data,this.data=this.onlineDoc.data,!(0,ij.isEqual)(g,this.data)))try{zR.log("OfflineDoc - onConnected - emit create ".concat(this.dbId)),this.events.emit("create")}catch(e){zR.warn(e)}if(this.onConnectedProcessing=!1,this.onlineDoc.subscribe((function(){zR.log("OfflineDoc - onConnected - offline doc got connected & subscribed ".concat(v.dbId))})),!this.deferDestroy){e.next=99;break}return e.next=98,nQ((function(){return v.nothingPendingCount>n}),"nothing pending increased");case 98:this.tryDeferedDestroy();case 99:case"end":return e.stop()}}),e,this)})))}},{key:"recreateDocAndSubmitOps",value:function(e,t){w(this.onlineDoc,"onlineDoc must present in recreateDocAndSubmitOps");var n=e.slice(t+1),r=n.shift();w(r&&r.data.create&&r.data.create.data,"first op must be create and have data"),this.onlineDoc.del({source:!0}),this.onlineDoc.create(r.data.create.data,"ot-json1");var o,i=rQ(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;this.onlineDoc.submitOp(a.data)}}catch(e){i.e(e)}finally{i.f()}}},{key:"tryDeferedDestroy",value:function(){this.deferDestroy&&(this.destroyAll(),this.destroyCallback&&this.destroyCallback())}},{key:"onOnlineDocNothingPending",value:function(){zR.log("OfflineDoc - onOnlineDocNothingPending ".concat(this.dbId)),this.events.emit("nothing pending"),null!=this.onlineDoc?(this.onlineDoc.data&&(zR.log("OfflineDoc - onOnlineDocNothingPending - setting data to onlineDoc.data"),this.data=this.onlineDoc.data),w(null!=this.onlineDoc.version,"online doc must have version"),this.updateLocalToRemote()):zR.warn("OfflineDoc - onOnlineDocNothingPending - online doc must present to nothing pending event")}},{key:"updateLocalToRemote",value:function(){zR.log("OfflineDoc - updateLocalToRemote"),w(null!=this.onlineDoc&&null!=this.onlineDoc.version),this.pushCurrentOnlineDocToQueue(),this.offlineDb.deleteOps(this.dbId),this.opsInDbCount=0,this.opVer=this.onlineDoc.version-1,this.version=this.onlineDoc.version,zR.log("OfflineDoc - updateLocalToRemote - update opVer to ".concat(this.opVer,", version to ").concat(this.version))}},{key:"pushCurrentOnlineDocToQueue",value:function(){zR.log("OfflineDoc - pushCurrentOnlineDocToQueue"),w(this.onlineDoc),this.docQueue.push({id:this.dbId,ver:this.onlineDoc.version,syncVer:this.onlineDoc.version,data:_n()(this.onlineDoc.data),mtime:-1}),this.processDocQueue()}},{key:"onOnlineDocOp",value:function(e,t){if(null!=e){this.onlineDoc&&!1===t&&(zR.log("OfflineDoc - onOnlineDocOp - setting data to onlineDoc.data"),this.data=this.onlineDoc.data,this.updateLocalToRemote());try{this.events.emit("op",e,t)}catch(t){zR.warn(t),zR.warn(e)}}}},{key:"onDisconnected",value:function(){zR.log("OfflineDoc - onDisconnected"),this.onConnectedEntered=!1,this.onlineDoc&&(this.data=_n()(this.onlineDoc.data),this.onlineDoc.removeAllListeners(),this.onlineDoc.destroy()),this.onlineDoc=null}},{key:"destroy",value:function(e){if(this.onConnectedProcessing)return zR.log("OfflineDoc - destroy - defer destroy ".concat(this.dbId)),this.deferDestroy=!0,void(this.destroyCallback=e);this.destroyAll(),e&&e()}},{key:"destroyAll",value:function(){this.events.removeAllListeners(),zR.log("OfflineDoc - destroyAll ".concat(this.dbId)),this.onlineDoc&&(this.onlineDoc.removeAllListeners(),this.onlineDoc=null),this.offlineDb.destroy(),this.connection.destroy(!0)}},{key:"init",value:function(){return sQ(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zR.log("OfflineDoc - init"),e.next=3,this.offlineDb.getOpsCount(this.dbId);case 3:this.opsInDbCount=e.sent;case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getLocalOpsAfter",value:function(e){return sQ(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.offlineDb.getOps(this.dbId);case 2:return n=t.sent,t.abrupt("return",n.filter((function(t){return t.ver>=e})));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"waitForOnlineDoc",value:function(){return sQ(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zR.log("OfflineDoc - waitForOnlineDoc"),!this.onlineDoc){e.next=3;break}return e.abrupt("return");case 3:if(navigator.onLine){e.next=6;break}return this.onlineDoc=null,e.abrupt("return");case 6:return e.next=8,nQ((function(){return t.onlineDoc}),"onlineDoc");case 8:case"end":return e.stop()}}),e,this)})))}},{key:"fetchAsync",value:function(){return sQ(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Date.now(),e.next=3,this.offlineDb.getDoc(this.dbId);case 3:if(n=e.sent,zR.log("OfflineDoc - fetchAsync - got doc in ".concat(Date.now()-t,"ms")),null!=n&&null!=n.data){e.next=16;break}return e.next=8,this.waitForOnlineDoc();case 8:if(null!=this.onlineDoc){e.next=10;break}throw new Error("no local doc, cannot fetch remote doc");case 10:return e.next=12,nQ((function(){var e;return r.data&&(null===(e=r.onlineDoc)||void 0===e?void 0:e.data)}),"data and onlineDoc.data");case 12:if(null!=this.data){e.next=14;break}throw new Error("data is null after remote fetch");case 14:return this.type=TR.type,e.abrupt("return");case 16:this.type=TR.type,this.data=n.data,this.version=n.ver,this.opVer=n.ver-1;case 20:case"end":return e.stop()}}),e,this)})))}},{key:"fetch",value:function(e){var t=this;this.fetchAsync().then((function(){e&&e(null)})).catch((function(n){404===n.status?(t.type=null,e&&e(null)):e&&e(n)}))}},{key:"offlineCreate",value:function(e,t){var n=this;zR.log("OfflineDoc - offlineCreate"),this.offlineDb.createDoc(this.dbId,e,this.opVer,this.version).then((function(){n.data=e,n.type=TR.type,t&&t(null)})).catch((function(e){t&&t(e)}))}},{key:"del",value:function(e,t){if(zR.log("OfflineDoc - del ".concat(this.dbId)),!this.onConnectedProcessing&&this.onlineDoc&&navigator.onLine&&0===this.opsInDbCount)return this.onlineDoc.del(e,t),void(this.type=null);var n={del:!0};this.type=null,this.incVers(),this.onConnectedProcessing?this.opQueueDuringConnectedProcessing.push({id:this.dbId,ver:this.opVer,data:n}):(this.offlineDb.createOp({id:this.dbId,ver:this.opVer,data:n}),this.opsInDbCount+=1),this.docQueue.push({id:this.dbId,ver:this.version,syncVer:0,data:_n()(this.data),mtime:-1}),this.processDocQueue(),t&&t(null)}},{key:"create",value:function(e,t,n){var r=this;zR.log("OfflineDoc - create ".concat(this.dbId)),this.incVers(),this.onlineDoc?this.offlineCreate(e,(function(o){o?n&&n(o):r.onlineDoc.create(e,t,n)})):this.offlineCreate(e,n)}},{key:"submitOp",value:function(e,t,n){if(!this.onConnectedProcessing&&this.onlineDoc&&navigator.onLine&&0===this.opsInDbCount)return this.onlineDoc.submitOp(e,t,n),void(this.data=this.onlineDoc.data);var r=TR.type.normalize(e);try{this.data=TR.type.apply(this.data,r)}catch(e){return zR.error(e),void zR.log(this.data,r)}this.incVers(),this.onConnectedProcessing?this.opQueueDuringConnectedProcessing.push({id:this.dbId,ver:this.opVer,data:r}):(this.offlineDb.createOp({id:this.dbId,ver:this.opVer,data:r}),this.opsInDbCount+=1),this.docQueue.push({id:this.dbId,ver:this.version,syncVer:0,data:_n()(this.data),mtime:-1}),this.processDocQueue(),n&&n(null)}},{key:"subscribe",value:function(e){var t=this,n=Date.now();e&&nQ((function(){return t.data}),"subscribe this.data").then((function(){if(t.data)return zR.log("OfflineDoc - subscribe ".concat(t.dbId," - ").concat(Date.now()-n,"ms")),void e(null);w(!1,"data cannot be null when emit subscribe")}))}},{key:"on",value:function(e,t){return this.events.addListener(e,t),this}},{key:"incVers",value:function(){this.opVer+=1,this.version+=1,zR.log("OfflineDoc - incVers - ".concat(this.opVer,", ").concat(this.version))}},{key:"processDocQueue",value:function(){return sQ(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.processingDocQueue){e.next=2;break}return e.abrupt("return");case 2:if(this.processingDocQueue=!0,e.prev=3,t=this.docQueue,this.docQueue=[],!(n=t.pop())){e.next=11;break}return e.next=10,this.offlineDb.updateDoc(n.id,n.data,n.ver,n.syncVer);case 10:this.docQueue.length>0?setTimeout((function(){return r.processDocQueue()}),0):this.events.emit("local doc updated",{ver:n.ver,syncVer:n.syncVer,id:n.id,data:n.data});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),zR.warn(e.t0);case 16:return e.prev=16,this.processingDocQueue=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})))}}])&&iQ(t.prototype,n),r&&iQ(t,r),e}(),lQ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},uQ=new Map;function dQ(e){navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(e)}function pQ(e){return lQ(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.id=Date.now(),dQ(e),t.abrupt("return",new Promise((function(t,n){uQ.set(e.id,t)})));case 3:case"end":return t.stop()}}),t)})))}function fQ(e,t){return lQ(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(navigator.serviceWorker.controller){n.next=2;break}return n.abrupt("return",void 0);case 2:return n.next=4,pQ({type:"wiz-editor-ot-msg",action:"get-token",appId:e,docId:t});case 4:if(!(r=n.sent).auth){n.next=7;break}return n.abrupt("return",r.auth);case 7:return n.abrupt("return",void 0);case 8:case"end":return n.stop()}}),n)})))}function hQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}null===(aQ=navigator.serviceWorker)||void 0===aQ||aQ.addEventListener("message",(function(e){if("wiz-editor-ot-msg"===e.data.type&&e.data.id){var t=uQ.get(e.data.id);t&&(t(e.data),uQ.delete(e.data.id))}}));var AQ=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onlinePresence=null,n.addEventListener("connected",(function(){r.onlinePresence||n.getOnlinePresence(t).then((function(e){if(e){if(r.onlinePresence=e,e.subscribed)return;r.onlinePresence.on("receive",(function(e,t){r.receiveCallback&&r.receiveCallback(e,t)})),r.onlinePresence.subscribe((function(e){r.subscribeCallback&&r.subscribeCallback(e)}))}}))})),n.addEventListener("disconnected",(function(){r.onlinePresence=null}))}var t,n,r;return t=e,(n=[{key:"subscribe",value:function(e){this.subscribeCallback=e,this.onlinePresence||e("offline")}},{key:"create",value:function(e){if(this.onlinePresence)return zR.log("OfflinePresence - create - create localPresence ".concat(e)),this.onlinePresence.create(e)}},{key:"on",value:function(e,t){this.receiveCallback=t}},{key:"disconnet",value:function(){var e,t;null===(e=this.onlinePresence)||void 0===e||e.removeAllListeners(),null===(t=this.onlinePresence)||void 0===t||t.destroy(),this.onlinePresence=null,this.subscribeCallback=void 0,this.receiveCallback=void 0}}])&&hQ(t.prototype,n),r&&hQ(t,r),e}();function mQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gQ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},vQ=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.resourceToken=null,this.token="<token>",this.connected=!1,this.events=new(g()),this.ended=!1,this.reAuthFunc=n,this.actualConnection=new oj(t,n),this.actualConnection.addEventListener("auth",(function(e){dQ({type:"wiz-editor-ot-msg",action:"set-token",auth:e})})),this.actualConnection.addEventListener("resctoken",(function(e){r.resourceToken=e}))}var t,n,r;return t=e,(n=[{key:"getBaseURL",value:function(){var e=new URL(this.url),t="wss:"===e.protocol?"https:":"http:";return"".concat(t,"//").concat(e.host).concat(e.pathname)}},{key:"getBase64BaseURL",value:function(){return yo(this.getBaseURL())}},{key:"auth",value:function(e){return gQ(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.token&&(this.token=e.token),t.abrupt("return",this.actualConnection.auth(e));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"waitForConnected",value:function(e){return gQ(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.connected){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,nQ((function(){return n.connected}),"waitForConnected",e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"tryInitActualConnection",value:function(){return gQ(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ended){e.next=2;break}return e.abrupt("return");case 2:if(!navigator.onLine){e.next=18;break}if(null!=this.authMessage){e.next=14;break}return w(this.docId&&this.appId),e.next=7,fQ(this.appId,this.docId);case 7:if(this.authMessage=e.sent,this.authMessage){e.next=13;break}return w(this.reAuthFunc,"no token and no reauth function"),e.next=12,this.reAuthFunc();case 12:this.authMessage=e.sent;case 13:this.authMessage.token&&(this.token=this.authMessage.token);case 14:return e.next=16,this.actualConnection.init(this.authMessage);case 16:e.next=19;break;case 18:setTimeout((function(){return t.tryInitActualConnection()}),500);case 19:case"end":return e.stop()}}),e,this)})))}},{key:"init",value:function(e){return gQ(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(e.docId&&e.appId),this.docId=e.docId,this.appId=e.appId,e.token&&(this.authMessage=e),this.tryInitActualConnection();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"getLockerKey",value:function(e){return"get-offline-doc-".concat(e)}},{key:"handshake",value:function(){var e;this.connected||(this.actualConnection.waitHandshake=!0,null===(e=this.actualConnection.connection)||void 0===e||e._initializeHandshake())}},{key:"get",value:function(e,t){return gQ(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Bo.lock(this.getLockerKey(t));case 2:if(n.prev=2,zR.log("OfflineConnection - get ".concat(e,":").concat(t)),!this.offlineDoc){n.next=6;break}return n.abrupt("return",this.offlineDoc);case 6:return this.offlineDoc=new cQ(e,t,this),n.next=9,this.offlineDoc.init();case 9:return n.abrupt("return",this.offlineDoc);case 10:return n.prev=10,Bo.release(this.getLockerKey(t)),n.finish(10);case 13:case"end":return n.stop()}}),n,this,[[2,,10,13]])})))}},{key:"getOnlineDoc",value:function(e,t){return gQ(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.connected){n.next=3;break}return n.next=3,nQ((function(){return r.connected}),"connected");case 3:if(this.connected){n.next=5;break}return n.abrupt("return",null);case 5:if(!this.ended){n.next=7;break}return n.abrupt("return",null);case 7:return n.prev=7,n.abrupt("return",this.actualConnection.get(e,t));case 11:return n.prev=11,n.t0=n.catch(7),n.abrupt("return",null);case 14:case"end":return n.stop()}}),n,this,[[7,11]])})))}},{key:"getPresence",value:function(e){return new AQ(e,this)}},{key:"getOnlinePresence",value:function(e){return gQ(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connected){t.next=3;break}return t.next=3,nQ((function(){return n.connected}),"connected");case 3:if(this.connected){t.next=5;break}return t.abrupt("return",null);case 5:if(!this.ended){t.next=7;break}return t.abrupt("return",null);case 7:return t.prev=7,t.abrupt("return",this.actualConnection.getPresence(e));case 11:return t.prev=11,t.t0=t.catch(7),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,this,[[7,11]])})))}},{key:"addEventListener",value:function(e,t){"end"!==e?("handshakeIsOK"===e||"connected"===e||"disconnected"===e||this.connected)&&this.actualConnection.addEventListener(e,t):this.events.addListener(e,t)}},{key:"onWriteConflictError",value:function(e){this.actualConnection.onWriteConflictError(e)}},{key:"onMaxUsersError",value:function(e){this.actualConnection.onMaxUsersError(e)}},{key:"onRequestReloadError",value:function(e){this.actualConnection.onRequestReloadError(e)}},{key:"end",value:function(e){return gQ(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.offlineDoc){t.next=12;break}return w(this.docId),t.prev=2,t.next=5,Bo.lock(this.getLockerKey(this.docId));case 5:this.offlineDoc.destroy(),this.offlineDoc=void 0;case 7:return t.prev=7,Bo.release(this.getLockerKey(this.docId)),t.finish(7);case 10:t.next=13;break;case 12:this.actualConnection.end(e);case 13:case"end":return t.stop()}}),t,this,[[2,,7,10]])})))}},{key:"destroy",value:function(e){return gQ(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.ended){t.next=2;break}return t.abrupt("return");case 2:return w(this.docId),t.prev=3,t.next=6,Bo.lock(this.getLockerKey(this.docId));case 6:this.ended=!0,this.events.emit("end"),this.events.removeAllListeners(),this.actualConnection.end(e),this.reAuthFunc=void 0,this.offlineDoc=void 0;case 12:return t.prev=12,Bo.release(this.getLockerKey(this.docId)),t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[3,,12,15]])})))}},{key:"getOps",value:function(e,t){return gQ(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.connected){n.next=2;break}return n.abrupt("return",[]);case 2:return n.abrupt("return",this.actualConnection.getOps(e,t));case 3:case"end":return n.stop()}}),n,this)})))}}])&&mQ(t.prototype,n),r&&mQ(t,r),e}();function bQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yQ(e){return(yQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wQ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},xQ="x-live-editor-token",kQ="x-live-editor-base-url";function CQ(e,t,n){var r,o;return wQ(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,s,c,l,u,d;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=t.token,c=0;case 2:if(!(c<2)){i.next=34;break}return l=void 0,"string"==typeof e?(l=n||{}).url=e:(w("object"===yQ(e)),w(!n),l=e),l.headers||(l.headers={}),w(a),l.headers=Object.assign(Object.assign({},l.headers),bQ({},xQ,a)),i.prev=8,i.next=11,Da()(e,l);case 11:return u=i.sent,i.abrupt("return",u);case 15:if(i.prev=15,i.t0=i.catch(8),s=i.t0,403!==(null===(r=null===i.t0||void 0===i.t0?void 0:i.t0.response)||void 0===r?void 0:r.status)||!t.reAuthFunc){i.next=29;break}return i.next=21,t.reAuthFunc();case 21:if(d=i.sent,!t.afterReauth){i.next=25;break}return i.next=25,t.afterReauth();case 25:if(d.token){i.next=27;break}throw i.t0;case 27:return a=d.token,i.abrupt("continue",31);case 29:throw(null===(o=i.t0.response)||void 0===o?void 0:o.data)&&(i.t0.responseData=i.t0.response.data),i.t0;case 31:c++,i.next=2;break;case 34:throw w(s),s;case 36:case"end":return i.stop()}}),i,null,[[8,15]])})))}function EQ(e,t,n,r,o,i){return wQ(this,void 0,void 0,regeneratorRuntime.mark((function a(){var s,c;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,s="".concat(e,"/").concat(n),a.next=4,CQ(s,t,{method:"post",headers:Object.assign({},i),data:{name:r,size:o}});case 4:if(!(c=a.sent).data||!Array.isArray(c.data)||1!==c.data.length){a.next=7;break}return a.abrupt("return",c.data[0]);case 7:return a.abrupt("return","");case 10:return a.prev=10,a.t0=a.catch(0),a.abrupt("return","");case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))}function BQ(e,t,n,r,o,i){return wQ(this,void 0,void 0,regeneratorRuntime.mark((function a(){var s,c,l,u,d,p,f;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==(s=n.size)){a.next=3;break}throw new Error("file is empty");case 3:return s+=500,c=function(e){console.log("on progress: ".concat(e.loaded));var t=100*e.loaded/s;t>100&&(t=100),o(null,t)},a.next=7,NR(n);case 7:return l=a.sent,a.next=10,EQ(e,t,l,n.name,n.size,r);case 10:if(!(u=a.sent)){a.next=14;break}return o(null,-1),a.abrupt("return",u);case 14:return d=e,(null==i?void 0:i.thumbnail)&&(d+="/thumbnail"),(p=new FormData).append("file-size","".concat(n.size)),p.append("file-hash",l),p.append("file",n,n.name),a.next=22,CQ(d,t,{method:"post",data:p,withCredentials:!0,headers:Object.assign({},r),onUploadProgress:c});case 22:return f=a.sent,console.log(f),o(null,100),a.abrupt("return",Array.isArray(f.data)?f.data[0]:f.data);case 26:case"end":return a.stop()}}),a)})))}function TQ(e,t,n,r,o){return wQ(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,s,c,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return c="".concat(s=e,"/resources"),i.next=4,BQ(c,t,n,(bQ(a={},xQ,t.token),bQ(a,kQ,yo(s)),a),r,o);case 4:return w(l=i.sent),i.abrupt("return",l);case 7:case"end":return i.stop()}}),i)})))}function MQ(e,t,n){return wQ(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,TQ(e,t,n,(function(){}),{thumbnail:!0});case 3:return o=r.sent,r.abrupt("return",o);case 7:throw r.prev=7,r.t0=r.catch(0),(i=new Error("Failed to upload resource: ".concat(JSON.stringify(r.t0)))).code="UploadResource",i.origin=r.t0,i;case 13:case"end":return r.stop()}}),r,null,[[0,7]])})))}function IQ(e){return(IQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Q(e){return function(e){if(Array.isArray(e))return NQ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||OQ(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||OQ(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OQ(e,t){if(e){if("string"==typeof e)return NQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NQ(e,t):void 0}}function NQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jQ(e,t,n){return t&&RQ(e.prototype,t),n&&RQ(e,n),e}var UQ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},FQ=function(){function e(t,n){var r=this;LQ(this,e),this.submitOp=function(e){return UQ(r,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){n.doc.submitOp(e,{},(function(e){e?r(e):t()}))})));case 1:case"end":return t.stop()}}),t)})))},this.delDoc=function(){return UQ(r,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.doc.del({source:!0},(function(t){t?n(t):e()}))})));case 1:case"end":return e.stop()}}),e)})))},this.createDoc=function(e){return UQ(r,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){n.doc.create(e,"ot-json1",(function(e){e?r(e):t()}))})));case 1:case"end":return t.stop()}}),t)})))},this.insertObject=function(e,t,n){return UQ(r,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=[e,t,{i:n}],r.abrupt("return",this.submitOp(o));case 2:case"end":return r.stop()}}),r,this)})))},this.deleteObject=function(e,t){return UQ(r,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[e,t,{r:!0}],n.abrupt("return",this.submitOp(r));case 2:case"end":return n.stop()}}),n,this)})))},this.replaceObject=function(e,t,n){return UQ(r,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=[e,t,{r:!0,i:n}],r.abrupt("return",this.submitOp(o));case 2:case"end":return r.stop()}}),r,this)})))},this.updateObject=function(e,t,n){var o=r.data()[e][t],i=[e,t];return Object.entries(n).forEach((function(e){var t=SQ(e,2),n=t[0],r=t[1];if(rn()(o[n],r));else if(void 0===o[n])if(null==r);else{var a={i:r};i.push([n,a])}else if(null==r){i.push([n,{r:!0}])}else{var s={r:!0,i:r};i.push([n,s])}})),Object.entries(o).forEach((function(e){var t=SQ(e,2),r=t[0],o=t[1];if((void 0===n[r]||null===n[r])&&void 0!==o){i.push([r,{r:!0}])}})),!(i.length<=2)&&(r.submitOp(i),!0)},this.insertBlock=function(e,t,n){return UQ(r,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.insertObject(e,t,n));case 1:case"end":return r.stop()}}),r,this)})))},this.submitRichTextBlockOps=function(e,t,n){return UQ(r,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=this.data()[e][t],w(i=o.text),a=new Yo(i),r.prev=4,a.compose(new _o(n)),r.next=12;break;case 8:throw r.prev=8,r.t0=r.catch(4),zR.error(r.t0),r.t0;case 12:return s=[e,t,"text",{e:n,et:"rich-text"}],r.abrupt("return",this.submitOp(s));case 14:case"end":return r.stop()}}),r,this,[[4,8]])})))},this.insertRootObject=function(e,t){return UQ(r,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[e,{i:t}],n.abrupt("return",this.submitOp(r));case 2:case"end":return n.stop()}}),n,this)})))},this.deleteRootObject=function(e){return UQ(r,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[e,{r:!0}],t.abrupt("return",this.submitOp(n));case 2:case"end":return t.stop()}}),t,this)})))},this.createComment=function(e,t,n,o,i,a,s,c){return UQ(r,void 0,void 0,regeneratorRuntime.mark((function r(){var l,u,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=(new Date).valueOf(),u=Object.assign(Object.assign({id:e,groupId:t,userId:n,abstract:s,displayName:o,avatarUrl:i},_n()(a)),{created:c||l,modified:l}),d=["comments",e,{i:u}],r.abrupt("return",this.submitOp(d));case 4:case"end":return r.stop()}}),r,this)})))},this.deleteComment=function(e){return UQ(r,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=["comments",e,{r:!0}],t.abrupt("return",this.submitOp(n));case 2:case"end":return t.stop()}}),t,this)})))},this.updateComment=function(e,t){return UQ(r,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=this.getComment(e),this.deleteComment(e),this.createComment(e,r.groupId,r.userId,r.displayName,r.avatarUrl,t,r.abstract,r.created);case 3:case"end":return n.stop()}}),n,this)})))},this.broadcastMessage=function(e){return UQ(r,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.localPresence&&this.localPresence.submit(e);case 1:case"end":return t.stop()}}),t,this)})))},this.initPresence=function(){return new Promise((function(e){if(r.localPresence)e();else{var t=r.doc.connection.getPresence("".concat(r.doc.collection,":").concat(r.doc.id));null!=t?(r.simplePresence=t,t.on("receive",(function(e,t){r.messageCallbacks.forEach((function(e){e(t)}))})),t.subscribe((function(n){n||(r.localPresence=t.create(B())),e()}))):e()}}))},this.subscribe=function(e){r.doc.subscribe(e)},this.data=function(){return r.doc.data},this.version=function(){return r.doc.version},this.doc=t,this.messageCallbacks=[n]}return jQ(e,[{key:"getComment",value:function(e){var t=this.data().comments;w(t);var n=t[e];return w(n),n}},{key:"getComments",value:function(){return BR(this.data())}},{key:"getGroupComments",value:function(e){return Object.values(this.data().comments).filter((function(t){return t.groupId===e}))}},{key:"registerMessageCallback",value:function(e){this.messageCallbacks.push(e)}},{key:"onOp",value:function(e){this.doc.on("op",e)}},{key:"onNothingPending",value:function(e){this.doc.on("nothing pending",e)}},{key:"onCreate",value:function(e){this.doc.on("create",e),this.doc.on("load",e)}},{key:"onDelete",value:function(e){this.doc.on("del",e)}},{key:"onLocalDataUpdated",value:function(e){this.doc.on("local doc updated",e)}},{key:"applyOps",value:function(e){w(!1),w(e)}},{key:"destroy",value:function(){var e,t,n;(null===(e=this.simplePresence)||void 0===e?void 0:e.disconnet)&&(null===(t=this.simplePresence)||void 0===t||t.disconnet()),null===(n=this.localPresence)||void 0===n||n.removeAllListeners(),this.messageCallbacks=[],this.doc.destroy()}}]),e}(),zQ=function(){function e(t,n,r){var o,i=this;if(LQ(this,e),this.docContainer=null,this.getDocContainer=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return UQ(i,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return w(!this.docContainer,"This websocket has opened a doc."),r.next=3,this.connection.init(this.auth);case 3:return r.next=5,this.connection.get(this.auth.appId,this.auth.docId);case 5:return o=r.sent,r.next=8,jR(o);case 8:if(zR.log(o),this.docContainer=new FQ(o,e),null!==o.type){r.next=17;break}if(t){r.next=15;break}throw(i=new Error("doc not exists")).code="DocNotExists",i;case 15:return r.next=17,this.docContainer.createDoc(n||T());case 17:return r.next=19,this.docContainer.initPresence();case 19:return r.abrupt("return",this.docContainer);case 20:case"end":return r.stop()}}),r,this)})))},this.createLocalDocContainer=function(e){return UQ(i,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(!this.docContainer,"This websocket has opened a doc."),this.docContainer=new DR(e),t.abrupt("return",this.docContainer);case 3:case"end":return t.stop()}}),t,this)})))},this.auth=t,n)o=n;else{var a="http:"===window.location.protocol?"ws:":"wss:";o="".concat(a,"//").concat(window.location.host)}o="".concat(o,"/").concat(this.auth.appId,"/").concat(this.auth.docId),wR.types.register(TR.type),this.connection=new vQ(o,r),this.reAuthFunc=r}return jQ(e,[{key:"editorServer",value:function(){var e=this.apiServer(),t="/".concat(this.auth.appId,"/").concat(this.auth.docId);return w(e.endsWith(t)),e.substr(0,e.length-t.length)}},{key:"close",value:function(e){var t;this.connection.end(e),null===(t=this.docContainer)||void 0===t||t.destroy(),this.docContainer=null,this.reAuthFunc=void 0}},{key:"on",value:function(e,t){var n=this;this.connection.addEventListener(e,(function(r){("error"===e||n.docContainer)&&t(r)}))}},{key:"onWriteConflictError",value:function(e){this.connection.onWriteConflictError(e)}},{key:"onMaxUsersError",value:function(e){this.connection.onMaxUsersError(e)}},{key:"onRequestReloadError",value:function(e){this.connection.onRequestReloadError(e)}},{key:"waitForConnected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;return UQ(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.connection.waitForConnected(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"recreateDoc",value:function(e){return UQ(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(this.docContainer,"no docContainer yet"),t.next=3,this.docContainer.delDoc();case 3:return t.next=5,this.docContainer.createDoc(e);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"authOnly",value:function(){return UQ(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.auth(this.auth);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"getResourceToken",value:function(){return this.connection.resourceToken}},{key:"hasDocContainer",value:function(){return!!this.docContainer}},{key:"apiServer",value:function(){var e=this.connection.url;if(e.startsWith("ws://"))return"http://".concat(e.substr(5));if(e.startsWith("wss://"))return"https://".concat(e.substr(6));throw new Error("invalid server url: ".concat(e))}},{key:"getFileUrlByHash",value:function(e,t,n,r,o){return UQ(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,a="".concat(e,"/").concat(t),i.next=4,this.request(a,{method:"post",headers:Object.assign({},o),data:{name:n,size:r}});case 4:if(!(s=i.sent).data||!Array.isArray(s.data)||1!==s.data.length){i.next=7;break}return i.abrupt("return",s.data[0]);case 7:return i.abrupt("return","");case 10:return i.prev=10,i.t0=i.catch(0),i.abrupt("return","");case 13:case"end":return i.stop()}}),i,this,[[0,10]])})))}},{key:"getFileUrlsByHashes",value:function(e){return UQ(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a,s=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.apiServer(),r="".concat(n,"/resources"),o=[],e.forEach((function(e){var t,n=e.split("|");(t=o).push.apply(t,_Q(n))})),o=Array.from(new Set(o)),i=o.map((function(e){return s.getFileUrlByHash(r,e,"",0,DQ({},xQ,s.connection.token))})),t.next=8,Promise.all(i);case 8:return a=t.sent,t.abrupt("return",a);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"uploadFile",value:function(e,t,n,r,o){return UQ(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,s,c,l,u,d,p;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(a=t.size)){i.next=3;break}throw new Error("file is empty");case 3:return a+=500,s=function(e){zR.log("on progress: ".concat(e.loaded));var t=100*e.loaded/a;t>100&&(t=100),r(null,t)},i.next=7,NR(t);case 7:return c=i.sent,i.next=10,this.getFileUrlByHash(e,c,t.name,t.size,n);case 10:if(!(l=i.sent)){i.next=14;break}return r(null,-1),i.abrupt("return",l);case 14:return u=e,(null==o?void 0:o.thumbnail)&&(u+="/thumbnail"),(d=new FormData).append("file-size","".concat(t.size)),d.append("file-hash",c),d.append("file",t,t.name),i.prev=20,i.next=23,this.request(u,{method:"post",data:d,withCredentials:!0,headers:Object.assign({},n),onUploadProgress:s});case 23:return p=i.sent,zR.log(p),r(null,100),i.abrupt("return",Array.isArray(p.data)?p.data[0]:p.data);case 29:throw i.prev=29,i.t0=i.catch(20),r(new Error,-1),new Error;case 33:case 34:case"end":return i.stop()}}),i,this,[[20,29]])})))}},{key:"uploadResource",value:function(e,t,n){return UQ(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=this.apiServer(),i="".concat(o,"/resources"),w(this.connection.token),r.next=5,this.uploadFile(i,e,DQ({},xQ,this.connection.token),t,n);case 5:return w(a=r.sent),r.abrupt("return",a);case 8:case"end":return r.stop()}}),r,this)})))}},{key:"request",value:function(e,t){var n,r;return UQ(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,s,c,l,u,d;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:i=this.connection.token,s=0;case 2:if(!(s<2)){o.next=33;break}return l=void 0,"string"==typeof e?(l=t||{}).url=e:(w("object"===IQ(e)),w(!t),l=e),l.headers||(l.headers={}),w(i),l.headers=Object.assign(Object.assign({},l.headers),(DQ(c={},xQ,i),DQ(c,kQ,this.connection.getBase64BaseURL()),c)),o.prev=8,o.next=11,Da()(e,l);case 11:return u=o.sent,o.abrupt("return",u);case 15:if(o.prev=15,o.t0=o.catch(8),a=o.t0,403!==(null===(n=null===o.t0||void 0===o.t0?void 0:o.t0.response)||void 0===n?void 0:n.status)||!this.reAuthFunc){o.next=28;break}return o.next=21,this.reAuthFunc();case 21:return d=o.sent,o.next=24,this.connection.auth(d);case 24:if(d.token){o.next=26;break}throw o.t0;case 26:return i=d.token,o.abrupt("continue",30);case 28:throw(null===(r=o.t0.response)||void 0===r?void 0:r.data)&&(o.t0.responseData=o.t0.response.data),o.t0;case 30:s++,o.next=2;break;case 33:throw w(a),a;case 35:case"end":return o.stop()}}),o,this,[[8,15]])})))}},{key:"getVersions",value:function(){return UQ(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.apiServer(),n="".concat(t,"/versions"),e.next=4,this.request(n);case 4:return r=e.sent,o=r.data.versions,(i=r.data.latest)&&-1===o.findIndex((function(e){return e.version===i}))&&o.unshift({version:-1,tag:"",published:!1}),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e,this)})))}},{key:"getVersion",value:function(e){return UQ(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.apiServer(),r="".concat(n,"/versions/").concat(e),t.next=4,this.request(r);case 4:return o=t.sent,t.abrupt("return",JSON.parse(o.data.data));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getLatestVersion",value:function(){return UQ(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.apiServer(),n="".concat(t,"/versions/latest"),e.next=4,this.request(n);case 4:return r=e.sent,e.abrupt("return",JSON.parse(r.data.data));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"getVersionOps",value:function(e,t){return UQ(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,s,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.apiServer(),o="".concat(r,"/versions/before/").concat(e,"?withOp=true"),void 0!==t&&0!==t&&(o+="&from=".concat(t)),n.next=5,this.request(o);case 5:return i=n.sent,a=i.data.ops,s=yR()(a,(function(e){return!!e.create})),c=null,-1!==s&&(c=a[s],a.splice(0,s+1)),c?(w(c.create),l=c.create.data):l=JSON.parse(i.data.data),l.blocks||(l.blocks=[]),n.abrupt("return",{doc:l,ops:i.data.ops});case 13:case"end":return n.stop()}}),n,this)})))}},{key:"revertVersion",value:function(e){return UQ(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.apiServer(),r="".concat(n,"/versions/revert/").concat(e),t.next=4,this.request({url:r,method:"post",data:{}});case 4:case"end":return t.stop()}}),t,this)})))}},{key:"createVersion",value:function(e,t){return UQ(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.apiServer(),o="".concat(r,"/versions"),n.next=4,this.request({url:o,method:"post",data:{publish:t,tag:e}});case 4:return i=n.sent,n.abrupt("return",i.data);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"recognizeLink",value:function(e){return UQ(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.apiServer(),r="".concat(n,"/resources/external/").concat(yo(e)),t.next=4,this.request({url:r});case 4:return o=t.sent,t.abrupt("return",o.data);case 6:case"end":return t.stop()}}),t,this)})))}}]),e}();function QQ(e){return(QQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return HQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HQ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var GQ,WQ=function(){function e(t,n){VQ(this,e),this.blockDataMap=new Map,this.editor=t,this.processor=n}var t,n,r;return t=e,(n=[{key:"onDeleteBlock",value:function(e,t){var n=this.editor.getBlockByIndex(e,t),r=this.blockDataMap.get(n);r&&(zR.debug("ignore update object data before delete block: ".concat(JSON.stringify(r))),this.blockDataMap.delete(n)),this.processor.onDeleteBlock(e,t)}},{key:"onInsertBlock",value:function(e,t,n){this.processor.onInsertBlock(e,t,n)}},{key:"onUpdateBlockText",value:function(e,t,n){this.processor.onUpdateBlockText(e,t,n)}},{key:"onDeleteBlockData",value:function(e,t,n){var r=this.editor.getBlockByIndex(e,t),o=this.blockDataMap.get(r);o||(o={},this.blockDataMap.set(r,o)),o[n]=void 0}},{key:"onInsertBlockData",value:function(e,t,n,r){var o=this.editor.getBlockByIndex(e,t),i=this.blockDataMap.get(o);i||(i={},this.blockDataMap.set(o,i)),i[n]=r}},{key:"executeUpdateBlockDataActions",value:function(){var e=this;Array.from(this.blockDataMap.entries()).forEach((function(t){var n=PQ(t,2),r=n[0],o=n[1],i=e.editor.getBlockContainer(r),a=e.editor.getBlockIndex(r);e.processor.onUpdateBlockData(i,a,o)}))}}])&&KQ(t.prototype,n),r&&KQ(t,r),e}();!function(e){e.REMOVE="remove",e.UPSERT="upsert"}(GQ||(GQ={}));var YQ=function e(){VQ(this,e)},qQ=function e(t){VQ(this,e),this.key=t};var ZQ=function(e,t,n,r){if(n!==GQ.UPSERT||!function(e,t,n){var r=t.concat(),o=r[0];if("number"!=typeof o)return!1;if(r.shift(),1===r.length)return!1;var i=r[0];if("object"!==QQ(i))return!1;if(!i.i||1!==Object.keys(i).length)return!1;for(var a=1;a<r.length;a++){var s=r[a];if(!Array.isArray(s))return!1;if(2!==s.length)return!1;if("string"!=typeof s[0])return!1;var c=s[1];if("object"!==QQ(c))return!1;if(void 0===c.i||1!==Object.keys(c).length)return!1}var l=i.i;w(l.id),w(l.type);for(var u=1;u<r.length;u++){var d=r[u],p=d[0],f=d[1];l[p]=f.i}return n.onInsertBlock(e,o,l),!0}(e,t,r)){var o=t.concat(),i=o[0];o.shift();for(var a=[];o.length>0;){var s=o[0];if("text"===s){var c=o[1];if(w("object"===QQ(c)),w("rich-text"===c.et),o.splice(0,2),n===GQ.UPSERT){var l=c.e,u=new _o(l);r.onUpdateBlockText(e,i,u)}w(0===o.length)}else if(Array.isArray(s)){w(2===s.length);var d=s[0];w("string"==typeof d);var p=s[1];if("text"===d){if(w("object"===QQ(p)),p.i&&n===GQ.UPSERT&&r.onInsertBlockData(e,i,d,p.i),p.r&&n===GQ.REMOVE&&r.onDeleteBlockData(e,i,d),"rich-text"===p.et&&n===GQ.UPSERT){var f=p.e,h=new _o(f);r.onUpdateBlockText(e,i,h)}}else n===GQ.REMOVE&&p.r&&a.push(new qQ(d)),n===GQ.UPSERT&&p.i&&r.onInsertBlockData(e,i,d,p.i);o.shift()}else if("object"===QQ(s)){var A=s;n===GQ.REMOVE&&A.r&&a.push(new YQ),n===GQ.UPSERT&&A.i&&r.onInsertBlock(e,i,A.i),o.shift()}else{w("string"==typeof s),w("text"!==s),w(2===o.length);var m=s,g=o[1];n===GQ.REMOVE&&g.r&&a.push(new qQ(m)),n===GQ.UPSERT&&g.i&&r.onInsertBlockData(e,i,m,g.i),o.splice(0,2)}}a.reverse(),a.forEach((function(t){t instanceof YQ?r.onDeleteBlock(e,i):t instanceof qQ?r.onDeleteBlockData(e,i,t.key):w(!1,"invalid action type: ".concat(QQ(t),", ").concat(JSON.stringify(t)))}))}};function XQ(e,t,n){for(var r=new WQ(e,n),o=function(t,o){var i=t[0];if("comments"===i){var a=t[1],s=t[2];return w(a),w(s),void("string"==typeof s?"blocks"===s?n.onUpdateCommentText(a):zR.log("unknown op",t):(s.i&&n.onUpdateComment(a),s.r&&n.onDeleteComment(a)))}var c=i;if("blocks"!==c){if("object"===QQ(t[1])){var l=t[1];l.i&&n.onCreateContainer&&n.onCreateContainer(c,l.i)}if(!e.getContainerById(c))return void(n.onNoContainer&&n.onNoContainer(c))}var u=e.getContainerById(c);if(w(u),Array.isArray(t[1]))o===GQ.REMOVE?t.slice(1).reverse().forEach((function(e){ZQ(u,e,o,r)})):t.slice(1).forEach((function(e){ZQ(u,e,o,r)}));else if("object"===QQ(t[1])){var d=t[1];d.r&&n.onDeleteContainer(i),d.i&&zR.debug("create container, skip")}else w("number"==typeof t[1]),ZQ(u,t.slice(1),o,r)},i=function(e){var n=0===e?GQ.REMOVE:GQ.UPSERT,r=_n()(t),i=r[0];Array.isArray(i)?r.forEach((function(e){o(e,n)})):o(r,n)},a=0;a<2;a++)i(a);r.executeUpdateBlockDataActions()}function JQ(e){return(JQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $Q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eP(e,t)}function eP(e,t){return(eP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rP(e);if(t){var o=rP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nP(this,n)}}function nP(e,t){if(t&&("object"===JQ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rP(e){return(rP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aP(e,t,n){return t&&iP(e.prototype,t),n&&iP(e,n),e}var sP=function(){function e(t,n){var r=this;oP(this,e),this.containerId=eL(n),t.fixSelection({autoScroll:!1}),this.beforeCaretPos=t.getCaretPos(),this.afterCaretPos=this.beforeCaretPos,setTimeout((function(){r.afterCaretPos=t.getCaretPos()}))}return aP(e,[{key:"undo",value:function(e){return!1}},{key:"redo",value:function(e){return!1}},{key:"combinable",value:function(e){return w(e),!1}},{key:"combine",value:function(e){w(!1)}}]),e}(),cP=function(e){$Q(n,e);var t=tP(n);function n(e,r,o,i,a){var s;return oP(this,n),(s=t.call(this,e,r)).blockData=a,s.blockIds=[],s}return aP(n,[{key:"rememberBlockIds",value:function(e,t){var n=e.data();w(n);var r=n[e.isMainContainer(t)?"blocks":this.containerId];this.blockIds=r.map((function(e){return e.id}))}},{key:"findInsertIndex",value:function(e,t){var n=this.blockData.id,r=this.blockIds.indexOf(n);if(w(-1!==r),0===r)return 0;for(var o=this.blockIds.slice(0,r),i=o.length-1;i>=0;i--){var a=o[i],s=e.getBlockById(a);if(s)return TN(s)+1}return ON(t)}},{key:"deleteBlock",value:function(e){var t=e.getContainerById(this.containerId);if(!t)return!1;var n=e.getBlockById(this.blockData.id);return!!n&&(this.rememberBlockIds(e,t),e.deleteBlock(n,{fromUndo:!0,localAction:!0}),!0)}},{key:"insertBlock",value:function(e){var t=e.getContainerById(this.containerId);if(!t)return!1;var n=this.blockData.type;w(e.data());var r=this.findInsertIndex(e,t);return e.insertBlock(t,r,n,this.blockData,{fromUndo:!0,focusToBlock:!1,localAction:!0}),!0}}]),n}(sP),lP=function(e){$Q(n,e);var t=tP(n);function n(){return oP(this,n),t.apply(this,arguments)}return aP(n,[{key:"undo",value:function(e){return this.deleteBlock(e)}},{key:"redo",value:function(e){return this.insertBlock(e)}}]),n}(cP),uP=function(e){$Q(n,e);var t=tP(n);function n(e,r,o){var i;oP(this,n);var a=BN(r,o),s=hf(a);return(i=t.call(this,e,r,a,o,s)).rememberBlockIds(e,r),i}return aP(n,[{key:"undo",value:function(e){return this.insertBlock(e)}},{key:"redo",value:function(e){return this.deleteBlock(e)}}]),n}(cP),dP=function(e){$Q(n,e);var t=tP(n);function n(e,r,o,i){var a;return oP(this,n),a=t.call(this,e,r),w(o),a.blockId=zp(o),a.beforeBlockData=i,a.afterBlockData=hf(o),w(a.beforeBlockData.type===a.afterBlockData.type),a}return aP(n,[{key:"undo",value:function(e){w(e);var t=e.getBlockById(this.blockId);return!!t&&(w(e.getContainerById(this.containerId)),e.updateBlockData(t,this.beforeBlockData,{fromUndo:!0,updateBlock:!0,partial:!1}),!0)}},{key:"redo",value:function(e){w(e);var t=e.getBlockById(this.blockId);return!!t&&(w(e.getContainerById(this.containerId)),e.updateBlockData(t,this.afterBlockData,{fromUndo:!0,updateBlock:!0,partial:!1}),!0)}}]),n}(sP),pP=function(e){$Q(n,e);var t=tP(n);function n(e,r,o,i,a){var s;return oP(this,n),(s=t.call(this,e,r)).blockId=o,s.beforeData=i,s.afterData=a,s}return aP(n,[{key:"undo",value:function(e){if(!e.getContainerById(this.containerId))return!1;var t=e.getBlockById(this.blockId);if(!t)return!1;var n=this.beforeData;return e.replaceBlock(t,n,{fromUndo:!0,focusToBlock:!1}),!0}},{key:"redo",value:function(e){if(!e.getContainerById(this.containerId))return!1;var t=e.getBlockById(this.blockId);if(!t)return!1;var n=this.afterData;return e.replaceBlock(t,n,{fromUndo:!0,focusToBlock:!1}),!0}}]),n}(sP),fP=function(e){$Q(n,e);var t=tP(n);function n(e,r,o,i,a){var s;oP(this,n),s=t.call(this,e,r),w(o),s.blockId=zp(o),s.beforeRichTextData=i,s.afterRichTextData=a,s.type=n.calType(i,a),s.afterCaretPos=e.getCaretPos();var c=e.undoState.lastCaretPos();return c.blockId===s.blockId?s.beforeCaretPos=c:s.beforeCaretPos={containerId:"",blockId:"",offset:0},s}return aP(n,[{key:"undo",value:function(e){if(!e.getContainerById(this.containerId))return!1;var t=e.getBlockById(this.blockId);return!!t&&(e.updateBlockText(t,this.beforeRichTextData,{fromUndo:!0,updateBlock:!0}),!0)}},{key:"redo",value:function(e){if(!e.getContainerById(this.containerId))return!1;var t=e.getBlockById(this.blockId);return!!t&&(e.updateBlockText(t,this.afterRichTextData,{fromUndo:!0,updateBlock:!0}),!0)}},{key:"combinable",value:function(e){if(!(e instanceof n))return!1;if(e.type.begin)return!1;if(this.type.textType!==e.type.textType)return!1;if(e.blockId!==this.blockId)return!1;var t=this.afterCaretPos;return t.blockId===e.afterCaretPos.blockId&&!(Math.abs(t.offset-e.afterCaretPos.offset)>1)}},{key:"combine",value:function(e){w(e instanceof n);var t=e;this.afterRichTextData=t.afterRichTextData,this.afterCaretPos=t.afterCaretPos}}],[{key:"calType",value:function(e,t){w(e),w(t);var n=e.diff(t).toOps(),r=new Set,o=!1,i=function(e){return function(e){return hv(e.charCodeAt(0),[[12352,12687],[13056,13183],[13312,15661],[19968,40959],[63744,64255],[44032,55215]])}(e)?"cjk_".concat(e):function(e){var t=e.charAt(0);return t>="0"&&t<="9"}(e)?"number":Av(e)?"space":function(e){var t=e.charAt(0);return t>="a"&&t<="z"||t>="A"&&t<="Z"||t.toUpperCase()!==t.toLowerCase()||RegExp(/^\p{L}/,"u").test(t)}(e)?"letter":"unknown"},a=!1;return n.forEach((function(e){e.insert?" "===e.insert?r.add("insert_letter"):"string"==typeof e.insert&&e.insert.startsWith(" ")&&e.insert.length>1?(o=!0,a=!0,r.add("insert_".concat(i(e.insert.substr(1))))):r.add("insert_".concat(i(e.insert))):e.delete&&(o?o=!1:r.add("delete"))})),{textType:Array.from(r).join("|"),begin:a}}}]),n}(sP);function hP(e,t){if(0!==e.length){var n=e[e.length-1];n.combinable(t)?n.combine(t):e.push(t)}else e.push(t)}var AP=function(e){$Q(n,e);var t=tP(n);function n(){var e;return oP(this,n),(e=t.apply(this,arguments)).actions=[],e}return aP(n,[{key:"addAction",value:function(e){hP(this.actions,e)}},{key:"undo",value:function(e){var t=!1;return this.actions.concat().reverse().forEach((function(n){n.undo(e)&&(t=!0)})),t}},{key:"redo",value:function(e){var t=!1;return this.actions.forEach((function(n){n.redo(e)&&(t=!0)})),t}}]),n}(sP);const mP=function(){function e(t){oP(this,e),this.actions=[],this.currentGroup=null,this.caretPos=[],this.groupCounter=0,this.editor=t,this.undoCursor=-1}return aP(e,[{key:"rememberCaretPos",value:function(){var e=this.editor.getCaretPos();e.blockId&&(this.caretPos.push(e),this.caretPos.length>2&&this.caretPos.splice(0,this.caretPos.length-2))}},{key:"lastCaretPos",value:function(){return 2===this.caretPos.length||1===this.caretPos.length?this.caretPos[0]:{containerId:"",blockId:"",offset:0}}},{key:"reset",value:function(){this.actions=[],this.undoCursor=-1}},{key:"prepareSveUndoState",value:function(){-1!==this.undoCursor&&(this.actions.splice(this.undoCursor),this.undoCursor=-1)}},{key:"addAction",value:function(e){this.currentGroup?this.currentGroup.addAction(e):hP(this.actions,e)}},{key:"onUpdateBlockTextAction",value:function(e,t,n){this.prepareSveUndoState();var r=Yo.from(hf(t).text);w(r),0!==n.diff(r).toOps().length&&this.addAction(new fP(this.editor,e,t,n,r))}},{key:"onUpdateBlockDataAction",value:function(e,t,n){this.prepareSveUndoState();var r=new dP(this.editor,e,t,n);this.addAction(r)}},{key:"onReplaceBlockAction",value:function(e,t,n,r){this.prepareSveUndoState(),w(n.id===r.id),w(n.id===t),this.addAction(new pP(this.editor,e,t,n,r))}},{key:"onCreateBlockAction",value:function(e,t,n,r){this.prepareSveUndoState(),w(e),w(t),w(n>=0),w(r),this.addAction(new lP(this.editor,e,t,n,r))}},{key:"onDeleteBlockAction",value:function(e,t){this.prepareSveUndoState(),w(e),this.addAction(new uP(this.editor,e,t))}},{key:"beginGroup",value:function(){0===this.groupCounter?(w(!this.currentGroup),this.currentGroup=new AP(this.editor,this.editor.rootContainer()),this.groupCounter=1):(w(this.currentGroup),this.groupCounter+=1)}},{key:"endGroup",value:function(){w(this.currentGroup),w(this.groupCounter>0),this.groupCounter-=1,0===this.groupCounter&&(0===this.currentGroup.actions.length?console.warn("empty undo group, skip it"):this.actions.push(this.currentGroup),this.currentGroup=null)}},{key:"hasGroup",value:function(){return this.groupCounter>0}},{key:"fixSelection",value:function(){hL(this.editor,{autoScroll:!0,mouseDown:!1,lastEvent:null,lastPosition:{x:0,y:0}})}},{key:"undo",value:function(){for(-1===this.undoCursor&&(this.undoCursor=this.actions.length);this.undoCursor>0;){this.undoCursor-=1;var e=this.actions[this.undoCursor];if(e.undo(this.editor)){try{this.editor.setCaretPos(e.beforeCaretPos),this.fixSelection()}catch(e){console.warn("undo: failed to restore caret pos: ".concat(e.message)),this.fixSelection()}return!0}}return!1}},{key:"redo",value:function(){for(-1===this.undoCursor&&(this.undoCursor=this.actions.length);this.undoCursor<this.actions.length;){var e=this.actions[this.undoCursor];if(this.undoCursor+=1,e.redo(this.editor)){try{this.editor.setCaretPos(e.afterCaretPos),this.fixSelection()}catch(e){console.warn("redo: failed to restore caret pos: ".concat(e.message)),this.fixSelection()}return!0}}return!1}},{key:"canUndo",value:function(){return 0!==this.actions.length&&0!==this.undoCursor}},{key:"canRedo",value:function(){return 0!==this.actions.length&&(-1!==this.undoCursor&&this.undoCursor!==this.actions.length)}}]),e}();function gP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yP=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.caretPosMap=new Map,this.events=new m.EventEmitter,this.editor=t;var n=t.options.colors;w(n),this.colors=n,w(this.colors.length>1),this.selectionColors=t.options.selectionColors}var t,n,r;return t=e,(n=[{key:"clear",value:function(){this.caretPosMap.clear()}},{key:"setCaretPos",value:function(e,t,n,r,o,i,a){if(-1!==this.editor.getOnlineUsers().findIndex((function(t){return t.userId===e}))){var s=new Set,c=this.caretPosMap.get(e);if(c&&(c.blockId&&s.add(c.blockId),c.endBlockId&&s.add(c.endBlockId)),o.blockId){var l=Object.assign(Object.assign({userId:e,displayName:t,avatarUrl:n,lastUpdated:(new Date).valueOf(),color:this.colors[r%this.colors.length],selectionColor:this.getSelectionColor(r)},o),{endBlockId:i.blockId,endOffset:i.offset});s.add(o.blockId),s.add(i.blockId),this.caretPosMap.set(e,l)}else console.log("".concat(t," lost caret"));var u=a?e:null;s.size>0&&this.events.emit("remoteCaretPosChanged",Array.from(s),u)}}},{key:"getSelectionColor",value:function(e){if(this.selectionColors)return w(this.selectionColors.length>0),this.selectionColors[e%this.selectionColors.length];var t,n,r,o,i,a,s=this.colors[e%this.colors.length];return w(s),t=s,n=.2,r=gP((0,Ib.mL)(t).toRgbaArray(),3),o=r[0],i=r[1],a=r[2],(0,Ib.K1)([o,i,a,n]).toHexString()}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"removeAllListeners",value:function(){this.events.removeAllListeners()}},{key:"getCaretPosesInBlock",value:function(e){var t=[];return Array.from(this.caretPosMap.values()).forEach((function(n){n.blockId===e&&t.push(Object.assign(Object.assign({},n),{caretType:"start"})),n.endBlockId!==e||n.endOffset===n.offset&&n.endBlockId===n.blockId||t.push(Object.assign(Object.assign({},n),{blockId:n.endBlockId,offset:n.endOffset,caretType:"end"}))})),t}},{key:"updateOnlineUsers",value:function(e){var t=this,n=new Set,r=new Set(this.caretPosMap.keys()),o=new Set(e.map((function(e){return e.userId})));r.forEach((function(e){if(!o.has(e)){var r=t.caretPosMap.get(e);r&&(n.add(r.blockId),n.add(r.endBlockId)),t.caretPosMap.delete(e)}})),n.size>0&&this.events.emit("remoteCaretPosChanged",Array.from(n))}},{key:"hasRemoteCaret",value:function(e){var t=zp(e);return-1!==Array.from(this.caretPosMap.values()).findIndex((function(e){return e.blockId===t}))}},{key:"getRemoteCaretOfBlock",value:function(e){var t,n=zp(e);return null!==(t=Array.from(this.caretPosMap.values()).find((function(e){return e.blockId===n})))&&void 0!==t?t:null}}])&&bP(t.prototype,n),r&&bP(t,r),e}(),wP=n(5594),xP=n.n(wP),kP={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(xP(),kP);xP().locals;var CP=n(5481),EP=n.n(CP),BP={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(EP(),BP);EP().locals;var TP=n(4954),MP=n.n(TP),IP={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(MP(),IP);MP().locals;var DP=n(1537),_P=n.n(DP),SP={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(_P(),SP);_P().locals;function OP(e){return(OP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LP(e,t){return(LP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function RP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=UP(e);if(t){var o=UP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jP(this,n)}}function jP(e,t){if(t&&("object"===OP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function UP(e){return(UP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var FP="editor-dialog-background",zP="dialog-main",QP="dialog-content",PP="dialog-main-fullscreen",HP="dialog-content-fullscreen",VP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LP(e,t)}(i,e);var t,n,r,o=RP(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._targetBg=null,t._contentContainer=null,t._selectionState=null,t._options=null,t._compositionEndTime=0,t.handleKeydown=function(e){e.isComposing||JI(t._compositionEndTime)||li(e)&&t.hide()},t.handleCompositionEnd=function(){t._compositionEndTime=Date.now()},t.hide=function(){t.isVisible()&&(w(t._targetBg),t._targetBg.remove(),t.handleHidden())},t.editor=e,t}return t=i,(n=[{key:"initBg",value:function(){var e=document.querySelector("#".concat(FP));if(!e||!e.parentElement){var t=zP,n=QP;if(this._options&&(this._options.mainClass&&(t=this._options.mainClass),this._options.contentClass&&(n=this._options.contentClass)),!e){var r=document.createElement("div");(e=r).id=FP;var o=document.createElement("div");Qa(o,t);var i=document.createElement("div");Qa(i,n),o.appendChild(i),e.appendChild(o),r.tabIndex=0,r.addEventListener("keydown",this.handleKeydown),r.addEventListener("compositionend",this.handleCompositionEnd)}w(e instanceof HTMLElement),xs(document.body).appendChild(e),this._targetBg=e,this._contentContainer=e.querySelector(".".concat(n))}}},{key:"handleHidden",value:function(){w(this._selectionState),w(this._options),this.editor.restoreSelectionState(this._selectionState),this._options.onHidden&&this._options.onHidden(this._options.data)}},{key:"handleShown",value:function(){var e=this;w(this._options),this._selectionState=this.editor.saveSelectionState(),this._options.onShown&&this._options.onShown(this._options.data),setTimeout((function(){var t,n,r=null===(t=document.getSelection())||void 0===t?void 0:t.focusNode;r&&e._targetBg&&ts(e._targetBg,r)||null===(n=e._targetBg)||void 0===n||n.focus()}),100)}},{key:"isVisible",value:function(){return!!this._targetBg&&!!this._targetBg.parentElement}},{key:"restoreSelectionState",value:function(){return w(this._selectionState),this.editor.restoreSelectionState(this._selectionState)}},{key:"show",value:function(e){w(e),console.log("update dialog"),this.hide(),e.content&&(this._options=e,this.initBg(),w(this._targetBg),w(this._contentContainer),this._contentContainer.innerHTML="",this._contentContainer.appendChild(e.content),this.handleShown())}}])&&NP(t.prototype,n),r&&NP(t,r),i}(sa);function KP(e){return function(e){if(Array.isArray(e))return GP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return GP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}VP.MAIN_FULL_SCREEN_CLASS=PP,VP.CONTENT_FULL_SCREEN_CLASS=HP;var WP=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},YP=qo.closeIcon,qP="dialog-container",ZP="dialog-tools",XP="dialog-button",JP="dialog-button-cancel",$P="dialog-button-ok",eH="dialog-title",tH="dialog-title-container";function nH(e,t,n,r,o,i){var a=ps("div",[qP],null);o&&Qa.apply(s,[a].concat(KP(o)));var c=ps("div",[tH],a);if(ps("div",[eH],c,t),i){var l=ps("div",["dialog-close-button"],c);l.innerHTML=YP,l.onclick=r}a.appendChild(e);var u=ps("div",[ZP],a),d=ps("button",[XP,JP],u,ju.common.cancel);return ps("button",[XP,$P],u,ju.common.OK).addEventListener("click",n),d.addEventListener("click",r),a}function rH(e,t){var n=this,r=t.content,o=t.title,i=t.data,a=t.onShown,s=t.onHidden,c=0,l=e.options.dialog||new VP(e),u=function(){return WP(n,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.restoreSelectionState(),e.next=3,t.onOK(i);case 3:return!1!==(n=e.sent)&&l.hide(),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))},d=function(){l.restoreSelectionState(),t.onCancel(i),l.hide()},p=function(e){return WP(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isComposing&&!JI(c)){t.next=2;break}return t.abrupt("return");case 2:if(e.stopPropagation(),n=!1,r.querySelector("textarea")&&(o=NL())&&o.startContainer instanceof HTMLElement&&(i=o.startContainer.childNodes[o.startOffset],n=Ya(i,"textarea")),"Enter"!==e.key||!(!n||n&&e.ctrlKey)){t.next=14;break}return e.preventDefault(),t.next=10,u();case 10:t.sent&&l.hide(),t.next=15;break;case 14:"Escape"===e.key&&(e.preventDefault(),d(),l.hide());case 15:case"end":return t.stop()}}),t)})))},f=function(){c=Date.now()},h={type:"dialog",content:nH(r,o,u,d,t.containerClasses,!!t.showCloseButton),data:i,onShown:a,onHidden:function(){document.body.removeEventListener("keydown",p),document.body.removeEventListener("compositionend",f),s&&s(i)}};return l.show(h),document.body.addEventListener("keydown",p),document.body.addEventListener("compositionend",f),l}var oH="dialog-confirm-text";function iH(e){var t=document.createElement("div");return Qa(t,oH),t.innerText=e,t}var aH=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function sH(e){var t,n=e.defaultValue,r=e.inputType,o=e.inputPlaceholder,i=ps("div",[Hi.Content],null);e.inputDescription&&(t=ps("div",["dialog-input-description"],i),ps("span",["dialog-input-description-title"],t,e.inputDescription),ps("span",["dialog-input-description-info"],t,e.inputDescriptionInfo||""),e.required&&Qa(t,"dialog-input-required"));var a=ps("div",[Vi.DIALOG_INPUT_CONTAINER],i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=document.createElement(e===qi.TEXTAREA?"textarea":"input");return Qa(r,"dialog-input-".concat(e)),r.value=t,r.setAttribute("spellcheck","false"),r.placeholder=n,r}(r,n,o);a.appendChild(s),e.inputExtActions&&a.appendChild(e.inputExtActions);var c=ps("div",["dialog-input-error"],i),l=ps("div",["dialog-input-secondary"],null);return e.secondaryText&&l.appendChild(e.secondaryText),e.secondaryTextOnTop?i.insertBefore(l,null!=t?t:a):i.appendChild(l),{inputOptions:e,content:i,input:s,secondaryText:l,errorText:c}}var cH=n(7621),lH=n.n(cH),uH={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(lH(),uH);lH().locals;function dH(e){return(dH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fH(e,t){return(fH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mH(e);if(t){var o=mH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return AH(this,n)}}function AH(e,t){if(t&&("object"===dH(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mH(e){return(mH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gH=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},vH=qo.loadingIcon,bH=new Map,yH="suggest-item",wH="suggest-item-text",xH="suggest-item-text-highlight",kH="suggest-item-text-part",CH="suggest-item-icon",EH="suggest-item-subtext",BH="suggest-item-text-container";function TH(e,t,n,r,o){0===n.length&&n.push({id:"",iconUrl:"",text:r,disabled:!0,autoWrap:!0,data:null,placeholder:!0});var i=ps("div",["editor-auto-suggest-root"],null);if(t.renderSuggestHeader){var a=t.renderSuggestHeader(e,n,t,o);a&&i.appendChild(a)}var s=ps("ul",["editor-auto-suggest-items"],null);if(n.forEach((function(n){var r=function(e,t,n,r){var o=document.createElement("li");if(o.suggestData=n,Qa(o,yH),n.disabled&&Qa(o,Vi.DISABLED),n.autoWrap&&Qa(o,Vi.AUTO_WRAP),n.className&&Qa(o,n.className),t.renderSuggestItem){var i=t.renderSuggestItem(e,n,t);return w(i),o.appendChild(i),o}if(n.placeholder&&r.loading){var a=ps("div",["tippy-loading"],null);return a.innerHTML=vH,o.appendChild(a),o}if(n.iconUrl){var s=document.createElement("img");s.src=n.iconUrl,o.appendChild(s),Qa(s,CH)}var c=ps("span",[BH],o);if(n.parts&&n.parts.length>0){var l=document.createElement("span");Qa(l,wH,xH),c.appendChild(l),n.parts.forEach((function(e){var t=ps("span",[kH],l,e.text);e.highlight&&Qa(t,"highlight")}))}else{var u=document.createElement("span");Qa(u,wH);var d=document.createTextNode(n.text||Ji);u.appendChild(d),c.appendChild(u)}if(n.subText){var p=document.createElement("span");Qa(p,EH);var f=document.createTextNode(n.subText);p.appendChild(f),c.appendChild(p)}return o}(e,t,n,o);s.appendChild(r)})),i.appendChild(s),t.renderSuggestFooter){var c=t.renderSuggestFooter(e,n,t,o);c&&i.appendChild(c)}return i}function MH(e){return e.querySelector(".".concat(Vi.ACTIVE))}function IH(e,t,n,r){var o=MH(t),i=t.querySelectorAll(".".concat(yH));n>=i.length?n=i.length-1:n<0&&(n=0);var a=t.querySelectorAll(".".concat(yH))[n];o&&o===a||(o&&o.classList.remove(Vi.ACTIVE),a&&!e.options.isMobile&&a.classList.add(Vi.ACTIVE)),a&&(w(a instanceof HTMLElement),r&&ds(a,e.options.scrollIntoViewIfNeeded))}var DH=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fH(e,t)}(i,e);var t,n,r,o=hH(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._parent=null,t._options=null,t._customData=null,t._activeIndex=0,t._activeIndexDefault=0,t._suggestDataList=[],t._targetBoxElement=null,t._targetFlag=null,t.forcedToHide=!1,t.isReadyShow=!1,t.isHiding=!1,t._show=In()(t.showCore,100),t._loadData=In()(t._loadDataCore,100),t.removeEventKey="",t.handleClick=function(e){var n=e.target;w(n instanceof Element);var r=n.closest(".".concat(yH));t._selectItem(r)},t.editor=e,t._selectionState=t.editor.saveSelectionState(),t}return t=i,(n=[{key:"removeFromPopoverMap",value:function(){var e,t,n=null===(e=this._targetFlag)||void 0===e?void 0:e.getAttribute(wA);this.removeEventKey===n&&(null===(t=this._targetFlag)||void 0===t||t.removeAttribute(wA),TA(n))}},{key:"_renderLoading",value:function(){if(this.instance&&this._options){var e=this.instance.props.content;if(this._options.renderLoading){var t=this._options.renderLoading(this.editor,this._options.keyword,e,this._suggestDataList,this._options);t&&this.instance.setContent(t)}else{var n=ps("div",["tippy-loading"],null);n.innerHTML=vH,this.instance.setContent(n)}}}},{key:"_loadDataCore",value:function(){var e;return gH(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._options){t.next=2;break}return t.abrupt("return");case 2:return n=this._options.keyword,this._renderLoading(),t.next=6,this._options.getSuggest(n);case 6:this._suggestDataList=t.sent,(null===(e=this._options)||void 0===e?void 0:e.keyword)===n&&this._updateContent(n,this._suggestDataList,{loading:!1});case 8:case"end":return t.stop()}}),t,this)})))}},{key:"_clearFlag",value:function(){this._targetFlag&&(this._targetFlag.remove(),this._targetFlag=null)}},{key:"_createTargetFlag",value:function(){return w(this._parent),this._clearFlag(),this._targetFlag=document.createElement("div"),this._targetFlag.setAttribute("style","position:absolute;z-index:var(--wiz-editor-z-auto-suggest-target-flag);opacity:0;"),this._initTargetFlagPos(),this._parent.appendChild(this._targetFlag),this._targetFlag}},{key:"_getRangeRect",value:function(e){var t=null,n=_s(e),r=NL();return w(r),this._targetBoxElement?t=_s(this._targetBoxElement):w(t=Ds(r)),0===t.left&&0===t.top&&0===t.height&&0===t.width&&(t=n),t}},{key:"_initTargetFlagPos",value:function(){if(this._targetFlag){var e=wN(this._parent);w(e);var t=e.getBoundingClientRect(),n=this._getRangeRect(e),r=n.top-t.top,o=n.left-t.left,i=n.height;this._targetFlag.style.top="".concat(r,"px"),this._targetFlag.style.left="".concat(o,"px"),this._targetFlag.style.width="".concat(20,"px"),this._targetFlag.style.height="".concat(i,"px")}}},{key:"_fixTargetFlagPos",value:function(){if(this._targetFlag&&this.instance){var e=wN(this._parent);w(e);var t=this.instance.popper.getBoundingClientRect(),n=this._getRangeRect(e);n.top<=t.top+t.height&&n.left<=t.left+t.width&&n.top+n.height>=t.top&&n.left+n.width>=t.left&&(this._initTargetFlagPos(),this.instance.setProps({}))}}},{key:"_updateContent",value:function(e,t,n){var r,o=this;if(this.instance&&this._options){var i=e?this._options.placeholderNoMatch||ju.common.noMatch:this._options.placeholder||ju.common.enterContentToSearch,a=TH(this.editor,this._options,t,i,n),s=this.instance.popper.querySelector(".tippy-content");w(s);var c=cs(this.editor.rootContainer()),l=null!==(r=this._options.suggestMaxHeight)&&void 0!==r?r:Math.min(300,.6*c.clientHeight);s.style.maxHeight="".concat(l,"px"),this.instance.setContent(a),setTimeout((function(){if(o.instance&&o.isVisible()){var e=o._suggestDataList.length>1;IH(o.editor,o.instance.popper,o._activeIndex,e)}}))}}},{key:"_updateActiveIndex",value:function(e,t){w(this.instance),e<0&&(this._activeIndex=this._activeIndexDefault);var n=this._suggestDataList.length;e>=n&&(e=n-1),e<0&&(e=0),this._activeIndex=e,t&&(this._activeIndexDefault=this._activeIndex);var r=t&&this._suggestDataList.length>1;IH(this.editor,this.instance.popper,this._activeIndex,r)}},{key:"_enableSelectItem",value:function(){return w(this._options),!this._options.renderSuggestItem||!0===this._options.enableSelectItem}},{key:"_selectItem",value:function(e){if(e&&this._enableSelectItem()){var t=this._options;w(t),this.forcedToHide=!0,this.quickHide();var n=e.suggestData;w(n),n.disabled&&0===this._suggestDataList.length||n.disabled||t.selectSuggest(t.target,n)}}},{key:"destroy",value:function(){this.isReadyShow=!1,this.removeFromPopoverMap(),this.instance&&(this.unbindEvent(this.instance),this.instance.destroy(),this.instance=void 0)}},{key:"hide",value:function(){var e;this.isReadyShow=!1,this.removeFromPopoverMap(),null===(e=this.instance)||void 0===e||e.hide()}},{key:"quickHide",value:function(){this.instance&&this.isVisible()&&(this.forcedToHide=!0,this.instance.setProps({delay:0,duration:0}),this.instance.hide())}},{key:"bindEvent",value:function(e){e.popper.addEventListener("click",this.handleClick)}},{key:"unbindEvent",value:function(e){e.popper.removeEventListener("click",this.handleClick)}},{key:"handleKeydown",value:function(e){var t;if(!this.isVisible()||!this.instance)return!1;if("ArrowUp"===e.key||"ArrowLeft"===e.key)return e.preventDefault(),this._updateActiveIndex(this._activeIndex-1,!0),!0;if("ArrowDown"===e.key||"ArrowRight"===e.key)return this._updateActiveIndex(this._activeIndex+1,!0),e.preventDefault(),!0;if("Escape"===e.key)return e.preventDefault(),e.stopPropagation(),this.hide(),!0;if("Enter"===e.key){var n=this.editor.compositionData.endTime;if(n&&Date.now()-n<100)return e.preventDefault(),!0;if(e.preventDefault(),(null===(t=this._options)||void 0===t?void 0:t.onReturn)&&this._options.onReturn(this._options));else try{var r=MH(this.instance.popper);this._selectItem(r),e.stopPropagation(),e.preventDefault()}catch(e){}return!0}return!1}},{key:"handleMouseDown",value:function(){return!1}},{key:"handleMouseUp",value:function(e){var t,n,r,o;if(!this.isVisible())return!1;var i=PL(this.editor),a=this._selectionState.startCaret?this.editor.getBlockById(this._selectionState.startCaret.blockId):null;if((null===(t=this._options)||void 0===t?void 0:t.boxClass.prefix)&&i.startBlock===a){var s=sv(i,null===(n=this._options)||void 0===n?void 0:n.boxClass.prefix),c=null===(r=this._selectionState.startCaret)||void 0===r?void 0:r.offset,l=(null!=c?c:0)-this._options.boxClass.prefix.length;if(-1!==s.index&&s.index===l)return!1}return!(e.target&&e.target instanceof Element&&(null===(o=this.instance)||void 0===o?void 0:o.popper.contains(e.target))||(this.hide(),0))}},{key:"handleMouseMove",value:function(e){if(!this.isVisible()||!this.instance)return!1;var t=e.target;if(w(t instanceof Element),this.instance.popper.contains(t)){var n=t.closest(".".concat(yH));if(n){var r=Va(n);this._updateActiveIndex(r,!1)}return!0}return this._updateActiveIndex(this._activeIndexDefault,!1),!1}},{key:"handleHidden",value:function(e){e&&e.destroy(),this.instance===e&&(this.removeFromPopoverMap(),this._clearFlag(),this.isReadyShow=!1,this._customData=null,this._targetBoxElement=null,this._options=null,this._parent=null,this.instance=void 0)}},{key:"handleShown",value:function(){var e=BA(this);this.removeEventKey=e,w(this._targetFlag);var t=this._targetFlag.getAttribute(wA);t&&TA(t),this._targetFlag.setAttribute(wA,e)}},{key:"isVisible",value:function(){return!!this.isReadyShow||(this.instance&&this.instance.popper&&!this.instance.popper.closest("body")?(this.hide(),!1):!!this.instance)}},{key:"isInPopper",value:function(e){if(!this.isVisible()||!e||!e.parentElement)return!1;var t=e;return t.nodeType===Node.TEXT_NODE&&e.parentElement&&(t=e.parentElement),!!t&&(w(this.instance),w(this.instance.popper),this.instance.popper.contains(t))}},{key:"isInBlock",value:function(e){return!(!this.instance||!this.isVisible())&&e.contains(this._targetFlag)}},{key:"rootElement",value:function(){var e;return null===(e=this.instance)||void 0===e?void 0:e.popper}},{key:"getCustomData",value:function(){return this._customData}},{key:"show",value:function(e,t,n,r){this.isReadyShow=!0,this._show(e,t,n,r)}},{key:"showCore",value:function(e,t,n,r){var o,i,a,s,c,l,u,d=this;if(w(e),w(n),console.log("update auto suggest"),this.hide(),(!t||this._targetBoxElement!==t)&&e.closest("body")){this._options=n,this._parent=e,this._activeIndex=0,this._activeIndexDefault=0,this._customData=r,this._targetBoxElement=t;var p=TH(this.editor,this._options,[],"",{loading:!0}),f=n.customSuggest&&n.customSuggestTheme,h=n.customSuggest?"editor-custom-suggest ".concat(f||""):"editor-auto-suggest ".concat(n.customSuggestTheme||""),A=this.editor.options.isMobile?"top-start":"bottom-start";this._selectionState=this.editor.saveSelectionState(),this._createTargetFlag(),w(this._targetFlag);var m=document.body;this.editor.isChildEditor()&&(w(this.editor.parentEditor),m=this.editor.parentEditor.editorElement),m=xs(m);var g={theme:h.trim(),placement:A,trigger:"manual",allowHTML:!0,interactive:!0,arrow:!1,maxWidth:"none",zIndex:(null===(o=this.editor.options.zIndex)||void 0===o?void 0:o.autoSuggest)||1801,appendTo:m,hideOnClick:!1,popperOptions:{modifiers:[]},onHide:function(e){d.isHiding=!0;var t=setTimeout((function(){bH.delete(e.id),d.isHiding&&g.onHidden&&g.onHidden(e)}),300);bH.set(e.id,t)},onHidden:function(e){d.isHiding=!1;var t=bH.get(e.id);t&&clearTimeout(t),bH.delete(e.id),xA(e.popper,function(e){var t=e;return e.isChildEditor()&&e.parentEditor&&(t=e.parentEditor),w(t),t}(d.editor).events),d.handleHidden(e),n.onHidden&&n.onHidden(n,r),d._clearFlag()},onShow:function(e){var t,n,r=!!(null===(t=d.editor.options.popover)||void 0===t?void 0:t.refuseOverflow),o=null===(n=d.editor.options.popover)||void 0===n?void 0:n.overflowBoundary;r&&o&&e.popper.classList.add("reference-hidden"),d.instance===e&&(DA(d.instance,d.editor),d.handleShown())}},v=!!(null===(i=this.editor.options.popover)||void 0===i?void 0:i.refuseOverflow),b=null===(a=this.editor.options.popover)||void 0===a?void 0:a.overflowBoundary;v&&b?null===(c=null===(s=g.popperOptions)||void 0===s?void 0:s.modifiers)||void 0===c||c.push({name:"flip",options:{boundary:b,fallbackPlacements:["top","bottom"]}}):this.editor.options.isMobile&&(null===(u=null===(l=g.popperOptions)||void 0===l?void 0:l.modifiers)||void 0===u||u.push({name:"flip",options:{fallbackPlacements:["top-start","bottom-start","right","left"]}})),this.instance=Vt(this._targetFlag,g),n.customType&&this.instance.popper.setAttribute("data-custom-type",n.customType),this.editor.options.isMobile&&this.instance.popper.classList.add("mobile"),this.instance.setContent(p),this.instance.show(),this.bindEvent(this.instance),this._loadData()}}},{key:"updateKeyword",value:function(e){return gH(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.instance&&this._options&&this._options.keyword!==e){t.next=2;break}return t.abrupt("return");case 2:return this._options.keyword=e,t.next=5,this._loadData();case 5:this._fixTargetFlagPos();case 6:case"end":return t.stop()}}),t,this)})))}},{key:"options",value:function(){return w(this._options),this._options}}])&&pH(t.prototype,n),r&&pH(t,r),i}(Aa),_H=n(5426),SH=n.n(_H),OH={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(SH(),OH);SH().locals;function NH(e){return(NH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RH(e,t){return(RH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zH(e);if(t){var o=zH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return UH(this,n)}}function UH(e,t){if(t&&("object"===NH(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return FH(e)}function FH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zH(e){return(zH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QH(e,t,n){if(t.getContent)return t.getContent(e,n);var r=e.getAttribute("data-tooltip")||"",o=e.getAttribute("data-tooltip-info")||"",a=e.getAttribute("data-tooltip-icon")||"";if(!a&&!o)return r;var s=i[a];if(!s&&!o)return r;var c=ps("div",["editor-tooltip-container"],null);s&&(ps("span",["editor-tooltip-icon"],c).innerHTML=s);var l=ps("span",["editor-tooltip-text-container"],c);return ps("span",["editor-tooltip-text"],l,r),o&&ps("span",["editor-tooltip-info"],l,o),c}var PH=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RH(e,t)}(i,e);var t,n,r,o=jH(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).options=null,t.customData=null,t.target=null,t.removeEventKey="",t.show=In()(t.showCore,150),t.handleHide=function(){t.removeFromPopoverMap(),t.attrObserver.disconnect()},t.handleShow=function(){w(t.target);t.attrObserver.observe(t.target,{attributes:!0});var e=BA(FH(t));t.removeEventKey=e,w(t.target);var n=t.target.getAttribute(wA);n&&TA(n),t.target.setAttribute(wA,e),w(t.instance),DA(t.instance,t.editor)},t.editor=e,t.attrObserver=new MutationObserver((function(e){e.forEach((function(e){w(e.target instanceof Element),t.updateContent()}))})),t}return t=i,(n=[{key:"removeFromPopoverMap",value:function(){var e,t,n=null===(e=this.target)||void 0===e?void 0:e.getAttribute(wA);this.removeEventKey===n&&(null===(t=this.target)||void 0===t||t.removeAttribute(wA),TA(n))}},{key:"destroy",value:function(){this.removeFromPopoverMap(),this.instance&&(this.instance.destroy(),this.instance=void 0)}},{key:"hide",value:function(){var e;this.show.cancel(),null===(e=this.instance)||void 0===e||e.hide()}},{key:"isVisible",value:function(){return this.instance&&this.instance.popper&&!this.instance.popper.closest("body")?(this.hide(),!1):!!this.instance}},{key:"rootElement",value:function(){var e;return null===(e=this.instance)||void 0===e?void 0:e.popper}},{key:"getCustomData",value:function(){return this.customData}},{key:"showCore",value:function(e,t,n){var r;if(w(t),e.closest("body")){this.options=t,this.customData=n;var o=QH(e,this.options,this.customData),i=function(e){return e.getAttribute("data-tooltip-placement")||null}(e)||"top",a=function(e){var t=e.getAttribute("data-tooltip-maxwidth");return t?Number(t):"none"}(e);if(o){if(this.instance&&this.target===e)return this.instance.setContent(o),void this.instance.show();this.target=e,this.instance&&this.instance.destroy();var s=document.body;this.editor.isChildEditor()&&(w(this.editor.parentEditor),s=this.editor.parentEditor.editorElement),s=xs(s),this.instance=Vt(this.target,{theme:"editor-tooltip",placement:i,allowHTML:!0,interactive:!1,animation:!1,arrow:!0,maxWidth:a,zIndex:(null===(r=this.editor.options.zIndex)||void 0===r?void 0:r.tooltip)||1880,appendTo:s,hideOnClick:!1,onHide:this.handleHide,onShow:this.handleShow,onBeforeUpdate:function(e){var t=e.reference;(!t.closest("body")||0===t.clientHeight&&0===t.clientWidth)&&e.hide()},popperOptions:{modifiers:[{name:"computeStyles",options:{roundOffsets:function(e){var t=e.x,n=e.y;return{x:null==t?void 0:t.toFixed(2),y:null==n?void 0:n.toFixed(2)}}}}]}}),this.instance.setContent(o),this.instance.show()}}else this.hide()}},{key:"updateContent",value:function(){var e;if(this.isVisible()){w(this.target),w(this.options);var t=QH(this.target,this.options,this.customData);null===(e=this.instance)||void 0===e||e.setContent(t)}}},{key:"handleMouseMove",value:function(e,t){var n=e.target;if(w(n instanceof Element),!this.editor.isInEditor(n)&&!this.editor.isInComment(n)&&!function(e,t){var n=IA(t);return!!e.closest(".".concat(n))}(n,this.editor))return!1;var r=n.closest(".".concat(Vi.TOOLTIP));if(!r)return this.hide(),!1;if(this.isVisible()){if(this.target===r)return!0;this.destroy()}return this.show(r,t,null),!0}}])&&LH(t.prototype,n),r&&LH(t,r),i}(ma);function HH(e){return(HH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VH(e){return function(e){if(Array.isArray(e))return KH(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return KH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KH(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WH(e,t){return(WH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ZH(e);if(t){var o=ZH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qH(this,n)}}function qH(e,t){if(t&&("object"===HH(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ZH(e){return(ZH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var XH="editor-text-toolbar-popover-target";var JH=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WH(e,t)}(i,e);var t,n,r,o=YH(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).currentBlock=null,e.commandBlock=null,e.popover=new wy,e.popover.on("hide",(function(){e.clear()})),e}return t=i,(n=[{key:"destroy",value:function(){this.popover.destroy()}},{key:"clear",value:function(){this.currentBlock=null,this.commandBlock=null}},{key:"reset",value:function(){this.clear(),this.popover.hide()}},{key:"hide",value:function(e){this.clear(),this.popover.hide(e)}},{key:"isVisible",value:function(){return this.popover.isVisible()}},{key:"isVisibleForTextBlock",value:function(){var e;return!(null===(e=this.editor)||void 0===e?void 0:e.isReadOnly())&&!!this.currentBlock&&Uf(this.currentBlock)}},{key:"isMyPopover",value:function(e){return!!this.isVisible()&&this.popover.popover===e}},{key:"handleMouseMove",value:function(){return!1}},{key:"on",value:function(e,t){this.popover.on(e,t)}},{key:"updatePosition",value:function(){var e;this.isVisible()&&(null===(e=this.popover.popover.instance)||void 0===e||e.setProps({}))}},{key:"updateStatus",value:function(e,t){this.popover.updateStatus(e,t)}},{key:"update",value:function(e,t){var n,r;if(!e.options.isMobile&&!e.contextMenu.isVisible())if(this.editor=e,null===(n=this.editor.blockMenuButton)||void 0===n?void 0:n.isShowMenu())this.hide(!0);else{var o=PL(e);if(o.type!==ia.INVALID)if(this.editor.getAgentSelector().isMultiSelected()||this.editor.getAgentSelector().isMultiSelecting())this.hide(!0);else{if(o.type===ia.MULTI_BLOCKS&&0!==o.startOffset&&(0===o.endOffset||-1===o.endOffset&&0===o.range.endOffset)&&(w(o.endBlock),o.startBlock&&o.startBlock===MN(o.endBlock))){var i=Kf(o.startBlock);if(o.startOffset===i)return void this.hide(!0)}if(o.type===ia.ONE_TEXT_BLOCK){var a=o.startBlock;w(a);var s=Vf(a);ts(s,o.range.startContainer)&&ts(s,o.range.endContainer)||(hL.flush(),o=PL(e))}var c=null,l=null,u=null,d=e.getAgentSelector();if(d.isMultiSelected())c=u=l=d.getSelectedBlock();else if(o.type===ia.INVALID){if(!(c=e.getHoverBlock()))return void this.reset();if(Uf(c))return void this.reset();u=c,l=o.startComplexBlock}else if(o.collapsed)if(o.startComplexBlock)c=o.startBlock,l=o.startComplexBlock,w(c),u=o.collapsed&&Uf(c)?o.startComplexBlock:c;else{if(!(c=e.getHoverBlock()||o.startBlock))return void this.reset();if(o.collapsed&&Uf(c)){if(c===o.startBlock||o.startBlock&&Uf(o.startBlock))return void this.reset();c=o.startBlock||null}u=c,l=o.startComplexBlock}else w(c=o.startBlock),0!==o.startOffset&&o.startOffset===Kf(c)&&w(c=bL(c)),l=o.startComplexBlock,u=c;if(u&&c){if(u!==this.commandBlock||this.currentBlock!==c||t){var p=[];if(w(u),!o.collapsed&&o.type===ia.ONE_TEXT_BLOCK){var f=Xg(e,o,{keepComments:!1}),h=f.blocks[0];if(1===f.blocks.length&&h.text&&(0===h.text.length||1===h.text.length&&h.text[0].attributes&&h.text[0].attributes.box))return}this.currentBlock=c,this.commandBlock=u;var A=Jf(u,o,"hover");if(A&&p.push.apply(p,VH(A)),null===(r=e.options.callbacks)||void 0===r?void 0:r.onGetBlockCommand){var m=e.options.callbacks.onGetBlockCommand(e,u,o,"hover",null,p);m&&m.length>0&&(p.length>0&&p.push(ga),p.push.apply(p,VH(m)))}if(0!==p.length){var g,v,b=e.getAgentSelector().getCurPopover();b&&b.hide(),w(this.currentBlock),Hf(this.currentBlock)?g=Gp(this.currentBlock).getBoundingClientRect():l?g=u.getBoundingClientRect():w(g=Ds(o.range)),0===g.width&&0===g.height&&(g=u.getBoundingClientRect()),Hf(c)&&(v=[0,0]);var y=function(e,t){var n=Wp(e,!0);w(n);var r=document.body.querySelector("#".concat(XH));r||((r=document.createElement("div")).id=XH),w(r instanceof HTMLElement);var o=e.getBoundingClientRect();return r.style.left="".concat(t.left-o.left,"px"),r.style.right="".concat(o.right-t.right,"px"),null==n||n.appendChild(r),r}(u,g);this.popover.createManualHideToolbar(u,y,p,{hideOnClicking:!1,offset:v,popoverOptions:{maxWidth:"none"}})}else this.hide()}}else this.reset()}else this.reset()}}}])&&GH(t.prototype,n),r&&GH(t,r),i}(fa);function $H(e){return($H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nV(e,t){return(nV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iV(e);if(t){var o=iV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oV(this,n)}}function oV(e,t){if(t&&("object"===$H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function iV(e){return(iV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var aV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nV(e,t)}(i,e);var t,n,r,o=rV(i);function i(){var e;return eV(this,i),(e=o.apply(this,arguments)).handleMousedown=function(e){e.preventDefault()},e}return t=i,(n=[{key:"destroy",value:function(){this.popover&&(this.popover.destroy(),this.popover=void 0)}},{key:"isVisible",value:function(){return!!this.popover&&this.popover.isVisible()}},{key:"handleContextMenu",value:function(e,t){if(Xo.isAndroid)return!0;if(e.preventDefault(),e.stopPropagation(),t.options.disableContextMenu||t.options.isMobile)return!1;if(this.editor=t,this.popover&&this.popover.isVisible())return!0;w(e.target instanceof Node);var n=e.target;if(n.nodeType===Node.TEXT_NODE&&n.parentElement&&(n=n.parentElement),n instanceof Element&&n.closest(".".concat(Vi.BLOCK_MENU_BUTTON)))return!1;if(EN(n)){if(Ya(n,"img")&&!this.editor.isReadOnly()){var r=new MouseEvent("click");n.dispatchEvent(r)}var o=function(e,t){var n=PL(e),r=[];if(vb(e,n,r),e.isReadOnly()){var o=wN(t);if(!o)return r;var i=eh(o,n,t);return i&&i.length>0&&r.push.apply(r,[ga].concat(sb(i))),gb(e,r,n,t),r}if(n.type===ia.INVALID){if(e.getAgentSelector().isSelected()){var a=e.getAgentSelector().getContextMenuData();a.length>0&&(r.length>0&&r.push(ga),r.push.apply(r,sb(a)))}return gb(e,r,n,t),r}var s=n.startBlock;if(w(s),(n.collapsed||n.type===ia.ONE_TEXT_BLOCK)&&n.startBlock){var c=[],l=null;(l=n.startComplexBlock?eh(n.startComplexBlock,n,t):eh(s,n,t))&&l.length>0&&(c=l),c.length>0&&(r.length>0&&r.push(ga),r.push.apply(r,sb(c)))}return gb(e,r,n,t),r}(t,n);if(o.length>0)return this.show(e,o),!0}return!1}},{key:"hide",value:function(e){var t;null===(t=this.popover)||void 0===t||t.hide(e)}},{key:"show",value:function(e,t){var n=this;this.popover||(this.popover=new ry,this.popover.on("show",(function(){var e,t,r;if(ib()){var o=null===(r=null===(t=null===(e=n.popover)||void 0===e?void 0:e.popover)||void 0===t?void 0:t.instance)||void 0===r?void 0:r.popper;o&&o.addEventListener("mousedown",n.handleMousedown)}w(n.editor),n.editor.textToolbar.hide()})),this.popover.on("hide",(function(){var e,t,r;if(ib()){var o=null===(r=null===(t=null===(e=n.popover)||void 0===e?void 0:e.popover)||void 0===t?void 0:t.instance)||void 0===r?void 0:r.popper;o&&o.removeEventListener("mousedown",n.handleMousedown)}}))),w(this.editor),this.popover.createContextMenu(e,this.editor.rootContainer(),t)}}])&&tV(t.prototype,n),r&&tV(t,r),i}(va);function sV(e){return(sV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uV(e,t){return(uV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fV(e);if(t){var o=fV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pV(this,n)}}function pV(e,t){if(t&&("object"===sV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fV(e){return(fV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uV(e,t)}(i,e);var t,n,r,o=dV(i);function i(){return cV(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"destroy",value:function(){this.popover&&(this.popover.destroy(),this.popover=void 0)}},{key:"isVisible",value:function(e,t){return!(!this.popover||e!==this.commandTarget||t!==this.popoverTarget)&&this.popover.isVisible()}},{key:"hide",value:function(){var e;null===(e=this.popover)||void 0===e||e.hide()}},{key:"show",value:function(e,t,n,r,o){0!==r.length?this.isVisible(t,n)||(this.commandTarget=t,this.popoverTarget=n,this.editor=e,this.popover||(this.popover=new ry,this.popover.on("show",(function(){})),this.popover.on("hide",(function(){o.onHidden&&o.onHidden({})}))),w(this.editor),this.popover.createAutoHideMenu(t,n,null,r,o)):this.hide()}}])&&lV(t.prototype,n),r&&lV(t,r),i}(ba);function AV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mV=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},gV=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isShow=!1,this.popover=new QA,this.cursorLayer=this.createCursorLayer(),this.editor=t,this.scrollElement=cs(t.rootContainer())}var t,n,r;return t=e,(n=[{key:"createCursorLayer",value:function(){var e=document.createElement("div");return Qa(e,"drag-cursor-layer"),e}},{key:"destroy",value:function(){this.cursorLayer.remove(),this.popover.destroy()}},{key:"createSnapshot",value:function(t){return mV(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.isShow=!0,Qa(r=document.createElement("div"),e.SNAPSHOT_CONTAINER),ib()&&Qa(r,"safari"),ab()&&Qa(r,"ios"),o=this.editor.rootContainer(),!(t instanceof HTMLElement)){n.next=15;break}return w(jp(t)),a=t.getBoundingClientRect(),n.next=11,Eu()(t,{width:a.width,height:a.height,backgroundColor:"rgba(0, 0, 0, 0)",y:a.top+this.scrollElement.scrollTop});case 11:i=n.sent,a.height>e.SCALE_HEIGHT_THRESHOLD&&(i.style.width="".concat(a.width*e.SNAPSHOT_SCALE,"px"),i.style.height="".concat(a.height*e.SNAPSHOT_SCALE,"px")),n.next=19;break;case 15:return n.next=17,Eu()(o,Object.assign(Object.assign({backgroundColor:"rgba(0, 0, 0, 0)"},t),{foreignObjectRendering:!1}));case 17:i=n.sent,t.height>e.SCALE_HEIGHT_THRESHOLD&&(i.style.width="".concat(t.width*e.SNAPSHOT_SCALE,"px"),i.style.height="".concat(t.height*e.SNAPSHOT_SCALE,"px"));case 19:return r.append(i),n.abrupt("return",r);case 21:case"end":return n.stop()}}),n,this)})))}},{key:"showSnapshot",value:function(e,t,n){if(document.body.append(this.cursorLayer),this.isShow){var r={popoverTarget:document.body,commandTarget:this.editor.rootContainer(),maskTarget:null,parentPopover:null,content:n,interactive:!0,arrow:!1,theme:"drag-snapshot",placement:"right-start",followCursor:!0,maxWidth:"none",getReferenceClientRect:function(){return new DOMRect(e,t,0,0)}};this.popover.create(r)}}},{key:"show",value:function(e,t){return mV(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.createSnapshot(t);case 2:r=n.sent,this.showSnapshot(e.clientX,e.clientY,r);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"handleBlock",value:function(e){return Rp(e)===Qi.TABLE?Nx(e):Hf(e)&&(dp(Ap(e))===aa.OFFICE||cA(e))?Ow(e):e}},{key:"handleBlocks",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],o=up,i=mp,a=void 0;if(Hf(r)){var s=o(i(r));w(s),a=Hf(r)&&s.handleSnapShotBlock&&s.handleSnapShotBlock(e[n])?s.handleSnapShotBlock:this.handleBlock}else a=this.handleBlock;var c=a(e[n]);c&&t.push(c)}return t}},{key:"handleContentSize",value:function(t,n){var r=n[0].getBoundingClientRect(),o=n[n.length-1].getBoundingClientRect();if(1===n.length){var i=jp(n[0])?n[0]:wN(n[0]);if(i){var a=!1;if(Hf(i)){var s=Ap(i),c=dp(s);if(c===aa.WEBPAGE)return;if(c===aa.OFFICE&&pp(s)===ra.PREVIEW)return void Qa(t,"no-padding");c===aa.HR&&(a=!0)}(Uf(i)||a)&&(t.style.width="".concat(r.width+12,"px"))}}o.bottom-r.top>e.SCALE_HEIGHT_THRESHOLD&&(t.style.zoom=e.SNAPSHOT_SCALE.toString())}},{key:"showDom",value:function(t,n,r){this.isShow=!0;var o=document.createElement("div");Qa(o,e.SNAPSHOT_CONTAINER);var i=document.createDocumentFragment(),a=this.handleBlocks(Array.isArray(r)?r:[r]);w(a.length>0),a.forEach((function(e){var t=e.cloneNode(!0);t.querySelectorAll(".".concat(Vi.BLOCK_TOOLS)).forEach((function(e){return e.remove()})),i.append(t)})),this.handleContentSize(o,a),o.append(i),this.showSnapshot(t,n,o)}},{key:"hide",value:function(){var e;this.isShow&&(this.isShow=!1,null===(e=this.popover)||void 0===e||e.hide(),document.body.removeChild(this.cursorLayer))}}])&&AV(t.prototype,n),r&&AV(t,r),e}();function vV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}gV.SNAPSHOT_SCALE=.4,gV.SCALE_HEIGHT_THRESHOLD=60,gV.SNAPSHOT_CONTAINER="drag-snapshot-container";var bV=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},yV=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDrag=!1,this.scrollTimer=null,this.isComplexBlock=!0,this.lock=!1,this.snapshot=null,this.autoScroll=In()((function(t){w(n.scrollElement);var r=n.scrollElement.getBoundingClientRect();n.isDrag&&(t.clientY<Math.max(r.top,0)+e.SCROLL_CRITICAL&&n.scrollElement.scrollTop?n.scrollTimer||(n.scrollTimer=window.setInterval((function(){w(n.scrollElement),n.scrollElement.scrollTop=Math.max(n.scrollElement.scrollTop-e.SCROLL_SPEED,0)}),30)):t.clientY>n.scrollElement.clientHeight-e.SCROLL_CRITICAL&&n.scrollElement.scrollTop!==n.scrollElement.scrollHeight?n.scrollTimer||(n.scrollTimer=window.setInterval((function(){w(n.scrollElement),n.scrollElement.scrollTop=Math.min(n.scrollElement.scrollTop+e.SCROLL_SPEED,n.scrollElement.scrollHeight)}),30)):n.clearScrollTimer())})),this.showDragPosition=In()((function(e){var t;if(n.dragBlock){for(var r=document.elementsFromPoint(null!==(t=n.clientX)&&void 0!==t?t:e.clientX,e.clientY),o=null,i=!1,a=0;a<r.length;a++){var s=r[a];if(s instanceof HTMLElement){var c=wN(s);if(c){if(n.isComplexBlock||!Ff(c)||$h(c))o=zf(c)?Mh(c):c;else{var l=document.elementsFromPoint(e.clientX,e.clientY),u=null==l?void 0:l[a];if(u instanceof HTMLElement){if((o=wN(u))&&Jh(o)){var d=u.closest("td");if(d){var p=SN(Sx(d));w(p.length>0),o=p[p.length-1],i=!0}}}else o=c}break}if(s===n.editor.rootContainer())return}}var f=!0;o&&(f=!1,o=n.getPreviousRealBlock(o,i?void 0:e.clientY),n.dragRefBlock&&n.dragRefBlock!==o&&n.removeBlockPositionMarkingLine(n.dragRefBlock),n.dragRefBlock=o,Wh(o)),f&&n.dragRefBlock&&(n.removeBlockPositionMarkingLine(n.dragRefBlock),n.dragRefBlock=void 0)}})),this.handleDragging=function(e){return bV(n,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.lock){t.next=2;break}return t.abrupt("return");case 2:if(!(Math.abs(this.lastPos.x-e.clientX)<2&&Math.abs(this.lastPos.y-e.clientY)<2)){t.next=4;break}return t.abrupt("return");case 4:this.lock||(this.lock=!0,this.isDrag||(this.isDrag=!0,w(this.dragBlock),this.createSnapshot(this.dragBlock),this.getAllDragBlocks(this.dragBlock,!0).forEach((function(e){Qa(e,Vi.ON_DRAGGING)})),Qa(this.editor.rootElement,Vi.ON_DRAGGING),this.editor.setDragging(!0)),this.lastPos={x:e.clientX,y:e.clientY},this.lock=!1),this.showDragPosition(e),this.autoScroll(e);case 7:case"end":return t.stop()}}),t,this)})))},this.clearClass=function(e){e&&n.getAllDragBlocks(e,!0).forEach((function(e){Ja(e,Vi.ON_DRAGGING)}));Ja(n.editor.rootElement,Vi.ON_DRAGGING)},this.handleDragEnd=function(){var e;n.editor.setDragging(!1);var t=n.dragBlock;if(n.dragRefBlock){w(n.dragBlock),w(n.dragInterval),w(n.scrollElement);var r=kN(n.dragBlock),o=n.getMoveIndex(),i=kN(n.dragRefBlock),a=n.editor.canInsertBlockAt(i,o),s=r!==i||o<n.dragInterval[0]||o>n.dragInterval[1]+1;if(a&&s){var c=n.scrollElement.scrollTop,l=n.isCollapsedHeadingBlock(n.dragBlock);n.editor.beginUndoGroup();try{var u=n.getAllDragBlocks(n.dragBlock),d=n.cloneBlocksData(n.dragBlock),p=xN(n.dragRefBlock);w(p);for(var f=Rp(p)===Qi.TABLE,h=0;h<u.length;h++){if(f&&"webpage"===d[h].embedType){var A=d[h];A.embedData&&void 0===A.embedData.width&&(A.embedData.width=Math.floor(.6*n.editor.rootContainer().offsetWidth))}n.editor.insertBlock(i,o+h,d[h].type,d[h],{focusToBlock:!1,fromUndo:!1,localAction:!0})}var m=BN(i,o),g=n.editor.options.strictList&&!n.editor.options.disableDragListChildren;n.editor.deleteBlock(n.dragBlock,{fromUndo:!1,localAction:!0,withChildren:g}),l&&Ju(m),n.editor.selectBlock(m,0,0),null===(e=n.cb)||void 0===e||e.call(n,m)}finally{n.scrollElement.scrollTop=c,n.editor.endUndoGroup()}n.editor.refreshComments({refreshNow:!0})}n.removeBlockPositionMarkingLine(n.dragRefBlock),n.dragRefBlock=void 0}t&&n.clearClass(t),n.dragSnapshot.hide(),window.removeEventListener("mousemove",n.handleDragging),window.removeEventListener("mouseup",n.handleDragEnd),window.removeEventListener("selectstart",n.handleSelectsStart),n.isDrag=!1,n.dragBlock=void 0,n.clientX=void 0,n.dragInterval=void 0,n.snapshot=null,n.clearScrollTimer()},this.handleSelectsStart=function(e){e.preventDefault(),e.stopPropagation()},this.editor=t,this.dragSnapshot=new gV(this.editor),this.lastPos={x:0,y:0}}var t,n,r;return t=e,(n=[{key:"clearScrollTimer",value:function(){this.scrollTimer&&(window.clearInterval(this.scrollTimer),this.scrollTimer=null)}},{key:"removeBlockPositionMarkingLine",value:function(e){var t,n=Wh(e);null===(t=n.parentElement)||void 0===t||t.removeChild(n)}},{key:"getPreviousRealBlock",value:function(e,t){w(this.dragInterval),w(this.dragBlock);var n=e;if(!this.editor.isTitleBlock(e)){var r=kN(this.dragBlock),o=kN(e),i=e,a=e.getBoundingClientRect(),s=a;if(r===o){var c=TN(e);c>=this.dragInterval[0]&&c<=this.dragInterval[1]&&(a=(i=BN(o,this.dragInterval[0])).getBoundingClientRect(),s=(n=BN(o,this.dragInterval[1])).getBoundingClientRect())}if(void 0!==t&&a.top+(s.bottom-a.top)/2>t){for(var l=MN(i);l&&ed(l);)l=MN(l);if(l)return l}}return n}},{key:"cloneBlocksData",value:function(e){var t,n,r,o=[],i=new Map,a=this.getAllDragChildren(e);w(this.dragRefBlock);var s=hf(e);if(s.type===Qi.LIST){var c=s;c.start=1,c.groupId=void 0;var l=1-(null!==(t=c.level)&&void 0!==t?t:1);if(vD(this.dragRefBlock)){c.start=xD(this.dragRefBlock)+1;var u,d,p=MD(this.dragRefBlock);if(w(void 0!==c.level),p>=c.level)u="brother",d=p,this.editor.options.strictList||$D(e,this.dragRefBlock)&&MD(e)===MD(this.dragRefBlock)?c.groupId=TD(this.dragRefBlock):c.groupId=B();else{u="child";var f=PD(this.dragRefBlock);c.groupId=f?TD(f):B(),c.start=1,d=p+1}if(l=d-c.level,a.length&&"brother"===u){var h=PD(this.dragRefBlock);h&&i.set(TD(a[0]),TD(h))}}else{var A=IN(this.dragRefBlock);A&&vD(A)&&$D(A,e)&&MD(A)===MD(e)?c.groupId=TD(A):c.groupId=B()}this.editor.options.strictList&&(c.level=(null!==(n=c.level)&&void 0!==n?n:1)+l),o.push(If(this.editor,c.type,c));for(var m=0;m<a.length;m++){var g=hf(a[m]);if(g.type===Qi.LIST){var v=g;v.level=(null!==(r=v.level)&&void 0!==r?r:1)+l,i.has(v.groupId)||i.set(v.groupId,B()),v.groupId=i.get(v.groupId)}o.push(If(this.editor,g.type,g))}}else{if(Ff(e))return s.id=B(),[s];o.push(If(this.editor,s.type,s));for(var b=[],y=0;y<a.length;y++){var x=hf(a[y]);b.push(If(this.editor,x.type,x))}var k=new Map;b.forEach((function(e){if("list"===e.type){var t=e;w(t.groupId),t.groupId=function(e){var t=k.get(e);return t||(t=B(),k.set(e,t)),t}(t.groupId)}})),o.push.apply(o,b)}return o}},{key:"getSnapshotRect",value:function(e){var t,n,r,o;w(this.scrollElement);var i=e[0].getBoundingClientRect(),a=e[e.length-1].getBoundingClientRect();return{height:a.bottom-i.top,width:a.right-i.left,x:(null!==(n=null===(t=document.scrollingElement)||void 0===t?void 0:t.scrollLeft)&&void 0!==n?n:0)+i.left,y:(null!==(o=null===(r=document.scrollingElement)||void 0===r?void 0:r.scrollTop)&&void 0!==o?o:0)+i.top}}},{key:"showSnapshot",value:function(){this.isDrag&&this.snapshot&&this.dragSnapshot.showSnapshot(this.lastPos.x,this.lastPos.y,this.snapshot)}},{key:"createSnapshot",value:function(e){return bV(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.getAllDragBlocks(e,!0),this.dragInterval=[TN(n[0]),TN(n[n.length-1])],this.dragSnapshot.showDom(this.lastPos.x,this.lastPos.y,n);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"isCollapsedHeadingBlock",value:function(e){return Gu(e)&&qu(e)}},{key:"getMoveIndex",value:function(){w(this.dragRefBlock);var e=this.dragRefBlock;if(this.isCollapsedHeadingBlock(this.dragRefBlock)){var t=Zu(this.dragRefBlock);t.length&&(e=t[t.length-1])}return TN(e)+1}},{key:"getAllDragBlocks",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getAllDragChildren(e,t);return n.unshift(e),n}},{key:"getAllDragChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.editor.options.strictList&&!this.editor.options.disableDragListChildren,r=[];return!t&&this.isCollapsedHeadingBlock(e)?r=Zu(e):n&&vD(e)&&(r=GD(e)),r}},{key:"destroy",value:function(){this.dragSnapshot.destroy()}},{key:"startDrag",value:function(e,t,n){return bV(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.editor.isReadOnly()&&!this.editor.isTitleBlock(t)){r.next=2;break}return r.abrupt("return");case 2:if(this.editor.isBlockWritable(t)){r.next=4;break}return r.abrupt("return");case 4:this.scrollElement=cs(this.editor.rootContainer()),this.dragBlock=t,this.cb=n,w(o=xN(t)),i=o.getBoundingClientRect(),this.clientX=i.left,this.lastPos={x:e.clientX,y:e.clientY},this.isComplexBlock=Ff(t),window.addEventListener("mousemove",this.handleDragging),window.addEventListener("mouseup",this.handleDragEnd),window.addEventListener("selectstart",this.handleSelectsStart);case 16:case"end":return r.stop()}}),r,this)})))}}])&&vV(t.prototype,n),r&&vV(t,r),e}();yV.SCROLL_CRITICAL=30,yV.SCROLL_SPEED=10;var wV=n(7487),xV=n.n(wV),kV={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(xV(),kV);xV().locals;var CV,EV,BV="marker-container",TV="editor-marker-mask";function MV(e,t){var n=Wp(e,!0);w(n);var r=n.querySelector(".".concat(BV));if(!r){if(!t)return null;r=ps("div",[BV],n),n.appendChild(r)}var o=Gp(e).getBoundingClientRect().width;return r.style.width="".concat(o+2*ta,"px"),r}function IV(e){var t;CV&&CV.destroy(),console.log(e.customData);var n=e.customData,r=MV(n,!0);r&&r.remove(),EV&&EV.remove();var o=OX.getEditor(n);if(null===(t=o.options.callbacks)||void 0===t?void 0:t.onMarkerCreated){var i=hf(n),a=i.text,s="";a&&(s=a.toPlainText()),o.options.callbacks.onMarkerCreated(o,s,i)}Rh(n);var c=hf(n);Sh(n,c.markerData||"",c.markerWidth||0,!!c.markerExpired)}function DV(e,t){Lh(e);var n=hf(e),r=n.markerData,o=n.markerWidth||e.getBoundingClientRect().width;Dh(e,r||"",o),CV&&CV.destroy();var i=function(){var n=MV(e,!0);w(n);var i=n.getBoundingClientRect();(CV=new window.WizSvgPainter({clientType:"web",lang:"en",maxUndo:200,forbidChangeDocTitle:!0,callback:{undo:function(e){(e.canUndo||e.canRedo)&&(w(e),t(function(){if(!CV)return"";var e=CV.editor.getSvgData();if(0===e.length||e[0].isEmpty)return"";var t=e[0].svgHtml,n=CV.editorTools.getMinAreaFromPath();return CV.editorTools.fixSvgHtmlViewBox(t,0,0,n.width,n.maxHeight)}(),o))}}},{isCreateNote:!0,isNoteMarker:!0,painterContainer:n,marker:{showToolbar:!0,width:i.width,height:i.height-ea},toolbar:{hideSaveButton:!0},customData:e,buttons:'closeMarker,,\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',handleClickButton:IV})).editor.on(),r&&CV.page.init(r)};gs("https://live-editor.com/wp-content/new-uploads/0e3ab016-a081-4856-a10b-1e2b433c8380.js","marker-painter-script").then((function(){i()})),function(e){var t=OX.getEditor(e);EV?t.rootElement.appendChild(EV):EV=ps("div",[TV],t.rootElement)}(e)}function _V(e){return function(e){if(Array.isArray(e))return NV(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||OV(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||OV(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OV(e,t){if(e){if("string"==typeof e)return NV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NV(e,t):void 0}}function NV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var LV=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},RV=qo.orderListIcon,jV=qo.unOrderListIcon,UV=qo.checkboxIcon,FV=qo.heading1Icon,zV=qo.heading2Icon,QV=qo.heading3Icon,PV=qo.heading4Icon,HV=qo.heading5Icon,VV=qo.heading6Icon,KV=qo.heading7Icon,GV=qo.heading8Icon,WV=qo.alignRightIcon,YV=qo.alignCenterIcon,qV=qo.alignLeftIcon,ZV=qo.quoteIcon,XV=qo.mathIcon,JV=qo.linkIcon,$V=qo.webIcon;function eK(e,t){var n=hf(e);w(Uf(e)),w(n),w(n.text);var r=zp(e),o=If(t,Qi.TEXT,Object.assign({},n),r);t.replaceBlock(e,o,{fromUndo:!1,focusToBlock:!0})}function tK(e,t){w(t);var n=Bh(),r=OX.getEditor(n);r.selectBlock(n,0,-1),document.execCommand("copy"),setTimeout((function(){r.selectBlock(n,0,0)}),100)}function nK(e,t){w(t);var n=Bh(),r=OX.getEditor(n);r.isBlockLocked(n)||r.isTitleBlock(n)||r.isBlockWritable(n)&&(r.selectBlock(n,0,-1),document.execCommand("copy"),r.deleteBlock(n,{fromUndo:!1,localAction:!1}))}function rK(e,t){w(t);var n=Bh(),r=OX.getEditor(n);r.isBlockLocked(n)||r.isTitleBlock(n)||r.deleteBlock(n,{fromUndo:!1,localAction:!0})}function oK(e,t){w(t);var n=Bh();console.log(n),OX.getEditor(n).isWritable()&&DV(n,(function(e,t){OX.getEditor(n).setBlockMarkerData(n,e,t,{fromUndo:!1,updateBlock:!1,partial:!0})}))}function iK(e,t){w(t),Oh(t.data,!1)}function aK(e,t){Oh(t.data,!0)}function sK(e,t){var n=t.data;w(n),OX.getEditor(n).executeBlockCommand("comment",n)}function cK(e,t){OX.hideCurPopover(),t.onClick&&t.onClick(e,t)}function lK(e,t){w(t);var n=Bh(),r=["toHeading1","toHeading2","toHeading3","toHeading4","toHeading5","toHeading6","toHeading7","toHeading8"][t.data-1],o=OX.getEditor(n);Uf(n)||w(!1,"not a valid text block"),o.selectBlock(n,0,0),o.executeBlockCommand(r,n)}function uK(e,t){w(t);var n=Bh(),r=t.data;w(r);var o=OX.getEditor(n);Uf(n)||Xh(n)||w(!1,"not a valid text / image block");var i="alignLeft";"center"===r?i="alignCenter":"right"===r&&(i="alignRight"),o.executeBlockCommand(i,n)}function dK(e,t){w(t);var n=Bh(),r=OX.getEditor(n);Uf(n)||w(!1,"not a valid text block"),r.executeBlockCommand("toOrderedList",n)===n&&eK(n,r)}function pK(e,t){w(t);var n=Bh(),r=OX.getEditor(n);Uf(n)||w(!1,"not a valid text block"),r.executeBlockCommand("toUnorderedList",n)===n&&eK(n,r)}function fK(e,t){w(t);var n=Bh(),r=OX.getEditor(n);Uf(n)||w(!1,"not a valid text block"),r.executeBlockCommand("toCheckbox",n)===n&&eK(n,r)}function hK(e,t){var n=t.data;w(n);var r=OX.getEditor(n);r.setBlockQuoted(n,!r.isBlockQuoted(n))}function AK(e,t){var n=t.data;w(n),OX.getEditor(n).lockBlock(n)}function mK(e,t){var n=t.data;w(n),OX.getEditor(n).unlockBlock(n)}function gK(e,t){var n,r=this,o=[{id:"",text:ju.command.common,groupHeader:!0,order:1}],i=Eh(e);return Array.from(i.entries()).forEach((function(e){var n=SV(e,2),r=n[0];(n[1]!==Qi.TEXT||t)&&o.push(r)})),o.push({id:"",text:ju.link.linkMenuName,order:EO.link,supportMarkdown:!0,icon:JV,onClick:function(){var t=qX();w(t),w(t.target);var n=wN(t.target);w(n),Lm(e,(function(t,o){return LV(r,void 0,void 0,regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=kN(n),a=TN(n),Gf(n)||(a+=1),e.insertTextBlock(i,a,Yo.createWithAttributes(t,{link:o})),r.abrupt("return",!0);case 5:case"end":return r.stop()}}),r)})))}),n)}},{id:"",text:ju.math.mathMenuName,supportMarkdown:!0,icon:XV,order:EO.math,onClick:function(){var t=qX();w(t),w(t.target);var n,r=wN(t.target);if(w(r),Gf(r))n=r;else{var o=kN(r),i=TN(r)+1;n=e.insertTextBlock(o,i,"")}pv(e,n,0,Pi.MATH)}},{id:"",text:ju.blocks.webpage,order:EO.webpage,icon:$V,onClick:function(){e.executeBlockCommand("webpage",void 0,{name:ju.webpage.other,type:"normal",helpLink:"",helpHtml:ju.webpage.otherHelp,icon:$V})}}),(null===(n=e.options)||void 0===n?void 0:n.blockMenuItems)&&o.push.apply(o,_V(e.options.blockMenuItems)),o.sort((function(e,t){var n=e.order||EO.secondLevelHeader-1,r=t.order||EO.secondLevelHeader-1;return n===r?e.text.localeCompare(t.text):n-r})),o}function vK(e,t,n){var r=[];return e.options.disableMarker||Ff(t)||zf(t)||!e.isBlockWritable(t)||(n.markerData&&e.isBlockMarkerExpired(t)&&(Nh(t)?r.push({id:"",text:ju.command.hideExpiredMarker,icon:"",disabled:!1,onClick:iK,data:t}):r.push({id:"",text:ju.command.showExpiredMarker,icon:"",disabled:!1,onClick:aK,data:t})),r.push({id:"",text:ju.command.marker,icon:"",disabled:!1,onClick:oK,data:t})),r}function bK(e,t){return[{id:"",text:ju.fontType.addComment,onClick:sK,data:t}]}function yK(e){var t=[],n=OX.getEditor(e),r=hf(e);if(n.isMarkdownOnly()&&kN(e)!==n.rootContainer())return[];if(n.isTitleBlock(e))return function(e,t,n){if(e.isReadOnly())return[];w(e.isTitleBlock(t));var r=[];r.push({id:"",text:ju.command.copy,icon:"",disabled:!1,onClick:tK,data:t}),e.isBlockLocked(t)?e.isBlockWritable(t)?r.push({id:"",text:ju.command.unlock,onClick:mK,data:t}):r.push({id:"",text:ju.get(ju.command.lockedBy,{name:e.getBlockLockInfo(t).displayName}),disabled:!0,onClick:function(){}}):r.push({id:"",text:ju.command.lock,onClick:AK,data:t}),e.isMarkdownOnly()||(r.push.apply(r,_V(vK(e,t,n))),e.options.hideComments||r.push.apply(r,_V(bK(0,t))));var o={id:"",text:ju.command.insertBelow,icon:"",subItems:gK(e,!0)};return r.push(ga,o),r}(n,e,r);var o=function(e,t,n){for(var r,o=Rp(t),i=[FV,zV,QV,PV,HV,VV,KV,GV],a=[],s=null!==(r=e.options.maxHeading)&&void 0!==r?r:5,c=1;c<=s;c++){var l="heading".concat(c),u=ju.fontType[l],d="h".concat(c,"Info"),p=ju.quickInsert[d];a.push({id:"",text:u,infoText:p,icon:i[c-1],onClick:lK,checked:n.heading===c,data:c})}return a.push({id:"",text:ju.list.toUnordered,icon:jV,onClick:pK,checked:o===Qi.LIST&&!n.ordered&&!n.checkbox,data:t},{id:"",text:ju.list.toOrdered,icon:RV,onClick:dK,checked:o===Qi.LIST&&n.ordered&&!n.checkbox,data:t},{id:"",text:ju.blocks.todo,infoText:ju.quickInsert.todoInfo,icon:UV,onClick:fK,checked:o===Qi.LIST&&!!n.checkbox,data:t},{id:"",text:ju.quickInsert.quote,infoText:ju.quickInsert.quoteInfo,icon:ZV,onClick:hK,checked:rf(t),data:t}),e.isMarkdownOnly()||a.push({id:"",text:ju.formatType.alignLeft,icon:qV,onClick:uK,checked:"center"!==n.align&&"right"!==n.align,data:"left"},{id:"",text:ju.formatType.alignCenter,icon:YV,onClick:uK,checked:"center"===n.align,data:"center"},{id:"",text:ju.formatType.alignRight,icon:WV,onClick:uK,checked:"right"===n.align,data:"right"}),[{id:"",text:ju.command.styles,groupHeader:!0},{id:"",text:"",element:uy(t,a,cK,["block-menu-style-commands"])}]}(n,e,r),i=function(e,t,n){var r=function(n,r){if(Hf(t)){var o=up(mp(t));if(null==o?void 0:o.getBlockMenuOptions){var i=o.getBlockMenuOptions(e,t);return void 0===i[n]?r:i[n]}return r}return r},o=[{id:"",text:ju.command.operations,groupHeader:!0},{id:"",text:ju.command.copy,icon:"",disabled:r("copy",!1),onClick:tK,data:t},{id:"",text:ju.command.cut,icon:"",disabled:r("cut",e.isBlockLocked(t)),onClick:nK,data:t},{id:"",text:ju.command.delete,icon:"",disabled:r("delete",e.isBlockLocked(t)),onClick:rK,data:t}];return e.isMarkdownOnly()||(e.isBlockLocked(t)?e.isBlockWritable(t)?o.push({id:"",text:ju.command.unlock,onClick:mK,data:t}):o.push({id:"",text:ju.get(ju.command.lockedBy,{name:e.getBlockLockInfo(t).displayName}),disabled:!0,onClick:function(){}}):o.push({id:"",text:ju.command.lock,onClick:AK,disabled:r("lock",!1),data:t})),e.isMarkdownOnly()||(o.push.apply(o,_V(vK(e,t,n))),e.options.hideComments||o.push.apply(o,_V(bK(0,t)))),o}(n,e,r),a=gK(n,!Gf(e)),s=kN(e);if(!pL(s)&&wN(s)&&!dh(e,Qi.TEXT))return i;if(Uf(e)&&n.isBlockWritable(e))t=_V(o);else if(Xh(e)&&n.isBlockWritable(e)){t=_V(function(e,t,n){var r=[];return e.isMarkdownOnly()||r.push({id:"",text:"",icon:qV,onClick:uK,checked:"center"!==n.align&&"right"!==n.align,data:"left"},{id:"",text:"",icon:YV,onClick:uK,checked:"center"===n.align,data:"center"},{id:"",text:"",icon:WV,onClick:uK,checked:"right"===n.align,data:"right"}),[{id:"",text:ju.command.styles,groupHeader:!0},{id:"",text:"",element:uy(t,r,cK,["block-menu-style-commands"])}]}(n,e,r))}if(Gf(e))t=[].concat(_V(t),_V(a));else{var c={id:"",text:ju.command.insertBelow,icon:"",subItems:a};t=[].concat(_V(t),_V(i),[ga,c])}return t}function wK(e){return(wK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kK(e,t){return(kK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function CK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=BK(e);if(t){var o=BK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EK(this,n)}}function EK(e,t){if(t&&("object"===wK(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function BK(e){return(BK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var TK=qo.addCircleIcon,MK=qo.moreCircleIcon,IK="for-empty",DK="for-table",_K="for-heading";function SK(e){var t=e;if(t&&!Ff(t)){var n=Mh(t);if(n){var r=Rp(n);"table"!==r&&"code"!==r||(t=n)}}return t}var OK=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kK(e,t)}(i,e);var t,n,r,o=CK(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).blockChanged=!0,t.handleMouseMoveOutEditor=function(e){if(t.button&&t.button.parentElement&&t.curBlock){var n=e.target;w(n instanceof Element);try{if(!t.editor.isInEditor(t.curBlock))return void t.hide();if(t.editor.rootContainer().contains(n))return;t.popover&&!t.popover.handleMouseMove(e)?t.hide():t.popover||t.hide()}catch(e){}}else t.hide()},t.handleMouseEnter=function(){t.showMenu()},t.handleButtonMouseDown=function(e){if(w(t.curBlock),e.target instanceof Element){var n=e.target.closest(".more");n&&!Ga(n,"dragNotAllowed")&&t.dragHandler.startDrag(e,t.curBlock,(function(e){return t.show(e)}))}},t.handleButtonClick=function(e){var n,r;e.preventDefault(),e.stopPropagation(),w(t.curBlock),t.editor.selectBlock(t.curBlock,0,0),Gf(t.curBlock)||(t.editor.selectEntireBlock(t.curBlock),(null===(n=t.editor.options.callbacks)||void 0===n?void 0:n.onBlockMenuButtonClick)&&(null===(r=t.editor.options.callbacks)||void 0===r||r.onBlockMenuButtonClick(t.editor,t.curBlock,e)))},t.handleSelectionChanged=function(e){if(!e.startBlock||e.startBlock!==e.endBlock)return t.hide(),!1;if(e.startBlock!==t.curBlock&&t.hide(),t.editor.isMouseDown())return!1;t.button&&(t.button.style.pointerEvents="none");var n=SK(e.startBlock);return w(n),t.curBlock=n,t.show(),!0},t.editor=e,t.dragHandler=new yV(e),t}return t=i,(n=[{key:"destroy",value:function(){this.removeHoverTag(),this.dragHandler.destroy(),this.popover&&(this.popover.destroy(),this.popover=void 0),this.button&&(this.button.remove(),this.button=void 0)}},{key:"hide",value:function(){this.removeHoverTag(),document.removeEventListener("mousemove",this.handleMouseMoveOutEditor),this.popover&&this.popover.isVisible()&&this.popover.quickHide(),this.button&&(this.button.removeEventListener("mousedown",this.handleButtonMouseDown),this.button.removeEventListener("click",this.handleButtonClick),this.button.style.display="none",this.curBlock&&(Ja(this.curBlock,Vi.HIDE_LINE_NUMBER),this.curBlock=void 0))}},{key:"isShowMenu",value:function(){return!!this.popover&&this.popover.isVisible()}},{key:"handleMouseMove",value:function(e){if(this.button&&(this.button.style.pointerEvents=""),this.editor.options.isMobile||this.editor.isMouseDown())return!1;if(this.editor.contextMenu.isVisible())return this.hide(),!1;var t=e.target;if(w(t instanceof Element),ks(e,this.button,10,15))return this.dragHandler.isDrag||this.addHoverTag(),!0;if(this.removeHoverTag(),this.popover&&this.popover.handleMouseMove(e))return!0;var n=SK(wN(t));return n===this.curBlock||(this.hide(),n&&(this.curBlock=n,this.show()),!1)}},{key:"createButton",value:function(e){if(!e){w(e=document.createElement("div")),Qa(e,Vi.BLOCK_MENU_BUTTON);var t=document.createElement("div");Qa(t,"more");var n=document.createElement("div");Qa(n,"add"),t.innerHTML=MK,n.innerHTML=TK,e.append(t),e.append(n),e.addEventListener("mouseenter",this.handleMouseEnter)}e.style.display="";var r=this.curBlock;w(r);var o=Rp(r);Gf(r)&&o===Qi.TEXT?Qa(e,IK):Ja(e,IK),o===Qi.TABLE?Qa(e,DK):Ja(e,DK),Gu(r)&&!this.editor.isTitleBlock(r)?Qa(e,_K):Ja(e,_K),Ja(e,"title-block-button"),Qa(r,Vi.HIDE_LINE_NUMBER);var i=!0;this.editor.isMarkdownOnly()&&kN(r)!==this.editor.rootContainer()&&(i=!1),this.editor.options.showComplexBlockMenuButton||!Ff(r)&&Mh(r)&&(i=!1);var a=e.querySelector(".more");w(a),this.dragNotAllowed()?Qa(a,"dragNotAllowed"):Ja(a,"dragNotAllowed"),e.style.display=i?"":"none";var s=Wp(r,!0);return w(s),s.appendChild(e),e}},{key:"dragNotAllowed",value:function(){return w(this.curBlock),sA(this.curBlock)}},{key:"show",value:function(e){this.editor.options.isMobile||(e&&(this.curBlock=e),w(this.curBlock),this.editor.isTitleBlock(this.curBlock)||this.editor.isReadOnly()||(this.button=this.createButton(this.button),this.updatedXOffset(),document.addEventListener("mousemove",this.handleMouseMoveOutEditor),this.button.addEventListener("mousedown",this.handleButtonMouseDown),this.button.addEventListener("click",this.handleButtonClick)))}},{key:"showMenu",value:function(){var e,t;if(!(this.dragHandler.isDrag||this.editor.options.hideBlockMenu||this.editor.contextMenu.isVisible()||this.editor.isDragging()||this.editor.getAgentSelector().isSelecting())){var n=OX.getCurrentCommandTarget();if(!(n&&n.srcPopover&&n.srcPopover.isVisible())||this.editor.findDialog.isMyPopover(n.srcPopover)||this.editor.textToolbar.isMyPopover(n.srcPopover)||kw.isMyPopover(n.srcPopover)||this.editor.linkDialogShow){this.popover||(this.popover=new ry,this.popover.on("show",(function(){}))),w(this.curBlock),w(this.button);var r=yK(this.curBlock);if(0===r.length&&r.push({id:"",text:"None",disabled:!0}),!(null===(t=null===(e=this.editor.options)||void 0===e?void 0:e.callbacks)||void 0===t?void 0:t.onShowBlockMenu)||!this.editor.options.callbacks.onShowBlockMenu(this.editor,this.curBlock,r)){var o=this.curBlock,i=this.getFirstButton(),a=this.button.parentElement;this.popover.createAutoHideMenu(o,i,a,r)}}}}},{key:"addHoverTag",value:function(){this.editor.isReadOnly()||this.editor.isDragging()||this.editor.getAgentSelector().isSelecting()||this.editor.textToolbar.isVisible()||(w(this.curBlock),Ga(this.curBlock,Vi.BLOCK_ENTIRE_HOVER)||Qa(this.curBlock,Vi.BLOCK_ENTIRE_HOVER))}},{key:"removeHoverTag",value:function(){this.curBlock&&Ga(this.curBlock,Vi.BLOCK_ENTIRE_HOVER)&&Ja(this.curBlock,Vi.BLOCK_ENTIRE_HOVER)}},{key:"getFirstButton",value:function(){var e;return w(this.button),w(e=Ga(this.button,IK)?this.button.querySelector(".add"):this.button.querySelector(".more")),e}},{key:"updatedXOffset",value:function(){if(this.curBlock&&this.button){var e=0;if(Rp(this.curBlock)===Qi.TABLE){var t=Gp(this.curBlock),n=this.curBlock.getBoundingClientRect(),r=Nx(this.curBlock),o=r.getBoundingClientRect(),i=t.getBoundingClientRect();e=Math.max(o.left,i.left)-n.left-yx(r)}this.button.style.left="".concat(e,"px")}}}])&&xK(t.prototype,n),r&&xK(t,r),i}(da),NK=n(9538),LK=n.n(NK),RK={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(LK(),RK);LK().locals;function jK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var UK=qo.prevIcon,FK=qo.nextIcon,zK=qo.closeIcon,QK=qo.moreIcon,PK=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._compositionEndTime=0,this.oldText="",this.oldSelection=null,this.oldSelectionDetail=null,this.handleFindChanged=function(){n.doSearch({keepReplaceResult:!1,gotoFirstSearchResult:!0})},this.handleCompositionEnd=function(){n._compositionEndTime=Date.now(),n.handleFindChanged()},this.handleInput=function(e){e.isComposing||JI(n._compositionEndTime)?n.doSearch.cancel():n.handleFindChanged()},this.handleFind=function(){n.findNext({keepSearchResult:!1})},this.handleReplace=function(){var e=n.components.findInput.value;if(e&&fg(n.editor)){var t=n.components.replaceInput.value;if(e!==t){if(yg(n.editor,e,t)){var r=Ag(n.editor),o=cg(n.editor);n.updateSearchStatus(r,o)}n.findNext({keepSearchResult:!0})}}},this.handleReplaceAll=function(){var e,t,r=n.components.findInput.value;if(r){var o=n.components.replaceInput.value;if(r!==o){var i=kg(n.editor,r,o);i>0&&(n.oldText="",n.doSearchNow({keepReplaceResult:!0,gotoFirstSearchResult:!0}),n.clearFind({keepReplaceResult:!0}),(null===(e=n.editor.options.callbacks)||void 0===e?void 0:e.onReplaceAll)&&(null===(t=n.editor.options.callbacks)||void 0===t||t.onReplaceAll(n.editor,i,r,o)))}}},this.doSearch=In()(this.doSearchNow,300),this.editor=t;var r=ps("div",["editor-find-dialog"],null),o=ps("div",["editor-find-content"],r),i=ps("div",["editor-find-dialog-row"],o),a=hs(zK,["editor-find-dialog-button-close"],r);ps("label",["editor-find-dialog-label"],i,ju.find.findLabel).htmlFor="";var s=ps("div",["editor-find-dialog-input-container"],i),c=ps("input",["editor-find-dialog-input"],s);c.type="text",c.placeholder=ju.find.findPlaceholder;var l,u=ps("div",["editor-find-dialog-status"],s),d=hs(UK,["editor-find-dialog-icon-button"],u),p=ps("div",["editor-find-dialog-curr"],u,"0/0"),f=hs(FK,["editor-find-dialog-icon-button"],u);l=ju.find.moreButton?ps("button",["editor-find-dialog-button"],i,ju.find.moreButton):hs(QK,["editor-find-dialog-icon-button-border"],i);var h=ps("div",["editor-find-dialog-row"],o);ps("label",["editor-find-dialog-label"],h,ju.find.replaceLabel).htmlFor="";var A=ps("div",["editor-find-dialog-input-container"],h),m=ps("input",["editor-find-dialog-input"],A);m.type="text",m.placeholder=ju.find.replacePlaceholder;var g=ps("div",["editor-find-dialog-row"],o);ps("div",["editor-find-dialog-space"],g);var v=ps("button",["editor-find-dialog-button"],g,ju.find.findButton),b=ps("button",["editor-find-dialog-button"],g,ju.find.replaceButton),y=ps("button",["editor-find-dialog-button"],g,ju.find.replaceAllButton);l.onclick=function(){n.showReplace()},a.onclick=function(){n.hide()},c.onkeydown=function(e){e.isComposing||JI(n._compositionEndTime)?n.doSearch.cancel():si(e)?(n.doSearch.cancel(),n.doSearchNow({keepReplaceResult:!1,gotoFirstSearchResult:!0})):li(e)&&n.hide()},c.onfocus=function(){Qa(s,"focused")},c.onblur=function(){Ja(s,"focused")},m.onfocus=function(){Qa(A,"focused")},m.onblur=function(){Ja(A,"focused")},c.oninput=this.handleInput,c.onpaste=this.handleFindChanged,c.oncut=this.handleFindChanged,c.addEventListener("compositionend",this.handleCompositionEnd),c.maxLength=50,v.onclick=this.handleFind,b.onclick=this.handleReplace,y.onclick=this.handleReplaceAll,m.maxLength=50,f.onclick=function(){n.gotoNext()},d.onclick=function(){n.gotoPrev()},this.components={findInput:c,findPrev:d,findCurrent:p,findNext:f,replaceInput:m,findButton:v,replaceButton:b,replaceAllButton:y,closeButton:a,showReplaceButton:l,rowReplace:h,rowActions:g,statusContainer:u},this.root=r}var t,n,r;return t=e,(n=[{key:"destroy",value:function(){var e;null===(e=this.dialog)||void 0===e||e.destroy(),this.root.remove()}},{key:"isMyPopover",value:function(e){return!(!this.dialog||!this.isVisible())&&this.dialog.popover===e}},{key:"findNext",value:function(e){this.doSearch.cancel(),this.doSearchNow({keepReplaceResult:e.keepSearchResult,gotoFirstSearchResult:!0})}},{key:"doSearchNow",value:function(e){var t,n=this.components.findInput.value;if(n||this.clearFind(e),this.oldText!==n){this.oldText=n,this.editor.highlightText(n,e);var r=cg(this.editor),o=Cg(this.editor,null!==(t=this.oldSelectionDetail)&&void 0!==t?t:void 0);e.gotoFirstSearchResult&&function(e,t){var n=ag(e);n.length>0&&t<n.length&&mg(e,n[t])}(this.editor,o),this.updateSearchStatus(o,r)}else this.gotoNext()}},{key:"gotoNext",value:function(){var e=cg(this.editor),t=function(e){var t=ag(e);if(0===t.length)return 0;var n=fg(e),r=n?t.indexOf(n):-1;return n&&-1!==r&&r!==t.length-1?r+=1:r=0,mg(e,t[r]),r}(this.editor);this.updateSearchStatus(t,e)}},{key:"gotoPrev",value:function(){var e=cg(this.editor),t=function(e){var t=ag(e);if(0===t.length)return 0;var n=fg(e),r=n?t.indexOf(n):-1;return n&&-1!==r&&0!==r?r-=1:r=t.length-1,mg(e,t[r]),r}(this.editor);this.updateSearchStatus(t,e)}},{key:"updateSearchStatus",value:function(e,t){if(this.oldText?this.components.statusContainer.style.display="flex":this.components.statusContainer.style.display="none",0===t)this.components.findCurrent.innerText="0/0",this.components.replaceAllButton.disabled=!0,this.components.replaceButton.disabled=!0,this.components.findButton.disabled=!0;else{this.components.findCurrent.innerText="".concat(e+1,"/").concat(t);var n=this.editor.isReadOnly();this.components.replaceAllButton.disabled=n,this.components.replaceButton.disabled=n,this.components.findButton.disabled=!1}}},{key:"clearFind",value:function(e){this.editor.clearHighlight(e),this.updateSearchStatus(0,0)}},{key:"showFindOnly",value:function(){this.components.rowReplace.style.display="none",this.components.rowActions.style.display="none",this.components.showReplaceButton.style.display="flex"}},{key:"showReplace",value:function(){this.components.rowReplace.style.display="flex",this.components.rowActions.style.display="flex",this.components.showReplaceButton.style.display="none",this.components.replaceInput.focus(),this.components.replaceInput.select()}},{key:"hideSearchResult",value:function(){this.components.statusContainer.style.display="none"}},{key:"showSearchResult",value:function(){this.components.statusContainer.style.display="flex"}},{key:"show",value:function(e){var t,n=this;this.oldSelection=this.editor.saveSelectionState(),this.oldSelectionDetail=this.editor.getSelectionDetail();var r=this.editor.getSelectedText();r.length>0&&r.length<50&&(this.components.findInput.value=r),this.root.style.display="flex",(null==e?void 0:e.showFindAndReplace)?(this.showReplace(),this.components.findInput.value&&setTimeout((function(){n.components.replaceInput.focus()}))):this.showFindOnly(),this.hideSearchResult(),this.oldText="",this.doSearchNow({keepReplaceResult:!1,gotoFirstSearchResult:!0});var o=this.editor.isReadOnly();this.components.replaceButton.disabled=o,this.components.replaceAllButton.disabled=o,this.components.replaceInput.disabled=o;var i=(null===(t=this.editor.options.findDialog)||void 0===t?void 0:t.popoverTarget)||this.editor.rootContainer(),a=new iD(this.editor,{popoverOptions:{commandTarget:this.editor.rootContainer(),popoverTarget:i,autoShow:!1,autoHide:!1,hideOnClick:!1,trigger:"manual",maxWidth:"initial",getReferenceClientRect:function(){var e,t=null===(e=n.editor.options.findDialog)||void 0===e?void 0:e.getReferenceClientRect;if(t)return t(i,n.root);var r=i.getBoundingClientRect(),o=r.top<0?12:r.top+12,a=r.right-n.root.clientWidth-12;return new DOMRect(a,o,0,0)}},content:this.root,onShown:function(){setTimeout((function(){n.components.findInput.focus(),n.components.findInput.select()}))},onHidden:function(){a.destroy()}});a.popover.hidable=!1,a.show(),this.dialog=a}},{key:"hide",value:function(){this.doSearch.cancel(),this.dialog&&(this.dialog.popover.hidable=!1,this.dialog.hide()),this.editor.clearHighlight({keepReplaceResult:!1}),this.oldSelection}},{key:"isVisible",value:function(){return this.dialog&&this.dialog.isVisible()}},{key:"research",value:function(){this.oldText="",this.doSearch({keepReplaceResult:!0,gotoFirstSearchResult:!1})}}])&&jK(t.prototype,n),r&&jK(t,r),e}();function HK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KK(e,t,n){return t&&VK(e.prototype,t),n&&VK(e,n),e}var GK=function(){function e(t,n){var r;HK(this,e),this.comments=t,this.handler=n,w(t.length>0),this.commentGroupId=t[0].groupId,this.commentGroupAbstract=null!==(r=t[0].abstract)&&void 0!==r?r:""}return KK(e,[{key:"exists",value:function(e){return-1!==this.comments.findIndex((function(t){return t.id===e}))}},{key:"getCommentById",value:function(e){return this.comments.find((function(t){return t.id===e}))}},{key:"update",value:function(t){var n=this;t.length>0&&w(t[0].groupId===this.commentGroupId),t.forEach((function(e){n.exists(e.id)||n.handler.onInsertComment(e)}));var r=new e(t,this.handler);this.comments.forEach((function(e){r.exists(e.id)||n.handler.onDeleteComment(e)})),this.comments=t}},{key:"groupId",get:function(){return this.commentGroupId}}]),e}(),WK=function(){function e(t,n){var r=this;HK(this,e),this.groups=[],this.handler=n,t.forEach((function(e){r.groups.push(new GK(e,n))}))}return KK(e,[{key:"groupCount",get:function(){return this.groups.length}},{key:"getGroup",value:function(e){return this.groups[e]}},{key:"getGroupByCommentGroupId",value:function(e){var t=[];return"string"==typeof e?t.push(e):t=e,this.groups.find((function(e){return t.indexOf(e.commentGroupId)>=0}))}},{key:"getGroupIndexByCommentGroupId",value:function(e){return this.groups.findIndex((function(t){return t.commentGroupId===e}))}},{key:"getCommentById",value:function(e,t){var n=this.getGroupByCommentGroupId(e);if(n)return n.getCommentById(t)}},{key:"update",value:function(e){var t=this;(e.forEach((function(e,n){w(e.length>0);var r=e[0].groupId,o=t.groups[n];if(o&&o.commentGroupId===r)o.update(e);else{if(!o)return t.groups.push(new GK(e,t.handler)),void t.handler.onInsertComment(e[0]);w(o.commentGroupId!==r);var i=t.getGroupIndexByCommentGroupId(r);if(-1===i)t.groups.splice(n,0,new GK(e,t.handler)),t.handler.onInsertComment(e[0]);else w(i>n),t.groups.splice(n,i-n).forEach((function(e){e.comments.forEach((function(e){t.handler.onDeleteComment(e)}))})),t.groups[n].update(e)}})),e.length<this.groups.length)&&(this.groups.splice(e.length,this.groups.length-e.length).forEach((function(e){e.comments.forEach((function(e){t.handler.onDeleteComment(e)}))})),w(e.length===this.groups.length))}},{key:"updatePosition",value:function(){this.handler.onUpdatePosition()}}]),e}(),YK=n(5895),qK=n.n(YK),ZK={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(qK(),ZK);qK().locals;
/*!
 * better-scroll / core
 * (c) 2016-2021 ustbhuangyi
 * Released under the MIT License.
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var XK=function(e,t){return(XK=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function JK(e,t){function n(){this.constructor=e}XK(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var $K=function(){return($K=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function eG(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var tG=[{sourceKey:"scroller.scrollBehaviorX.currentPos",key:"x"},{sourceKey:"scroller.scrollBehaviorY.currentPos",key:"y"},{sourceKey:"scroller.scrollBehaviorX.hasScroll",key:"hasHorizontalScroll"},{sourceKey:"scroller.scrollBehaviorY.hasScroll",key:"hasVerticalScroll"},{sourceKey:"scroller.scrollBehaviorX.contentSize",key:"scrollerWidth"},{sourceKey:"scroller.scrollBehaviorY.contentSize",key:"scrollerHeight"},{sourceKey:"scroller.scrollBehaviorX.maxScrollPos",key:"maxScrollX"},{sourceKey:"scroller.scrollBehaviorY.maxScrollPos",key:"maxScrollY"},{sourceKey:"scroller.scrollBehaviorX.minScrollPos",key:"minScrollX"},{sourceKey:"scroller.scrollBehaviorY.minScrollPos",key:"minScrollY"},{sourceKey:"scroller.scrollBehaviorX.movingDirection",key:"movingDirectionX"},{sourceKey:"scroller.scrollBehaviorY.movingDirection",key:"movingDirectionY"},{sourceKey:"scroller.scrollBehaviorX.direction",key:"directionX"},{sourceKey:"scroller.scrollBehaviorY.direction",key:"directionY"},{sourceKey:"scroller.actions.enabled",key:"enabled"},{sourceKey:"scroller.animater.pending",key:"pending"},{sourceKey:"scroller.animater.stop",key:"stop"},{sourceKey:"scroller.scrollTo",key:"scrollTo"},{sourceKey:"scroller.scrollBy",key:"scrollBy"},{sourceKey:"scroller.scrollToElement",key:"scrollToElement"},{sourceKey:"scroller.resetPosition",key:"resetPosition"}];function nG(e){console.error("[BScroll warn]: "+e)}var rG="undefined"!=typeof window,oG=rG&&navigator.userAgent.toLowerCase(),iG=!(!oG||!/wechatdevtools/.test(oG)),aG=oG&&oG.indexOf("android")>0,sG=function(){if("string"==typeof oG){var e=/os (\d\d?_\d(_\d)?)/.exec(oG);if(!e)return!1;var t=e[1].split("_").map((function(e){return parseInt(e,10)}));return!!(13===t[0]&&t[1]>=4)}return!1}(),cG=!1;if(rG){try{var lG={};Object.defineProperty(lG,"passive",{get:function(){cG=!0}}),window.addEventListener("test-passive",(function(){}),lG)}catch(e){}}function uG(){return window.performance&&window.performance.now&&window.performance.timing?window.performance.now()+window.performance.timing.navigationStart:+new Date}var dG=function(e,t){for(var n in t)e[n]=t[n];return e};function pG(e){return null==e}function fG(e,t,n){return e<t?t:e>n?n:e}var hG=rG&&document.createElement("div").style,AG=function(){if(!rG)return!1;for(var e=0,t=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}];e<t.length;e++){var n=t[e];if(void 0!==hG[n.value])return n.key}return!1}();function mG(e){return!1===AG?e:"standard"===AG?"transitionEnd"===e?"transitionend":e:AG+e.charAt(0).toUpperCase()+e.substr(1)}function gG(e){return"string"==typeof e?document.querySelector(e):e}function vG(e,t,n,r){var o=cG?{passive:!1,capture:!!r}:!!r;e.addEventListener(t,n,o)}function bG(e,t,n,r){e.removeEventListener(t,n,{capture:!!r})}function yG(e){for(var t=0,n=0;e;)t-=e.offsetLeft,n-=e.offsetTop,e=e.offsetParent;return{left:t,top:n}}AG&&"standard"!==AG&&AG.toLowerCase();var wG=mG("transform"),xG=mG("transition"),kG=rG&&mG("perspective")in hG,CG=rG&&("ontouchstart"in window||iG),EG=rG&&xG in hG,BG={transform:wG,transition:xG,transitionTimingFunction:mG("transitionTimingFunction"),transitionDuration:mG("transitionDuration"),transitionDelay:mG("transitionDelay"),transformOrigin:mG("transformOrigin"),transitionEnd:mG("transitionEnd"),transitionProperty:mG("transitionProperty")},TG={touchstart:1,touchmove:1,touchend:1,touchcancel:1,mousedown:2,mousemove:2,mouseup:2};function MG(e){if(e instanceof window.SVGElement){var t=e.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}return{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}function IG(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1}var DG=IG;function _G(e,t){var n;void 0===t&&(t="click"),"mouseup"===e.type?n=e:"touchend"!==e.type&&"touchcancel"!==e.type||(n=e.changedTouches[0]);var r,o={};n&&(o.screenX=n.screenX||0,o.screenY=n.screenY||0,o.clientX=n.clientX||0,o.clientY=n.clientY||0);var i={ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey};if("undefined"!=typeof MouseEvent)try{r=new MouseEvent(t,dG($K({bubbles:true,cancelable:true},i),o))}catch(e){a()}else a();function a(){(r=document.createEvent("Event")).initEvent(t,true,true),dG(r,o)}r.forwardedTouchEvent=!0,r._constructed=!0,e.target.dispatchEvent(r)}var SG={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(e){return 1+--e*e*e*e*e}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(e){return 1- --e*e*e*e}}},OG=rG&&window;function NG(){}var LG=rG?OG.requestAnimationFrame||OG.webkitRequestAnimationFrame||OG.mozRequestAnimationFrame||OG.oRequestAnimationFrame||function(e){return window.setTimeout(e,e.interval||16.666666666666668)}:NG,RG=rG?OG.cancelAnimationFrame||OG.webkitCancelAnimationFrame||OG.mozCancelAnimationFrame||OG.oCancelAnimationFrame||function(e){window.clearTimeout(e)}:NG,jG=function(e){},UG={enumerable:!0,configurable:!0,get:jG,set:jG};var FG=function(){function e(e){this.events={},this.eventTypes={},this.registerType(e)}return e.prototype.on=function(e,t,n){return void 0===n&&(n=this),this.hasType(e),this.events[e]||(this.events[e]=[]),this.events[e].push([t,n]),this},e.prototype.once=function(e,t,n){var r=this;void 0===n&&(n=this),this.hasType(e);var o=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];r.off(e,o);var s=t.apply(n,i);if(!0===s)return s};return o.fn=t,this.on(e,o),this},e.prototype.off=function(e,t){if(!e&&!t)return this.events={},this;if(e){if(this.hasType(e),!t)return this.events[e]=[],this;var n=this.events[e];if(!n)return this;for(var r=n.length;r--;)(n[r][0]===t||n[r][0]&&n[r][0].fn===t)&&n.splice(r,1);return this}},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.hasType(e);var r=this.events[e];if(r)for(var o,i=r.length,a=eG(r),s=0;s<i;s++){var c=a[s],l=c[0],u=c[1];if(l&&!0===(o=l.apply(u,t)))return o}},e.prototype.registerType=function(e){var t=this;e.forEach((function(e){t.eventTypes[e]=e}))},e.prototype.destroy=function(){this.events={},this.eventTypes={}},e.prototype.hasType=function(e){var t=this.eventTypes;t[e]===e||nG('EventEmitter has used unknown event type: "'+e+'", should be oneof ['+Object.keys(t).map((function(e){return JSON.stringify(e)}))+"]")},e}(),zG=function(){function e(e,t){this.wrapper=e,this.events=t,this.addDOMEvents()}return e.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},e.prototype.addDOMEvents=function(){this.handleDOMEvents(vG)},e.prototype.removeDOMEvents=function(){this.handleDOMEvents(bG)},e.prototype.handleDOMEvents=function(e){var t=this,n=this.wrapper;this.events.forEach((function(r){e(n,r.name,t,!!r.capture)}))},e.prototype.handleEvent=function(e){var t=e.type;this.events.some((function(n){return n.name===t&&(n.handler(e),!0)}))},e}(),QG=function(e){function t(){var t=e.call(this)||this;return t.startX=0,t.startY=0,t.scrollX=!1,t.scrollY=!0,t.freeScroll=!1,t.directionLockThreshold=0,t.eventPassthrough="",t.click=!1,t.dblclick=!1,t.tap="",t.bounce={top:!0,bottom:!0,left:!0,right:!0},t.bounceTime=800,t.momentum=!0,t.momentumLimitTime=300,t.momentumLimitDistance=15,t.swipeTime=2500,t.swipeBounceTime=500,t.deceleration=.0015,t.flickLimitTime=200,t.flickLimitDistance=100,t.resizePolling=60,t.probeType=0,t.stopPropagation=!1,t.preventDefault=!0,t.preventDefaultException={tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/},t.tagException={tagName:/^TEXTAREA$/},t.HWCompositing=!0,t.useTransition=!0,t.bindToWrapper=!1,t.bindToTarget=!1,t.disableMouse=CG,t.disableTouch=!CG,t.autoBlur=!0,t.autoEndDistance=5,t.outOfBoundaryDampingFactor=1/3,t.specifiedIndexAsContent=0,t.quadrant=1,t}return JK(t,e),t.prototype.merge=function(e){if(!e)return this;for(var t in e)"bounce"!==t?this[t]=e[t]:this.bounce=this.resolveBounce(e[t]);return this},t.prototype.process=function(){return this.translateZ=this.HWCompositing&&kG?" translateZ(1px)":"",this.useTransition=this.useTransition&&EG,this.preventDefault=!this.eventPassthrough&&this.preventDefault,this.scrollX="horizontal"!==this.eventPassthrough&&this.scrollX,this.scrollY="vertical"!==this.eventPassthrough&&this.scrollY,this.freeScroll=this.freeScroll&&!this.eventPassthrough,this.scrollX=!!this.freeScroll||this.scrollX,this.scrollY=!!this.freeScroll||this.scrollY,this.directionLockThreshold=this.eventPassthrough?0:this.directionLockThreshold,this},t.prototype.resolveBounce=function(e){var t={top:!0,right:!0,bottom:!0,left:!0};return"object"==typeof e?dG(t,e):e?t:{top:!1,right:!1,bottom:!1,left:!1}},t}((function(){})),PG=function(){function e(e,t){this.wrapper=e,this.options=t,this.hooks=new FG(["beforeStart","start","move","end","click"]),this.handleDOMEvents()}return e.prototype.handleDOMEvents=function(){var e=this.options,t=e.bindToWrapper,n=e.disableMouse,r=e.disableTouch,o=e.click,i=this.wrapper,a=t?i:window,s=[],c=[],l=!r,u=!n;o&&s.push({name:"click",handler:this.click.bind(this),capture:!0}),l&&(s.push({name:"touchstart",handler:this.start.bind(this)}),c.push({name:"touchmove",handler:this.move.bind(this)},{name:"touchend",handler:this.end.bind(this)},{name:"touchcancel",handler:this.end.bind(this)})),u&&(s.push({name:"mousedown",handler:this.start.bind(this)}),c.push({name:"mousemove",handler:this.move.bind(this)},{name:"mouseup",handler:this.end.bind(this)})),this.wrapperEventRegister=new zG(i,s),this.targetEventRegister=new zG(a,c)},e.prototype.beforeHandler=function(e,t){var n=this.options,r=n.preventDefault,o=n.stopPropagation,i=n.preventDefaultException;({start:function(){return r&&!IG(e.target,i)},end:function(){return r&&!IG(e.target,i)},move:function(){return r}})[t]()&&e.preventDefault(),o&&e.stopPropagation()},e.prototype.setInitiated=function(e){void 0===e&&(e=0),this.initiated=e},e.prototype.start=function(e){var t=TG[e.type];if(!this.initiated||this.initiated===t)if(this.setInitiated(t),DG(e.target,this.options.tagException))this.setInitiated();else if((2!==t||0===e.button)&&!this.hooks.trigger(this.hooks.eventTypes.beforeStart,e)){this.beforeHandler(e,"start");var n=e.touches?e.touches[0]:e;this.pointX=n.pageX,this.pointY=n.pageY,this.hooks.trigger(this.hooks.eventTypes.start,e)}},e.prototype.move=function(e){if(TG[e.type]===this.initiated){this.beforeHandler(e,"move");var t=e.touches?e.touches[0]:e,n=t.pageX-this.pointX,r=t.pageY-this.pointY;if(this.pointX=t.pageX,this.pointY=t.pageY,!this.hooks.trigger(this.hooks.eventTypes.move,{deltaX:n,deltaY:r,e})){var o=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,i=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,a=this.pointX-o,s=this.pointY-i,c=this.options.autoEndDistance;(a>document.documentElement.clientWidth-c||s>document.documentElement.clientHeight-c||a<c||s<c)&&this.end(e)}}},e.prototype.end=function(e){TG[e.type]===this.initiated&&(this.setInitiated(),this.beforeHandler(e,"end"),this.hooks.trigger(this.hooks.eventTypes.end,e))},e.prototype.click=function(e){this.hooks.trigger(this.hooks.eventTypes.click,e)},e.prototype.setContent=function(e){e!==this.wrapper&&(this.wrapper=e,this.rebindDOMEvents())},e.prototype.rebindDOMEvents=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.handleDOMEvents()},e.prototype.destroy=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.hooks.destroy()},e}(),HG={x:["translateX","px"],y:["translateY","px"]},VG=function(){function e(e){this.setContent(e),this.hooks=new FG(["beforeTranslate","translate"])}return e.prototype.getComputedPosition=function(){var e=window.getComputedStyle(this.content,null)[BG.transform].split(")")[0].split(", ");return{x:+(e[12]||e[4])||0,y:+(e[13]||e[5])||0}},e.prototype.translate=function(e){var t=[];Object.keys(e).forEach((function(n){if(HG[n]){var r=HG[n][0];if(r){var o=HG[n][1],i=e[n];t.push(r+"("+i+o+")")}}})),this.hooks.trigger(this.hooks.eventTypes.beforeTranslate,t,e),this.style[BG.transform]=t.join(" "),this.hooks.trigger(this.hooks.eventTypes.translate,e)},e.prototype.setContent=function(e){this.content!==e&&(this.content=e,this.style=e.style)},e.prototype.destroy=function(){this.hooks.destroy()},e}(),KG=function(){function e(e,t,n){this.translater=t,this.options=n,this.timer=0,this.hooks=new FG(["move","end","beforeForceStop","forceStop","callStop","time","timeFunction"]),this.setContent(e)}return e.prototype.translate=function(e){this.translater.translate(e)},e.prototype.setPending=function(e){this.pending=e},e.prototype.setForceStopped=function(e){this.forceStopped=e},e.prototype.setCallStop=function(e){this.callStopWhenPending=e},e.prototype.setContent=function(e){this.content!==e&&(this.content=e,this.style=e.style,this.stop())},e.prototype.clearTimer=function(){this.timer&&(RG(this.timer),this.timer=0)},e.prototype.destroy=function(){this.hooks.destroy(),RG(this.timer)},e}(),GG=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return JK(t,e),t.prototype.startProbe=function(e,t){var n=this,r=e,o=function(){var i=n.translater.getComputedPosition();(function(e,t,n,r){var o=function(e,t){var n=e-t;return n>0?-1:n<0?1:0},i=o(t.x,e.x),a=o(t.y,e.y),s=n.x-r.x,c=n.y-r.y;return i*s<=0&&a*c<=0})(e,t,i,r)&&n.hooks.trigger(n.hooks.eventTypes.move,i),n.pending||(n.callStopWhenPending?n.callStopWhenPending=!1:n.hooks.trigger(n.hooks.eventTypes.end,i)),r=i,n.pending&&(n.timer=LG(o))};this.callStopWhenPending&&this.setCallStop(!1),RG(this.timer),o()},t.prototype.transitionTime=function(e){void 0===e&&(e=0),this.style[BG.transitionDuration]=e+"ms",this.hooks.trigger(this.hooks.eventTypes.time,e)},t.prototype.transitionTimingFunction=function(e){this.style[BG.transitionTimingFunction]=e,this.hooks.trigger(this.hooks.eventTypes.timeFunction,e)},t.prototype.transitionProperty=function(){this.style[BG.transitionProperty]=BG.transform},t.prototype.move=function(e,t,n,r){this.setPending(n>0),this.transitionTimingFunction(r),this.transitionProperty(),this.transitionTime(n),this.translate(t);var o=3===this.options.probeType;n&&o&&this.startProbe(e,t),n||(this._reflow=this.content.offsetHeight,o&&this.hooks.trigger(this.hooks.eventTypes.move,t),this.hooks.trigger(this.hooks.eventTypes.end,t))},t.prototype.doStop=function(){var e=this.pending;if(this.setForceStopped(!1),this.setCallStop(!1),e){this.setPending(!1),RG(this.timer);var t=this.translater.getComputedPosition(),n=t.x,r=t.y;this.transitionTime(),this.translate({x:n,y:r}),this.setForceStopped(!0),this.setCallStop(!0),this.hooks.trigger(this.hooks.eventTypes.forceStop,{x:n,y:r})}return e},t.prototype.stop=function(){this.doStop()&&this.hooks.trigger(this.hooks.eventTypes.callStop)},t}(KG),WG=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return JK(t,e),t.prototype.move=function(e,t,n,r){if(!n)return this.translate(t),3===this.options.probeType&&this.hooks.trigger(this.hooks.eventTypes.move,t),void this.hooks.trigger(this.hooks.eventTypes.end,t);this.animate(e,t,n,r)},t.prototype.animate=function(e,t,n,r){var o=this,i=uG(),a=i+n,s=3===this.options.probeType,c=function(){var l=uG();if(l>=a)return o.translate(t),s&&o.hooks.trigger(o.hooks.eventTypes.move,t),void o.hooks.trigger(o.hooks.eventTypes.end,t);var u=r(l=(l-i)/n),d={};Object.keys(t).forEach((function(n){var r=e[n],o=t[n];d[n]=(o-r)*u+r})),o.translate(d),s&&o.hooks.trigger(o.hooks.eventTypes.move,d),o.pending&&(o.timer=LG(c)),o.pending||(o.callStopWhenPending?o.callStopWhenPending=!1:o.hooks.trigger(o.hooks.eventTypes.end,t))};this.setPending(!0),this.callStopWhenPending&&this.setCallStop(!1),RG(this.timer),c()},t.prototype.doStop=function(){var e=this.pending;if(this.setForceStopped(!1),this.setCallStop(!1),e){this.setPending(!1),RG(this.timer);var t=this.translater.getComputedPosition();this.setForceStopped(!0),this.setCallStop(!0),this.hooks.trigger(this.hooks.eventTypes.forceStop,t)}return e},t.prototype.stop=function(){this.doStop()&&this.hooks.trigger(this.hooks.eventTypes.callStop)},t}(KG);var YG,qG,ZG,XG,JG=function(){function e(e,t,n){this.wrapper=e,this.options=n,this.hooks=new FG(["beforeComputeBoundary","computeBoundary","momentum","end","ignoreHasScroll"]),this.refresh(t)}return e.prototype.start=function(){this.dist=0,this.setMovingDirection(0),this.setDirection(0)},e.prototype.move=function(e){return e=this.hasScroll?e:0,this.setMovingDirection(e),this.performDampingAlgorithm(e,this.options.outOfBoundaryDampingFactor)},e.prototype.setMovingDirection=function(e){this.movingDirection=e>0?-1:e<0?1:0},e.prototype.setDirection=function(e){this.direction=e>0?-1:e<0?1:0},e.prototype.performDampingAlgorithm=function(e,t){var n=this.currentPos+e;return(n>this.minScrollPos||n<this.maxScrollPos)&&(n=n>this.minScrollPos&&this.options.bounces[0]||n<this.maxScrollPos&&this.options.bounces[1]?this.currentPos+e*t:n>this.minScrollPos?this.minScrollPos:this.maxScrollPos),n},e.prototype.end=function(e){var t={duration:0},n=Math.abs(this.currentPos-this.startPos);if(this.options.momentum&&e<this.options.momentumLimitTime&&n>this.options.momentumLimitDistance){var r=-1===this.direction&&this.options.bounces[0]||1===this.direction&&this.options.bounces[1]?this.wrapperSize:0;t=this.hasScroll?this.momentum(this.currentPos,this.startPos,e,this.maxScrollPos,this.minScrollPos,r,this.options):{destination:this.currentPos,duration:0}}else this.hooks.trigger(this.hooks.eventTypes.end,t);return t},e.prototype.momentum=function(e,t,n,r,o,i,a){void 0===a&&(a=this.options);var s=e-t,c=Math.abs(s)/n,l=a.deceleration,u=a.swipeBounceTime,d=a.swipeTime,p={destination:e+c*c/l*(s<0?-1:1),duration:Math.min(d,2*c/l),rate:15};return this.hooks.trigger(this.hooks.eventTypes.momentum,p,s),p.destination<r?(p.destination=i?Math.max(r-i/4,r-i/p.rate*c):r,p.duration=u):p.destination>o&&(p.destination=i?Math.min(o+i/4,o+i/p.rate*c):o,p.duration=u),p.destination=Math.round(p.destination),p},e.prototype.updateDirection=function(){var e=this.currentPos-this.absStartPos;this.setDirection(e)},e.prototype.refresh=function(e){var t=this.options.rect,n=t.size,r=t.position,o="static"===window.getComputedStyle(this.wrapper,null).position,i=MG(this.wrapper);this.wrapperSize=this.wrapper["width"===n?"clientWidth":"clientHeight"],this.setContent(e);var a=MG(this.content);this.contentSize=a[n],this.relativeOffset=a[r],o&&(this.relativeOffset-=i[r]),this.computeBoundary(),this.setDirection(0)},e.prototype.setContent=function(e){e!==this.content&&(this.content=e,this.resetState())},e.prototype.resetState=function(){this.currentPos=0,this.startPos=0,this.dist=0,this.setDirection(0),this.setMovingDirection(0),this.resetStartPos()},e.prototype.computeBoundary=function(){this.hooks.trigger(this.hooks.eventTypes.beforeComputeBoundary);var e={minScrollPos:0,maxScrollPos:this.wrapperSize-this.contentSize};e.maxScrollPos<0&&(e.maxScrollPos-=this.relativeOffset,0===this.options.specifiedIndexAsContent&&(e.minScrollPos=-this.relativeOffset)),this.hooks.trigger(this.hooks.eventTypes.computeBoundary,e),this.minScrollPos=e.minScrollPos,this.maxScrollPos=e.maxScrollPos,this.hasScroll=this.options.scrollable&&this.maxScrollPos<this.minScrollPos,!this.hasScroll&&this.minScrollPos<this.maxScrollPos&&(this.maxScrollPos=this.minScrollPos,this.contentSize=this.wrapperSize)},e.prototype.updatePosition=function(e){this.currentPos=e},e.prototype.getCurrentPos=function(){return this.currentPos},e.prototype.checkInBoundary=function(){var e=this.adjustPosition(this.currentPos);return{position:e,inBoundary:e===this.getCurrentPos()}},e.prototype.adjustPosition=function(e){return this.hasScroll||this.hooks.trigger(this.hooks.eventTypes.ignoreHasScroll)?e>this.minScrollPos?e=this.minScrollPos:e<this.maxScrollPos&&(e=this.maxScrollPos):e=this.minScrollPos,e},e.prototype.updateStartPos=function(){this.startPos=this.currentPos},e.prototype.updateAbsStartPos=function(){this.absStartPos=this.currentPos},e.prototype.resetStartPos=function(){this.updateStartPos(),this.updateAbsStartPos()},e.prototype.getAbsDist=function(e){return this.dist+=e,Math.abs(this.dist)},e.prototype.destroy=function(){this.hooks.destroy()},e}(),$G=((YG={}).yes=function(e){return!0},YG.no=function(e){return e.preventDefault(),!1},YG),eW=((qG={}).horizontal=((ZG={}).yes="horizontal",ZG.no="vertical",ZG),qG.vertical=((XG={}).yes="vertical",XG.no="horizontal",XG),qG),tW=function(){function e(e,t,n){this.directionLockThreshold=e,this.freeScroll=t,this.eventPassthrough=n,this.reset()}return e.prototype.reset=function(){this.directionLocked=""},e.prototype.checkMovingDirection=function(e,t,n){return this.computeDirectionLock(e,t),this.handleEventPassthrough(n)},e.prototype.adjustDelta=function(e,t){return"horizontal"===this.directionLocked?t=0:"vertical"===this.directionLocked&&(e=0),{deltaX:e,deltaY:t}},e.prototype.computeDirectionLock=function(e,t){""!==this.directionLocked||this.freeScroll||(e>t+this.directionLockThreshold?this.directionLocked="horizontal":t>=e+this.directionLockThreshold?this.directionLocked="vertical":this.directionLocked="none")},e.prototype.handleEventPassthrough=function(e){var t=eW[this.directionLocked];if(t){if(this.eventPassthrough===t.yes)return $G.yes(e);if(this.eventPassthrough===t.no)return $G.no(e)}return!1},e}(),nW=function(){function e(e,t,n,r,o){this.hooks=new FG(["start","beforeMove","scrollStart","scroll","beforeEnd","end","scrollEnd","contentNotMoved","detectMovingDirection","coordinateTransformation"]),this.scrollBehaviorX=e,this.scrollBehaviorY=t,this.actionsHandler=n,this.animater=r,this.options=o,this.directionLockAction=new tW(o.directionLockThreshold,o.freeScroll,o.eventPassthrough),this.enabled=!0,this.bindActionsHandler()}return e.prototype.bindActionsHandler=function(){var e=this;this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start,(function(t){return!e.enabled||e.handleStart(t)})),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move,(function(t){var n=t.deltaX,r=t.deltaY,o=t.e;if(!e.enabled)return!0;var i=function(e,t,n){return 2===n?[t,-e]:3===n?[-e,-t]:4===n?[-t,e]:[e,t]}(n,r,e.options.quadrant),a={deltaX:i[0],deltaY:i[1]};return e.hooks.trigger(e.hooks.eventTypes.coordinateTransformation,a),e.handleMove(a.deltaX,a.deltaY,o)})),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end,(function(t){return!e.enabled||e.handleEnd(t)})),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click,(function(t){e.enabled&&!t._constructed&&e.handleClick(t)}))},e.prototype.handleStart=function(e){var t=uG();this.fingerMoved=!1,this.contentMoved=!1,this.startTime=t,this.directionLockAction.reset(),this.scrollBehaviorX.start(),this.scrollBehaviorY.start(),this.animater.doStop(),this.scrollBehaviorX.resetStartPos(),this.scrollBehaviorY.resetStartPos(),this.hooks.trigger(this.hooks.eventTypes.start,e)},e.prototype.handleMove=function(e,t,n){if(!this.hooks.trigger(this.hooks.eventTypes.beforeMove,n)){var r=this.scrollBehaviorX.getAbsDist(e),o=this.scrollBehaviorY.getAbsDist(t),i=uG();if(this.checkMomentum(r,o,i))return!0;if(this.directionLockAction.checkMovingDirection(r,o,n))return this.actionsHandler.setInitiated(),!0;var a=this.directionLockAction.adjustDelta(e,t),s=this.scrollBehaviorX.getCurrentPos(),c=this.scrollBehaviorX.move(a.deltaX),l=this.scrollBehaviorY.getCurrentPos(),u=this.scrollBehaviorY.move(a.deltaY);if(!this.hooks.trigger(this.hooks.eventTypes.detectMovingDirection)){this.fingerMoved||(this.fingerMoved=!0);var d=c!==s||u!==l;this.contentMoved||d||this.hooks.trigger(this.hooks.eventTypes.contentNotMoved),!this.contentMoved&&d&&(this.contentMoved=!0,this.hooks.trigger(this.hooks.eventTypes.scrollStart)),this.contentMoved&&d&&(this.animater.translate({x:c,y:u}),this.dispatchScroll(i))}}},e.prototype.dispatchScroll=function(e){e-this.startTime>this.options.momentumLimitTime&&(this.startTime=e,this.scrollBehaviorX.updateStartPos(),this.scrollBehaviorY.updateStartPos(),1===this.options.probeType&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())),this.options.probeType>1&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())},e.prototype.checkMomentum=function(e,t,n){return n-this.endTime>this.options.momentumLimitTime&&t<this.options.momentumLimitDistance&&e<this.options.momentumLimitDistance},e.prototype.handleEnd=function(e){if(!this.hooks.trigger(this.hooks.eventTypes.beforeEnd,e)){var t=this.getCurrentPos();if(this.scrollBehaviorX.updateDirection(),this.scrollBehaviorY.updateDirection(),this.hooks.trigger(this.hooks.eventTypes.end,e,t))return!0;t=this.ensureIntegerPos(t),this.animater.translate(t),this.endTime=uG();var n=this.endTime-this.startTime;this.hooks.trigger(this.hooks.eventTypes.scrollEnd,t,n)}},e.prototype.ensureIntegerPos=function(e){this.ensuringInteger=!0;var t=e.x,n=e.y,r=this.scrollBehaviorX,o=r.minScrollPos,i=r.maxScrollPos,a=this.scrollBehaviorY,s=a.minScrollPos,c=a.maxScrollPos;return t=t>0?Math.ceil(t):Math.floor(t),n=n>0?Math.ceil(n):Math.floor(n),{x:t=fG(t,i,o),y:n=fG(n,c,s)}},e.prototype.handleClick=function(e){IG(e.target,this.options.preventDefaultException)||(e.preventDefault(),e.stopPropagation())},e.prototype.getCurrentPos=function(){return{x:this.scrollBehaviorX.getCurrentPos(),y:this.scrollBehaviorY.getCurrentPos()}},e.prototype.refresh=function(){this.endTime=0},e.prototype.destroy=function(){this.hooks.destroy()},e}();function rW(e,t,n,r){var o=["momentum","momentumLimitTime","momentumLimitDistance","deceleration","swipeBounceTime","swipeTime","outOfBoundaryDampingFactor","specifiedIndexAsContent"].reduce((function(t,n){return t[n]=e[n],t}),{});return o.scrollable=!!e[t],o.bounces=n,o.rect=r,o}function oW(e,t,n){n.forEach((function(n){var r,o;"string"==typeof n?r=o=n:(r=n.source,o=n.target),e.on(r,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.trigger.apply(t,eG([o],e))}))}))}var iW=function(){function e(e,t,n){this.wrapper=e,this.content=t,this.resizeTimeout=0,this.hooks=new FG(["beforeStart","beforeMove","beforeScrollStart","scrollStart","scroll","beforeEnd","scrollEnd","resize","touchEnd","end","flick","scrollCancel","momentum","scrollTo","minDistanceScroll","scrollToElement","beforeRefresh"]),this.options=n;var r,o=this.options.bounce,i=o.left,a=o.right,s=o.top,c=o.bottom;this.scrollBehaviorX=new JG(e,t,rW(n,"scrollX",[i,a],{size:"width",position:"left"})),this.scrollBehaviorY=new JG(e,t,rW(n,"scrollY",[s,c],{size:"height",position:"top"})),this.translater=new VG(this.content),this.animater=function(e,t,n){var r=n.useTransition,o={};return Object.defineProperty(o,"probeType",{enumerable:!0,configurable:!1,get:function(){return n.probeType}}),r?new GG(e,t,o):new WG(e,t,o)}(this.content,this.translater,this.options),this.actionsHandler=new PG(this.options.bindToTarget?this.content:e,(r=this.options,["click","bindToWrapper","disableMouse","disableTouch","preventDefault","stopPropagation","tagException","preventDefaultException","autoEndDistance"].reduce((function(e,t){return e[t]=r[t],e}),{}))),this.actions=new nW(this.scrollBehaviorX,this.scrollBehaviorY,this.actionsHandler,this.animater,this.options);var l=this.resize.bind(this);this.resizeRegister=new zG(window,[{name:"orientationchange",handler:l},{name:"resize",handler:l}]),this.registerTransitionEnd(),this.init()}return e.prototype.init=function(){var e=this;this.bindTranslater(),this.bindAnimater(),this.bindActions(),this.hooks.on(this.hooks.eventTypes.scrollEnd,(function(){e.togglePointerEvents(!0)}))},e.prototype.registerTransitionEnd=function(){this.transitionEndRegister=new zG(this.content,[{name:BG.transitionEnd,handler:this.transitionEnd.bind(this)}])},e.prototype.bindTranslater=function(){var e=this,t=this.translater.hooks;t.on(t.eventTypes.beforeTranslate,(function(t){e.options.translateZ&&t.push(e.options.translateZ)})),t.on(t.eventTypes.translate,(function(t){var n=e.getCurrentPos();e.updatePositions(t),!0!==e.actions.ensuringInteger?t.x===n.x&&t.y===n.y||e.togglePointerEvents(!1):e.actions.ensuringInteger=!1}))},e.prototype.bindAnimater=function(){var e=this;this.animater.hooks.on(this.animater.hooks.eventTypes.end,(function(t){e.resetPosition(e.options.bounceTime)||(e.animater.setPending(!1),e.hooks.trigger(e.hooks.eventTypes.scrollEnd,t))})),oW(this.animater.hooks,this.hooks,[{source:this.animater.hooks.eventTypes.move,target:this.hooks.eventTypes.scroll},{source:this.animater.hooks.eventTypes.forceStop,target:this.hooks.eventTypes.scrollEnd}])},e.prototype.bindActions=function(){var e=this,t=this.actions;oW(t.hooks,this.hooks,[{source:t.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeStart},{source:t.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeScrollStart},{source:t.hooks.eventTypes.beforeMove,target:this.hooks.eventTypes.beforeMove},{source:t.hooks.eventTypes.scrollStart,target:this.hooks.eventTypes.scrollStart},{source:t.hooks.eventTypes.scroll,target:this.hooks.eventTypes.scroll},{source:t.hooks.eventTypes.beforeEnd,target:this.hooks.eventTypes.beforeEnd}]),t.hooks.on(t.hooks.eventTypes.end,(function(n,r){return e.hooks.trigger(e.hooks.eventTypes.touchEnd,r),!!e.hooks.trigger(e.hooks.eventTypes.end,r)||(!(t.fingerMoved||(e.hooks.trigger(e.hooks.eventTypes.scrollCancel),!e.checkClick(n)))||(e.resetPosition(e.options.bounceTime,SG.bounce)?(e.animater.setForceStopped(!1),!0):void 0))})),t.hooks.on(t.hooks.eventTypes.scrollEnd,(function(n,r){var o=Math.abs(n.x-e.scrollBehaviorX.startPos),i=Math.abs(n.y-e.scrollBehaviorY.startPos);if(e.checkFlick(r,o,i))return e.animater.setForceStopped(!1),void e.hooks.trigger(e.hooks.eventTypes.flick);e.momentum(n,r)?e.animater.setForceStopped(!1):(t.contentMoved&&e.hooks.trigger(e.hooks.eventTypes.scrollEnd,n),e.animater.forceStopped&&e.animater.setForceStopped(!1))}))},e.prototype.checkFlick=function(e,t,n){if(this.hooks.events.flick.length>1&&e<this.options.flickLimitTime&&t<this.options.flickLimitDistance&&n<this.options.flickLimitDistance&&(n>1||t>1))return!0},e.prototype.momentum=function(e,t){var n={time:0,easing:SG.swiper,newX:e.x,newY:e.y},r=this.scrollBehaviorX.end(t),o=this.scrollBehaviorY.end(t);if(n.newX=pG(r.destination)?n.newX:r.destination,n.newY=pG(o.destination)?n.newY:o.destination,n.time=Math.max(r.duration,o.duration),this.hooks.trigger(this.hooks.eventTypes.momentum,n,this),n.newX!==e.x||n.newY!==e.y)return(n.newX>this.scrollBehaviorX.minScrollPos||n.newX<this.scrollBehaviorX.maxScrollPos||n.newY>this.scrollBehaviorY.minScrollPos||n.newY<this.scrollBehaviorY.maxScrollPos)&&(n.easing=SG.swipeBounce),this.scrollTo(n.newX,n.newY,n.time,n.easing),!0},e.prototype.checkClick=function(e){var t=this.animater.forceStopped;if(this.hooks.trigger(this.hooks.eventTypes.checkClick))return this.animater.setForceStopped(!1),!0;if(!t){var n=this.options.dblclick,r=!1;if(n&&this.lastClickTime){var o=n.delay,i=void 0===o?300:o;uG()-this.lastClickTime<i&&(r=!0,function(e){_G(e,"dblclick")}(e))}return this.options.tap&&function(e,t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.pageX=e.pageX,n.pageY=e.pageY,e.target.dispatchEvent(n)}(e,this.options.tap),this.options.click&&!IG(e.target,this.options.preventDefaultException)&&_G(e),this.lastClickTime=r?null:uG(),!0}return!1},e.prototype.resize=function(){var e=this;this.actions.enabled&&(aG&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout((function(){e.hooks.trigger(e.hooks.eventTypes.resize)}),this.options.resizePolling))},e.prototype.transitionEnd=function(e){e.target===this.content&&this.animater.pending&&(this.animater.transitionTime(),this.resetPosition(this.options.bounceTime,SG.bounce)||(this.animater.setPending(!1),3!==this.options.probeType&&this.hooks.trigger(this.hooks.eventTypes.scrollEnd,this.getCurrentPos())))},e.prototype.togglePointerEvents=function(e){void 0===e&&(e=!0);for(var t=this.content.children.length?this.content.children:[this.content],n=e?"auto":"none",r=0;r<t.length;r++){var o=t[r];o.isBScrollContainer||(o.style.pointerEvents=n)}},e.prototype.refresh=function(e){var t=this.setContent(e);this.hooks.trigger(this.hooks.eventTypes.beforeRefresh),this.scrollBehaviorX.refresh(e),this.scrollBehaviorY.refresh(e),t&&(this.translater.setContent(e),this.animater.setContent(e),this.transitionEndRegister.destroy(),this.registerTransitionEnd(),this.options.bindToTarget&&this.actionsHandler.setContent(e)),this.actions.refresh(),this.wrapperOffset=yG(this.wrapper)},e.prototype.setContent=function(e){var t=e!==this.content;return t&&(this.content=e),t},e.prototype.scrollBy=function(e,t,n,r){void 0===n&&(n=0);var o=this.getCurrentPos(),i=o.x,a=o.y;r=r||SG.bounce,e+=i,t+=a,this.scrollTo(e,t,n,r)},e.prototype.scrollTo=function(e,t,n,r,o){void 0===n&&(n=0),void 0===r&&(r=SG.bounce),void 0===o&&(o={start:{},end:{}});var i=this.options.useTransition?r.style:r.fn,a=this.getCurrentPos(),s=$K({x:a.x,y:a.y},o.start),c=$K({x:e,y:t},o.end);if(this.hooks.trigger(this.hooks.eventTypes.scrollTo,c),!function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(e[o]!==t[o])return!1}return!0}(s,c)){var l=Math.abs(c.x-s.x),u=Math.abs(c.y-s.y);l<1&&u<1&&(n=0,this.hooks.trigger(this.hooks.eventTypes.minDistanceScroll)),this.animater.move(s,c,n,i)}},e.prototype.scrollToElement=function(e,t,n,r,o){var i=gG(e),a=yG(i),s=function(e,t,n){return"number"==typeof e?e:e?Math.round(t/2-n/2):0};n=s(n,i.offsetWidth,this.wrapper.offsetWidth),r=s(r,i.offsetHeight,this.wrapper.offsetHeight);var c=function(e,t,n,r){return e-=t,e=r.adjustPosition(e-n)};a.left=c(a.left,this.wrapperOffset.left,n,this.scrollBehaviorX),a.top=c(a.top,this.wrapperOffset.top,r,this.scrollBehaviorY),this.hooks.trigger(this.hooks.eventTypes.scrollToElement,i,a)||this.scrollTo(a.left,a.top,t,o)},e.prototype.resetPosition=function(e,t){void 0===e&&(e=0),void 0===t&&(t=SG.bounce);var n=this.scrollBehaviorX.checkInBoundary(),r=n.position,o=n.inBoundary,i=this.scrollBehaviorY.checkInBoundary(),a=i.position,s=i.inBoundary;return(!o||!s)&&(sG&&this.reflow(),this.scrollTo(r,a,e,t),!0)},e.prototype.reflow=function(){this._reflow=this.content.offsetHeight},e.prototype.updatePositions=function(e){this.scrollBehaviorX.updatePosition(e.x),this.scrollBehaviorY.updatePosition(e.y)},e.prototype.getCurrentPos=function(){return this.actions.getCurrentPos()},e.prototype.enable=function(){this.actions.enabled=!0},e.prototype.disable=function(){RG(this.animater.timer),this.actions.enabled=!1},e.prototype.destroy=function(){var e=this;["resizeRegister","transitionEndRegister","actionsHandler","actions","hooks","animater","translater","scrollBehaviorX","scrollBehaviorY"].forEach((function(t){return e[t].destroy()}))},e}(),aW=function(e){function t(t,n){var r=e.call(this,["refresh","contentChanged","enable","disable","beforeScrollStart","scrollStart","scroll","scrollEnd","scrollCancel","touchEnd","flick","destroy"])||this,o=gG(t);return o?(r.plugins={},r.options=(new QG).merge(n).process(),r.setContent(o).valid?(r.hooks=new FG(["refresh","enable","disable","destroy","beforeInitialScrollTo","contentChanged"]),r.init(o),r):r):(nG("Can not resolve the wrapper DOM."),r)}return JK(t,e),t.use=function(e){var n=e.pluginName;return t.plugins.some((function(t){return e===t.ctor}))?t:pG(n)?(nG("Plugin Class must specify plugin's name in static property by 'pluginName' field."),t):(t.pluginsMap[n]=!0,t.plugins.push({name:n,applyOrder:e.applyOrder,ctor:e}),t)},t.prototype.setContent=function(e){var t=!1,n=!0,r=e.children[this.options.specifiedIndexAsContent];return r?(t=this.content!==r)&&(this.content=r):(nG("The wrapper need at least one child element to be content element to scroll."),n=!1),{valid:n,contentChanged:t}},t.prototype.init=function(e){var t=this;this.wrapper=e,e.isBScrollContainer=!0,this.scroller=new iW(e,this.content,this.options),this.scroller.hooks.on(this.scroller.hooks.eventTypes.resize,(function(){t.refresh()})),this.eventBubbling(),this.handleAutoBlur(),this.enable(),this.proxy(tG),this.applyPlugins(),this.refreshWithoutReset(this.content);var n=this.options,r={x:n.startX,y:n.startY};this.hooks.trigger(this.hooks.eventTypes.beforeInitialScrollTo,r)||this.scroller.scrollTo(r.x,r.y)},t.prototype.applyPlugins=function(){var e=this,n=this.options;t.plugins.sort((function(e,t){var n,r=((n={}).pre=-1,n.post=1,n);return(e.applyOrder?r[e.applyOrder]:0)-(t.applyOrder?r[t.applyOrder]:0)})).forEach((function(t){var r=t.ctor;n[t.name]&&"function"==typeof r&&(e.plugins[t.name]=new r(e))}))},t.prototype.handleAutoBlur=function(){this.options.autoBlur&&this.on(this.eventTypes.beforeScrollStart,(function(){var e=document.activeElement;!e||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName||e.blur()}))},t.prototype.eventBubbling=function(){oW(this.scroller.hooks,this,[this.eventTypes.beforeScrollStart,this.eventTypes.scrollStart,this.eventTypes.scroll,this.eventTypes.scrollEnd,this.eventTypes.scrollCancel,this.eventTypes.touchEnd,this.eventTypes.flick])},t.prototype.refreshWithoutReset=function(e){this.scroller.refresh(e),this.hooks.trigger(this.hooks.eventTypes.refresh,e),this.trigger(this.eventTypes.refresh,e)},t.prototype.proxy=function(e){var t=this;e.forEach((function(e){var n=e.key,r=e.sourceKey;!function(e,t,n){UG.get=function(){return function(e,t){for(var n=t.split("."),r=0;r<n.length-1;r++)if("object"!=typeof(e=e[n[r]])||!e)return;var o=n.pop();return"function"==typeof e[o]?function(){return e[o].apply(e,arguments)}:e[o]}(this,t)},UG.set=function(e){!function(e,t,n){for(var r,o=t.split("."),i=0;i<o.length-1;i++)e[r=o[i]]||(e[r]={}),e=e[r];e[o.pop()]=n}(this,t,e)},Object.defineProperty(e,n,UG)}(t,r,n)}))},t.prototype.refresh=function(){var e=this.setContent(this.wrapper),t=e.contentChanged;if(e.valid){var n=this.content;this.refreshWithoutReset(n),t&&(this.hooks.trigger(this.hooks.eventTypes.contentChanged,n),this.trigger(this.eventTypes.contentChanged,n)),this.scroller.resetPosition()}},t.prototype.enable=function(){this.scroller.enable(),this.hooks.trigger(this.hooks.eventTypes.enable),this.trigger(this.eventTypes.enable)},t.prototype.disable=function(){this.scroller.disable(),this.hooks.trigger(this.hooks.eventTypes.disable),this.trigger(this.eventTypes.disable)},t.prototype.destroy=function(){this.hooks.trigger(this.hooks.eventTypes.destroy),this.trigger(this.eventTypes.destroy),this.scroller.destroy()},t.prototype.eventRegister=function(e){this.registerType(e)},t.plugins=[],t.pluginsMap={},t}(FG);function sW(e,t){return new aW(e,t)}sW.use=aW.use,sW.plugins=aW.plugins,sW.pluginsMap=aW.pluginsMap;const cW=sW;var lW=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},uW="mobile-comments-mask",dW="mobile-comment-groups-container",pW="mobile-comment-group-container",fW="mobile-comment-groups-scroll-container",hW="mobile-comment-group-scroll-container",AW="mobile-comment-group-space",mW="mobile-comment-group-abstract",gW="mobile-comment-pull-info-container",vW="mobile-comment-pull-info",bW="reply-comment-container",yW="reply-comment-editor";function wW(e){return"mobile_comment_group_".concat(e)}function xW(e){return"mobile_comment_item_".concat(e)}function kW(e){return e.querySelector(".".concat(fW))}function CW(e){return e.querySelector(".".concat(hW))}function EW(e,t){return e.querySelector("#".concat(wW(t)))}function BW(e,t){return e.querySelector("#".concat(xW(t)))}function TW(e,t,n){var r=document.createElement("div"),o=document.createElement("div"),i=document.createElement("img"),a=e.getUserAvatarUrl(t.avatarUrl,t.userId);a&&(i.src=a),Qa(i,F_),o.appendChild(i);var s=document.createElement("span");s.appendChild(document.createTextNode(t.displayName)),Qa(s,z_),o.appendChild(s);var c=document.createElement("span"),l=vR(new Date(t.modified));c.appendChild(document.createTextNode(l)),Qa(c,Q_),o.appendChild(c);var u=e.auth.userId===t.userId?"w":"r";Qa(o,U_),r.appendChild(o);var d=function(e,t,n,r,o,i){var a=this,s=document.createElement("div");s.id=B(),Qa(s,Vi.COMMENT_EDITOR);var c=e.options,l=Object.assign(Object.assign({},c),{titleInEditor:!1,placeholder:r,hideBlockMenuButton:!0,hideBlockIcon:!0,maxLength:800});l.callbacks?l.callbacks=Object.assign({},l.callbacks):l.callbacks={},l.callbacks.onUploadResource=function(t,n){return lW(a,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uploadResource(n,(function(){}));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))},l.callbacks.onStatusChanged=null==i?void 0:i.onChange,l.callbacks.onBlur=null==i?void 0:i.onBlur;var u=e.createChildLocalEditor(s,t,l,o);return u.setReadOnly(n),{elem:s,childEditor:u}}(e,u,n,t.id!==t.groupId?ju.comment.replyPlaceholder:ju.comment.placeholder,{blocks:t.blocks,comments:{},meta:{}});return r.appendChild(d.elem),r.editor=d.childEditor,w(r instanceof HTMLElement),r.id=xW(t.id),r.setAttribute(M_,t.id),Qa(r,j_),r}function MW(e,t,n,r){var o=kW(t);w(o instanceof HTMLElement);var i=ps("div",[pW],o),a=ps("div",[hW],i);return i.id=wW(n),i.setAttribute(T_,n),ps("div",[AW],a),ps("div",[mW],a,r.commentGroupAbstract),r.comments.forEach((function(t){a.appendChild(TW(e,t,!0))})),i}function IW(e){var t=function(e){return e.querySelector(".".concat(yW))}(e);return t?t.value:""}var DW=n(1171),_W=n.n(DW),SW={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(_W(),SW);_W().locals;function OW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var NW=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootId="mobile-comment-".concat(Date.now()),this.handleClickMask=function(e){var t=e.target;w(t instanceof Element),t.closest(".".concat(mW))||t.closest(".".concat(j_))||t.closest(".".concat(bW))||n.isReplyEditorEmpty()&&n.hide()},this.handleGroupsScrollEnd=function(){n.clearGroupScroll(n.lastCommentGroupId),n.initGroupScroll()},this.hidePullInfoContainer=In()(this.hidePullInfoContainerCore,250),this.hidePullInfo=In()(this.hidePullInfoCore,3e3),this.onUpdatePosition=function(){},this.mainComment=t,this.editor=t.editor,this.commentsMap=t.commentsMap,this.rootContainer=function(e){var t=document.querySelector("#".concat(e));if(!t){(t=document.createElement("div")).id=e,Qa(t,__),w(t instanceof HTMLElement),ps("div",[uW],t);var n=ps("div",[dW],t);ps("div",[fW],n);var r=ps("div",[gW],t);ps("div",[vW],r)}return document.body.appendChild(t),w(t instanceof HTMLElement),t}(this.rootId);var r=this.rootContainer.querySelector(".".concat(uW));w(r instanceof HTMLElement),this.mask=r;var o=function(e){return e.querySelector(".".concat(dW))}(this.rootContainer);w(o instanceof HTMLElement),this.groupsContainer=o,this.curReadOnly=this.editor.isReadOnly(),this.bodyScrollbarData={enabled:!1,top:0,scrollContainer:null},this.bind()}var t,n,r;return t=e,(n=[{key:"destroy",value:function(){this.unbind(),this.clearGroupScroll(this.curCommentGroupId),this.curCommentGroupId=void 0}},{key:"bind",value:function(){this.unbind(),this.rootContainer.addEventListener("click",this.handleClickMask)}},{key:"unbind",value:function(){this.rootContainer.removeEventListener("click",this.handleClickMask)}},{key:"showPullInfo",value:function(e){var t=this.rootContainer.querySelector(".".concat(gW));w(t),Qa(t,Vi.ACTIVE);var n=t.querySelector(".".concat(vW));w(n),n.textContent="pullDown"===e?ju.comment.isFirst:ju.comment.isLast,setTimeout((function(){Qa(n,Vi.ACTIVE)})),this.hidePullInfo()}},{key:"hidePullInfoContainerCore",value:function(){var e=this.rootContainer.querySelector(".".concat(gW));w(e),Ja(e,Vi.ACTIVE)}},{key:"hidePullInfoCore",value:function(){var e=this.rootContainer.querySelector(".".concat(vW));w(e),Ja(e,Vi.ACTIVE),this.hidePullInfoContainer()}},{key:"initGroupsScroll",value:function(){var e=new cW(this.groupsContainer,{});this.rootContainer.bScroll=e,e.disable()}},{key:"initGroupScroll",value:function(){var e=this;if(this.curCommentGroupId){var t=EW(this.groupsContainer,this.curCommentGroupId);if(w(t instanceof HTMLElement),!t.bScroll){var n=new cW(t,{stopPropagation:!0,click:!0});w(n),t.bScroll=n,n.on("touchEnd",(function(){var r,o;if(e.isReplyEditorEmpty()){var i=null,a=20;if(void 0!==(null===(r=e.editor.options.commentsOptions)||void 0===r?void 0:r.pullThreshold)&&(a=null===(o=e.editor.options.commentsOptions)||void 0===o?void 0:o.pullThreshold),n.y>n.minScrollY+a?(i=t.previousElementSibling)||e.showPullInfo("pullDown"):n.y<n.maxScrollY-a&&((i=t.nextElementSibling)||e.showPullInfo("pullUp")),i){n.disable();var s=i.getAttribute(T_);w(s),e.scrollToGroup(s,500)}}}))}}}},{key:"isReplyEditorEmpty",value:function(){return!IW(this.rootContainer).length}},{key:"clearGroupsScroll",value:function(){var e=this.rootContainer.bScroll;w(e),e.scrollTo(0,0,0),e.destroy(),this.curCommentGroupId=void 0}},{key:"clearGroupScroll",value:function(e){if(e){var t=EW(this.groupsContainer,e);w(t instanceof HTMLElement);var n=t.bScroll;n&&(n.scrollTo(0,0,0),n.destroy(),delete t.bScroll)}}},{key:"scrollToGroup",value:function(e,t){this.lastCommentGroupId=this.curCommentGroupId,this.curCommentGroupId=e;var n=EW(this.groupsContainer,e);w(n instanceof HTMLElement);var r=this.rootContainer.bScroll;r.once("scrollEnd",this.handleGroupsScrollEnd),r.scrollToElement(n,t,!1,!1);var o=this.commentsMap.getGroupByCommentGroupId(e);this.mainComment.highlightCommentGroupCore(o)}},{key:"show",value:function(e,t){var n,r=this;this.curReadOnly=t.curReadOnly,Qa(this.rootContainer,Vi.ACTIVE);var o=cs(this.editor.rootElement);o===document.documentElement&&(this.bodyScrollbarData.enabled=!0,this.bodyScrollbarData.top=document.documentElement.scrollTop,document.documentElement.scrollTop=0,o=(null===(n=this.editor.options.commentsOptions)||void 0===n?void 0:n.scrollContainerForMobile)||this.editor.editorElement,this.bodyScrollbarData.scrollContainer=o,Qa(document.body,Vi.HIDE_SCROLLBAR),Qa(o,Vi.SHOW_MOBILE_COMMENT)),this.initGroupsScroll(),this.scrollToGroup(e.groupId,0),this.editor.isCommentable()&&this.createReplyEditor(),setTimeout((function(){r.initGroupScroll()}),100)}},{key:"hide",value:function(){if(this.clearGroupsScroll(),Ja(this.rootContainer,Vi.ACTIVE),this.mainComment.highlightCommentGroupCore(),this.curReadOnly||this.editor.setReadOnly(!1),this.bodyScrollbarData.enabled){Ja(document.body,Vi.HIDE_SCROLLBAR);var e=this.bodyScrollbarData.scrollContainer;e&&Ja(e,Vi.SHOW_MOBILE_COMMENT)}}},{key:"createMobileCommentGroup",value:function(e,t){MW(this.editor,this.groupsContainer,e,t)}},{key:"createReplyEditor",value:function(){if(!this.rootContainer.querySelector(".".concat(bW))){var e=ps("div",[bW],this.rootContainer),t=ps("div",["reply-editor-container"],e);ps("textarea",["reply-comment-editor"],t).setAttribute("rows","1");var n=ps("div",["reply-button-container"],e);ps("div",["reply-comment-button"],n,ju.comment.send).addEventListener("click",this.handleReplyComment)}}},{key:"handleReplyComment",value:function(){}},{key:"onInsertComment",value:function(e){w(e);var t=this.commentsMap.getGroupIndexByCommentGroupId(e.groupId),n=this.commentsMap.getGroup(t);w(n);var r=EW(this.groupsContainer,e.groupId);if(r){var o=CW(r);w(o),o.appendChild(TW(this.editor,e,!0))}else{r=MW(this.editor,this.groupsContainer,e.groupId,n),w(this.groupsContainer);var i=this.commentsMap.getGroup(t+1),a=null;i&&(a=EW(this.groupsContainer,i.groupId)),Qa(r,P_);var s=kW(this.groupsContainer);w(s),s.insertBefore(r,a)}}},{key:"onDeleteComment",value:function(e){w(e);var t=EW(this.groupsContainer,e.groupId),n=BW(this.groupsContainer,e.id);if(n&&n.remove(),t){var r=CW(t);w(r),0===r.querySelectorAll(".".concat(j_)).length&&(t.remove(),e.groupId===this.curCommentGroupId&&this.hide())}}},{key:"updateCommentText",value:function(e){var t=BW(this.groupsContainer,e);if(t){var n=this.editor.getCommentData(e);if(n){var r=t.editor;r&&r.loadLocalBlocks(n.blocks)}}}}])&&OW(t.prototype,n),r&&OW(t,r),e}();function LW(e){return(LW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RW(e){return function(e){if(Array.isArray(e))return jW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jW(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FW(e,t){return(FW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zW(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=HW(e);if(t){var o=HW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QW(this,n)}}function QW(e,t){if(t&&("object"===LW(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return PW(e)}function PW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HW(e){return(HW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var VW=qo.editIcon,KW=qo.deleteIcon,GW="data-origin-isEmpty",WW=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FW(e,t)}(i,e);var t,n,r,o=zW(i);function i(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).headContainer=null,t.groupsContainer=null,t.groupsContainerTranslateY=0,t.commentCountElement=null,t.commentsMap=new WK([],PW(t)),t.highlightCommentGroupById=In()(t.highlightCommentGroupByIdCore,100),t.fixGroupsPosition=In()(t.fixGroupsPositionCore,100),t.updateCommentItemTool=function(){t.rootElement().querySelectorAll(".".concat(H_,".").concat(Vi.ACTIVE)).forEach((function(e){return Ja(e,Vi.ACTIVE)}))},t.updateSwitchButton=function(){for(var e=t.getAllCommentContainer(),n=0;n<e.length;n+=1){var r=e[n];if(Ga(r,Vi.ACTIVE)){var o=r.querySelector("button.".concat(Vi.TEXT_BUTTON,".").concat(eS)),i=r.querySelector("button.".concat(Vi.TEXT_BUTTON,".").concat($_));w(o),w(i),Ja(o,"disabled"),Ja(i,"disabled"),null===r.previousSibling&&Qa(o,"disabled"),null===r.nextSibling&&Qa(i,"disabled")}}},t.handleClick=function(e){var n=e.target;w(n instanceof Element);var r=t.getCommentGroupByChild(n);if(r){var o=n.closest(".".concat(Vi.TEXT_BUTTON))||n.closest(".".concat(Vi.BUTTON));if(o){if(!Ga(o,"disabled"))if(Ga(o,eS))t.handleSwitchComment(r,!1);else if(Ga(o,$_))t.handleSwitchComment(r,!0);else{if(Ga(o,"comment-quickly-reply")){var i=r.comments[0],a=t.rootContainer.querySelector("#comment_item_".concat(i.id));return w(a),t.highlightCommentGroup(r),void t.handleReplyComment(i,a,!0)}var s=_S(o);w(s),w(s instanceof HTMLElement);var c=s.getAttribute(M_)||"",l=r.getCommentById(c);w(l);var u=!1;Ga(o,V_)?t.handleEditComment(l,s):Ga(o,W_)?t.handleDeleteComment(l,s):Ga(o,Y_)?t.handleReplyComment(l,s):Ga(o,iS)?t.handleCommentEditorSend(l,s)||(u=!0):Ga(o,oS)?(u=!0,t.handleCancelComment(l,s)):Ga(o,nS)?(u=!0,t.handleShowMoreHandler(o,t.editor.rootContainer(),l,s)):Ga(o,cS)&&t.handleInsertImageComment(l,s),u||t.highlightCommentGroup(r)}}else t.highlightCommentGroup(r)}},t.handleInsertImageComment=function(e,n){var r=DS(n),o=document.createElement("input");o.type="file",o.accept=t.editor.getAccepts(aa.IMAGE),o.onchange=function(){var e=o.files;e&&e.length&&r.insertImage(null,e[0],-2),o.remove()},o.click()},t.handleShowMoreHandler=function(e,n,r,o){var i,a,s=e.closest(".".concat(H_));s&&Qa(s,Vi.ACTIVE);var c=document.createElement("div");Qa(c,"comment-item-handle");var l=wS(ju.comment.edit,VW,V_);c.appendChild(l);var u=wS(ju.comment.delete,KW,W_);c.appendChild(u),l.addEventListener("click",(function(){t.handleEditComment(r,o),t.popover.hide()})),u.addEventListener("click",(function(){t.handleDeleteComment(r,o),t.popover.hide()}));var d={popoverTarget:e,maskTarget:null,parentPopover:null,commandTarget:n,content:c,autoShow:!1,hideOnClick:!0,trigger:"click",interactive:!0,placement:"bottom-end",arrow:!0,theme:"popover-comment",showMask:!1,delay:[0,50],refuseOverflow:null===(i=t.editor.options.popover)||void 0===i?void 0:i.refuseOverflow,overflowBoundary:null===(a=t.editor.options.popover)||void 0===a?void 0:a.overflowBoundary};t.popover.create(d)},t.handleCancelComment=function(e,n){var r,o;w(n);var i=DS(n),a=TS(t.rootContainer,e.groupId);w(a),jS(i,a,!0,t.onUpdatePosition);var s=i.data().blocks;n.getAttribute(GW)?(i.destroy(),t.handleDeleteComment(e,n)):i.loadLocalBlocks(e.blocks),(null===(r=t.editor.options.callbacks)||void 0===r?void 0:r.onCancelComment)&&(null===(o=t.editor.options.callbacks)||void 0===o||o.onCancelComment(t.editor,e,s))},t.handleCommentEditorSend=function(e,n){var r,o,i;if(t.editor.isReadOnly()&&(null===(r=t.editor.options.commentsOptions)||void 0===r?void 0:r.disableForReadonly))return!1;w(n);var a=DS(n),s=n.getAttribute(M_)||"",c=a.data(),l=c.blocks,u=TS(t.rootContainer,e.groupId);return t.isEmptyComment(a)?(t.handleDeleteComment(e,n),!1):(n.removeAttribute(GW),t.editor.updateCommentText(s,c),t.fixGroupsPosition(),w(u),jS(a,u,!0,t.onUpdatePosition),(null===(o=t.editor.options.callbacks)||void 0===o?void 0:o.onSendComment)&&(null===(i=t.editor.options.callbacks)||void 0===i||i.onSendComment(t.editor,e,l)),!0)},t.processBlurComment=function(e){if(null!==e){var n=e.querySelector(".".concat(K_));if(n){var r=n,o=DS(r);if(t.isEmptyComment(o)){var i=r.getAttribute(M_)||"",a=t.getCommentGroupByChild(r);w(a);var s=a.getCommentById(i);w(s),t.handleCancelComment(s,r)}}var c=e.querySelector(".".concat(q_));if(c){var l=c.closest(".".concat(L_)),u=DS(c);t.isEmptyComment(u)&&(RS(u,l,t.onUpdatePosition),c.remove())}}},t.handleWheel=function(e){var n=document.elementFromPoint(e.clientX,e.clientY);if(n&&n instanceof HTMLElement&&t.scrollContainer.contains(n)&&e.deltaY<0&&0===t.scrollContainer.scrollTop){var r=t.rootContainer.querySelector(".".concat(L_));if(!r)return;w(t.headContainer),w(r instanceof HTMLElement);var o=t.groupsContainerTranslateY,i=parseFloat(r.style.top);i<20&&o<Math.abs(i)+20&&(o+=20),t.setGroupsTransform(o);t.fixGroupsPositionCore(!0)}},t.handleHide=function(){t.isVisible()&&(t.highlightCommentGroup(void 0),Qa(t.rootContainer,Z_),Qa(t.editor.rootElement,Vi.COMMENT_IS_MINI),t.fixGroupsPositionCore(),t.editor.rootContainer().dispatchEvent(new Event("comments-resize-width")),setTimeout((function(){t.fixRootHeight()}),300),t.triggerUpdateLayout())},t.handleShow=function(){t.editor.options.isMobile||t.isVisible()||(Ja(t.rootContainer,Z_),Ja(t.editor.rootElement,Vi.COMMENT_IS_MINI),t.fixGroupsPositionCore(),t.editor.rootContainer().dispatchEvent(new Event("comments-resize-width")),setTimeout((function(){t.fixRootHeight()}),300),t.triggerUpdateLayout())},t.onUpdatePosition=function(){t.editor.options.hideComments||t.fixGroupsPosition()},t.editor=e,t.editorRootElement=e.rootElement,t.rootContainer=(n=t.editorRootElement,(r=n.querySelector(".".concat(D_)))||(r=ps("div",[D_,Z_],null)),n.appendChild(r),w(r instanceof HTMLElement),r),t.scrollContainer=cs(t.editorRootElement),t.popover=new QA,t.popover.on("hide",t.updateCommentItemTool),t}return t=i,(n=[{key:"rootElement",value:function(){return this.rootContainer}},{key:"destroy",value:function(){var e;this.unbind(),null===(e=this.mobileComments)||void 0===e||e.destroy(),this.rootContainer.querySelectorAll(".comment-item").forEach((function(e){var t=e.editor;t&&t.destroy&&t.destroy()})),this.rootElement().innerHTML=""}},{key:"reset",value:function(){this.unbind(),this.scrollContainer=cs(this.editorRootElement),this.bind()}},{key:"bind",value:function(){this.unbind(),this.rootContainer.addEventListener("click",this.handleClick),document.addEventListener("wheel",this.handleWheel)}},{key:"unbind",value:function(){this.rootContainer.removeEventListener("click",this.handleClick),document.removeEventListener("wheel",this.handleWheel)}},{key:"getComments",value:function(){return this.commentsMap}},{key:"isEmptyComment",value:function(e){w(e);var t=!0;return e.data().blocks.forEach((function(e){(e&&e.text&&0!==e.text.length||e&&"text"!==e.type)&&(t=!1)})),t}},{key:"isMini",value:function(){return Ga(this.editor.rootElement,Vi.COMMENT_IS_MINI)}},{key:"handleSwitchComment",value:function(e,t){w(e);for(var n=this.getAllCommentContainer(),r=0;r<n.length;r+=1)if((n[r].getAttribute(T_)||"")===e.commentGroupId){var o=r;t?o+=1:o-=1;var i=n[o];if(i){var a=i.getAttribute(T_)||"",s=this.commentsMap.getGroupByCommentGroupId(a);this.highlightCommentGroup(s)}}}},{key:"handleCommentEnterSend",value:function(e){var t=e.closest(".comment-group-container"),n=e.closest(".comment-item-reply-editor"),r=e.closest(".comment-item");if(w(t),r){var o=r.getAttribute("data-comment-id");w(o);var i=this.editor.getCommentData(o);this.handleCommentEditorSend(i,r)}else if(n){var a=n.editor,s=a.data(),c=Cn(s),l=n.getAttribute("data-reply-comment-id");w(l);var u=this.editor.getCommentData(l);c&&(w(u),this.editor.createComment(u.groupId,u.id,s,u.abstract)),RS(a,t,this.onUpdatePosition),n.remove(),this.fixGroupsPositionCore()}}},{key:"handleEditComment",value:function(e,t){w(t);var n=TS(this.rootContainer,e.groupId);w(n);var r=DS(t);jS(r,n,!1,this.onUpdatePosition),this.highlightCommentGroupById(e.groupId),this.isEmptyComment(r)?t.setAttribute(GW,"1"):t.removeAttribute(GW),setTimeout((function(){r.focus(-1)}),500)}},{key:"handleDeleteComment",value:function(e,t){w(t),this.editor.deleteComment(e.id),this.updateSwitchButton()}},{key:"handleReplyComment",value:function(e,t,n){var r=this;w(t);var o=TS(this.rootContainer,e.groupId);w(o);var i=o.querySelector(".".concat(q_));if(i){var a=DS(i),s=a.getBlockByIndex(a.rootContainer(),0),c=US(this.editor,e);return a.insertBlockText(s,0,c),void setTimeout((function(){a.focus(-1),r.fixGroupsPositionCore()}),150)}Qa(o,G_),Qa(i=function(e,t,n,r,o){var i=OS(t),a=ps("div",[q_],i);a.setAttribute("data-reply-comment-id",n.id);var s=US(e,n),c=If(e,Qi.TEXT,{text:s}),l=r?[Ma(If(e,Qi.TEXT))]:[ah(c)],u=ps("div",[rS],null),d=As(ju.common.cancel,[Vi.BUTTON,Vi.BUTTON_CANCEL,oS],u),p=As(ju.common.OK,[Vi.BUTTON,aS],u);p.setAttribute("title",ju.comment.replyTitle),p.disabled=!!r,u.style.display="flex";var f=bS(e,"w",!1,ju.comment.replyPlaceholder,{blocks:l,comments:{},meta:{}},{onChange:In()((function(e){ln(e.data())?p.disabled=!0:p.disabled=!1,o.onChangeHandleContainerStatus()})),onBlur:function(e){if(ln(e.data())){if(a.isOpenImage)return void(a.isOpenImage=void 0);o.onCancel(f.childEditor,a)}}});a.editor=f.childEditor,a.appendChild(f.elem),a.appendChild(u);var h=ps("div",[sS],f.elem),A=hs(AS,[Vi.TEXT_BUTTON,cS,Vi.TOOLTIP,"active"],h);return A.setAttribute("data-tooltip",ju.comment.image),A.onmousedown=function(e){e.preventDefault()},A.onclick=function(t){t.stopPropagation(),a.isOpenImage=!0;var n=document.createElement("input");n.type="file",n.accept=e.getAccepts(aa.IMAGE),n.onchange=function(){var t=n.files;if(t&&t.length){var r=t[0];e.verifyUploadFile(r,aa.IMAGE),f.childEditor.insertImage(null,t[0],-2)}n.remove()},n.click()},d.onclick=function(e){if(e.stopPropagation(),!o.onCancel(f.childEditor,a))throw new Error("cancel comment error")},p.onclick=function(e){if(e.stopPropagation(),!o.onSave(f.childEditor,a))throw new Error("save comment error")},a}(this.editor,o,e,!!n,{onSave:function(t,n){var i,a,s;if(r.editor.isReadOnly()&&(null===(i=r.editor.options.commentsOptions)||void 0===i?void 0:i.disableForReadonly))return!0;var c=t.data(),l=c.blocks,u=Cn(c),d=r.commentsMap.getGroupByCommentGroupId(e.groupId);if(u){w(d);var p=r.editor.createComment(e.groupId,e.id,c,d.commentGroupAbstract);if(null===(a=r.editor.options.callbacks)||void 0===a?void 0:a.onReplyComment){var f=r.editor.getCommentData(p);null===(s=r.editor.options.callbacks)||void 0===s||s.onReplyComment(r.editor,f,l)}}return RS(t,o,r.onUpdatePosition),FS(0,n),r.fixGroupsPositionCore(),!0},onCancel:function(e,t){var n,i;return FS(0,t),RS(e,o,r.onUpdatePosition),r.fixGroupsPositionCore(),(null===(n=r.editor.options.callbacks)||void 0===n?void 0:n.onCancelComment)&&(null===(i=r.editor.options.callbacks)||void 0===i||i.onCancelComment(r.editor)),!0},onChangeHandleContainerStatus:function(){r.fixGroupsPosition()}}),K_),this.fixGroupsPositionCore(),setTimeout((function(){w(i);var e=DS(i);jS(e,o,!1,r.onUpdatePosition),e.focus(-1),r.fixGroupsPositionCore()}),150)}},{key:"isVisible",value:function(){return Ga(this.editor.rootElement,Vi.COMMENT_IS_ACTIVE)&&!Ga(this.rootContainer,Z_)}},{key:"triggerUpdateLayout",value:function(){var e,t;(null===(e=this.editor.options.callbacks)||void 0===e?void 0:e.onUpdateLayout)&&(null===(t=this.editor.options.callbacks)||void 0===t||t.onUpdateLayout(this.editor,{comments:this.isVisible()}))}},{key:"setGroupsTransform",value:function(e){w(this.groupsContainer),this.groupsContainerTranslateY=e,this.groupsContainer.style.transform="translateY(".concat(e,"px)")}},{key:"fixGroupsPositionCore",value:function(e){var t=this;if(0!==this.commentsMap.groupCount){var n=this.rootContainer.querySelectorAll(".".concat(L_)),r=this.isMini(),o=r?null:IS(this.rootContainer);if(o&&!e||(o=n[0]),o){w(o instanceof HTMLElement);var i={},a=function(n,o,a){if(e&&parseInt(n.style.top,10)<0)return!1;w(t.headContainer),w(t.groupsContainer);var s=t.getCommentGroupByChild(n);w(s);var c=t.getCommentTarget(s.groupId);if(!c)return!1;w(c instanceof HTMLElement),Ja(n,Vi.HIDDEN);var l={count:r?t.getCommentGroupItemCount(n):0,mergeTo:""},u=20;r&&(u=4,i[s.groupId]=l,t.setCommentGroupItemCount(n,l.count));var d=t.groupsContainer.getBoundingClientRect(),p=c.getBoundingClientRect(),f=parseFloat(n.style.top),h=p.top-d.top;if(o){var A=n.getBoundingClientRect(),m=o.getBoundingClientRect(),g=parseFloat(o.style.top);if(a&&m.height+g+u>h){if(r){Qa(n,Vi.HIDDEN);var v=t.getCommentGroupByChild(o);w(v);var b=i[v.groupId].mergeTo||v.groupId;l.mergeTo=b,i[b].count+=l.count;var y=TS(t.rootContainer,b);y&&t.setCommentGroupItemCount(y,i[b].count)}h=m.height+g+u}else a||(A.height+f+u>g||h+A.height+u>g?h=g-A.height-u:f>h&&(h=f))}return f!==h&&(n.style.top="".concat(h,"px"),!0)};e||this.setGroupsTransform(0);var s=null;a(o,s,!0);var c=o.previousElementSibling;for(s=o;c&&Ga(c,L_)&&(w(c instanceof HTMLElement),w(s instanceof HTMLElement),a(c,s,!1));)s=c,c=c.previousElementSibling;for(c=o.nextElementSibling,s=o;c&&Ga(c,L_);)w(c instanceof HTMLElement),w(s instanceof HTMLElement),a(c,s,!0),s=c,c=c.nextElementSibling;this.rootContainer.querySelectorAll(".".concat(L_,".").concat(P_)).forEach((function(e){Ja(e,P_)})),this.fixRootHeight()}}}},{key:"fixRootHeight",value:function(){var e=this,t=this.editor.rootElement;if(!t.getAttribute("data-origin-height")){var n=parseFloat(window.getComputedStyle(t).minHeight||window.getComputedStyle(t).height);t.setAttribute("data-origin-height","".concat(n||""))}var r=this.rootContainer.querySelectorAll(".".concat(L_));if(0===r.length)return this.rootContainer.style.height="",void(t.style.minHeight="");w(this.groupsContainer);var o=this.rootContainer.getBoundingClientRect(),i=this.groupsContainer.getBoundingClientRect(),a=r[r.length-1];w(a instanceof HTMLElement);var s=a.getBoundingClientRect(),c=(parseFloat(a.style.top)||s.top)+(i.top-o.top)+s.height+30;this.rootContainer.style.height="".concat(c,"px");var l=parseFloat(t.getAttribute("data-origin-height")||"");Number.isNaN(l)&&(l=0),l=Math.max(l,c),this.editor.removeEventListener(zi.RESIZE,this.onUpdatePosition),this.addResizeEventTimer&&clearTimeout(this.addResizeEventTimer),t.style.minHeight="".concat(l,"px"),this.addResizeEventTimer=setTimeout((function(){e.editor.addEventListener(zi.RESIZE,e.onUpdatePosition)}),200)}},{key:"getCommentTarget",value:function(e){return this.editorRootElement.querySelector(BS(e))}},{key:"getAllCommentTarget",value:function(e){return Array.from(this.editorRootElement.querySelectorAll(BS(e)))}},{key:"getAllCommentContainer",value:function(){return Array.from(this.editorRootElement.querySelectorAll(".".concat(D_," .").concat(L_)))}},{key:"getCommentGroupByChild",value:function(e){if(e.parentElement){e instanceof Text&&(e=e.parentElement);var t=e.closest(".".concat(L_));if(t){w(t instanceof HTMLElement);var n=t.getAttribute(T_)||"";return this.commentsMap.getGroupByCommentGroupId(n)}}}},{key:"highlightCommentGroupByIdCore",value:function(e){this.highlightCommentGroup(this.commentsMap.getGroupByCommentGroupId(e))}},{key:"highlightCommentGroup",value:function(e){if(this.editor.options.isMobile&&this.mobileComments&&e){var t=this.editor.isReadOnly();t||this.editor.setReadOnly(!0),this.mobileComments.show(e,{curReadOnly:t})}this.highlightCommentGroupCore(e)}},{key:"highlightCommentGroupCore",value:function(e){var t=this,n=IS(this.rootContainer);if(NS(this.rootContainer,e),!e)return vS(n),void this.processBlurComment(n);var r=TS(this.rootContainer,e.groupId);if(!this.editor.options.isMobile){if(this.handleShow(),w(r),n===r)return;var o=r.querySelector("button.".concat(Vi.TEXT_BUTTON,".").concat(eS)),i=r.querySelector("button.".concat(Vi.TEXT_BUTTON,".").concat($_));w(o),w(i),Ja(o,"disabled"),Ja(i,"disabled"),null===r.previousSibling&&Qa(o,"disabled"),null===r.nextSibling&&Qa(i,"disabled"),this.processBlurComment(n)}vS(n),w(r instanceof HTMLElement),Qa(r,Vi.ACTIVE),this.fixGroupsPosition();var a=this.getCommentTarget(e.groupId);if(a){w(a);var s=PL(this.editor).startBlock;setTimeout((function(){t.editor.options.isMobile?function(e,t){var n=TS(e,t);if(n){w(e instanceof HTMLElement);var r=cs(e),o=r.getBoundingClientRect(),i=n.getBoundingClientRect(),a=o.top,s=Math.floor(o.top+o.height/2);i.top+i.height<s&&i.top>a||Es(r,r.scrollTop+Math.floor(i.top-o.top-o.height/4),200)}}(t.rootContainer,e.groupId):function(e,t,n){var r=e.rootContainer(),o=null==n?void 0:n.targetBlock;if(!o){var i=r.querySelector(".editor-comment-".concat(t));i||(i=r.querySelector(".comment[comment-".concat(t.toLowerCase(),"]"))),i&&(o=i)}w(o instanceof Element);var a=ls(cs(r)),s=o.getBoundingClientRect();ds(o,s.top<a.top+.6*a.height,{behavior:"auto",block:"center",inline:"center"})}(t.editor,e.groupId,{targetBlock:s})}),150)}}},{key:"isInCommentContainer",value:function(e){return this.rootContainer.contains(e)}},{key:"showComments",value:function(e){var t,n,r=this;this.commentsMap=new WK(e,this),this.editor.options.isMobile&&(this.mobileComments||(this.mobileComments=new NW(this))),this.rootContainer.innerHTML="",this.headContainer=function(e,t,n){var r=e.querySelector(".".concat(S_));if(!r){r=document.createElement("div");var o=document.createElement("span");Qa(o,O_),r.appendChild(o);var i=uy(r,[{id:"hideComments",text:ju.comment.hide,icon:pS,onClick:t}]);r.appendChild(i);var a=uy(r,[{id:"showComments",text:ju.comment.show,icon:fS,onClick:n}]);Qa(a,X_),r.appendChild(a)}return Qa(r,S_),e.appendChild(r),w(r instanceof HTMLElement),r}(this.rootContainer,this.handleHide,this.handleShow),this.editor.options.isMobile&&Qa(this.headContainer,Vi.HIDDEN),this.commentCountElement=this.headContainer.querySelector(".".concat(O_)),w(this.commentCountElement instanceof HTMLElement),this.groupsContainer=(t=this.rootContainer,(n=t.querySelector(".".concat(N_)))||(n=document.createElement("div")),Qa(n,N_),t.appendChild(n),w(n instanceof HTMLElement),n),Qa(this.rootContainer,"comment-loading"),this.groupsContainer.innerHTML="",this.commentsMap.groups.forEach((function(e){var t,n=e.groupId,o=CS(r.editor,n,e);w(r.groupsContainer),r.groupsContainer.appendChild(o),r.editor.options.isMobile&&(null===(t=r.mobileComments)||void 0===t||t.createMobileCommentGroup(n,e))})),this.updateCommentCount(),Ga(this.editor.rootElement,Vi.COMMENT_IS_ACTIVE)&&Qa(this.editor.rootElement,Vi.COMMENT_IS_MINI),this.bind(),this.fixGroupsPositionCore(),setTimeout((function(){w(r.groupsContainer),Qa(r.groupsContainer,Vi.ACTIVE),Ja(r.rootContainer,"comment-loading"),r.fixGroupsPositionCore()}),300)}},{key:"editComment",value:function(e,t){w(t);var n=this.commentsMap.getGroupByCommentGroupId(e);w(n);var r=n.getCommentById(t);w(r);var o=MS(this.rootContainer,t);w(o instanceof HTMLElement),this.handleEditComment(r,o)}},{key:"getCommentGroupItemCount",value:function(e){return e.querySelectorAll(".".concat(j_)).length}},{key:"setCommentGroupItemCount",value:function(e,t){var n=e.querySelector(".".concat(O_));w(n),n.textContent=t.toString()}},{key:"updateCommentCount",value:function(){var e=this;if(!this.editor.options.hideComments){w(this.commentCountElement);var t=this.rootContainer.querySelectorAll(".".concat(L_)).length;this.commentCountElement.innerText=ju.get("comment.count",{num:t}),this.editor.removeEventListener(zi.RESIZE,this.onUpdatePosition),t>0?(Qa(this.rootContainer,Vi.ACTIVE),Qa(this.editor.rootElement,Vi.COMMENT_IS_ACTIVE),this.editor.addEventListener(zi.RESIZE,this.onUpdatePosition)):(Ja(this.rootContainer,Vi.ACTIVE),Ja(this.editor.rootElement,Vi.COMMENT_IS_ACTIVE),Ja(this.editor.rootElement,Vi.COMMENT_IS_MINI)),this.editor.rootContainer().dispatchEvent(new Event("comments-resize-width")),this.rootContainer.querySelectorAll(".".concat(L_)).forEach((function(t){e.setCommentGroupItemCount(t,e.getCommentGroupItemCount(t))})),this.triggerUpdateLayout()}}},{key:"onInsertComment",value:function(e){if(!this.editor.options.hideComments){w(e);var t=this.commentsMap.getGroupIndexByCommentGroupId(e.groupId),n=this.commentsMap.getGroup(t);w(n);var r=TS(this.rootContainer,e.groupId);if(r)OS(r).appendChild(xS(this.editor,e,!0));else{r=CS(this.editor,e.groupId,n),w(this.groupsContainer);var o=this.commentsMap.getGroup(t+1),i=null;o&&(i=TS(this.rootContainer,o.groupId)),Qa(r,P_),this.groupsContainer.insertBefore(r,i)}this.mobileComments&&this.mobileComments.onInsertComment(e),this.updateCommentCount(),this.fixGroupsPosition()}}},{key:"onDeleteComment",value:function(e){if(!this.editor.options.hideComments){w(e);var t=TS(this.rootContainer,e.groupId),n=MS(this.rootContainer,e.id);if(n){var r=n.querySelector(".".concat(nS));r&&(r.onmouseenter=null),n.remove()}t&&(0===OS(t).querySelectorAll(".".concat(j_)).length&&t.remove(),this.mobileComments&&this.mobileComments.onDeleteComment(e),this.updateCommentCount())}}},{key:"handleSelectImg",value:function(e){if(!this.editor.options.hideComments&&Ga(e,Vi.COMMENT)){var t=[];Array.from(e.attributes).forEach((function(n){if(n.name.startsWith(I_)){var r=e.getAttribute(n.name);w(r),t.push(r)}})),this.highlightCommentGroupById.cancel(),t.length>0?this.highlightCommentGroupById(t):this.highlightCommentGroupById("")}}},{key:"handleSelectionChanged",value:function(e){var t;if(!(this.editor.isComposing()||this.editor.options.hideComments||this.editor.options.isMobile)){if(e.type===ia.ONE_TEXT_BLOCK){var n=e.startBlock,r=e.startOffset,o=e.endOffset;if(w(n),w(void 0!==r),w(void 0!==o),Ga(n,Vi.ENTIRE_SELECTED))return void this.highlightCommentGroupById("");var i=e.collapsed,a=Kf(n);if(i&&a===r)return void this.highlightCommentGroupById("");var s=ES(Zf(n,r,{selectNext:!0})),c=i?s:ES(Zf(n,o,{selectNext:!1})),l=Array.from(new Set(RW(s).filter((function(e){return c.indexOf(e)>=0}))));if(l.length>0)return void this.highlightCommentGroupById(l)}if(e.startBlock&&Ga(e.startBlock,Vi.COMMENT)){var u=wf(e.startBlock);if(u&&u.length>0)return void this.highlightCommentGroupById(u[0])}var d=null===(t=document.getSelection())||void 0===t?void 0:t.focusNode;e.type===ia.INVALID&&d&&this.isInCommentContainer(d)||this.highlightCommentGroupById("")}}},{key:"updateCommentText",value:function(e){var t;if(!this.editor.options.hideComments)if(this.editor.options.isMobile)null===(t=this.mobileComments)||void 0===t||t.updateCommentText(e);else{var n=MS(this.rootContainer,e);if(n){var r=this.editor.getCommentData(e);if(r){var o=n.editor;o&&o.loadLocalData(r)}}}}}])&&UW(t.prototype,n),r&&UW(t,r),i}(dS);function YW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qW=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentElement=null,this.editor=t,this.toolbar=new wy}var t,n,r;return t=e,(n=[{key:"destroy",value:function(){this.toolbar.destroy()}},{key:"hide",value:function(){this.currentElement=null,this.toolbar.hide()}},{key:"isVisible",value:function(){return this.toolbar.isVisible()}},{key:"handleMouseMove",value:function(e){if(this.editor.isReadOnly()||this.editor.options.isMobile)return!1;var t=e.target;w(t instanceof Element);var n=t.closest(".".concat(Vi.QUICK_EDITABLE_ELEMENT));return this.currentElement===n||!n&&this.currentElement&&ks(e,this.currentElement,10,10)||(this.currentElement&&this.hide(),n instanceof HTMLElement&&this.show(n)),!1}},{key:"on",value:function(e,t){this.toolbar.on(e,t)}},{key:"show",value:function(e){var t;w(e),console.log("show tool bar");var n=wN(e);w(n);var r=$f(n,e);if(r){if(this.currentElement!==e){this.currentElement=e;var o=e;this.toolbar.createManualHideToolbar(o,o,r,{placement:"bottom",popoverOptions:{zIndex:(null===(t=this.editor.options.zIndex)||void 0===t?void 0:t.editableToolbar)||1815,maxWidth:365}})}}else this.hide()}}])&&YW(t.prototype,n),r&&YW(t,r),e}();function ZW(e,t){var n=function(e,t){var n=e.commentsContainer.getAllCommentTarget(t),r=new Set;n.forEach((function(e){var t=wN(e);w(t),r.add(t)}));var o=[];return r.forEach((function(e){var n=ih(e,t);o=o.concat(n)})),o}(e,t),r="";return n.forEach((function(e){var t=rh(e.block,e.start,e.end);r+=t})),{blocks:n,text:r}}var XW=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};var JW={prefix:"#",supportMarkdown:!0,createNode:function(e,t){return{classes:["box-tag"],children:[{type:"text",text:Zi},{type:"text",attributes:{class:"box-tag-text"},text:t.text},{type:"text",text:Zi}]}},getItems:function(e,t){var n;return XW(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(w(e),!e.options.callbacks||!e.options.callbacks.onGetTagItems){r.next=6;break}return r.next=4,null===(n=e.options.callbacks)||void 0===n?void 0:n.onGetTagItems(e,t);case 4:return o=r.sent,r.abrupt("return",o.map((function(e){return{iconUrl:"",text:e,id:e,data:null}})));case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}}),r)})))},createBoxDataFromItem:function(e,t){return w(e),{iconUrl:"",text:t.text}},handleBoxInserted:function(e,t,n,r){e.options.callbacks&&e.options.callbacks.onTagInserted&&e.options.callbacks.onTagInserted(e,t.text,n,r)},handleBoxClicked:function(e,t,n){w(n),e.options.callbacks&&e.options.callbacks.onTagClicked&&e.options.callbacks.onTagClicked(e,t.text)},available:function(e){var t;return!!(null===(t=e.options.callbacks)||void 0===t?void 0:t.onGetTagItems)},isFullBox:function(e,t){if(t.startBlock){var n=hf(t.startBlock).text;w(n),w(void 0!==t.startOffset);var r=n.split(t.startOffset)[0].toPlainText();if(r.endsWith("#")){var o=r.match(/#(?!#|\s)([^#\r\n]+)#$/);if(null==o?void 0:o[1]){var i=r.length-o[1].length-3;return e.beginUndoGroup(),e.deleteBlockText(t.startBlock,i,r.length),Hd(e,t.startBlock,i,Pi.TAG,null,{iconUrl:"",text:o[1]}),e.endUndoGroup(),!0}}}return!1}};wd(Pi.TAG,JW);var $W=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};var eY={prefix:"[[",supportMarkdown:!0,createNode:function(e,t){var n,r,o=t,i=o.name;if(null===(n=e.options.callbacks)||void 0===n?void 0:n.onGetWikiLinkName){var a=null===(r=e.options.callbacks)||void 0===r?void 0:r.onGetWikiLinkName(e,o);a&&(i=a)}return{classes:["box-wiki-link"],children:[{type:"text",text:i,classes:["box-wiki-link-name",Vi.TOOLTIP],attributes:{"data-tooltip":o.secondaryName,"data-tooltip-icon":o.secondaryName?"referenceIcon":void 0}}]}},getItems:function(e,t){var n;return $W(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(w(e),!e.options.callbacks||!e.options.callbacks.onGetWikiLinkItems){r.next=6;break}return r.next=4,null===(n=e.options.callbacks)||void 0===n?void 0:n.onGetWikiLinkItems(e,t);case 4:return o=r.sent,r.abrupt("return",o.map((function(e){var t;return{iconUrl:null!==(t=e.iconUrl)&&void 0!==t?t:"",text:e.name,id:e.linkId,parts:e.parts,data:e,subText:e.secondaryName}})));case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}}),r)})))},createBoxDataFromItem:function(e,t){var n,r;w(e);var o={name:t.text,linkId:t.id};return(null===(n=t.data)||void 0===n?void 0:n.secondaryName)&&(o.secondaryName=t.data.secondaryName),(null===(r=t.data)||void 0===r?void 0:r.blockId)&&(o.blockId=t.data.blockId),o},handleBoxInserted:function(e,t,n,r){e.options.callbacks&&e.options.callbacks.onWikiLinkInserted&&e.options.callbacks.onWikiLinkInserted(e,t,n,r)},handleBoxClicked:function(e,t,n,r){w(n),e.options.callbacks&&e.options.callbacks.onWikiLinkClicked&&e.options.callbacks.onWikiLinkClicked(e,t,r)},available:function(e){var t;return!!(null===(t=e.options.callbacks)||void 0===t?void 0:t.onGetWikiLinkItems)},customSuggestTheme:"wiki-link-suggest",autoSuggestMaxHeight:600};wd(Pi.WIKI_LINK,eY);var tY=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};var nY={prefix:"@",triggerMode:"any",createNode:function(e,t){var n=t.iconUrl,r=t.text;return{classes:["box-mention",t.mentionId===e.auth.userId?"self":""],children:[{type:"text",text:Zi},{type:"a",id:"M".concat(t.id)},{type:"text",iconUrl:n,attributes:{class:"box-mention-text"},text:"@".concat(r)},{type:"text",text:Zi}]}},getItems:function(e,t){var n;return tY(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(w(e),!e.options.callbacks||!e.options.callbacks.onGetMentionItems){r.next=6;break}return r.next=4,null===(n=e.options.callbacks)||void 0===n?void 0:n.onGetMentionItems(e,t);case 4:return o=r.sent,r.abrupt("return",o);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}}),r)})))},handleBoxItemSelected:function(e,t){var n,r;return tY(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,s;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(w(e),!(i=e.options.callbacks&&e.options.callbacks.onMentionCreateData?e.options.callbacks.onMentionCreateData(e,t):{iconUrl:t.iconUrl,text:t.text,mentionId:t.id})){o.next=7;break}return o.next=5,e.insertBox(Pi.MENTION,null,i,{deletePrefix:!0});case 5:(null==(a=o.sent)?void 0:a.id)&&(null===(n=e.options.callbacks)||void 0===n?void 0:n.onMentionCreated)&&(s=e.getBoxById(a.id))&&(null===(r=e.options.callbacks)||void 0===r||r.onMentionCreated(e,a,s));case 7:case"end":return o.stop()}}),o)})))},handleBoxInserted:function(e,t,n,r){e.options.callbacks&&e.options.callbacks.onMentionInserted&&e.options.callbacks.onMentionInserted(e,t,n,r)},handleBoxClicked:function(e,t,n){e.options.callbacks&&e.options.callbacks.onMentionClicked&&e.options.callbacks.onMentionClicked(e,t,n)},renderAutoSuggestItem:function(e,t,n){if(w(n),e.options.callbacks&&e.options.callbacks.onRenderAutoSuggestItem)return e.options.callbacks.onRenderAutoSuggestItem(e,t);throw new Error("not impl renderAutoSuggestItem")},available:function(e){var t;return!!(null===(t=e.options.callbacks)||void 0===t?void 0:t.onGetMentionItems)}};wd(Pi.MENTION,nY);var rY=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};var oY={customSuggest:!0,customSuggestTheme:"math-box",insertDefaultThenEdit:!0,supportMarkdown:!0,createNode:function(e,t){var n=t;if(!n.tex)return{classes:["box-math"],children:[{type:"text",text:ju.math.emptyTeX}]};if(!n.src){var r=n.invalid,o=!r;if(o)(function(e,t){return yv(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,kv(e,t);case 2:if(r=n.sent){n.next=5;break}return n.abrupt("return","");case 5:return n.next=7,ys(r,"image/svg+xml");case 7:return o=n.sent,n.abrupt("return",o);case 9:case"end":return n.stop()}}),n)})))})(e,n.tex).then((function(r){r?e.updateBoxData(t.id,{tex:n.tex,src:r},!0):e.updateBoxData(t.id,{tex:n.tex,src:r,invalid:"invalid tex"},!0)})).catch((function(r){var o;try{e.updateBoxData(t.id,{tex:n.tex,src:"",invalid:null===(o=r)||void 0===o?void 0:o.message},!0)}catch(e){}}));else if(r)return{classes:["box-math",Vi.ERROR],children:[{type:"text",text:r}]};return{classes:["box-math",o?"box-math-loading":Vi.ERROR],children:[{type:"text",text:o?ju.math.loading:ju.math.invalidTeX}]}}return{classes:["box-math",Vi.QUICK_EDITABLE_ELEMENT],children:[{type:"text",text:Zi,classes:["fill"]},{type:"image",src:e.buildResourceUrl(n.src)},{type:"text",text:Zi,classes:["fill"]}]}},getItems:function(e,t){return rY(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(void 0!==t),e.abrupt("return",[{iconUrl:"",text:"",id:"custom-suggest-id",data:null}]);case 2:case"end":return e.stop()}}),e)})))},handleBoxClicked:function(e,t,n){w(t);var r=t;e.isReadOnly()||e.editBox(r,n)},renderAutoSuggestItem:function(e,t,n){w(n),w(n.data),w(n.data.boxData);var r=n.data.boxData,o=document.createElement("div");return Qa(o,"mathjax-container-popover"),function(e,t,n,r){var o=this,i=ps("div",["mathjax-container"],t),a=ps("textarea",["mathjax-editor"],i);a.value=r||"";var s=In()((function(t){return yv(o,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,s,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,w(t),i=a.value,r.next=5,kv(e,i);case 5:if(s=r.sent){r.next=9;break}return e.updateBoxData(n,{tex:i,src:""}),r.abrupt("return");case 9:return r.next=11,Cv(e,s);case 11:c=r.sent,e.updateBoxData(n,{tex:i,src:c}),r.next=19;break;case 15:r.prev=15,r.t0=r.catch(0),e.updateBoxData(n,{tex:null!==(o=a.value)&&void 0!==o?o:"",src:""}),console.error(r.t0);case 19:case"end":return r.stop()}}),r,null,[[0,15]])})))}),500);wv(e).then((function(){a.onkeyup=function(t){"Escape"===t.key&&e.closeAutoSuggest(),s(t)}})),setTimeout((function(){a.focus()}))}(e,o,r.id,r.tex),o.onclick=function(e){e.stopPropagation()},o},createBoxData:function(e){return rY(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(e),t.abrupt("return",{src:"",tex:""});case 2:case"end":return t.stop()}}),t)})))},updateBox:function(e,t,n){return rY(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(w(t),(o=t).tex){r.next=4;break}return r.abrupt("return");case 4:return r.prev=4,r.next=7,kv(e,o.tex);case 7:if(i=r.sent,a=wN(n)){r.next=11;break}return r.abrupt("return");case 11:if(!th(a)){r.next=13;break}return r.abrupt("return");case 13:if(Cd(n)){r.next=15;break}return r.abrupt("return");case 15:if(Md(n)===o.id){r.next=17;break}return r.abrupt("return");case 17:s='<span class="fill">'.concat(Zi,"</span>").concat(i,'<span class="fill">').concat(Zi,"</span>"),n.innerHTML=s,r.next=24;break;case 21:r.prev=21,r.t0=r.catch(4),console.warn("failed to update math: ".concat(JSON.stringify(r.t0)));case 24:case"end":return r.stop()}}),r,null,[[4,21]])})))}};wd(Pi.MATH,oY);var iY=n(5295),aY=n.n(iY),sY={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(aY(),sY);aY().locals;function cY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lY=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.date=new Date,this.day=this.date.getDay(),this.month=this.date.getMonth(),this.year=this.date.getFullYear(),this.today=this.date,this.value=this.date,this.calendarDayElementType="time",this.activeDateElement=null,this.listOfAllDaysAsText=[ju.calendar.week.mon,ju.calendar.week.tue,ju.calendar.week.wed,ju.calendar.week.thu,ju.calendar.week.fri,ju.calendar.week.sat,ju.calendar.week.sun],this.listOfAllMonthsAsText=[ju.calendar.month.jan,ju.calendar.month.feb,ju.calendar.month.mar,ju.calendar.month.apr,ju.calendar.month.may,ju.calendar.month.jun,ju.calendar.month.jul,ju.calendar.month.aug,ju.calendar.month.sep,ju.calendar.month.oct,ju.calendar.month.nov,ju.calendar.month.dec],this.callback=null,this.setCallback=function(e){r.callback=e},this._getDaysInMonth=function(e,t){if(!e&&0!==e||!t&&0!==t)return[];for(var n=new Date(t,e,1),r=[];n.getMonth()===e;)r.push(new Date(n)),n.setDate(n.getDate()+1);return r},this._formatDateToInit=function(e){e&&e.setHours(0,0,0)},this._setDateText=function(){var e=r.date.toString().split(" ");r.dayAsText=e[0],r.monthAsText=e[1],r.dateAsText=e[2],r.yearAsText=e[3]},this._insertCalendarIntoWrapper=function(){r.calendarWrapper.appendChild(r.calendarElement);var e=function(e){w(e.target),w(e.target instanceof Element);var t=e.target.closest(r.calendarDayElementType);t&&!t.classList.contains("disabled")&&(Array.from(document.querySelectorAll(".selected")).forEach((function(e){return e.classList.remove("selected")})),t.classList.add("selected"),r.value=t.value,r.onValueChange())};r.calendarGrid.addEventListener("click",e,!1),r.calendarGrid.addEventListener("keydown",(function(t){"Enter"===t.key&&e(t)}),!1)},this._insertHeaderIntoCalendarWrapper=function(){r.calendarHeaderTitle.textContent="".concat(r.listOfAllMonthsAsText[r.month]," - ").concat(r.year),r.calendarHeader.appendChild(r.calendarHeaderTitle),r.calendarWrapper.appendChild(r.calendarHeader)},this._insertCalendarGridDaysHeader=function(){r.listOfAllDaysAsText.forEach((function(e){var t=document.createElement("span");t.textContent=e,r.calendarGridDays.appendChild(t)})),r.calendarElement.appendChild(r.calendarGridDays)},this._insertNavigationButtons=function(){var e='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>';r.previousMonthArrow.innerHTML=e,r.nextMonthArrow.innerHTML=e,r.previousMonthArrow.setAttribute("aria-label","Go to previous month"),r.nextMonthArrow.setAttribute("aria-label","Go to next month"),r.navigationWrapper.appendChild(r.previousMonthArrow),r.navigationWrapper.appendChild(r.nextMonthArrow);var t=r;r.navigationWrapper.addEventListener("click",(function(e){var n=e.target;w(n),n.closest("#".concat(t.previousMonthArrow.id))&&(0===t.month?(t.month=11,t.year-=1):t.month-=1,t._updateCalendar()),n.closest("#".concat(t.nextMonthArrow.id))&&(11===t.month?(t.month=0,t.year+=1):t.month+=1,t._updateCalendar())}),!1),t.calendarHeader.appendChild(t.navigationWrapper)},this._insertDaysIntoGrid=function(){r.calendarGrid.innerHTML="";var e=r._getDaysInMonth(r.month,r.year),t=e[0].getDay();(t=0===t?7:t)>1&&(e=Array(t-1).fill(!1,0).concat(e)),e.forEach((function(e){var t=document.createElement(e?r.calendarDayElementType:"span"),n=e.toString().split(" ")[2];e&&r.value.toDateString()===e.toDateString()&&(r.activeDateElement=t),r.min&&r.max&&e.toString()!==r.today.toString()&&(e<r.min||e>r.max)?t.classList.add("disabled"):(t.tabIndex=0,t.value=e);var o=document.createElement("span");o.textContent=e?n:"",t.appendChild(o);var i=new Date;e&&i.getFullYear()===e.getFullYear()&&i.getMonth()===e.getMonth()&&i.getDate()===e.getDate()&&t.classList.add("today"),r.calendarGrid.appendChild(t)})),r.calendarElement.appendChild(r.calendarGrid),r.activeDateElement&&r.activeDateElement.classList.add("selected")},this._updateCalendar=function(){r.date=new Date(r.year,r.month),r._setDateText(),r.day=r.date.getDay(),r.month=r.date.getMonth(),r.year=r.date.getFullYear();var e=r;window.requestAnimationFrame((function(){e.calendarHeaderTitle.textContent="".concat(e.listOfAllMonthsAsText[e.month]," - ").concat(e.year),e._insertDaysIntoGrid()}))},this.onValueChange=function(){return!!r.callback&&r.callback(r.value)},this.value=n.date||new Date,this._formatDateToInit(this.date),this.min=n.min,this.max=n.max,this._formatDateToInit(this.min),this._formatDateToInit(this.max),this.userElement=t;var o=this.date.toString().split(" ");this.dayAsText=o[0],this.monthAsText=o[1],this.dateAsText=o[2],this.yearAsText=o[3],this.calendarWrapper=document.createElement("div"),this.calendarElement=document.createElement("div"),this.calendarHeader=document.createElement("header"),this.calendarHeaderTitle=document.createElement("h4"),this.navigationWrapper=document.createElement("section"),this.previousMonthArrow=document.createElement("button"),this.nextMonthArrow=document.createElement("button"),this.calendarGridDays=document.createElement("section"),this.calendarGrid=document.createElement("section"),this.calendarDayElementType="time",this.calendarWrapper.id="calendar-wrapper",this.calendarElement.id="calendar",this.calendarGridDays.id="calendar-days",this.calendarGrid.id="calendar-grid",this.navigationWrapper.id="navigation-wrapper",this.previousMonthArrow.id="previous-month",this.nextMonthArrow.id="next-month",this._insertHeaderIntoCalendarWrapper(),this._insertCalendarGridDaysHeader(),this._insertDaysIntoGrid(),this._insertNavigationButtons(),this._insertCalendarIntoWrapper(),this.userElement.appendChild(this.calendarWrapper)}var t,n,r;return t=e,(n=[{key:"focus",value:function(){this.calendarGrid.focus()}}])&&cY(t.prototype,n),r&&cY(t,r),e}(),uY=n(1545),dY=n.n(uY),pY={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(dY(),pY);dY().locals;function fY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hY(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var AY=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function mY(e){e.stopPropagation()}var gY={prefix:"/:d",customSuggest:!0,customSuggestTheme:"calendar-box",insertDefaultThenEdit:!0,createNode:function(e,t){w(t);var n=t,r=["box-calendar"],o=(n.date-(new Date).valueOf())/864e5;return o<1?r.push("error"):o<7&&r.push("warning"),{classes:r,children:[{type:"text",text:function(e,t){var n;if(n=new Date((new Date).getTime()+864e5).toDateString()===e.toDateString()?ju.calendar.tomorrow:new Date((new Date).getTime()-864e5).toDateString()===e.toDateString()?ju.calendar.yesterday:e.toLocaleDateString(),!t)return n;var r=e.toLocaleTimeString([],{timeStyle:"short"});return"".concat(n," ").concat(r)}(new Date(n.date),!!n.time)}]}},getItems:function(e,t){return AY(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",[{iconUrl:"",text:"",id:"custom-suggest-id",data:null}]);case 2:case"end":return e.stop()}}),e)})))},handleBoxInserted:function(e,t,n,r){w(r>=0);var o=t;console.log("calendar box inserted: ".concat(o.date))},handleBoxClicked:function(e,t,n){w(t);var r=t;console.log("calendar clicked: ".concat(r.date)),e.editBox(r,n)},createBoxDataFromItem:function(e,t){return w(t),{}},renderAutoSuggestItem:function(e,t,n){w(t),w(n),w(n.data),w(n.data.boxData);var r=n.data.boxData,o=e.getBoxById(r.id);w(o);var i=wN(o);w(i);var a=document.createElement("div");Qa(a,"editor-calendar-box"),a.onclick=mY;var s=e.saveSelectionState(),c=new Date,l=new Date(c.getFullYear(),c.getMonth(),c.getDate()),u=new Date(c.getFullYear()+100,c.getMonth(),c.getDate()),d=new lY(a,{date:new Date(r.date),min:l,max:u}),p=function(e){return e<10?"0".concat(e):"".concat(e)},f=ps("div",["calendar-time-container"],a),h=fs(["calendar-check"],ps("div",["calendar-check-container"],f),ju.calendar.setTimeLabel,["calendar-label"]),A=ps("input",["calendar-control"],f);A.type="time";var m=ps("div",["calendar-reminder-container"],a),g=fs(["calendar-check"],ps("div",["calendar-check-container"],m),ju.calendar.setReminderLabel,["calendar-label"]),v=ps("select",["calendar-control"],m),b=yh(i,Pi.MENTION).map((function(e){return e.text})).join(", ");ps("div",["calendar-mentions-container"],a,"".concat(ju.calendar.mentions).concat(b));var y=[{type:"on-time",label:ju.calendar.remindOnTime},{type:"5minutes",label:ju.calendar.remind5Minutes},{type:"15minutes",label:ju.calendar.remind15Minutes},{type:"30minutes",label:ju.calendar.remind30Minutes},{type:"1hour",label:ju.calendar.remind1Hour},{type:"2hours",label:ju.calendar.remind2Hours},{type:"1day",label:ju.calendar.remind1Day},{type:"2days",label:ju.calendar.remind2Days},{type:"1week",label:ju.calendar.remind1Week}],x=[{type:"no-time-1day",label:ju.calendar.remindNoTime1Day},{type:"no-time-2days",label:ju.calendar.remindNoTime2Days},{type:"no-time-1week",label:ju.calendar.remindNoTime1week}],k=function(e){return e?y:x},C=function(e){var t=new Date(e.date),n="".concat(p(t.getHours()),":").concat(p(t.getMinutes()));A.value=n,h.checked=!!e.time,g.checked=!(void 0===e.reminder||"none"===e.reminder),A.style.display=h.checked?"unset":"none",v.style.display=g.checked?"unset":"none";for(var r=k(h.checked),o=v.options.length-1;o>=0;o--)v.options.remove(0);r.forEach((function(e){var t=document.createElement("option");t.text=e.label,t.value=e.type,v.options.add(t)})),v.value=e.reminder||v.options[0].value,-1===v.selectedIndex&&(v.selectedIndex=0)};return C(r),h.onclick=function(){r.time=!r.time,"none"!==r.reminder&&(r.reminder=k(!!r.time)[0].type),e.updateBoxData(r.id,Object.assign({},r)),C(r)},g.onclick=function(){"none"===r.reminder?r.reminder=k(!!r.time)[0].type:r.reminder="none",e.updateBoxData(r.id,Object.assign({},r)),C(r)},A.onchange=function(){var t=fY(A.value.split(":"),2),n=t[0],o=t[1],i=new Date(r.date);i.setHours(Number.parseInt(n,10),Number.parseInt(o,10)),r.date=i.getTime(),e.updateBoxData(r.id,Object.assign({},r)),C(r)},v.onchange=function(){var t=v.value;r.reminder=t,e.updateBoxData(r.id,Object.assign({},r)),C(r)},setTimeout((function(){d.focus()}),100),d.setCallback((function(t){e.restoreSelectionState(s);var n=new Date(t),o=new Date(r.date);n.setHours(o.getHours(),o.getMinutes(),0),r.date=n.valueOf(),e.updateBoxData(r.id,Object.assign({},r)),C(r)})),a},createBoxData:function(e){return AY(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(e),n=new Date,(r=new Date(n.getTime()+864e5)).setMinutes(30*Math.floor(r.getMinutes()/30),0,0),t.abrupt("return",{date:r.getTime(),time:!0,reminder:"on-time"});case 5:case"end":return t.stop()}}),t)})))}};wd(Pi.CALENDAR,gY);var vY=n(7031),bY=n.n(vY),yY={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(bY(),yY);bY().locals;var wY=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};var xY={createNode:function(e,t){w(t);var n=t;return{classes:["editor-box-loading"],children:[{type:"text",text:n.text?n.text:Zi}]}},createBoxData:function(e){return wY(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(e),t.abrupt("return",{});case 2:case"end":return t.stop()}}),t)})))}};function kY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return CY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CY(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}wd(Pi.LOADING,xY);var EY=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},BY=qo.closeIcon,TY=qo.officeDownloadIcon,MY=qo.unknownFileIcon,IY=qo.excelFileIcon,DY=qo.pdfFileIcon,_Y=qo.wordFileIcon,SY=qo.openFolderFileIcon,OY=qo.folderFileIcon,NY=qo.imgFileIcon,LY=qo.txtFileIcon,RY=qo.zipFileIcon,jY=qo.skpFileIcon,UY=qo.pptFileIcon,FY=qo.rvtFileIcon,zY=qo.dwgFileIcon,QY={dwg:[],rvt:[],skp:[],img:[],txt:["text/plain"],zip:["application/zip","application/x-rar-compressed","application/x-7z-compressed","application/x-tar","application/x-bzip2","application/java-archive"],ppt:["application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"],excel:["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],pdf:["application/pdf"],word:["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]},PY={dwg:zY,rvt:FY,skp:jY,img:NY,txt:LY,zip:RY,rar:RY,ppt:UY,excel:IY,pdf:DY,word:_Y,folder:OY,openFolder:SY};function HY(e,t,n){if(t){var r=e.buildResourceUrl(t,n||"");window.fetch(r,{method:"GET"}).then((function(e){return e.blob()})).then((function(e){var t=document.createElement("a");t.setAttribute("download","".concat(n||"")),t.setAttribute("href",window.URL.createObjectURL(e)),t.click(),t.remove()}))}}function VY(e,t,n){return"".concat(e.apiServer(),"/resources/").concat(Ta(t),"/preview/").concat(n)}function KY(e,t,n){var r,o;return EY(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,s,c,l,u,d,p,f;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(null===(r=e.options.callbacks)||void 0===r?void 0:r.onGetPreviewInfo)){i.next=6;break}return i.next=3,null===(o=e.options.callbacks)||void 0===o?void 0:o.onGetPreviewInfo(e,t,n);case 3:if(!(a=i.sent)){i.next=6;break}return i.abrupt("return",a);case 6:return s=VY(e,t,1),i.prev=7,i.next=10,e.request({url:s,responseType:"blob",withCredentials:!0});case 10:if(c=i.sent,l=Number.parseInt(c.headers["x-total-page"],10),u=new FileReader,d=new Promise((function(e,t){u.onload=e,u.onerror=t})),"text/html"!==c.headers["content-type"]){i.next=20;break}return u.readAsText(c.data),i.next=18,d;case 18:return p=u.result,i.abrupt("return",{html:p});case 20:return u.readAsDataURL(c.data),i.next=23,d;case 23:if(f=u.result,l){i.next=26;break}throw new Wi("Not support preview","NotSupportPreview");case 26:return i.abrupt("return",{pageCount:l,url:f});case 29:throw i.prev=29,i.t0=i.catch(7),new Wi(i.t0.message||"Failed to preview file: ".concat(t),"NotSupportPreview");case 32:case"end":return i.stop()}}),i,null,[[7,29]])})))}function GY(e,t){for(var n=Object.keys(QY),r=0;r<n.length;r+=1){var o=n[r];if(QY[o].includes(t))return PY[o]}var i=OR(e.toLowerCase());return PY[i]?PY[i]:MY}function WY(e,t,n,r,o){(o&&o.remove(),t.querySelector(".embed-office-card"))||(console.error(n),ps("div",["editor-preview-no-support"],t,ju.get(ju.office.notSupportPreview,{fileName:r})))}function YY(e,t){return EY(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,s,c,l,u,d,p,f,h,A,m,g,v;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=ps("div",["editor-preview-fullscreen"],null),o=ps("div",["editor-preview-header"],r),(i=ps("div",["fullscreen-close-button"],o)).innerHTML=BY,ps("div",["fullscreen-line-side"],o),a=ps("div",["fullscreen-info-container"],o),ps("div",["fullscreen-file-icon"],a).innerHTML=GY(t.fileName,t.fileType),s=ps("div",["fullscreen-file-info"],a),ps("div",["fullscreen-file-name"],s,t.fileName),ps("div",["fullscreen-file-size"],s,hR(t.fileSize)),c=ps("div",["fullscreen-download-button"],o),ps("div",["fullscreen-download-icon"],c).innerHTML=TY,ps("span",[],c,ju.office.download),l=ps("div",["editor-preview-main"],r),n.prev=16,n.next=19,KY(e,t.src,t);case 19:if((u=n.sent).html)d=document.createElement("iframe"),l.appendChild(d),Qa(d,"editor-preview-iframe"),setTimeout((function(){try{if(!d.contentDocument)throw Error("iframe.contentDocument is null");d.contentDocument.write(u.html)}catch(e){WY(0,l,e,t.fileName,d)}}));else if(u.iframeUrl)p=document.createElement("iframe"),l.appendChild(p),Qa(p,"editor-preview-iframe"),p.src=u.iframeUrl;else for(f=u.url,h=u.pageCount,w(f),w(void 0!==h),w("string"==typeof f),Qa(l,"editor-preview-main-scroll"),A=0;A<h;A++)m=document.createElement("img"),l.appendChild(m),m.src=0===A?f:VY(e,t.src,A+1);n.next=26;break;case 23:n.prev=23,n.t0=n.catch(16),WY(0,l,n.t0,t.fileName);case 26:return n.prev=26,(g=xs(document.body)).style.overflow="hidden",v=e.showDialog({type:"dialog",content:r,mainClass:VP.MAIN_FULL_SCREEN_CLASS,contentClass:VP.CONTENT_FULL_SCREEN_CLASS}),i.addEventListener("click",(function(){g.style.overflow=null,v.hide()})),c.addEventListener("click",(function(){return HY(e,t.src,t.fileName)})),n.finish(26);case 33:case"end":return n.stop()}}),n,null,[[16,23,26,33]])})))}function qY(e,t,n){if(Cd(t)){var r=Md(t),o=e.getBoxData(r);if(w(o.type===Pi.FILE),n===ra.LINK)return;!function(e,t,n){if(n!==ra.LINK){var r=e.getBoxById(t.id);w(r);var o=wN(r);w(o),w(Uf(o));var i=rp(Vf(o),r,0),a=Kf(o),s=hf(o),c=s.comments;e.beginUndoGroup();var l=TN(o),u=kN(o),d=[];if(a>1){var p=s.text;w(p);var f=kY(p.splitToThree(i,1),3),h=f[0],A=f[1],m=f[2];if(w(A),e.deleteBlock(o,{fromUndo:!1,localAction:!1}),h.getLength()>0){var g=e.insertTextBlock(u,l,h);d.push(g),l+=1}if(m.getLength()>0){var v=e.insertTextBlock(u,l,m);d.push(v)}}else w(1===a),e.deleteBlock(o,{fromUndo:!1,localAction:!1});var b={src:t.src,previewType:n,fileName:t.fileName,fileSize:t.fileSize,fileType:t.fileType},y=e.insertEmbed(u,l,aa.OFFICE,b);d.push(y),c&&c.length>0&&c.forEach((function(t){d.forEach((function(n){e.addCommentToBlock(n,t,{noEditComment:!0})}))})),e.endUndoGroup()}}(e,o,n)}else{var i=t;w(Hf(i));var a=Nw(i);w(dp(a)===aa.OFFICE);var s=xp(e,a);if(n===ra.LINK)return void function(e,t,n){var r=xp(e,n),o={src:r.src,fileName:r.fileName,fileSize:r.fileSize,fileType:r.fileType},i=hf(t),a=kN(t),s=TN(t);e.beginUndoGroup(),e.deleteBlock(t,{fromUndo:!1,localAction:!1});var c=e.insertTextBlock(a,s,"");e.insertFileBox(c,0,null,o),e.selectBlock(c,0,0),i.comments&&i.comments.length>0&&i.comments.forEach((function(t){e.addCommentToBlock(c,t,{noEditComment:!0})})),e.endUndoGroup()}(e,i,a);e.updateEmbedData(i,Object.assign(Object.assign({},s),{previewType:n}),{fromUndo:!1,updateBlock:!0,partial:!1})}}function ZY(e,t,n){return EY(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return w(o=e.getBlockById(t)),r.prev=2,nh(o,"progress",{percentage:0}),r.next=6,e.uploadResource(n,(function(e,t){nh(o,"progress",{percentage:t})}));case 6:i=r.sent,nh(o,"progress",{percentage:-1}),a=Object.assign(Object.assign({},e.getEmbedBlockEmbedData(o)),{src:i,fileSize:n.size}),e.updateEmbedData(o,a,{updateBlock:!0,fromUndo:!1,partial:!1}),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),console.error(r.t0);case 15:return r.abrupt("return",o);case 16:case"end":return r.stop()}}),r,null,[[2,12]])})))}function XY(e,t,n){return EY(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.getBoxById(t),i=e.getBoxData(t),o&&i){r.next=4;break}return r.abrupt("return",null);case 4:return r.next=6,e.uploadResource(n,(function(){}));case 6:return a=r.sent,s={src:a,fileName:i.fileName,fileSize:n.size,fileType:n.type},e.updateBoxData(t,s),r.abrupt("return",o);case 10:case"end":return r.stop()}}),r)})))}function JY(e,t,n,r){return EY(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.beginUndoGroup(),o.prev=1,"block"!==t){o.next=7;break}return o.next=5,ZY(e,n,r);case 5:return i=o.sent,o.abrupt("return",i);case 7:return w("box"===t),o.abrupt("return",XY(e,n,r));case 9:return o.prev=9,e.endUndoGroup(),o.finish(9);case 12:case"end":return o.stop()}}),o,null,[[1,,9,12]])})))}var $Y=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},eq=qo.officeFullscreenIcon,tq=qo.officeDownloadIcon,nq=qo.officeLinkIcon,rq=qo.officePreviewIcon,oq=qo.officeCardIcon,iq=qo.editOfficeIcon;function aq(e,t){var n=t.data,r=n.editor,o=n.box;r.setFileDisplayType(o,ra.PREVIEW),r.editableToolbar.hide()}function sq(e,t){var n=t.data,r=n.editor,o=n.box;r.setFileDisplayType(o,ra.CARD),r.editableToolbar.hide()}function cq(e,t){var n=t.data,r=n.editor;YY(r,n.boxData),r.editableToolbar.hide()}function lq(e,t){var n,r=t.data,o=r.editor,i=r.boxData;if(null===(n=o.options.callbacks)||void 0===n?void 0:n.onSaveOffice){w(e);var a=wN(o.getBoxById(i.id));return w(a),void o.options.callbacks.onSaveOffice(o,a,i,e)}HY(o,i.src,i.fileName),o.editableToolbar.hide()}var uq={createNode:function(e,t){var n=t.fileName,r=t.src,o=e.buildResourceUrl(r,n);return{classes:["box-file",Vi.QUICK_EDITABLE_ELEMENT],children:[{type:"image",src:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjE4IiBoZWlnaHQ9IjE4IiB2aWV3Qm94PSIwIDAgMTggMTgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiPgo8cGF0aCBkPSJNNi4wMSAxMC40ODg2QzUuODUgMTAuNDg4NiA1LjcgMTAuNDI4NiA1LjU4IDEwLjMwODZMMy45OCA4LjcxODU5QzMuMzUgOC4wNzg1OSAzIDcuMjM4NTkgMyA2LjM0ODU5QzMgNS40NTg1OSAzLjM1IDQuNjA4NTkgMy45OCAzLjk3ODU5QzUuMjkgMi42Njg1OSA3LjQxIDIuNjY4NTkgOC43MiAzLjk3ODU5TDEwLjMxIDUuNTY4NTlDMTAuNTUgNS44MDg1OSAxMC41NSA2LjE4ODU5IDEwLjMxIDYuNDI4NTlDMTAuMDcgNi42Njg1OSA5LjY5IDYuNjY4NTkgOS40NSA2LjQyODU5TDcuODYgNC44Mzg1OUM3LjAzIDQuMDA4NTkgNS42OCA0LjAwODU5IDQuODUgNC44Mzg1OUM0LjQ1IDUuMjM4NTkgNC4yMyA1Ljc3ODU5IDQuMjMgNi4zNDg1OUM0LjIzIDYuOTE4NTkgNC40NSA3LjQ0ODU5IDQuODUgNy44NTg1OUw2LjQ0IDkuNDQ4NTlDNi42OCA5LjY4ODU5IDYuNjggMTAuMDY4NiA2LjQ0IDEwLjMwODZDNi4zMiAxMC40Mjg2IDYuMTYgMTAuNDg4NiA2LjAxIDEwLjQ4ODZaTTExLjY1IDE0Ljk5ODZDMTAuNzkgMTQuOTk4NiA5LjkzIDE0LjY2ODYgOS4yOCAxNC4wMTg2TDcuNCAxMi4xMzg2QzcuMTYgMTEuODk4NiA3LjE2IDExLjUxODYgNy40IDExLjI3ODZDNy42NCAxMS4wMzg2IDguMDIgMTEuMDM4NiA4LjI2IDExLjI3ODZMMTAuMTQgMTMuMTU4NkMxMC45NyAxMy45ODg2IDEyLjMyIDEzLjk4ODYgMTMuMTUgMTMuMTU4NkMxMy41NSAxMi43NTg2IDEzLjc3IDEyLjIxODYgMTMuNzcgMTEuNjQ4NkMxMy43NyAxMS4wNzg2IDEzLjU1IDEwLjU0ODYgMTMuMTUgMTAuMTM4NkwxMS4yOCA4LjI1ODU5QzExLjA0IDguMDE4NTkgMTEuMDQgNy42Mzg1OSAxMS4yOCA3LjM5ODU5QzExLjUyIDcuMTU4NTkgMTEuOSA3LjE1ODU5IDEyLjE0IDcuMzk4NTlMMTQuMDIgOS4yNzg1OUMxNC42NSA5LjkwODU5IDE1IDEwLjc0ODYgMTUgMTEuNjQ4NkMxNSAxMi41Mzg2IDE0LjY1IDEzLjM4ODYgMTQuMDIgMTQuMDE4NkMxMy4zNyAxNC42Njg2IDEyLjUxIDE0Ljk5ODYgMTEuNjUgMTQuOTk4NloiIGZpbGw9IiM1NTg3RjAiLz4KPHBhdGggZD0iTTEwLjg4IDEwLjg2MDRDMTAuNjcgMTEuMDcwNCAxMC4zMiAxMS4wNzA0IDEwLjEgMTAuODYwNEw3LjY0MDA0IDguNDAwMzlDNy40MzAwNCA4LjE5MDM5IDcuNDMwMDQgNy44NDAzOSA3LjY0MDA0IDcuNjIwMzlDNy44NTAwNCA3LjQxMDM5IDguMjAwMDQgNy40MTAzOSA4LjQyMDA0IDcuNjIwMzlMMTAuODggMTAuMDgwNEMxMS4xIDEwLjMwMDQgMTEuMSAxMC42NDA0IDEwLjg4IDEwLjg2MDRaIiBmaWxsPSIjNTU4N0YwIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzIDMpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="},{type:"a",href:o,id:"F".concat(t.id),text:n,download:n}]}},handleBoxInserted:function(e,t,n,r){e.options.callbacks&&e.options.callbacks.onFileInserted&&e.options.callbacks.onFileInserted(e,t,n,r)},handleBoxClicked:function(e,t,n,r){var o,i=t;if(e.options.callbacks&&e.options.callbacks.onFileClicked)e.options.callbacks.onFileClicked(e,t,n,r);else if(null===(o=e.options.callbacks)||void 0===o?void 0:o.onOpenOffice){var a=e.getBoxById(t.id);a&&e.options.callbacks.onOpenOffice(e,a,t,r)}else{e.isPreviewEnabled(i.fileName)?YY(e,i):HY(e,i.src,i.fileName)}},getToolbarOptions:function(e,t){var n;if(e.isReadOnly()||!e.isBlockWritable(wN(t)))return[];var r=[],o=Md(t),i=e.getBoxData(o),a=ra.LINK,s=i.fileName,c=e.isPreviewEnabled(s),l={box:t,boxData:i,editor:e};return c&&r.push({id:"",text:ju.office.fullscreen,icon:eq,disabled:!c,data:l,onClick:cq}),r.push({id:"",text:ju.office.download,icon:tq,disabled:!1,data:l,onClick:lq},{id:"",text:ju.office.link,icon:nq,color:a===ra.LINK?"style-color-4":void 0,data:l,onClick:function(){e.editableToolbar.hide()},checked:!0}),c&&r.push({id:ra.PREVIEW,text:ju.office.preview,icon:rq,disabled:!c,checked:!1,data:l,onClick:aq}),r.push({id:ra.CARD,text:ju.office.card,icon:oq,disabled:!1,checked:!1,data:l,onClick:sq}),(null===(n=e.options.callbacks)||void 0===n?void 0:n.onEditOffice)&&r.push({id:"",text:ju.office.edit,icon:iq,disabled:!1,onClick:function(n){var r;w(null===(r=e.options.callbacks)||void 0===r?void 0:r.onEditOffice),e.options.callbacks.onEditOffice(e,t,i,n)}}),r},toStandardText:function(e,t){var n;return $Y(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null===(n=e.options.callbacks)||void 0===n?void 0:n.onGetFileDownloadUrl){r.next=2;break}return r.abrupt("return",void 0);case 2:return r.next=4,e.options.callbacks.onGetFileDownloadUrl(e,t);case 4:if(o=r.sent){r.next=7;break}return r.abrupt("return",void 0);case 7:return r.abrupt("return",[{insert:t.fileName,attributes:{link:o}}]);case 8:case"end":return r.stop()}}),r)})))}};wd(Pi.FILE,uq);var dq=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};var pq={createNode:function(e,t){w(t);var n=t;w(n.inputType),w(n.inputId);var r={classes:["editor-box-input","editor-box-input-".concat(n.inputType)],children:[]};n.label&&r.children.push({type:"text",text:n.label});var o={type:"input",inputId:n.inputId,inputType:n.inputType,value:n.value,items:n.items,classes:n.classes,width:n.width,checked:n.checked,disabled:n.disabled,placeholder:n.placeholder,inlineStyle:n.inlineStyle};return r.children.push(o),r},createBoxData:function(e){return dq(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(e),t.abrupt("return",{});case 2:case"end":return t.stop()}}),t)})))},handleBoxClicked:function(e,t,n,r){var o,i;(null===(o=e.options.callbacks)||void 0===o?void 0:o.onInputClicked)&&(null===(i=e.options.callbacks)||void 0===i||i.onInputClicked(e,t,r))}};wd(Pi.INPUT,pq);var fq=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};var hq={supportMarkdown:!0,createNode:function(e,t){return w(t),{classes:["editor-box-br"],children:[{type:"image",src:"data:image/svg+xml;base64,Cjxzdmcgdmlld0JveD0iMCAwIDI0IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMTguMjQ0NSA2QzE3LjgyNzQgNiAxNy41MzYzIDYuMjkxMTcgMTcuNTM2MyA2LjcwODI2QzE3LjUzNjMgNi45ODM3IDE3LjU1OTkgNy4yMzU1MyAxNy41NTk5IDcuNjEzMjdDMTcuNTU5OSAxMC4yODExIDE2LjYyMzQgMTEuMzc0OSAxMy45NzkyIDExLjM3NDlIOC45NDI2Nkw3LjEyNDc5IDExLjQ4NTFMOS41NDA3NSA5LjI4MTYyTDExLjE5MzQgNy41OTc1M0MxMS4zMjcxIDcuNDcxNjEgMTEuMzk4IDcuMjgyNzQgMTEuMzk4IDcuMDkzODdDMTEuMzk4IDYuNjkyNTIgMTEuMDk4OSA2LjQwMTM1IDEwLjY5NzYgNi40MDEzNUMxMC41MDg3IDYuNDAxMzUgMTAuMzM1NiA2LjQ3MjE4IDEwLjE3ODIgNi42MjE3TDUuMjQzOTYgMTEuNTQ4MUM1LjA4NjU3IDExLjcwNTUgNSAxMS44OTQzIDUgMTIuMDkxMUM1IDEyLjI4NzggNS4wODY1NyAxMi40NzY3IDUuMjQzOTYgMTIuNjI2MkwxMC4xNjI1IDE3LjUzNjhDMTAuMzM1NiAxNy43MDk5IDEwLjUwODcgMTcuNzgwOCAxMC42OTc2IDE3Ljc4MDhDMTEuMDk4OSAxNy43ODA4IDExLjM5OCAxNy40ODk2IDExLjM5OCAxNy4wODgzQzExLjM5OCAxNi44OTE1IDExLjMyNzEgMTYuNzEwNSAxMS4xOTM0IDE2LjU4NDZMOS41NDA3NSAxNC45MDA1TDcuMTMyNjYgMTIuNjk3TDguOTQyNjYgMTIuODA3MkgxNC4wNTc5QzE3LjU1OTkgMTIuODA3MiAxOSAxMS4yNDExIDE5IDcuNjc2MjJDMTkgNy4yMzU1MyAxOC45OTIxIDYuODY1NjUgMTguOTM3IDYuNjEzODNDMTguODc0MSA2LjI5OTA0IDE4LjY3NzMgNiAxOC4yNDQ1IDZaIiBmaWxsPSIjQjJCQ0NEIi8+Cjwvc3ZnPgo="},{type:"br",text:Zi}]}},createBoxData:function(e){return fq(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(e),t.abrupt("return",{});case 2:case"end":return t.stop()}}),t)})))}};wd(Pi.BR,hq);var Aq={createNode:function(e,t){w(t);var n=t,r={};n.width&&(r.width="".concat(n.width,"px"));var o=["editor-box-image"];return n.height&&(r.height="".concat(n.height,"px")),n.link&&o.push("editor-box-image-link"),{classes:o,children:[{type:"image",src:e.buildResourceUrl(n.src),attributes:r}]}},handleBoxClicked:function(e,t,n,r){var o,i=t;if(null===(o=e.options.callbacks)||void 0===o?void 0:o.onImageClicked){var a=e.buildResourceUrl(i.src);if(e.options.callbacks.onImageClicked(e,n,a,[],!1,r.target,r,{link:i.link}))return}var s=r,c=i.link;c&&(e.isReadOnly()||s.ctrlKey||s.metaKey)&&window.open(c,"_blank")}};wd(Pi.IMAGE,Aq);var mq={createNode:function(e,t){return w(t),{classes:["editor-box-anchor"],children:[{type:"image",src:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9InJnYigxNzgsIDE4OCwgMjA1KSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0ibTE3IDE1IDEuNTUgMS41NWMtLjk2IDEuNjktMy4zMyAzLjA0LTUuNTUgMy4zN1YxMWgzVjloLTNWNy44MkMxNC4xNiA3LjQgMTUgNi4zIDE1IDVjMC0xLjY1LTEuMzUtMy0zLTNTOSAzLjM1IDkgNWMwIDEuMy44NCAyLjQgMiAyLjgyVjlIOHYyaDN2OC45MmMtMi4yMi0uMzMtNC41OS0xLjY4LTUuNTUtMy4zN0w3IDE1bC00LTN2M2MwIDMuODggNC45MiA3IDkgN3M5LTMuMTIgOS03di0zbC00IDN6TTEyIDRjLjU1IDAgMSAuNDUgMSAxcy0uNDUgMS0xIDEtMS0uNDUtMS0xIC40NS0xIDEtMXoiPjwvcGF0aD4KPC9zdmc+Cg=="}]}}};function gq(e){return function(e){if(Array.isArray(e))return yq(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bq(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||bq(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bq(e,t){if(e){if("string"==typeof e)return yq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yq(e,t):void 0}}function yq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}wd(Pi.ANCHOR,mq);var wq=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function xq(e){return e.options.acceptAllOfficeFiles?e.options.acceptOfficeFilesMenuText?e.options.acceptOfficeFilesMenuText:ju.blocks.file:ju.blocks.office}var kq=qo.videoIcon,Cq=qo.audioIcon,Eq=qo.checkboxIcon,Bq=qo.codeIcon,Tq=qo.graphIcon,Mq=qo.heading1Icon,Iq=qo.heading2Icon,Dq=qo.heading3Icon,_q=qo.imageIcon,Sq=qo.lineIcon,Oq=qo.linkIcon,Nq=qo.mathIcon,Lq=qo.officeIcon,Rq=qo.quoteIcon,jq=qo.tableIcon,Uq=qo.webIcon;function Fq(e){return{createNode:function(e,t){return{classes:["box-quick-insert"],children:[{type:"text",text:t.text}]}},getItems:function(e,t){return wq(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=[{id:"h1",order:CO.h1,data:{info:ju.quickInsert.h1Info,icon:Mq,shortcut:"bt1",supportMarkdown:!0},iconUrl:"",text:ju.fontType.heading1,subText:"/h1"},{id:"h2",order:CO.h2,data:{info:ju.quickInsert.h2Info,icon:Iq,shortcut:"bt2",supportMarkdown:!0},iconUrl:"",text:ju.fontType.heading2,subText:"/h2"},{id:"h3",order:CO.h3,data:{info:ju.quickInsert.h3Info,icon:Dq,shortcut:"bt3",supportMarkdown:!0},iconUrl:"",text:ju.fontType.heading3,subText:"/h3"},{id:"todo",order:CO.todo,data:{info:ju.quickInsert.todoInfo,icon:Eq,shortcut:"db",supportMarkdown:!0},iconUrl:"",text:ju.quickInsert.todo,subText:"/todo"},{id:"quote",order:CO.quote,data:{info:ju.quickInsert.quoteInfo,icon:Rq,shortcut:"yy",supportMarkdown:!0},iconUrl:"",text:ju.quickInsert.quote,subText:"/quote"},{id:"code",order:CO.code,data:{info:ju.quickInsert.codeInfo,icon:Bq,shortcut:"dm",supportMarkdown:!0},iconUrl:"",text:ju.quickInsert.codeBlock,subText:"/code"},{data:{info:ju.quickInsert.linkInfo,icon:Oq,shortcut:"lj",supportMarkdown:!0},iconUrl:"",id:"link",order:CO.link,text:ju.quickInsert.link,subText:"/link"},{data:{info:ju.quickInsert.mathInfo,icon:Nq,shortcut:"gs",supportMarkdown:!0},iconUrl:"",id:"math",text:ju.quickInsert.math,subText:"/math",order:CO.math},{data:{info:ju.quickInsert.lineInfo,icon:Sq,shortcut:"fgx",supportMarkdown:!0},iconUrl:"",id:"line",text:ju.quickInsert.line,subText:"/line",order:CO.line},{id:"image",data:{info:ju.quickInsert.imageInfo,icon:_q,shortcut:"tp",supportMarkdown:!0},iconUrl:"",text:ju.quickInsert.image,subText:"/image",order:CO.image},{id:"video",data:{icon:kq,shortcut:"sp"},iconUrl:"",text:ju.quickInsert.video,subText:"/video",order:CO.video},{id:"audio",data:{icon:Cq,shortcut:"yp"},iconUrl:"",text:ju.quickInsert.audio,subText:"/audio",order:CO.audio},{id:"file",data:{icon:Lq,shortcut:"wj"},iconUrl:"",text:xq(e),subText:"/file",order:CO.file},{id:"uml",data:{icon:Tq,shortcut:"lct"},iconUrl:"",text:ju.quickInsert.uml,subText:"/uml",order:CO.uml},{id:"table",data:{info:ju.quickInsert.tableInfo,icon:jq,shortcut:"bg",supportMarkdown:!0},iconUrl:"",text:ju.quickInsert.table,subText:"/table",order:CO.table}],o=iA(e),Array.from(o.entries()).forEach((function(e){var t=vq(e,2),n=t[0];t[1];r.push(n)})),r.push({id:"web",data:{icon:Uq,shortcut:"wy"},iconUrl:"",text:ju.quickInsert.web,subText:"/web"}),e.options.allowedWebPages&&e.options.allowedWebPages.forEach((function(e){r.push({id:"web",data:{icon:e.icon,shortcut:"wy",webpage:e},iconUrl:"",text:e.name,subText:"/".concat(e.type)})})),e.options.quickInsertMenus&&(r.push.apply(r,gq(e.options.quickInsertMenus)),r.sort((function(e,t){return(e.order||CO.MAX)-(t.order||CO.MAX)}))),i=e.isMarkdownOnly()?r.filter((function(e){return!!e.data.supportMarkdown})):r,e.options.disableAudio&&(i=i.filter((function(e){return"audio"!==e.id}))),e.options.disableVideo&&(i=i.filter((function(e){return"video"!==e.id}))),t){n.next=11;break}return n.abrupt("return",i);case 11:return a=t.toLowerCase(),0===(s=i.filter((function(e){return-1!==(e.subText+e.data.shortcut+e.text).toLowerCase().indexOf(a)}))).length&&setTimeout((function(){e.closeAutoSuggest()})),n.abrupt("return",s);case 15:case"end":return n.stop()}}),n)})))},supportMarkdown:!0,prefix:e,handleBoxItemSelected:function(t,n){var r,o,i=t.getSelectionDetail();if(!i.startBlock){var a=t.saveSelectionState();a&&(t.restoreSelectionState(a),i=t.getSelectionDetail())}w(i.startBlock),w(void 0!==i.startOffset),w(i.startBlock===i.endBlock);var s=sv(i,e),c=s.index,l=s.maxCount;if(-1!==c){if(t.deleteBlockText(i.startBlock,c,c+l),w((i=t.getSelectionDetail()).startBlock),w(void 0!==i.startOffset),w(i.startBlock===i.endBlock),(null===(r=t.options.callbacks)||void 0===r?void 0:r.onQuickInsertClicked)&&(null===(o=t.options.callbacks)||void 0===o?void 0:o.onQuickInsertClicked(t,n)))return;if(n.data&&n.data.onClick)return void n.data.onClick();switch(n.id){case"link":t.executeTextCommand("link");break;case"todo":t.executeBlockCommand("toCheckbox");break;case"table":t.insertTable(-2,4,4);break;case"image":!function(e){wq(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.options,t.next=3,LR(e.getAccepts(aa.IMAGE),{});case 3:t.sent.forEach((function(t){var r,o;(null===(r=n.callbacks)||void 0===r?void 0:r.verifyUploadImage)&&!(null===(o=n.callbacks)||void 0===o?void 0:o.verifyUploadImage(t))||e.insertImage(null,t,-2,{breakText:!0})}));case 5:case"end":return t.stop()}}),t)})))}(t);break;case"video":!function(e){wq(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,LR(e.getAccepts(aa.VIDEO),{});case 2:t.sent.forEach((function(t){e.insertVideo(null,t,-2,{breakText:!0})}));case 4:case"end":return t.stop()}}),t)})))}(t);break;case"code":t.insertCode(-2,"");break;case"math":setTimeout((function(){return t.insertBox("math",null,{},{showAutoSuggest:!0})}),300);break;case"file":!function(e,t,n){var r;wq(this,void 0,void 0,regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(null===(r=e.options.callbacks)||void 0===r?void 0:r.onInsertOfficeMenuClicked)){o.next=3;break}return e.options.callbacks.onInsertOfficeMenuClicked(e,t,n,"QuickInsert"),o.abrupt("return");case 3:return o.next=5,LR("*",{});case 5:o.sent.forEach((function(t){e.insertOffice(null,t,-2,{breakText:!0})}));case 7:case"end":return o.stop()}}),o)})))}(t,i.startBlock,i.startOffset);break;case"uml":t.insertDrawIO(null,-2,null,{breakText:!0});break;case"h1":t.executeBlockCommand("toHeading1");break;case"h2":t.executeBlockCommand("toHeading2");break;case"h3":t.executeBlockCommand("toHeading3");break;case"quote":!function(e){var t=e.getSelectionDetail();t.startBlock&&e.setBlockQuoted(t.startBlock,!e.isBlockQuoted(t.startBlock))}(t);break;case"line":t.insertHorizontalLine(null,-2,{breakText:!0});break;case"audio":!function(e){wq(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,LR(e.getAccepts(aa.AUDIO),{});case 2:t.sent.forEach((function(t){e.insertAudio(null,t,-2,{breakText:!0})}));case 4:case"end":return t.stop()}}),t)})))}(t);break;case"column":t.insertLayout(-2,2);break;case"web":!function(e,t){var n,r=t.data;r&&r.webpage&&"normal"!==r.webpage.type&&(n=r.webpage.type),e.executeBlockCommand("webpage",void 0,{type:n})}(t,n)}}},renderAutoSuggestItem:function(e,t){var n,r,o,i=document.createElement("div");if(i.classList.add("quick-insert-item"),null===(n=t.data)||void 0===n?void 0:n.icon){var a=document.createElement("div");a.classList.add("quick-insert-item-icon"),a.innerHTML=null===(r=t.data)||void 0===r?void 0:r.icon,i.appendChild(a)}var s=document.createElement("div");s.classList.add("quick-insert-item-main-container");var c=document.createElement("div");c.classList.add("quick-insert-item-content");var l=document.createElement("span");l.classList.add("quick-insert-item-name");var u=document.createTextNode(t.text||Ji);if(l.appendChild(u),c.appendChild(l),t.subText){var d=document.createElement("span");d.classList.add("quick-insert-item-hotkeys");var p=document.createTextNode(t.subText);d.appendChild(p),c.appendChild(d)}if(s.appendChild(c),null===(o=t.data)||void 0===o?void 0:o.info){var f=document.createElement("span");f.classList.add("quick-insert-item-info");var h=document.createTextNode(t.data.info);f.appendChild(h),s.appendChild(f)}return i.appendChild(s),i},autoSuggestMaxHeight:window.innerHeight/2-24,enableAutoSuggestSelectItem:!0,available:function(t){var n,r;return!t.options.disableQuickInsert&&(!t.isChildEditor()&&(null!==(r=null===(n=t.options.quickInsertMenuTrigger)||void 0===n?void 0:n[e])&&void 0!==r&&r))}}}wd("quick-insert-/",Fq("/")),wd("quick-insert-+",Fq("+")),wd("quick-insert-、",Fq("、"));var zq=n(9505),Qq=n.n(zq),Pq={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(Qq(),Pq);Qq().locals;function Hq(e){return(Hq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kq=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Gq=qo.arrowLeftIcon,Wq=qo.playVersionIcon,Yq=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dialog=null,this.container=null,this.activeVersionElement=null,this.versionOptions={},this.oldViewer=null,this.handleClose=function(){var e;n.container?(n.container.removeChild(n.components.root),n.container=null):(null===(e=n.dialog)||void 0===e||e.hide(),n.dialog=null)},this.handleSelectVersion=function(e){var t=null;if(!e&&n.components.versionsList.childElementCount)t=n.components.versionsList.children[0];else if(e){t=e.target.closest(".dialog-version-list-item")}t&&n.selectElement(t)},this.handleShow=function(){return Kq(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.versionOptions.hideActions&&(this.components.actionContainer.style.display="none"),this.components.versionsList.innerHTML="",t=document.createDocumentFragment(),n=function(e){var t,n;if(-1!==e.version){var r=new Date(null!==(t=e.created)&&void 0!==t?t:e.version);n="".concat(r.toLocaleDateString()," ").concat(r.toLocaleTimeString())}else n=ju.version.latest;return n},r=function(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0,c=ps("div",["dialog-version-list-item"],t);c.versionData=e,r&&Qa(c,"child");var l=ps("div",["dialog-version-list-item-title"],c);if(ps("div",["dialog-version-list-item-date"],l,n(e)),a&&ps("div",["dialog-version-list-item-now-ver"],l,ju.version.latest),"object"===Hq(e.source)&&(null===(o=e.source)||void 0===o?void 0:o.restore)){var u=e.source.restore,d=s.find((function(e){return e.version==u})),p=d?n(d):ju.version.unknown,f=ju.get("version.restoreFrom",{from:p}),h=ju.get("version.restoreInfo"),A=ps("div",["dialog-version-item-from-container"],c);ps("div",["dialog-version-item-from-main"],A,f),ps("div",["dialog-version-item-from-info"],A,h)}var m=ps("ul",["dialog-version-list-item-authors"],c),g=function(e){var t=ps("li",["dialog-version-list-item-author"],m);ps("span",["dialog-version-list-item-mark-author"],t).style.background=i.editor.getFixedUserColor(e.userId,"flag"),ps("span",["dialog-version-list-item-author-name"],t,e.displayName)};if(i.versionOptions.useCreatedBy)if(e.createdBy){var v=e.createdBy;g(v)}else e.authors&&e.authors.length>0&&e.authors.forEach((function(e){g(e)}));else if(e.authors&&e.authors.length>0)e.authors.forEach((function(e){g(e)}));else if(e.createdBy){var b=e.createdBy;g(b)}},e.next=7,this.editor.getVersions(this.versionOptions);case 7:o=e.sent,this.versionOptions.hideNonVersionedOps&&o.length&&-1===o[0].version&&o.shift(),this.versionOptions.onVersionsLoaded&&this.versionOptions.onVersionsLoaded(this.editor,o),this.components.versionsListHeader.innerText=ju.get(ju.version.versionList,{count:o.length}),o.forEach((function(e,t){r(e,!1,0===t,o),e.minorVersions&&e.minorVersions.length>0&&e.minorVersions.forEach((function(e){r(e,!0,!1,o)}))})),this.components.versionsList.appendChild(t),this.versionOptions.initSelectedVersion?this.showVersion(this.versionOptions.initSelectedVersion):this.handleSelectVersion();case 14:case"end":return e.stop()}}),e,this)})))},this.handleRevert=function(){return Kq(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(this.activeVersionElement),t=this.activeVersionElement.versionData,e.next=4,this.editor.revertVersion(t.version);case 4:this.handleClose();case 5:case"end":return e.stop()}}),e,this)})))},this.handlePlay=function(){return Kq(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.handleViewVersion({playOps:!0,playOpsSpeed:150});case 1:case"end":return e.stop()}}),e,this)})))},this.handleViewVersion=function(e){return Kq(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a,s,c,l,u,d,p,f,h,A=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.oldViewer&&(this.oldViewer.destroy(),this.oldViewer=null),w(this.activeVersionElement),w(this.components.revertButton),w(this.components.playButton),r=this.activeVersionElement.versionData,o="minor"===r.type?this.getBeforeVersion():this.getBeforeMajorVersion(),i=o?o.version:0,a=this.isSelectedFirstVersion(),s=this.isSelectedLastVersion(),this.components.revertButton.disabled=a,this.components.playButton.disabled=a,c=this.versionOptions.hideOps,this.versionOptions.onWillChangeVersion&&(null==(l=this.versionOptions.onWillChangeVersion(this.editor,r,a,s))?void 0:l.hideOps)&&(c=!0),!c){t.next=20;break}return t.next=16,this.editor.getVersion(r.version);case 16:u=t.sent,d=[],t.next=25;break;case 20:return t.next=22,this.editor.getVersionOps(r.version,i);case 22:p=t.sent,u=p.doc,d=p.ops;case 25:return f=this.versionOptions.syncFromEditorOptions,t.next=28,WX(this.components.editorElement,Object.assign(Object.assign(Object.assign({},e),f||{}),{isHistory:!0,colors:this.editor.options.colors,selectionColors:this.editor.options.selectionColors,lang:this.editor.options.lang,serverUrl:this.editor.options.serverUrl,initLocalData:u,initLocalDataOps:d,hideComments:!0,previewFiles:["pdf","doc","docx","xls","xlsx","ppt","pptx"],tableExtendBoundary:{enable:!1},themeMode:this.editor.options.themeMode,custom:this.editor.options.custom,callbacks:Object.assign(Object.assign({},null!==(n=this.editor.options.callbacks)&&void 0!==n?n:{}),{onBuildResourceUrl:function(e,t,n){return A.editor.buildResourceUrl(t,n)}})}),Object.assign(Object.assign({},this.editor.auth),{permission:"r"}));case 28:h=t.sent,this.oldViewer=h,this.editor.versionEditor=h,this.versionOptions.onVersionChanged&&this.versionOptions.onVersionChanged(this.editor,h,r,a,s);case 32:case"end":return t.stop()}}),t,this)})))},this.editor=t;var r=ps("div",["version-dialog"],null),o=ps("div",["version-dialog-note-viewer"],r),i=ps("div",["version-dialog-action-container"],o),a=ps("div",["version-dialog-editor"],o),s=ps("div",["version-dialog-versions-list"],r),c=ps("div",["version-dialog-list-header"],s,ju.get(ju.version.versionList,{count:0})),l=ps("div",["version-dialog-list"],s);l.onclick=this.handleSelectVersion,this.components={root:r,versionsList:l,actionContainer:i,goBackButton:null,editorElement:a,revertButton:null,playButton:null,versionsListHeader:c}}var t,n,r;return t=e,(n=[{key:"createdActionButtons",value:function(){var e=this.components.actionContainer;e.innerHTML="",this.components.goBackButton=ps("button",["dialog-text-button"],e),ps("span",["dialog-button-icon"],this.components.goBackButton).innerHTML=Gq,ps("span",["dialog-button-text"],this.components.goBackButton,ju.version.goBack),this.components.goBackButton.onclick=this.handleClose,this.components.goBackButton.type="button",this.components.playButton=ps("button",["dialog-version-button","version-play"],e),ps("span",["dialog-button-icon"],this.components.playButton).innerHTML=Wq,ps("span",["dialog-button-text"],this.components.playButton,ju.version.play),this.components.playButton.type="button",this.components.playButton.onclick=this.handlePlay,this.components.playButton.disabled=!0,this.components.revertButton=ps("button",["dialog-version-button","version-revert"],e,ju.version.revertVersion),this.components.revertButton.type="button",this.components.revertButton.onclick=this.handleRevert,this.components.revertButton.disabled=!0}},{key:"selectElement",value:function(e){e&&this.activeVersionElement!==e&&(this.activeVersionElement&&Ja(this.activeVersionElement,"active"),this.activeVersionElement=e,Qa(this.activeVersionElement,"active"),this.handleViewVersion())}},{key:"selectVersion",value:function(e){var t=Array.from(this.components.versionsList.children).find((function(t){return t.versionData.version===e}));t&&this.selectElement(t)}},{key:"getBeforeVersion",value:function(){return w(this.activeVersionElement),this.activeVersionElement.nextElementSibling?this.activeVersionElement.nextElementSibling.versionData:null}},{key:"getBeforeMajorVersion",value:function(){w(this.activeVersionElement);for(var e=this.activeVersionElement.nextElementSibling;e;){if(e.versionData.type)return e.versionData;e=e.nextElementSibling}return null}},{key:"isSelectedFirstVersion",value:function(){return!!this.activeVersionElement&&this.components.versionsList.firstChild===this.activeVersionElement}},{key:"isSelectedLastVersion",value:function(){return!!this.activeVersionElement&&this.components.versionsList.lastChild===this.activeVersionElement}},{key:"show",value:function(e,t){if(this.versionOptions=Object.assign(Object.assign({},this.versionOptions),t),this.createdActionButtons(),this.handleShow(),e)this.container=e,this.container.appendChild(this.components.root);else{var n={type:"dialog",content:this.components.root,mainClass:VP.MAIN_FULL_SCREEN_CLASS,contentClass:VP.CONTENT_FULL_SCREEN_CLASS};this.dialog=this.editor.showDialog(n)}}},{key:"hide",value:function(){this.handleClose()}},{key:"setShowOps",value:function(e){this.versionOptions.hideOps=!e,this.handleViewVersion()}},{key:"showVersion",value:function(e){var t="number"==typeof e?e:Number.parseInt(e,10);t&&this.selectVersion(t)}},{key:"getCurrentVersion",value:function(){var e,t=null===(e=this.activeVersionElement)||void 0===e?void 0:e.versionData;return null!=t?t:null}}])&&Vq(t.prototype,n),r&&Vq(t,r),e}();function qq(e){return e.level}function Zq(e){var t=[];return e.forEach((function(e){if(!Mh(e)&&e.innerText){var n,r,o,i,a=(w(n=ff(e)),w(n>=1&&n<=8),n),s=function(e,t){if(w(t>=1&&t<=8),1===t)return null;if(0===e.length)return null;var n=t-1,r=function(e){return 0===e.length?null:function e(t){return t.children.length>0?e(t.children[t.children.length-1]):t}(e[e.length-1])}(e);return r?qq(r)<=n?r:function(e,t){var n=[];(null==t?void 0:t.withSelf)&&n.push(e);for(var r=e;r._parentNode;)n.push(r._parentNode),r=r._parentNode;return n}(r).find((function(e){return qq(e)<=n}))||null:null}(t,a),c=Rp(e),l=hf(e);if(c===Qi.LIST)if(l.textOnly)c=Qi.TEXT;else{var u=l;r=u.start,(o=u.ordered)&&(i=xn(u.level,u.start))}var d={_parentNode:s,blockId:zp(e),text:Gp(e).innerText,children:[],level:a,type:c,start:r,startText:i,ordered:o};s?s.children.push(d):t.push(d)}})),t}function Xq(e){var t,n;if(!e.isChildEditor()){var r,o=e.rootContainer(),i=[1,2,3,4,5,6,7,8].map((function(e){return".editor-block.editor-heading-".concat(e)})).join(","),a=Array.from(o.querySelectorAll(i)).filter((function(e){return jp(e)}));a.length>0&&e.isTitleBlock(a[0])&&(r=a.shift());var s=function(e,t){var n=function e(t){return{blockId:t.blockId,text:t.text,children:t.children.map((function(t){return e(t)})),level:t.level,type:t.type,start:t.start,ordered:t.ordered,startText:t.startText}},r=t.map((function(e){return n(e)}));return e?[{title:!0,blockId:zp(e),text:Gp(e).innerText,children:r,level:0,type:"title"}]:r}(r||null,Zq(a));(null===(t=e.options.callbacks)||void 0===t?void 0:t.onUpdateToc)&&(null===(n=e.options.callbacks)||void 0===n||n.onUpdateToc(e,s))}}function Jq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $q=qo.addCommentIcon,eZ=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleClick=function(){if(w(n.curBlock),Uf(n.curBlock)){var e=Hp(n.curBlock);n.editor.updateBlockText(n.curBlock,e,{fromUndo:!1,updateBlock:!0})}n.editor.executeBlockCommand("comment",n.curBlock),n.hide()},this.editor=t;var r=this.editor.rootContainer();this.scrollElement=cs(r)}var t,n,r;return t=e,(n=[{key:"showPreMask",value:function(){w(this.curBlock),Qa(this.curBlock,Vi.COMMENT_READY)}},{key:"hidePreMask",value:function(){this.curBlock&&Ja(this.curBlock,Vi.COMMENT_READY)}},{key:"getButtonShowInterval",value:function(){var t=this.editor.rootContainer().getBoundingClientRect(),n=this.scrollElement.scrollLeft+t.right;if(n)return[n-e.BUTTON_SHOW_DISTANCE,n]}},{key:"createButton",value:function(){w(this.curBlock);var t=Wp(this.curBlock,!0);w(t);var n=t.querySelector(".".concat(e.COMMENT_BUTTON_CLASS_NAME));return n||((n=document.createElement("button")).type="button",n.innerHTML=$q,Qa(n,e.COMMENT_BUTTON_CLASS_NAME,Vi.TOOLTIP),n.setAttribute("data-tooltip",ju.fontType.addComment),t.append(n)),n}},{key:"show",value:function(){var e;this.editor.options.hideComments||this.curBlock&&Hf(this.curBlock)||(null===(e=document.getSelection())||void 0===e?void 0:e.isCollapsed)&&(this.curBlock&&Ga(this.curBlock,"editor-in-mindmap-first")||(this.button=this.createButton(),this.button.addEventListener("click",this.handleClick)))}},{key:"hide",value:function(){this.button&&(this.hidePreMask(),this.button.removeEventListener("click",this.handleClick),this.button.remove(),this.button=void 0,this.curBlock=void 0)}},{key:"isCommentEditor",value:function(e){return!!e.closest(".".concat(Vi.COMMENT_EDITOR))}},{key:"handleMouseMove",value:function(e){var t;if(!this.editor.options.isMobile&&!(null===(t=this.editor.blockMenuButton)||void 0===t?void 0:t.isShowMenu()))if(ks(e,this.button,0,0))this.showPreMask();else{this.hidePreMask();var n=this.scrollElement.scrollLeft+e.clientX,r=this.getButtonShowInterval();if(r&&n>=r[0]&&n<=r[1]){var o=wN(document.elementFromPoint(r[0],e.clientY));if(o&&this.editor.isInEditor(o)&&!th(o)&&!Gf(o)&&!Ff(o)&&!this.isCommentEditor(o)&&!Mh(o))return void(this.curBlock!==o&&(this.hide(),this.curBlock=o,this.show()))}this.hide()}}}])&&Jq(t.prototype,n),r&&Jq(t,r),e}();function tZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nZ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}eZ.COMMENT_BUTTON_CLASS_NAME="block-comment-btn",eZ.BUTTON_SHOW_DISTANCE=100;var rZ={createNode:function(e,t){var n=t,r=[],o={};return Object.entries(t).forEach((function(e){var t=tZ(e,2),n=t[0],i=t[1];if(n.startsWith("inline-style-")&&i){var a=ud(n,i);r.push(a)}else if(n.startsWith("data")){var s=ld(n).substr(5);o[s]="".concat(i)}})),{classes:["style-history-deleted"],attributes:Object.assign({style:r.join(";")},o),children:[{type:"text",text:n.text}]}}};function oZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return iZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iZ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aZ(e,t){return"insert"===t?ju.get(ju.version.insert,{name:e.meta.createdBy.displayName}):ju.get(ju.version.delete,{name:e.meta.createdBy.displayName})}function sZ(e,t,n,r){var o=n.toOps();w(1===o.length||2===o.length);var i=0,a=0;2===o.length?(i=o[0].retain,a=o[1].delete):a=o[0].delete;var s=oZ(t.splitToThree(i,a),3),c=s[0],l=s[1],u=s[2],d=new Yo(l.toOps().map((function(t){if(t.attributes&&t.attributes.fake)return t;var n=_n()(t);return n.attributes||(n.attributes={}),w("string"==typeof n.insert),n.attributes.box?(n.attributes=Object.assign(Object.assign({},n.attributes),{"class-style-history-deleted":!0,"inline-style-color":e.getFixedUserColor(r.meta.createdBy.userId,"flag"),"inline-style---op-color":e.getFixedUserColor(r.meta.createdBy.userId,"flag"),dataUserId:r.meta.createdBy.userId,dataUserDisplayName:r.meta.createdBy.displayName,dataOpDescription:aZ(r,"delete")}),n):(n.attributes=Object.assign(Object.assign(Object.assign({},n.attributes),function(e){return{box:!0,id:B(),type:Pi.HISTORY_DELETED,text:e,created:Date.now(),fake:!0}}(n.insert)),{"inline-style-color":e.getFixedUserColor(r.meta.createdBy.userId,"flag"),"inline-style---op-color":e.getFixedUserColor(r.meta.createdBy.userId,"flag"),"style-strikethrough":!0,dataUserId:r.meta.createdBy.userId,dataUserDisplayName:r.meta.createdBy.displayName,dataOpDescription:aZ(r,"delete")}),n)})));return Yo.combine(Yo.combine(c,d),u).autoMerge()}function cZ(e,t,n){var r=Vf(t),o=tm(e,r);w(o);var i=em(e,r,n,[]);w(i),rm(e,r,GA()(o,i))}function lZ(e,t,n,r){w(Uf(t));var o=function(e){var t=hf(e);return w(t.text),t.text}(t);0!==n.toOps().length&&(n.splitToSingleOpOps().forEach((function(t){t.isDeleteOpOnly()?o=sZ(e,o,t,r):t.isInsertOpOnly()?o=function(e,t,n,r){var o,i=n.toOps();w(1===i.length||2===i.length),o=2===i.length?i[1]:i[0];var a=e.getFixedUserColor(r.meta.createdBy.userId,"selection"),s=e.getFixedUserColor(r.meta.createdBy.userId,"flag"),c=o.attributes;return c||(c={style:"--op-color:".concat(s)}),o.attributes=Object.assign(Object.assign({},c),{"style-history-new":!0,"inline-style-background-color":a,"inline-style---op-color":s,userId:r.meta.createdBy.userId,userDisplayName:r.meta.createdBy.displayName,opDescription:aZ(r,"insert")}),o.attributes.box&&(o.attributes["class-style-history-new"]=!0,o.attributes.dataOpDescription=aZ(r,"insert")),t.compose(n).autoMerge()}(e,o,t,r):(w(t.isAttributesOnly()),o.compose(t))})),cZ(e,t,o),t.innerText.length<=1&&0===o.getLength()?Qa(t,Vi.EMPTY_BLOCK):Ja(t,Vi.EMPTY_BLOCK))}function uZ(e,t){if(!e.attributes||!t.attributes)return!1;if(e.attributes.box!==t.attributes.box)return!1;if(e.attributes.userId!==t.attributes.userId)return!1;if(e.attributes.box){if(e.attributes.type!==t.attributes.type)return!1;if(e.attributes.type!==Pi.HISTORY_DELETED)return!1;if(e.attributes["style-history-new"]!==t.attributes["style-history-new"])return!1}else{if(Object.keys(e.attributes).filter((function(e){return e.startsWith("style-")})).sort().join(";")!==Object.keys(t.attributes).filter((function(e){return e.startsWith("style-")})).sort().join(";"))return!1;if(e.attributes.commentId!==t.attributes.commentId)return!1;if(e.attributes.link!==t.attributes.link)return!1}return!0}function dZ(e){return(dZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}wd(Pi.HISTORY_DELETED,rZ);var pZ,fZ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function hZ(e,t){return"insert"===t?ju.get(ju.version.insert,{name:e.meta.createdBy.displayName}):ju.get(ju.version.delete,{name:e.meta.createdBy.displayName})}function AZ(e,t,n){w(t),Qa(t,pZ.DELETED),t.setAttribute("data-op-user-id",n.meta.createdBy.userId),t.setAttribute("data-op-user-display-name",n.meta.createdBy.displayName),t.setAttribute("data-op-description",hZ(n,"delete")),t.style.setProperty("--op-color",e.getFixedUserColor(n.meta.createdBy.userId,"flag")),t.style.setProperty("--op-selected-color",e.getFixedUserColor(n.meta.createdBy.userId,"selection"));var r=Gp(t);r.setAttribute("data-op-user-id",n.meta.createdBy.userId),r.setAttribute("data-op-user-display-name",n.meta.createdBy.displayName),r.setAttribute("data-op-description",hZ(n,"delete"))}function mZ(e){return Ga(e,pZ.DELETED)}function gZ(e){for(var t=e.nextElementSibling;t;){if(w(jp(t)),!mZ(t))return t;t=t.nextElementSibling}return null}function vZ(e,t){for(var n=0,r=function(e){for(var t=e.children,n=0;n<t.length;n++){var r=t[n];if(w(jp(r)),!mZ(r))return r}return null}(e);n<t&&r;)if(n+=1,!(r=gZ(r)))return null;return r}function bZ(e,t,n,r,o){var i;if(r.text&&r.text.getLength()>0){var a=r.text.toOps();a.forEach((function(t){var n=t,r=o,i=e.getFixedUserColor(r.meta.createdBy.userId,"selection"),a=e.getFixedUserColor(r.meta.createdBy.userId,"flag"),s=n.attributes;s||(s={style:"--op-color:".concat(a)}),n.attributes=Object.assign(Object.assign({},s),{"style-history-new":!0,"inline-style-background-color":i,"inline-style---op-color":a,userId:r.meta.createdBy.userId,userDisplayName:r.meta.createdBy.displayName,opDescription:hZ(r,"insert")}),n.attributes.box&&(n.attributes["class-style-history-new"]=!0,n.attributes.dataOpDescription=hZ(r,"insert"))})),r.text=new Yo(a)}var s=Kp(e,B(),r.type,r),c=function(t,n){Qa(t,n.isChildBlock?pZ.NEW_CHILD:pZ.NEW),t.setAttribute("data-op-user-id",o.meta.createdBy.userId),t.setAttribute("data-op-user-display-name",o.meta.createdBy.displayName),t.setAttribute("data-op-description",hZ(o,"insert")),t.style.setProperty("--op-color",e.getFixedUserColor(o.meta.createdBy.userId,"flag")),t.style.setProperty("--op-selected-color",e.getFixedUserColor(o.meta.createdBy.userId,"selection"));var r=Gp(t);r.setAttribute("data-op-user-id",o.meta.createdBy.userId),r.setAttribute("data-op-user-display-name",o.meta.createdBy.displayName),r.setAttribute("data-op-description",hZ(o,"insert"))};if(c(s,{isChildBlock:!1}),0===n)t.insertAdjacentElement("afterbegin",s);else{var l=vZ(t,n-1);w(l),l.insertAdjacentElement("afterend",s)}Ff(s)?Array.from(s.querySelectorAll(".".concat(Vi.BLOCK))).forEach((function(e){c(e,{isChildBlock:!0})})):Uf(s)&&(null===(i=r.text)||void 0===i||i.getLength())}function yZ(e,t,n){var r=vZ(e,t);w(r),Qa(r,pZ.UPDATED);var o=hf(r),i=Object.assign(Object.assign({},o),n);n.text&&(console.warn("update block text by update block data"),i.text=new Yo(n.text)),Jp(r,i)}function wZ(e,t){if(function(e){return Ga(e,pZ.NEW)||Ga(e,pZ.NEW_CHILD)}(t)&&mZ(t),Uf(t))!function(e,t){w(Uf(t));var n=hf(t).text;w(n);for(var r,o,i=n.toOps(),a=(i=i.filter((function(e){return!(e.attributes&&e.attributes.box&&e.attributes.type===Pi.HISTORY_DELETED&&e.attributes["style-history-new"])}))).length-1;a>0;a--){var s=i[a],c=i[a-1];uZ(s,c)&&(w(uZ(r=c,o=s)),w(r.attributes),w(o.attributes),r.attributes.box?r.attributes.text+=o.attributes.text:r.insert+=o.insert,i.splice(a,1))}cZ(e,t,new Yo(i))}(e,t);else if(Ff(t)){AL(t).forEach((function(t){wZ(e,t)}))}}function xZ(e){e.getAllBlocks({deep:!1}).forEach((function(t){wZ(e,t)}))}function kZ(e){e.rootElement.querySelectorAll(".editor-delete-marker").forEach((function(e){var t=wN(e);w(t);var n=Gp(t);Rp(t)===Qi.TABLE&&(n=n.querySelector("table"));var r=t.getBoundingClientRect(),o=n.getBoundingClientRect();0!==o.width&&0!==o.height||(o=r);var i=o.left-r.left,a=o.top-r.top,s=e;s.style.left=i?"".concat(i,"px"):"0",s.style.top=a?"".concat(a,"px"):"0",s.style.width="".concat(Math.min(r.width,o.width),"px"),s.style.height="".concat(o.height,"px")}))}function CZ(e){e.rootContainer().querySelectorAll(".editor-block.history-deleted.history-new").forEach((function(e){e.remove()}))}function EZ(e){e.rootContainer().querySelectorAll(".editor-block.history-new.text-block, .editor-block.history-new.list-block").forEach((function(e){0===e.querySelectorAll(".style-history-new, .style-history-deleted").length&&Qa(e,"force")}))}function BZ(e){Array.from(e.rootContainer().querySelectorAll(".editor-block.text-block.history-deleted")).forEach((function(e){var t=e.querySelector(".text-element");if(t&&1===t.childNodes.length&&1===t.children.length){var n=t.children[0];"SPAN"===n.tagName&&Ga(n,"style-history-new")&&e.remove()}}))}function TZ(e,t){ds(t,!0)}function MZ(e,t,n){return fZ(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.length){r.next=2;break}return r.abrupt("return");case 2:w(e.isReadOnly()),r.prev=3,o=regeneratorRuntime.mark((function r(o){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.destroyed){r.next=2;break}return r.abrupt("return",{v:void 0});case 2:if(i=t[o],e.applyOps(i.op),XQ(e,i.op,{onDeleteBlock:function(t,r){var o=vZ(t,r);w(o),n.play&&TZ(0,o),AZ(e,o,i)},onInsertBlock:function(t,r,o){bZ(e,t,r,Ba(o),i);var a=vZ(t,r);w(a),n.play&&TZ(0,a)},onUpdateBlockData:function(e,t,r){var o=vZ(e,t);w(o),n.play&&TZ(0,o),yZ(e,t,r)},onUpdateBlockText:function(t,r,o){var a=vZ(t,r);w(a),n.play&&TZ(0,a),lZ(e,a,o,i)},onDeleteContainer:function(e){w(e)},onNoContainer:function(e){w(e)},onUpdateComment:function(e){w(e)},onUpdateCommentText:function(e){w(e)},onDeleteComment:function(e){w(e)},onCreateContainer:function(t,n){e.data()[t]=n}}),!n.play){r.next=8;break}return r.next=8,cd(n.speed||150);case 8:case"end":return r.stop()}}),r)})),i=0;case 6:if(!(i<t.length)){r.next=14;break}return r.delegateYield(o(i),"t0",8);case 8:if("object"!==dZ(a=r.t0)){r.next=11;break}return r.abrupt("return",a.v);case 11:i++,r.next=6;break;case 14:r.next=19;break;case 16:r.prev=16,r.t1=r.catch(3),console.error("failed to apply ops: ".concat(r.t1));case 19:if(!e.destroyed){r.next=21;break}return r.abrupt("return");case 21:try{xZ(e),CZ(e),EZ(e),BZ(e),vO.observe(e,e.rootElement,(function(){kZ(e)}))}catch(e){console.error("failed to show versions: ".concat(e))}case 22:case"end":return r.stop()}}),r,null,[[3,16]])})))}!function(e){e.NEW="history-new",e.NEW_CHILD="history-new-child",e.DELETED="history-deleted",e.UPDATED="history-updated"}(pZ||(pZ={}));var IZ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function DZ(e,t,n){return IZ(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return w(e.isReadOnly()),w(t),r.next=4,MZ(e,t,n);case 4:Qa(e.rootElement,Vi.HISTORY);case 5:case"end":return r.stop()}}),r)})))}function _Z(e){return 0===e.length?[]:function(e){return"string"!=typeof e&&!!e.userId}(e[0])?e:[]}function SZ(e,t){var n,r,o=_Z(null!==(n=t.authors)&&void 0!==n?n:[]);if(o){var i=_Z(null!==(r=e.authors)&&void 0!==r?r:[]);o.forEach((function(e){-1===i.findIndex((function(t){return t.userId===e.userId}))&&i.push(e)})),e.authors=i}}function OZ(e){var t,n;w(e.length>0);var r=e[0];r.authors=_Z(null!==(t=r.authors)&&void 0!==t?t:[]);for(var o=[r],i=1;i<e.length;i++){var a=e[i];w(a.version>0),"minor"===a.type?(r.minorVersions||(r.minorVersions=[]),r.minorVersions.push(a),SZ(r,a)):((r=a).authors=_Z(null!==(n=r.authors)&&void 0!==n?n:[]),o.push(r))}return o.forEach((function(e){if(e.minorVersions&&0!==e.minorVersions.length&&e.minorVersions[0].version!==e.version){var t={version:e.version,type:"minor",createdBy:e.createdBy,authors:e.authors,source:e.source};e.minorVersions.unshift(t)}})),o}function NZ(e){e.rootContainer().querySelectorAll("span.style-history-new.active, span.style-history-deleted.active, a.style-history-new.active, a.style-history-deleted.active, .editor-block.history-deleted.active, .editor-block.history-new.active").forEach((function(e){Ja(e,Vi.ACTIVE)}))}var LZ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function RZ(e){var t=e.split(","),n=function(e){return bo(e)}(t[1]),r=t[0].split(":")[1].split(";")[0],o="",i=_a[r].extensions;i&&i.length>0&&(o=".".concat(i[0]));var a="".concat(Date.now()).concat(o);return new File([n],a,{type:r})}function jZ(e,t){return LZ(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=RZ(t),o=e.uploadResource(r,(function(){})),n.abrupt("return",o);case 3:case"end":return n.stop()}}),n)})))}function UZ(e,t){return LZ(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=new Map,o=Gv(t),i=0;case 3:if(!(i<o.length)){n.next=14;break}if((a=o[i]).startsWith("data:")){n.next=7;break}return n.abrupt("return");case 7:return n.next=9,jZ(e,a);case 9:s=n.sent,r.set(a,s);case 11:i+=1,n.next=3;break;case 14:Yv(t,"","",(function(e,t){var n=r.get(t);return n||t}));case 15:case"end":return n.stop()}}),n)})))}function FZ(e,t){var n=Nx(e),r=Mb.fromTable(n).getCellByElement(t),o=wx(Tx(n),r.col);w(o);var i=kx(o),a=Ap(t),s=Gp(t),c=getComputedStyle(t),l=getComputedStyle(s),u=Array.prototype.reduce.call(a.children,(function(e,t){var n=t.getAttribute("data-width"),r=t.getBoundingClientRect(),o=getComputedStyle(t);return e+(n&&Number.parseInt(n,10)||r.width)+parseFloat(o.marginLeft)}),0)+parseFloat(c.paddingLeft)+parseFloat(c.paddingRight)+parseFloat(l.paddingLeft)+parseFloat(l.paddingRight),d=r.cell.getBoundingClientRect(),p=t.getBoundingClientRect(),f=u+p.left-d.left+d.right-p.right;f>i&&uk(n,o,f)}var zZ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function QZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var PZ=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events=new m.EventEmitter,this.handleResize=function(e){t.events.emit("resize",e)},this.handleCommentsResizeWidth=function(e){t.events.emit("comments-resize-width",e)},this.events.setMaxListeners(0)}var t,n,r;return t=e,(n=[{key:"bind",value:function(e){this.unbind(e),window.addEventListener("resize",this.handleResize),e.rootContainer().addEventListener("comments-resize-width",this.handleCommentsResizeWidth)}},{key:"unbind",value:function(e){window.removeEventListener("resize",this.handleResize),e.rootContainer().removeEventListener("comments-resize-width",this.handleCommentsResizeWidth)}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"destroy",value:function(e){this.unbind(e)}}])&&QZ(t.prototype,n),r&&QZ(t,r),e}());function HZ(e){return function(e){if(Array.isArray(e))return VZ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return VZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VZ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var KZ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function GZ(e){e.removeAttribute("data-node-type"),e.removeAttribute("style"),Ja.apply(s,[e].concat(HZ(Array.from(e.classList))));for(var t=1;t<e.children.length;t++)e.children[t].remove();Array.from(e.querySelectorAll(".editor-block")).forEach((function(e){GZ(e)})),Array.from(e.querySelectorAll(".table-col-group")).forEach((function(e){return e.remove()})),Array.from(e.querySelectorAll("img")).forEach((function(e){return e.removeAttribute("data-src")})),Array.from(e.querySelectorAll("div")).forEach((function(e){return e.removeAttribute("contenteditable")})),Array.from(e.querySelectorAll(".editor-code-config")).forEach((function(e){return e.remove()}))}function WZ(e){var t=[],n=[];t.push(n);var r=function(e){var t=1e3;return e.forEach((function(e,n){0!==n&&Gu(e)&&(t=Math.min(t,Wu(e)))})),t}(e);return e.forEach((function(e,o){o>0&&Gu(e)&&Wu(e)===r&&(n=[],t.push(n)),n.push(e)})),t}function YZ(e,t){var n=(YZ.canvas||(YZ.canvas=document.createElement("canvas"))).getContext("2d");return n?(n.font=t,n.measureText(e).width+4):200}function qZ(e){Array.from(e.rootContainer().querySelectorAll(".editor-block.text-block .text-element .inline-plugin.editor-box-input.editor-box-input-text input[type=text]")).forEach((function(e){!function(e,t){var n=window.getComputedStyle(t),r=t.value||t.placeholder;if(r){var o=YZ(r,function(e){var t=e.getPropertyValue("font");if(t)return t;var n=e.getPropertyValue("font-style"),r=e.getPropertyValue("font-variant"),o=e.getPropertyValue("font-weight"),i=e.getPropertyValue("font-size"),a=e.getPropertyValue("font-family");return"".concat(n," ").concat(r," ").concat(o," ").concat(i," ").concat(a).replace(/ +/g," ").trim()}(n));Number.isNaN(o)?t.style.width="".concat(200,"px"):t.style.width="".concat(o,"px")}}(0,e)}))}function ZZ(e,t){var n,r;if(t.startBlock&&t.endBlock&&kN(t.startBlock)===kN(t.endBlock)){var o=function(e){return pL(e)?"blocks":eL(e)}(kN(t.startBlock)),i=MN(t.startBlock),a=IN(t.endBlock);return{containerId:o,prevBlockId:i?zp(i):"",nextBlockId:a?zp(a):""}}var s=null!==(n=t.startComplexBlock)&&void 0!==n?n:t.startBlock,c=null!==(r=t.endComplexBlock)&&void 0!==r?r:t.endBlock;s&&c||w(!1,"no block need to repair");var l=kN(s);w(l===kN(c));var u=MN(s),d=IN(c);return{containerId:eL(l),prevBlockId:u?zp(u):"",nextBlockId:d?zp(d):""}}function XZ(e,t){var n,r=Xo.isAndroid?e.saveSelectionState():t.selectionStatus;if("table"===t.reason&&0===t.remoteOps.length&&!function(e,t){var n=function(t){var n=e.getBlockById(t.blockId);return!n||!(null==n?void 0:n.querySelector(".block-content"))},r=t.startCaret,o=t.endCaret;return w(r),w(o),n(r)||n(o)}(e,t.selectionStatus))return!1;var o,i=Xo.isAndroid&&0===t.inputEvent.length,a=null===(n=t.selectionStatus.startCaret)||void 0===n?void 0:n.blockId,s=null;if(Xo.isAndroid&&!i&&a&&(s=e.getBlockById(a))){var c=Hp(s),l=hf(s).text;w(l),o=c.diff(l)}if(w(t.info.containerId),!i)try{!function(e,t,n){w(n.containerId);var r=e.getContainerById(n.containerId);w(r);var o=n.prevBlockId?e.getBlockById(n.prevBlockId):null,i=n.nextBlockId?e.getBlockById(n.nextBlockId):null,a=SN(r),s=o?a.indexOf(o):-1,c=i?a.indexOf(i):a.length;Array.from(r.childNodes).forEach((function(e){e instanceof Text?e.remove():jp(e)||e.remove()})),a.slice(s+1,c).forEach((function(e){return e.remove()}));var l=t[n.containerId],u=n.prevBlockId?l.findIndex((function(e){return e.id===n.prevBlockId})):-1,d=n.nextBlockId?l.findIndex((function(e){return e.id===n.nextBlockId})):l.length,p=document.createDocumentFragment();l.slice(u+1,d).forEach((function(t){var n=Kp(e,t.id,t.type,Ba(t));p.appendChild(n)})),i?r.insertBefore(p,i):r.appendChild(p)}(e,t.doc,t.info)}catch(n){console.warn("failed to repair damaged blocks",n.message),function(e,t,n){w(n.containerId);var r=e.getContainerById(n.containerId);w(r),r.innerHTML="";var o=t[n.containerId],i=document.createDocumentFragment();o.forEach((function(t){var n=Kp(e,t.id,t.type,Ba(t));i.appendChild(n)})),r.appendChild(i)}(e,t.doc,t.info)}if(t.remoteOps.forEach((function(t){e.updateDocumentByRemoteOps(t,!1)})),i)return!0;if(!e.restoreSelectionState(r)&&!Xo.isAndroid)return!1;if(Xo.isAndroid&&a){if((s=e.getBlockById(a))&&o){var u=Hp(s).clone().compose(o);e.updateBlockText(s,u,{fromUndo:!1,updateBlock:!0}),Vp(s,u)}return!0}try{e.beginUndoGroup(),l_(e.getSelectionDetail(),{merge:!0});var d=t.inputEvent[0];return d&&d.data&&Kv(e,d.data),!0}catch(e){return console.error(e),!1}finally{e.endUndoGroup()}}function JZ(e){var t=e.rootContainer(),n=e.options.highlightMaxCodeLines||500,r=t.querySelectorAll(".code-line-block").length>n,o=e.isReadOnly()||!r,i=function(e){var t=e.rootContainer();return Array.from(t.querySelectorAll(".editor-block.code-block"))}(e);o?i.forEach((function(e){return nh(e,"highlight",null)})):i.forEach((function(e){return nh(e,"removeHighlight",null)}))}var $Z=n(1474),eX=n.n($Z),tX={attributes:{class:"editor-style-css"},insert:"head",singleton:!1};hA()(eX(),tX);eX().locals;function nX(e){return function(e){if(Array.isArray(e))return rX(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rX(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oX=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},iX="data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xNi4wMSAxNS45OUwxNS45OSA2TTE2LjAxIDE1Ljk5SDI2TTE2LjAxIDE1Ljk5VjI2TTE2LjAxIDE1Ljk5TDYgMTYuMDEiIHN0cm9rZT0iIzMzOEZFNSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=",aX="data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjEyMCIgaGVpZ2h0PSIxMjAiIHZpZXdCb3g9IjAgMCAxMjAgMTIwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTQ4IDU5QzQ4IDU0LjU4MTcgNTEuNTgxNyA1MSA1NiA1MUg5M0M5OC41MjI4IDUxIDEwMyA1NS40NzcyIDEwMyA2MVY4OEMxMDMgOTEuODY2IDk5Ljg2NiA5NSA5NiA5NUg1NkM1MS41ODE3IDk1IDQ4IDkxLjQxODMgNDggODdWNTlaIiBmaWxsPSIjRDZFOUZBIi8+CjxwYXRoIGQ9Ik0xOCA2NEMxOCA2Mi4zNDMxIDE5LjM0MzEgNjEgMjEgNjFINTZDNjAuNDE4MyA2MSA2NCA2NC41ODE3IDY0IDY5VjgzQzY0IDg1LjIwOTEgNjIuMjA5MSA4NyA2MCA4N0gyNkMyMS41ODE3IDg3IDE4IDgzLjQxODMgMTggNzlWNjRaIiBmaWxsPSIjRUFFNEY2Ii8+CjxyZWN0IHg9IjI0IiB5PSIzMSIgd2lkdGg9IjY1IiBoZWlnaHQ9IjUwIiByeD0iNSIgZmlsbD0iIzk5QzdGMiIvPgo8cmVjdCB4PSIzMy41IiB5PSI0MyIgd2lkdGg9IjQ2IiBoZWlnaHQ9IjUiIHJ4PSIyLjUiIGZpbGw9IndoaXRlIi8+CjxyZWN0IHg9IjMzLjUiIHk9IjU0IiB3aWR0aD0iNDYiIGhlaWdodD0iNSIgcng9IjIuNSIgZmlsbD0id2hpdGUiLz4KPHJlY3QgeD0iMjQiIHk9IjMxIiB3aWR0aD0iNjUiIGhlaWdodD0iNTAiIHJ4PSI1IiBzdHJva2U9IiNGOEY4RjgiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01MCA4NS4yNjhDNTMuODI2MyA4My4wNTg5IDU1LjEzNzMgNzguMTY2MiA1Mi45MjgyIDc0LjMzOThMNjMuMzIwNSA2OC4zMzk4QzY4Ljg0MzMgNzcuOTA1NyA2NS41NjU4IDkwLjEzNzUgNTYgOTUuNjYwNEM0Ni40MzQxIDEwMS4xODMgMzQuMjAyMyA5Ny45MDU3IDI4LjY3OTQgODguMzM5OEwzOS4wNzE3IDgyLjMzOThDNDEuMjgwOSA4Ni4xNjYyIDQ2LjE3MzYgODcuNDc3MiA1MCA4NS4yNjhaIiBmaWxsPSIjQUI5M0RDIi8+CjxyZWN0IHg9IjU5IiB5PSI2NSIgd2lkdGg9IjQyIiBoZWlnaHQ9IjI4IiByeD0iNSIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTYzIDg4VjczLjA4MDhDNjMgNzEuNzA5NiA2My4zNjE0IDcwLjY4NjcgNjQuMDg0MSA3MC4wMTJDNjQuODI4NyA2OS4zMzczIDY1Ljg1OCA2OSA2Ny4xNzIgNjlIOTIuODYwOUM5NS42MjAzIDY5IDk3IDcwLjM2MDMgOTcgNzMuMDgwOFY4OEg5My41MTc5TDg3LjM3NDkgODAuNjIyQzg3LjA5MDIgODAuMzE3MyA4Ni43NjE3IDgwLjA4ODggODYuMzg5NCA3OS45MzY0Qzg2LjAxNzEgNzkuNzg0MSA4NS42NDQ4IDc5LjcwNzkgODUuMjcyNSA3OS43MDc5Qzg0LjkwMDIgNzkuNzA3OSA4NC41Mjc5IDc5Ljc4NDEgODQuMTU1NiA3OS45MzY0QzgzLjgwNTIgODAuMDg4OCA4My40NTQ4IDgwLjMxNzMgODMuMTA0MyA4MC42MjJMNzYuNzMxNCA4Ni4yMzcxTDc0LjIwMTkgODMuOTUxOUM3My42MzI1IDgzLjQyOTYgNzMuMDA4NCA4My4xNjg0IDcyLjMyOTUgODMuMTY4NEM3MS42NTA2IDgzLjE2ODQgNzEuMDM3NCA4My40Mjk2IDcwLjQ4OTkgODMuOTUxOUw2Ni40NDkzIDg4SDYzWk03NC40NjQ3IDgwLjYyMkM3NS4zNjI2IDgwLjYyMiA3Ni4xNDAxIDgwLjI5NTUgNzYuNzk3MSA3OS42NDI2Qzc3LjQ3NiA3OC45ODk3IDc3LjgxNTUgNzguMjE3MSA3Ny44MTU1IDc3LjMyNDdDNzcuODE1NSA3Ni40MTA3IDc3LjQ3NiA3NS42MzggNzYuNzk3MSA3NS4wMDY5Qzc2LjE0MDEgNzQuMzU0IDc1LjM2MjYgNzQuMDE2NiA3NC40NjQ3IDczLjk5NDhDNzMuNTQ0OSA3My45NTEzIDcyLjc1NjUgNzQuMjY2OSA3Mi4wOTk1IDc0Ljk0MTZDNzEuNDQyNSA3NS42MTYzIDcxLjExNCA3Ni40MTA3IDcxLjExNCA3Ny4zMjQ3QzcxLjExNCA3OC4yMTcxIDcxLjQ0MjUgNzguOTg5NyA3Mi4wOTk1IDc5LjY0MjZDNzIuNzU2NSA4MC4yOTU1IDczLjU0NDkgODAuNjIyIDc0LjQ2NDcgODAuNjIyWiIgZmlsbD0iI0Y3RDA3RiIvPgo8Y2lyY2xlIGN4PSI5NSIgY3k9IjQyIiByPSIyIiBzdHJva2U9IiM1MEMzOTgiIHN0cm9rZS13aWR0aD0iMiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTk0Ljc1MDEgMjQuNDY4N0wxMDAuNzgxIDI3LjkxNDlMOTQuNzE5IDMxLjQxNDlMOTQuNzUwMSAyNC40Njg3WiIgc3Ryb2tlPSIjNUNBNUVBIiBzdHJva2Utd2lkdGg9IjEuOCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwNSAzOEMxMDUgMzguNTUyMyAxMDUuNDQ4IDM5IDEwNiAzOUMxMDYuNTUyIDM5IDEwNyAzOC41NTIzIDEwNyAzOFYzNkgxMDlDMTA5LjU1MiAzNiAxMTAgMzUuNTUyMyAxMTAgMzVDMTEwIDM0LjQ0NzcgMTA5LjU1MiAzNCAxMDkgMzRIMTA3VjMyQzEwNyAzMS40NDc3IDEwNi41NTIgMzEgMTA2IDMxQzEwNS40NDggMzEgMTA1IDMxLjQ0NzcgMTA1IDMyVjM0SDEwM0MxMDIuNDQ4IDM0IDEwMiAzNC40NDc3IDEwMiAzNUMxMDIgMzUuNTUyMyAxMDIuNDQ4IDM2IDEwMyAzNkgxMDVWMzhaIiBmaWxsPSIjQUI5M0RDIi8+Cjwvc3ZnPgo=",sX="data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjExMCIgaGVpZ2h0PSIxMDAiIHZpZXdCb3g9IjAgMCAxMTAgMTAwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iNjAiIGhlaWdodD0iOCIgcng9IjQiIGZpbGw9IiNFQUYzRkMiLz4KPHJlY3QgeT0iMTYiIHdpZHRoPSIxMTAiIGhlaWdodD0iNCIgcng9IjIiIGZpbGw9IiNFQUYzRkMiLz4KPHJlY3QgeT0iMjYiIHdpZHRoPSIxMTAiIGhlaWdodD0iNCIgcng9IjIiIGZpbGw9IiNFQUYzRkMiLz4KPHJlY3QgeT0iMzYiIHdpZHRoPSIxMTAiIGhlaWdodD0iNCIgcng9IjIiIGZpbGw9IiNFQUYzRkMiLz4KPHJlY3QgeD0iMC41IiB5PSI0OC41IiB3aWR0aD0iMTA5IiBoZWlnaHQ9IjUxIiByeD0iMS41IiBzdHJva2U9IiNFQUYzRkMiLz4KPHBhdGggZD0iTTAgNTBDMCA0OC44OTU0IDAuODk1NDMgNDggMiA0OEgxMDhDMTA5LjEwNSA0OCAxMTAgNDguODk1NCAxMTAgNTBWNTdIMFY1MFoiIGZpbGw9IiNENkU5RkEiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNCA2NS41QzI0IDY0LjY3MTYgMjQuNjcxNiA2NCAyNS41IDY0SDEwMi41QzEwMy4zMjggNjQgMTA0IDY0LjY3MTYgMTA0IDY1LjVDMTA0IDY2LjMyODQgMTAzLjMyOCA2NyAxMDIuNSA2N0gyNS41QzI0LjY3MTYgNjcgMjQgNjYuMzI4NCAyNCA2NS41Wk0zMyA3Ny41QzMzIDc2LjY3MTYgMzMuNjcxNiA3NiAzNC41IDc2SDEwMi41QzEwMy4zMjggNzYgMTA0IDc2LjY3MTYgMTA0IDc3LjVDMTA0IDc4LjMyODQgMTAzLjMyOCA3OSAxMDIuNSA3OUgzNC41QzMzLjY3MTYgNzkgMzMgNzguMzI4NCAzMyA3Ny41Wk0zNC41IDg4QzMzLjY3MTYgODggMzMgODguNjcxNiAzMyA4OS41QzMzIDkwLjMyODQgMzMuNjcxNiA5MSAzNC41IDkxSDEwMi41QzEwMy4zMjggOTEgMTA0IDkwLjMyODQgMTA0IDg5LjVDMTA0IDg4LjY3MTYgMTAzLjMyOCA4OCAxMDIuNSA4OEgzNC41WiIgZmlsbD0iI0Q2RTlGQSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNjUuNUM2IDY0LjY3MTYgNi42NzE1NyA2NCA3LjUgNjRIMTAuNUMxMS4zMjg0IDY0IDEyIDY0LjY3MTYgMTIgNjUuNUMxMiA2Ni4zMjg0IDExLjMyODQgNjcgMTAuNSA2N0g3LjVDNi42NzE1NyA2NyA2IDY2LjMyODQgNiA2NS41Wk02IDc3LjVDNiA3Ni42NzE2IDYuNjcxNTcgNzYgNy41IDc2SDEwLjVDMTEuMzI4NCA3NiAxMiA3Ni42NzE2IDEyIDc3LjVDMTIgNzguMzI4NCAxMS4zMjg0IDc5IDEwLjUgNzlINy41QzYuNjcxNTcgNzkgNiA3OC4zMjg0IDYgNzcuNVpNNy41IDg4QzYuNjcxNTcgODggNiA4OC42NzE2IDYgODkuNUM2IDkwLjMyODQgNi42NzE1NyA5MSA3LjUgOTFIMTAuNUMxMS4zMjg0IDkxIDEyIDkwLjMyODQgMTIgODkuNUMxMiA4OC42NzE2IDExLjMyODQgODggMTAuNSA4OEg3LjVaIiBmaWxsPSIjOTlDN0YyIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTUgNjUuNUMxNSA2NC42NzE2IDE1LjY3MTYgNjQgMTYuNSA2NEgxOS41QzIwLjMyODQgNjQgMjEgNjQuNjcxNiAyMSA2NS41QzIxIDY2LjMyODQgMjAuMzI4NCA2NyAxOS41IDY3SDE2LjVDMTUuNjcxNiA2NyAxNSA2Ni4zMjg0IDE1IDY1LjVaTTE1IDc3LjVDMTUgNzYuNjcxNiAxNS42NzE2IDc2IDE2LjUgNzZIMTkuNUMyMC4zMjg0IDc2IDIxIDc2LjY3MTYgMjEgNzcuNUMyMSA3OC4zMjg0IDIwLjMyODQgNzkgMTkuNSA3OUgxNi41QzE1LjY3MTYgNzkgMTUgNzguMzI4NCAxNSA3Ny41Wk0xNi41IDg4QzE1LjY3MTYgODggMTUgODguNjcxNiAxNSA4OS41QzE1IDkwLjMyODQgMTUuNjcxNiA5MSAxNi41IDkxSDE5LjVDMjAuMzI4NCA5MSAyMSA5MC4zMjg0IDIxIDg5LjVDMjEgODguNjcxNiAyMC4zMjg0IDg4IDE5LjUgODhIMTYuNVoiIGZpbGw9IiNGN0QwN0YiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNS41IDc2QzI0LjY3MTYgNzYgMjQgNzYuNjcxNiAyNCA3Ny41QzI0IDc4LjMyODQgMjQuNjcxNiA3OSAyNS41IDc5SDI4LjVDMjkuMzI4NCA3OSAzMCA3OC4zMjg0IDMwIDc3LjVDMzAgNzYuNjcxNiAyOS4zMjg0IDc2IDI4LjUgNzZIMjUuNVpNMjUuNSA4OEMyNC42NzE2IDg4IDI0IDg4LjY3MTYgMjQgODkuNUMyNCA5MC4zMjg0IDI0LjY3MTYgOTEgMjUuNSA5MUgyOC41QzI5LjMyODQgOTEgMzAgOTAuMzI4NCAzMCA4OS41QzMwIDg4LjY3MTYgMjkuMzI4NCA4OCAyOC41IDg4SDI1LjVaIiBmaWxsPSIjOTFEOUJFIi8+Cjwvc3ZnPgo=";function cX(e){var t=e.rootElement.querySelector(":scope .editor-templates");if(!t)return null;var n=t.querySelector(":scope .editor-templates-cards");return w(n),{root:t,cardContainer:n}}function lX(e){var t,n=cX(e);if(n)return n.cardContainer.innerHTML="",n;var r=ps("div",["editor-templates"],e.rootElement);ps("div",["editor-templates-title"],r,ju.templates.title);var o=(null===(t=e.options.docTemplates)||void 0===t?void 0:t.customizedMarkText)||ju.templates.customizedMark;return Ms(".editor-main { --editor-template-customized-text: '".concat(o,"' }"),"editor-template-customized-text"),{root:r,cardContainer:ps("div",["editor-templates-cards"],r)}}function uX(e,t,n,r,o){var i,a=ps("div",["editor-template-card"].concat(nX(r)),null),s=ps("div",["editor-template-thumb-container"],a),c=ps("img",["editor-template-thumb"],s);c.src=t,c.style.display="none",c.onerror=function(){var t,n,r=null!==(n=null===(t=e.options.docTemplates)||void 0===t?void 0:t.placeHolderImageSrc)&&void 0!==n?n:sX;c.src!==r&&(c.src=r)},c.onload=function(){c.style.display=""};var l=ps("div",["editor-template-name"],a),u=ps("span",[],l,n);return(null===(i=e.options.docTemplates)||void 0===i?void 0:i.showTemplateTitleAttr)&&u.setAttribute("title",n),a.onclick=function(){return o(a)},a}function dX(e,t){var n=this,r=[];return t.isStarred&&r.push("starred"),t.isCustom&&r.push("customized"),uX(e,e.getDocThumbImage(t),t.name,r,(function(){return oX(n,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(null===(r=e.options.callbacks)||void 0===r?void 0:r.onApplyTemplate)){n.next=3;break}return n.next=3,e.options.callbacks.onApplyTemplate(e,t);case 3:case"end":return n.stop()}}),n)})))}))}function pX(e,t){return uX(e,t,ju.templates.create,["new"],(function(){var t;(null===(t=e.options.callbacks)||void 0===t?void 0:t.onCreateTemplate)&&e.options.callbacks.onCreateTemplate(e)}))}function fX(e,t){return uX(e,t,ju.templates.choose,["more"],(function(){var t;(null===(t=e.options.callbacks)||void 0===t?void 0:t.onChooseTemplate)&&e.options.callbacks.onChooseTemplate(e)}))}var hX=In()((function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{reset:!1};if(!e.isChildEditor()&&e.options.docTemplates){var o=e.options.docTemplates,i=NN(e.rootContainer()),a=i.getBoundingClientRect().width,s=!0,c=!0,l=1,u=iX,d=aX,p=cX(e);if(p){if(r.reset){var f=Array.from(p.cardContainer.children),h=p.cardContainer.firstElementChild;if(w(h),Ga(h,"new")||Ga(h,"more"))return;var A=window.getComputedStyle(h),m=parseFloat(A.marginLeft),g=parseFloat(A.marginRight),v=h.getBoundingClientRect().width+m+g;l=Math.floor(a/v);var b=0;if(o.showTemplateOperator){var y=o.showTemplateOperator(l,h);s=y.showCreateTemplate,c=y.showChooseTemplate,s&&(b+=1),c&&(b+=1),y.createTemplateImageSrc&&(u=y.createTemplateImageSrc),y.chooseTemplateImageSrc&&(d=y.chooseTemplateImageSrc)}var x=Math.max(1,l-b-1),k=f.length-2;f.forEach((function(e,t){t>x&&t<k?e.style.display="none":t>=k&&Ga(e,"new")?e.style.display=s?"":"none":t>=k&&Ga(e,"more")?e.style.display=c?"":"none":e.style.display=""}))}}else{var C=lX(e),E=C.cardContainer;e.options.docTemplates.templates.forEach((function(t,n){var r=dX(e,t);if(n>0&&n>=l&&(r.style.display="none"),E.appendChild(r),0===n){var i=window.getComputedStyle(r),p=parseFloat(i.marginLeft),f=parseFloat(i.marginRight),h=r.getBoundingClientRect().width+p+f;if(l=Math.floor(a/h),o.showTemplateOperator){var A=o.showTemplateOperator(l,r);s=A.showCreateTemplate,c=A.showChooseTemplate,s&&(l-=1),c&&(l-=1),A.createTemplateImageSrc&&(u=A.createTemplateImageSrc),A.chooseTemplateImageSrc&&(d=A.chooseTemplateImageSrc)}}}));var B=pX(e,u);s||(B.style.display="none"),E.appendChild(B);var T=fX(e,d);c||(T.style.display="none"),E.appendChild(T),(null===(t=e.options.callbacks)||void 0===t?void 0:t.onTemplateChooserStatusChanged)&&(null===(n=e.options.callbacks)||void 0===n||n.onTemplateChooserStatusChanged(e,E,"visible"))}}}),50);function AX(e,t){var n,r;if(e.loaded){var o=!0;(null===(n=e.options.docTemplates)||void 0===n?void 0:n.hideTemplates)?o=!1:(null===(r=e.options.docTemplates)||void 0===r?void 0:r.hideWhenReadOnly)&&(o=!e.isReadOnly()),function(e){var t=e.blocks;if(0===t.length)return!0;if(t.length>5)return!1;var n=on(e.blocks);return"text"===e.blocks[0].type&&e.blocks[0].heading&&n.splice(0,1),!n.find((function(e){return!cn(e)}))}(e.data())&&o?hX(e,t):(hX.cancel(),function(e){var t,n,r=cX(e);r&&(r.root.remove(),(null===(t=e.options.callbacks)||void 0===t?void 0:t.onTemplateChooserStatusChanged)&&(null===(n=e.options.callbacks)||void 0===n||n.onTemplateChooserStatusChanged(e,null,"hide")))}(e))}}var mX=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function gX(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelector("svg");if(!t)return null;var n=t.getAttribute("viewBox");if(!n)return null;var r=n.split(" ");if(4===r.length){var o=r[2],i=r[3];return t.setAttribute("width",o),t.setAttribute("height",i),t.outerHTML}return null}function vX(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=new Image,o=document.createElement("canvas"),i=o.getContext("2d");i?(r.onload=function(){if(o.width=r.naturalWidth,o.height=r.naturalHeight,!n||0!==o.width&&0!==o.height)i.drawImage(r,0,0),o.toBlob((function(e){t(null,e)}),"image/png");else{var a=e.substring("data:image/svg+xml;base64,".length);if(a){var s=gX(atob(a));if(s)return void ys(s,"image/svg+xml").then((function(e){vX(e,t,!1)}))}t(null,null)}},r.src=e):t(new Error("failed to get context"),null)}function bX(e){return mX(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ws(e);case 2:return n=t.sent,t.abrupt("return",new Promise((function(e,t){vX(n,(function(n,r){n?t(n):r?e(r):t(new Error("Failed to get image blob"))}))})));case 4:case"end":return t.stop()}}),t)})))}function yX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wX(e){return Gu(e)&&!!Ch(e)}function xX(e){for(var t=e;t&&!wX(t);)t=IN(t);return t}function kX(e,t){for(var n=t;n&&!wX(n);)(n=MN(n))&&e.isTitleBlock(n)&&(n=null);return n}var CX=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.doCallback=function(e){n.callback&&n.callback(e)},this.handleScroll=In()((function(){var e={curHeadingBlock:null,previousHeadingBlock:null,nextHeadingBlock:null},t=RN(n.editor);if(t&&zf(t)&&(t=Mh(t)),t&&n.scrollContainer)if(n.editor.isTitleBlock(t)&&(t=IN(t)),t){if(wX(t))return e.curHeadingBlock=t,e.previousHeadingBlock=kX(n.editor,t),e.nextHeadingBlock=xX(t),void n.doCallback(e);var r=n.scrollContainer.getBoundingClientRect(),o=xX(t);if(o){var i=o.getBoundingClientRect();if(i.top>r.top&&i.top<r.top+.3*r.height)return e.curHeadingBlock=o,e.previousHeadingBlock=kX(n.editor,o),e.nextHeadingBlock=xX(o),void n.doCallback(e);e.nextHeadingBlock=o}var a=kX(n.editor,t);a&&(e.curHeadingBlock=a,e.previousHeadingBlock=kX(n.editor,a)),n.doCallback(e)}else n.doCallback(e);else n.doCallback(e)}),200),this.editor=t}var t,n,r;return t=e,(n=[{key:"start",value:function(e){this.stop(),this.callback=e,this.scrollContainer=cs(this.editor.rootElement),w(this.scrollContainer instanceof Element),this.scrollEventTarget=this.scrollContainer===document.documentElement?document:this.scrollContainer,this.scrollEventTarget.addEventListener("scroll",this.handleScroll),this.handleScroll()}},{key:"stop",value:function(){this.scrollEventTarget&&this.callback&&this.scrollEventTarget.removeEventListener("scroll",this.handleScroll)}},{key:"destroy",value:function(){this.stop(),this.callback=void 0,this.scrollEventTarget=void 0}}])&&yX(t.prototype,n),r&&yX(t,r),e}();function EX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||TX(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BX(e){return function(e){if(Array.isArray(e))return MX(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||TX(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TX(e,t){if(e){if("string"==typeof e)return MX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MX(e,t):void 0}}function MX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var DX=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},_X=n(306);window.editorVersion=_X.version;var SX=0,OX=function(){function e(t,n,r,o){var i,a,s,c=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.doc=null,this.broadcastCaretMessage=In()(this.broadcastCaretMessageCore,200),this.compositing=!1,this.compositionData={block:null,complexBlock:null,endTime:null},this.waitingCommand=null,this.isLastRangeInEditor=!1,this.lastSelectionDetail=null,this.tooltip=null,this.editableToolbar=new qW(this),this.contextMenuTime=0,this.mouseDown=!1,this.keyPressed=!1,this.dirty=!1,this.exclusiveBlocks=new Set,this.exclusiveBlockTimer=0,this.parentEditor=null,this.updateComments=In()(this.updateCommentsCore,1e3),this.updateCommentsPosition=In()(this.updateCommentsPositionCore,100),this.updateCommandStatus=In()(this.updateCommandStatusCore,100),this.readonly=!1,this.readonlyBeforeFullscreen=!1,this.events=new m.EventEmitter,this.elementRemoveListener=null,this.loaded=!1,this.dragging=!1,this.boxDataMap=new Map,this.hoverBlock=null,this.hoverComplexBlock=null,this.entireSelectedBlock=null,this.selectEntireBlockTime=0,this.hoverImage=null,this.focusedImage=null,this.focusedBlock=null,this.versionDialog=new Yq(this),this.onChange=In()(this.onChangeCore,1e3),this.onlineUsers=[],this.rangeFromMouseDown=null,this.lastSelectionState=null,this.updateSelectionCounter=0,this.unlockedBlocksByPassword=new Set,this.mediaQueryList=window.matchMedia("(prefers-color-scheme: dark)"),this.pendingExclusiveMessages=[],this.mouseWheeled=!1,this.linkDialogShow=!1,this.scrollToBottomView=In()((function(){if(!c.isTypewriterMode()&&!c.isReadOnly()){var e=c.getSelectionDetail();if(e.startBlock&&Uf(e.startBlock)&&e.collapsed){var t=NL();if(t&&c.isInEditor(t.startContainer)){var n=Ds(t,{onlyCollapsed:!0});if(n){var r=cs(c.rootContainer()),o=ls(r);n.bottom>o.bottom-20&&Es(r,r.scrollTop+n.bottom-(o.bottom-30))}}}}}),50),this.handleWebSocketOpen=function(e){console.log("websocket reconnected: ".concat(JSON.stringify(e)))},this.handleWriteConflictError=function(e){var t,n="write conflict error: ".concat(e.message);if(console.error(n),c.reload(),null===(t=c.options.callbacks)||void 0===t?void 0:t.onError){var r=new Error(n);r.code="WriteConflictError",c.options.callbacks.onError(c,r)}},this.handleRequestReloadError=function(e){return DX(c,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="request reload: ".concat(e.message,", wait 3 seconds and reload it"),console.warn(r),(null===(n=this.options.callbacks)||void 0===n?void 0:n.onError)&&((o=new Error(r)).code="RequestReloadError",this.options.callbacks.onError(this,o)),i=!1,a=this.isReadOnly(),this.doc&&this.data()&&(this.setReadOnly(!0),i=!0),t.next=8,cd(3e3);case 8:this.reload(),i&&!a&&this.setReadOnly(a);case 10:case"end":return t.stop()}}),t,this)})))},this.handleAssertionFailure=function(e){var t;(null===(t=c.options.callbacks)||void 0===t?void 0:t.onError)&&c.options.callbacks.onError(c,e),c.options.debug?c.undoState.hasGroup()&&console.error("Fault error occurred in undo group, ".concat(JSON.stringify(e))):console.error("fault error: ".concat(JSON.stringify(e)))},this.handleMaxUserError=function(){var e;if(console.error("max user limit"),null===(e=c.options.callbacks)||void 0===e?void 0:e.onError){var t=new Error("max user limit");t.code="MaxUser",c.options.callbacks.onError(c,t)}},this.handleWebSocketClose=function(e){var t;if(console.log(e),console.log("websocket closed"),1011===e.code&&c.handleWriteConflictError(new Error("invalid stream")),null===(t=c.options.callbacks)||void 0===t?void 0:t.onError){var n=new Error("websocket closed");n.code="WebSocketClose",c.options.callbacks.onError(c,n)}},this.handleWebSocketError=function(e){var t,n,r;if(e){if(e.code===On.err&&console.error(e.message),null===(t=c.options.callbacks)||void 0===t?void 0:t.onError){var o=new Error("websocket error: ".concat(e.message));o.code=(n=e.code,((r=Un.find((function(e){return e.err==n})))?r.name:"")||"WebSocketError"),c.options.callbacks.onError(c,o)}}else console.error("unknown websocket error")},this.handleReauth=function(){return DX(c,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=this.options.callbacks)||void 0===t?void 0:t.onReauth){e.next=2;break}throw new Error("not impl reauth");case 2:return n=this.auth.userId,r=this.auth.docId,e.next=6,this.options.callbacks.onReauth(n,r,this.auth.permission);case 6:return o=e.sent,console.log("reauth: ".concat(o)),e.abrupt("return",{userId:n,docId:r,permission:this.auth.permission,appId:this.auth.appId,token:o,displayName:this.auth.displayName,avatarUrl:this.auth.avatarUrl,userData:this.auth.userData});case 9:case"end":return e.stop()}}),e,this)})))},this.handleWebsocketMessage=function(e){var t;if(e)if("remoteCaretPos"===e.type){var n=e,r=c.onlineUsers.find((function(e){return e.userId===n.userId}));r&&c.remoteCaretPos.setCaretPos(n.userId,r.displayName,r.avatarUrl,r.rainbowIndex,n.caretPos,n.endCaretPos,n.keyPressed)}else if("exclusiveBlock"===e.type){var o=e;c.handleRemoteExclusiveBlockMessage(o)}else if("onlineUsers"===e.type){var i=e;if(c.onlineUsers=i.users,c.handleRemoteUserChanged(i.users,i.change),"join"===i.change.reason){var a=Array.from(c.exclusiveBlocks.keys());c.broadcastExclusiveBlockMessage(a,!0)}}else if("custom"===e.type){var s=e;(null===(t=c.options.callbacks)||void 0===t?void 0:t.onCustomMessage)&&c.options.callbacks.onCustomMessage(c,s.data)}},this.handleBlur=function(e){var t;(null===(t=c.options.callbacks)||void 0===t?void 0:t.onBlur)&&c.options.callbacks.onBlur(c,e)},this.handleCompositionStart=function(e){var t,n=e.target;if(w(n),w(n instanceof Node),!Yp(n)){c.compositing=!0;var r=c.getSelectionDetail(),o=r.selection,i=r.startComplexBlock&&"table"===Rp(r.startComplexBlock);if(Xo.isAndroid||r&&(!o.isCollapsed||i))c.lockForComposition(i?"table":"sogou");else if(!(o&&o.focusNode&&o.isCollapsed&&Vd(o.focusNode,o.focusOffset))){var a=c.getCaretPos();if(a.blockId){var s=c.getBlockById(a.blockId);if(s){if(c.compositionData.block=s,c.compositionData.complexBlock=Mh(s),c.isBlockEntireSelected(s)&&(c.selectBlock(s,0),Ff(s)&&(w(s=wN(null===(t=document.getSelection())||void 0===t?void 0:t.focusNode)),w(!Ff(s)))),!c.isBlockWritable(s))return e.preventDefault(),void e.stopPropagation();NL()&&($p(s,new _o([])),Qa(s,Vi.COMPOSITING),Ja(s,Vi.EMPTY_BLOCK))}}}}},this.handleCompositionEndCore=function(e){var t=e.target;if(w(t),w(t instanceof Node),c.compositionData.endTime=Date.now(),!Yp(t)){c.compositing=!1;var n=!0;if(c.isLockedForComposition()){if(c.unlockComposition())return;n=!1}var r=document.getSelection();if(!(r&&r.focusNode&&r.isCollapsed&&Vd(r.focusNode,r.focusOffset))){var o=!1,i=e.data,a=c.getCaretPos();if(a.blockId){var s=c.getBlockById(a.blockId);if(w(s),c.compositionData.block){var l=c.compositionData.block;if(c.compositionData.complexBlock=null,c.compositionData.block=null,!l.querySelector(".".concat(Vi.BLOCK_CONTENT)))return WN(l),e.stopPropagation(),void e.preventDefault()}var u=0;if(n){var d=s.querySelector(".".concat(Vi.COMPOSITION));if(w(d),void 0!==c.options.maxLength)c.rootContainer().innerText.replace(/\n/g,"").length-1>c.options.maxLength&&(o=!0);d.textContent=o?"":i,u=d.textContent.length,Ja(d,Vi.COMPOSITION)}else u=i.length,c.selectBlock(s,a.offset-i.length);var p=hf(s).text;w(p);var f=c.getSelectionDetail(),h=f.startBlock,A=f.startOffset;c.updateBlockText(s,p,{fromUndo:!1,updateBlock:!0});try{h&&void 0!==A&&c.selectBlock(h,A+u)}catch(e){}var m=null;c.lastEvent&&c.lastEvent instanceof KeyboardEvent&&(m=c.lastEvent),m&&(m.editorCompositionEnd=!0),GN(c,m,i),Tf(s),Ja(s,Vi.COMPOSITING)}}}},this.handleCompositionEnd=function(e){var t=_n()(c.compositionData);try{c.handleCompositionEndCore(e)}catch(e){console.warn("error occurred in composition end",e.message),t.block&&WN(t.block)}},this.handleClick=function(e){var t,n=e.target;w(n instanceof Element);var r=n.closest("a");if(r instanceof HTMLAnchorElement&&!Bd(r)&&!Ga(r,Vi.TOC_LINK)){if((null===(t=c.options.callbacks)||void 0===t?void 0:t.onClickLink)&&c.options.callbacks.onClickLink(c,e,r))return;var o=r.getAttribute("href")||"";/^#/.test(o)||(window.open(r.href),e.preventDefault())}if(Bd(n)){if(n instanceof HTMLInputElement)return;var i=Ed(n);w(i);var a=wN(n);w(a);var s=c.getBoxData(Md(i));Pd(c,s,a,e,i),e.preventDefault()}var l=wN(n);if(l){nA(l)&&rA(l);var u=Math.abs(e.clientX-c.lastPosition.x),d=Math.abs(e.clientY-c.lastPosition.y);u<5&&d<5&&ph(l,e)}},this.handleMouseDown=function(e){if(2!==e.button){c.mouseWheeled=!1;var t=e.target;if(w(t instanceof Element),!Bd(t)||t instanceof HTMLInputElement||!c.options.isMobile){if(c.lastEvent=e,c.lastEventDateTime=Date.now(),c.lastPosition={x:e.clientX,y:e.clientY},c.mouseDown=!0,c.lastEvent.timeValue=(new Date).getTime(),document.addEventListener("mouseup",c.handleMouseUp),!c.autoSuggest.handleMouseDown(e)&&!c.isReadOnly()){var n=wN(t);n&&Ah(n,e)||DL(c,e)}}else{e.preventDefault();var r=wN(t),o=Wf(r,Ed(t),0);c.selectBlock(r,o,o)}}else ib()&&(c.rangeFromMouseDown=c.getSelectionDetail().range,document.addEventListener("mouseup",c.handleMouseUp))},this.handleMouseMove=function(e){var t,n,r,o;if(c.lastPosition={x:e.clientX,y:e.clientY},!c.isLockedForComposition()){var i=e.target;if(w(i instanceof Element),!c.isDragging()&&"mousemove"===e.type){null===(t=c.tooltip)||void 0===t||t.handleMouseMove(e,{});var a=c.isInEditor(i);!c.textToolbar.isVisibleForTextBlock()&&a&&(null===(n=c.blockMenuButton)||void 0===n||n.handleMouseMove(e)),null===(r=c.blockCommentButton)||void 0===r||r.handleMouseMove(e);var s=a?wN(i):null,l=null;s&&Ff(s)?l=s:s&&(l=Mh(s)),s!==c.hoverBlock&&(c.hoverBlock&&c.hoverBlock!==c.hoverComplexBlock&&c.isInEditor(c.hoverBlock)&&(hh(c,c.hoverBlock,e),c.updateBlockToolsFixedButton(c.hoverBlock)),c.hoverBlock=s,c.hoverBlock&&s!==l&&(fh(c,c.hoverBlock,e),c.updateBlockToolsFixedButton(c.hoverBlock))),l!==c.hoverComplexBlock&&(c.hoverComplexBlock&&(c.isInEditor(c.hoverComplexBlock)?hh(c,c.hoverComplexBlock,e):c.hoverComplexBlock=null),c.hoverComplexBlock=l,c.hoverComplexBlock&&(c.isInEditor(c.hoverComplexBlock)?fh(c,c.hoverComplexBlock,e):c.hoverComplexBlock=null));var u=null;if(i instanceof HTMLImageElement){var d=i;s&&Hf(s)&&Lw(s)===aa.IMAGE&&(u=d)}u!==c.hoverImage&&(c.hoverImage=u,(null===(o=c.options.callbacks)||void 0===o?void 0:o.onHoverImage)&&c.options.callbacks.onHoverImage(c,u?s:null,u)),c.textToolbar instanceof JH&&a&&!c.linkDialogShow&&c.editableToolbar.handleMouseMove(e),a&&c.autoSuggest.handleMouseMove(e)||(s&&gh(s,e),!c.mouseDown&&a&&c.textToolbar.update(c,!1,e))}}},this.handleMouseUp=function(e){var t;if(2!==e.button)c.autoSuggest.handleMouseUp(e),document.removeEventListener("mouseup",c.handleMouseUp),w(e),c.mouseDown=!1,c.isReadOnly()?c.textToolbar.update(c,!1,e):(setTimeout((function(){c.broadcastCaretPos()}),100),OL().isCollapsed||(hL(c,{autoScroll:!0,mouseDown:c.mouseDown,lastEvent:c.lastEvent,lastPosition:c.lastPosition}),c.textToolbar.update(c,!1,e),(null===(t=c.options.callbacks)||void 0===t?void 0:t.onSelectionChanged)&&c.options.callbacks.onSelectionChanged(c,c.getSelectionDetail(),c.mouseDown)));else if(ib()){var n=c.getSelectionDetail().range,r=!(n&&c.rangeFromMouseDown&&n.startContainer===c.rangeFromMouseDown.startContainer&&n.startOffset===c.rangeFromMouseDown.startOffset&&n.endContainer===c.rangeFromMouseDown.endContainer&&n.endOffset===c.rangeFromMouseDown.endOffset);c.rangeFromMouseDown=null,r&&c.moveCaretTo(e.clientX,e.clientY),setTimeout((function(){c.contextMenuTime=Date.now(),c.contextMenu.handleContextMenu(e,c)}))}},this.handleDragStart=function(e){e.preventDefault()},this.handleDragEnter=function(e){e.preventDefault();var t=wN(e.target);t&&(c.lastDragBlock=t)},this.handleDrop=function(e){var t,n,r,o,i,a,s;if(e.preventDefault(),document.caretRangeFromPoint){var l=document.caretRangeFromPoint(e.clientX,e.clientY);i=null==l?void 0:l.startContainer,a=null==l?void 0:l.startOffset}else{w(document.caretPositionFromPoint);var u=document.caretPositionFromPoint(e.clientX,e.clientY);i=null==u?void 0:u.offsetNode,a=null==u?void 0:u.offset}if(i&&(s=document.createRange()).setStart(i,a),s){null===(t=document.getSelection())||void 0===t||t.collapse(null==s?void 0:s.startContainer,null==s?void 0:s.startOffset),hL(c,{autoScroll:!0,mouseDown:!1,lastEvent:c.lastEvent,lastPosition:c.lastPosition});var d=PL(c);o=d.startBlock,a=d.startOffset||0}else o=c.lastDragBlock;if(o&&o&&void 0!==a&&(null===(n=null==e?void 0:e.dataTransfer)||void 0===n?void 0:n.files)&&c.isInEditor(o)){var p=Array.from(e.dataTransfer.files);try{for(var f,h=0;h<p.length;h++){var A=p[h];0===h?f=Ab(c,o,a,A):(w(f),Ab(c,f,1,A))}}catch(e){(null===(r=c.options.callbacks)||void 0===r?void 0:r.onError)&&c.options.callbacks.onError(c,e)}}},this.handleCopy=function(e){if(e){var t=e.target;w(t),w(t instanceof Node);var n=c.options.callbacks;if(null==n?void 0:n.onBeforeCopyAction){var r=null==e?void 0:e.target;if(r&&jp(r)&&(null==n?void 0:n.onBeforeCopyAction)&&!(null==n?void 0:n.onBeforeCopyAction(c,r)))return e.preventDefault(),void e.stopPropagation()}if(!c.isInEditor(t)&&!c.agentSelector.isSelected())return;if(Yp(t))return;if(t instanceof HTMLInputElement)return}(function(e,t){if(t){var n=t.target;if(!n)return!1;if(Yp(n))return!1}return av(e,t,PL(e)),!0})(c,e)&&e&&(e.preventDefault(),e.stopPropagation())},this.handleCut=function(e){if(!c.isReadOnly()){if(e){var t=e.target;w(t),w(t instanceof Node);var n=c.options.callbacks;if(null==n?void 0:n.onBeforeCutAction){var r=null==e?void 0:e.target;if(r&&jp(r)&&(null==n?void 0:n.onBeforeCutAction)&&!(null==n?void 0:n.onBeforeCutAction(c,r)))return e.preventDefault(),void e.stopPropagation()}if(Yp(t))return;if(!c.isInEditor(t)&&!c.agentSelector.isSelected())return;if(t instanceof HTMLInputElement)return;if(!dR(c,c.getSelectionDetail()))return e.preventDefault(),void e.stopPropagation()}if(hb(c,e))e&&(e.preventDefault(),e.stopPropagation());else{c.beginUndoGroup();try{c.handleCopy(e),c.clearSelectedContents()}finally{c.endUndoGroup()}}}},this.handlePaste=function(e){return DX(c,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a,s,c,l,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isReadOnly()){t.next=2;break}return t.abrupt("return");case 2:if(s=null===(n=document.getSelection())||void 0===n?void 0:n.focusNode,c=s&&this.isInEditor(s),w(l=e.target),w(l instanceof Node),this.isInEditor(l)||c){t.next=10;break}return this.agentSelector.isSelected()&&(e.preventDefault(),e.stopPropagation(),this.beginUndoGroup(),this.agentSelector.deleteSelectedContents(),mb(this,e),this.endUndoGroup()),t.abrupt("return");case 10:if(l instanceof HTMLBodyElement&&s&&(l=s),!Yp(l)){t.next=13;break}return t.abrupt("return");case 13:if(!(l instanceof HTMLInputElement)){t.next=15;break}return t.abrupt("return");case 15:if(e.preventDefault(),e.stopPropagation(),!(null===(r=this.options.callbacks)||void 0===r?void 0:r.onBeforePaste)){t.next=20;break}if(!(null===(o=this.options.callbacks)||void 0===o?void 0:o.onBeforePaste(this,e))){t.next=20;break}return t.abrupt("return");case 20:return t.next=22,mb(this,e);case 22:this.autoSuggest.isVisible()&&(this.autoSuggest.handleMouseUp(new MouseEvent("mouseup")),this.autoSuggest.isVisible()&&(u=this.getSelectionDetail()).startBlock&&(w(void 0!==u.startOffset),dv(this,u.startBlock,u.startOffset,u))),this.updateToc(),(null===(i=this.options.callbacks)||void 0===i?void 0:i.onAfterPaste)&&(null===(a=this.options.callbacks)||void 0===a||a.onAfterPaste(this,e));case 25:case"end":return t.stop()}}),t,this)})))},this.handleMediaQueryListChange=function(){"auto"===c.themeMode&&c.setThemeMode()},this.handleResize=function(){xO.handleEditorResize(c),c.isChildEditor()||AX(c,{reset:!0})},this.handleContextMenu=function(e){if(ib())return e.stopPropagation(),void e.preventDefault();var t=e.target;w(t instanceof Node),c.isInEditor(t)&&(c.contextMenuTime=Date.now(),c.contextMenu.handleContextMenu(e,c))},this.handleWheel=function(e){w(e.target);var t=Object.assign({},e);t.target=c.rootElement,c.handleMouseMove(t),c.mouseWheeled=!0},this.handleKeydown=function(e){var t,n;if(c.mouseWheeled=!1,JI(c.compositionData.endTime))return c.compositionData.endTime=0,void e.preventDefault();if(!c.isLockedForComposition()){c.keyPressed=!0,c.lastEvent=e,c.lastEventDateTime=Date.now(),c.lastPosition={x:0,y:0};var r=null===(t=document.getSelection())||void 0===t?void 0:t.focusNode;if((r&&c.isInEditor(r)||c.getAgentSelector().isSelected())&&!c.isReadOnly()&&!(e.target instanceof HTMLInputElement||(ug(c),(null===(n=c.options.callbacks)||void 0===n?void 0:n.onKeyDown)&&c.options.callbacks.onKeyDown(c,e)))){if(c.isChildEditor())if(ni(e));else if("Enter"===e.code&&!c.isComposing()&&!c.autoSuggest.isVisible())return w(c.parentEditor),w(c.parentEditor.commentsContainer),c.commentsContainer.handleCommentEnterSend.call(c.parentEditor.commentsContainer,c.rootContainer()),void e.preventDefault();if(void 0!==c.options.maxLength)if(c.rootContainer().innerText.replace(/\n/g,"").length>=c.options.maxLength&&"Backspace"!==e.code)return void e.preventDefault();KN(e),c.broadcastCaretPos()}}},this.handleRemoteCaretPosChanged=function(e,t){c.isLockedForComposition()||c.isReadOnly()&&c.options.disableRealTime||(e.forEach((function(e){var t=c.getBlockById(e);t&&c.isInEditor(t)&&(Uf(t)?$p(t,_o.from([])):Zh(t)&&rg(c,t))})),ng(c),t&&function(e,t){var n=Array.from(e.rootContainer().querySelectorAll('.editor-main .editor-remote-caret[data-user-id="'.concat(t,'"]')));n.forEach((function(e){Qa(e,Vi.ACTIVE)})),setTimeout((function(){n.forEach((function(e){Ja(e,Vi.ACTIVE)}))}),3e3)}(c,t))},this.handleRemoteUserChanged=function(e,t){var n,r;c.isReadOnly()&&c.options.disableRealTime||(c.remoteCaretPos.updateOnlineUsers(e),(null===(n=c.options.callbacks)||void 0===n?void 0:n.onRemoteUserChanged)&&(null===(r=c.options.callbacks)||void 0===r||r.onRemoteUserChanged(c,BX(e),t)))},this.handleSelectionChanged=function(){var e,t;if(c.rangeFromMouseDown){var n=c.getSelectionDetail().range;n&&!n.collapsed&&RL()}else if(!c.updateSelectionCounter&&!c.isLockedForComposition()){if(c.isReadOnly()&&c.commentsContainer.handleSelectionChanged(c.getSelectionDetail()),Date.now()-c.contextMenuTime>100){c.contextMenu.hide(!0)}var r=OL();w(r);var o=r.focusNode;if(!c.isInEditor(o))return c.agentSelector.isSelected()||c.textToolbar.hide(),void(c.autoSuggest.isInPopper(o)||c.autoSuggest.hide());!lR(c.getSelectionDetail(),c.lastSelectionDetail)&&c.clearWaitingCommand();var i=!!(c.lastEvent&&Date.now()-c.lastEventDateTime<300);hL(c,{autoScroll:i,mouseDown:c.mouseDown,lastEvent:c.lastEvent,lastPosition:c.lastPosition}),c.undoState.rememberCaretPos(),c.broadcastCaretPos(),c.lastSelectionDetail=c.getSelectionDetail(),c.rootContainer().querySelectorAll(".editor-block.".concat(Vi.ENTIRE_SELECTED)).forEach((function(e){w(jp(e)),(e!==c.entireSelectedBlock||Date.now()-c.selectEntireBlockTime>100)&&rA(e)})),null===(e=c.blockMenuButton)||void 0===e||e.handleSelectionChanged(c.lastSelectionDetail),c.commentsContainer.handleSelectionChanged(c.lastSelectionDetail),c.updateCommandStatus();var a=c.lastSelectionDetail.startBlock;if(a!==c.focusedBlock){if(c.focusedBlock&&c.isInEditor(c.focusedBlock)){for(var s=c.focusedBlock;s;)vh(c,s,!1),s=wN(s.parentElement);c.isInEditor(c.focusedBlock)&&c.updateBlockToolsFixedButton(c.focusedBlock)}if(c.focusedBlock=a||null,c.focusedBlock){for(var l=c.focusedBlock;l;)vh(c,l,!0),l=wN(l.parentElement);c.updateBlockToolsFixedButton(c.focusedBlock)}}c.entireSelectedBlock&&(c.isInEditor(c.entireSelectedBlock)?c.entireSelectedBlock!==c.lastSelectionDetail.startBlock&&c.entireSelectedBlock!==c.lastSelectionDetail.startComplexBlock?c.entireSelectedBlock=null:nA(c.entireSelectedBlock)||(c.entireSelectedBlock=null):c.entireSelectedBlock=null),c.lastSelectionDetail.collapsed&&c.lastSelectionDetail.startBlock&&(Uf(c.lastSelectionDetail.startBlock)||c.textToolbar.isVisibleForTextBlock())&&c.textToolbar.hide(!0),(null===(t=c.options.callbacks)||void 0===t?void 0:t.onSelectionChanged)&&c.options.callbacks.onSelectionChanged(c,c.getSelectionDetail(),c.mouseDown),c.scrollToBottomView()}},this.handleFullscreenChange=function(){c.commentsContainer.reset(),document.fullscreenElement||(document.removeEventListener("fullscreenchange",c.handleFullscreenChange),c.setReadOnly(c.readonlyBeforeFullscreen))},this.compositionLockData=null,this.applyingRemoteOpsForComposition=!1,this.handleRootContainerResize=function(e){c.events.emit(zi.RESIZE,e)},this.handlePasteText=function(e){return DX(c,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null===(n=document.getSelection())||void 0===n?void 0:n.focusNode){t.next=3;break}return t.abrupt("return");case 3:if(this.isInEditor(r)){t.next=5;break}return t.abrupt("return");case 5:if(!Yp(r)){t.next=7;break}return t.abrupt("return");case 7:if(!(r instanceof HTMLInputElement)){t.next=9;break}return t.abrupt("return");case 9:yb(this,e),this.updateToc();case 11:case"end":return t.stop()}}),t,this)})))},this.showElement=function(e){Array.from(c.rootElement.querySelectorAll(".hide-when-readonly")).forEach((function(t){t.style.opacity=e?"0":"1"}))},SX+=1,console.log("create editor: ",SX),Uu(n.lang),n.customLangText&&(a=n.customLangText,Ou()(Ru.__data__,a)),this.options=Object.assign({tableExtendBoundary:{enable:!0}},n),this.readonly=!!this.options.readonly,this.options.isMobile=!!this.options.isMobile||Xo.isMobile,this.options.disableMarker=!0,n.colors||(this.options.colors=["#28D17B","#00B8D9","#006EFF","#C075FF","#FB419D","#FF403C","#FF991F","#FFC400","#96CE54","#028760","#002DCC","#7759EE","#8C436A","#B36D61","#BFA46F","#C5C56A"]),n.selectionColors||(this.options.selectionColors=["#C6F6DE","#BDF1FB","#C6DDFF","#EDD6FF","#FFAFD8","#FFC0C0","#FFDDAD","#FFF1B3","#E0F1CC","#B4DBD0","#CEDAED","#D9D4F8","#D2A9C4","#E0C6C6","#ECE0C9","#EEEED3"]),window.disableVideo=!!n.disableVideo,window.disableAudio=!!n.disableAudio,Object.entries(null!==(i=this.options.icons)&&void 0!==i?i:{}).forEach((function(e){var t=EX(e,2),n=t[0],r=t[1];r&&(qo[n]=r)})),!this.options.allowedWebPages){var l=[];this.options.allowedWebPages=l;var u=this.options.ignoreWebPages,d=void 0===u?[]:u;d.indexOf("bilibili")<0&&l.push({name:ju.webpage.bilibili,type:"bilibili",helpLink:"",helpHtml:ju.webpage.bilibiliHelp,icon:qo.bilibiliIcon}),d.indexOf("youku")<0&&l.push({name:ju.webpage.youku,type:"youku",helpLink:"",helpHtml:ju.webpage.youkuHelp,icon:qo.youkuIcon}),d.indexOf("figma")<0&&l.push({name:"Figma",type:"figma",helpLink:"",helpHtml:ju.webpage.figmaHelp,icon:qo.figmaIcon}),d.indexOf("modao")<0&&l.push({name:ju.webpage.modao,type:"modao",helpLink:"",helpHtml:ju.webpage.modaoHelp,icon:qo.modaoIcon}),d.indexOf("qqvideo")<0&&l.push({name:ju.webpage.qqvideo,type:"qqvideo",helpLink:"",helpHtml:ju.webpage.qqvideoHelp,icon:qo.qqvideoIcon})}s=this.handleAssertionFailure,v.on("failure",s),w(r.displayName,"no auth.displayName"),this.auth=r,this.editorElement=t,this.parentEditor=o||null,t.innerHTML="",this.autoSuggest=n.autoSuggest||new DH(this),this.isChildEditor()||this.options.isMobile||(this.tooltip=n.tooltip||new PH(this)),this.textToolbar=n.textToolbar||new JH,this.contextMenu=n.contextMenu||new aV,this.floatMenu=n.floatMenu||new hV,(null==n?void 0:n.themeMode)?this.themeMode=n.themeMode:void 0!==(null==n?void 0:n.allowDarkMode)?(console.warn("allowDarkMode选项即将废弃，请改用themeMode选项代替！！！"),this.themeMode=n.allowDarkMode?"auto":"light"):this.themeMode="auto",this.isChildEditor()||(this.headingBlockScrollListener=new CX(this)),this.options.hideBlockMenuButton||(this.blockMenuButton=new OK(this)),this.agentSelector=new _y(this),this.undoState=new mP(this);this.textToolbar.on("show",(function(){var e;c.textToolbar.isVisibleForTextBlock()&&(null===(e=c.blockMenuButton)||void 0===e||e.hide())})),this.rootElement=n.defaultRootElement||document.createElement("div"),Qa(this.rootElement,Vi.EDITOR_MAIN),n.lineNumber&&!n.isMobile||Qa(this.rootElement,Vi.HIDE_LINE_NUMBER),n.hideBlockMenu&&Qa(this.rootElement,"hide-block-menu"),ib()&&Qa(this.rootElement,"safari"),ab()&&Qa(this.rootElement,"ios"),Xo.isMac&&Qa(this.rootElement,"mac"),this.options.isMobile&&Qa(this.rootElement,"mobile"),this.options.markdownOnly&&Qa(this.rootElement,"markdown"),this.options.disableListBulletClick&&Qa(this.rootElement,"list-bullet-click-disabled"),this.options.hideBlockIcon||Qa(this.rootElement,"block-icon"),Xo.isAndroid&&Qa(document.body,"android"),this.setThemeMode(),this.editorElement.appendChild(this.rootElement);var p=n.defaultRootContainerExtendElement||ps("div",[Vi.ROOT_CONTAINER_EXTEND],this.rootElement);if(this.rootContainerElement=JN(this,p,!0,null),this.rootContainerElement.style.display="none",this.rootContainerElement.setAttribute("spellcheck","false"),n.disableRootContainerCustom||ps("div",[Vi.ROOT_CONTAINER_CUSTOM],p),this.loader=ps("div",["editor-loader-ring"],this.rootElement),this.otClient=new zQ(r,n.serverUrl,this.handleReauth),e.editors.set(this.editorElement,this),this.remoteCaretPos=new yP(this),this.remoteCaretPos.on("remoteCaretPosChanged",this.handleRemoteCaretPosChanged),document.addEventListener("selectionchange",this.handleSelectionChanged),this.options.titleInEditor){if(Qa(this.rootContainerElement,"editor-with-title"),this.options.contentPlaceholder)Ms(".editor-main { --editor-content-placeholder: '".concat(this.options.contentPlaceholder,"' }"),"editor-content-placeholder");if(this.options.titleInEditor&&this.options.titlePlaceholder)Ms(".editor-main { --editor-title-placeholder: '".concat(this.options.titlePlaceholder,"' }"),"editor-title-placeholder");if(this.options.titleInEditor&&this.options.readonlyTitlePlaceholder)Ms(".editor-main { --editor-title-placeholder-readonly: '".concat(this.options.readonlyTitlePlaceholder,"' }"),"editor-title-placeholder-readonly")}else{if(this.options.placeholder)Ms(".editor-main { --editor-placeholder: '".concat(this.options.placeholder,"' }"),"editor-placeholder")}var f=!!this.options.disableCalendar?ju.checkbox.placeholderWithoutCalendar:ju.checkbox.placeholder,h=this.isLocal()||this.isMarkdownOnly()?ju.checkbox.placeholderLocal:f,A=".editor-main { --editor-checkbox-placeholder: '".concat(h,"' }");this.isChildEditor()||Ms(A,"editor-checkbox-placeholder"),this.options.hideComments||this.options.hideBlockCommentButton||this.isMarkdownOnly()||(this.blockCommentButton=new eZ(this)),this.commentsContainer=new WW(this),this.options.hideComments&&(this.commentsContainer.rootElement().style.display="none"),xO.init(this),this.rootContainerElement.addEventListener("compositionstart",this.handleCompositionStart),this.rootContainerElement.addEventListener("compositionend",this.handleCompositionEnd),document.addEventListener("mousemove",this.handleMouseMove),this.rootContainerElement.addEventListener("mousedown",this.handleMouseDown),this.rootContainerElement.addEventListener("click",this.handleClick),this.rootContainerElement.addEventListener("keydown",this.handleKeydown),this.rootContainerElement.addEventListener("dragstart",this.handleDragStart),this.rootContainerElement.addEventListener("dragenter",this.handleDragEnter),this.rootContainerElement.addEventListener("drop",this.handleDrop),this.rootContainerElement.addEventListener("blur",this.handleBlur),document.addEventListener("copy",this.handleCopy),document.addEventListener("cut",this.handleCut),document.addEventListener("paste",this.handlePaste),document.addEventListener("contextmenu",this.handleContextMenu),this.isChildEditor()||ib()||document.addEventListener("wheel",this.handleWheel),this.mediaQueryList.addEventListener?this.mediaQueryList.addEventListener("change",this.handleMediaQueryListChange):this.mediaQueryList.addListener&&this.mediaQueryList.addListener(this.handleMediaQueryListChange),PZ.bind(this),PZ.on("resize",this.handleResize),PZ.on("comments-resize-width",this.handleResize),this.addEventListener(zi.RESIZE,this.handleResize),vO.observe(this,this.rootContainerElement,this.handleRootContainerResize),this.isChildEditor()||yO.init(this),this.findDialog=new PK(this),this.lastCaretPos={containerId:"",blockId:"",offset:0},this.lastEndCaretPos={containerId:"",blockId:"",offset:0},this.lastDragBlock=null,this.lastEvent=null,this.lastEventDateTime=0,this.lastPosition={x:-1,y:-1},this.isChildEditor()||this.options.initLocalDataOps||(!this.options.callbacks||this.options.callbacks.onGetMentionItems,this.options.callbacks&&this.options.callbacks.onGetTagItems||kd(Pi.TAG),this.options.callbacks&&this.options.callbacks.onRenderAutoSuggestItem||delete bd(Pi.MENTION).renderAutoSuggestItem),this.options.disableMentions&&kd(Pi.MENTION),this.options.disableCalendar&&kd(Pi.CALENDAR),this.loadDocument().then((function(){console.log("document loaded"),c.isChildEditor()||(c.elementRemoveListener=function(e,t){var n=new MutationObserver((function(e){e.forEach((function(e){e.removedNodes.forEach((function(e){e instanceof Element&&(e.closest("body")||xA(e,t))}))}))}));return n.observe(e,{subtree:!0,childList:!0}),n}(c.rootElement,c.events),c.events.addListener(zi.ELEMENT_REMOVE,MA))})).catch((function(e){var t;c.setReadOnly(!0),(null===(t=n.callbacks)||void 0===t?void 0:t.onError)?n.callbacks.onError(c,e):console.error(e)}))}var t,n,r;return t=e,r=[{key:"setCursor",value:function(e){var t="editor-cursor",n=document.querySelector("#".concat(t));n||((n=document.createElement("style")).id=t),null!==e?(n.innerHTML="\n      body {\n        cursor: ".concat(e,";\n      }\n    "),document.head.appendChild(n)):n.remove()}},{key:"fixTextData",value:function(e){return Ma(e)}},{key:"registerBlockType",value:function(e,t){tf(e,t)}},{key:"getEditorById",value:function(e){var t=document.getElementById(e);return w(t),this.getEditor(t)}},{key:"getEditor",value:function(e){if(e instanceof HTMLElement){var t=this.editors.get(e);if(t)return t}var n=EN(e);if(n){var r=n.closest(".".concat(Vi.EDITOR_MAIN));if(r&&(r=r.parentElement),r){w(r instanceof HTMLElement);var o=this.editors.get(r);if(o)return o}}throw new Error("can not get parent editor")}},{key:"getRootEditor",value:function(e){var t=this.getEditor(e);return t&&t.isChildEditor()&&(t=t.parentEditor),t}},{key:"registerCurrentCommandTarget",value:function(t){e.commandTarget=t,e.commandTargetCallbacks.forEach((function(e){e(t)}))}},{key:"setCommandTargetCallback",value:function(t){e.commandTargetCallbacks.add(t)}},{key:"onRegisterCurrentCommandTarget",value:function(){return e.commandTarget}},{key:"getCurrentCommandTarget",value:function(){return e.commandTarget}},{key:"getCurrentCommandEditor",value:function(){var t=e.commandTarget;return w(t),this.getEditor(t.target)}},{key:"getCurrentCommandBlock",value:function(){w(e.commandTarget);var t=wN(e.commandTarget.target);return w(t),t}},{key:"getVisiblePopover",value:function(){var t=e.getCurrentCommandTarget();return t?t.srcPopover:null}},{key:"hideCurPopover",value:function(){var t=e.getCurrentCommandTarget();t&&t.srcPopover.hide(!0)}},{key:"selectCurrentCommandTargetBlock",value:function(){try{var t=e.getCurrentCommandTarget();w(t),w(t.target);var n=wN(t.target);w(n),e.getEditor(n).selectBlock(n,0,0)}catch(e){console.warn("failed to selectCurrentCommandTargetBlock, ".concat(e.message))}}},{key:"setEditor",value:function(t,n){t&&e.editors.set(t,n)}}],(n=[{key:"signLinkDialog",value:function(e){this.linkDialogShow=e}},{key:"destroyed",get:function(){return!this.rootContainerElement.closest("body")}},{key:"setThemeMode",value:function(e){e&&(this.themeMode=e),"auto"===this.themeMode?(Ja(document.body,Vi.DARK_MODE),Qa(document.body,Vi.AUTO_DARK_MODE)):"dark"===this.themeMode?(Ja(document.body,Vi.AUTO_DARK_MODE),Qa(document.body,Vi.DARK_MODE)):"light"===this.themeMode&&Ja(document.body,Vi.AUTO_DARK_MODE,Vi.DARK_MODE),this.rootContainerElement&&this.events.emit(zi.THEME_MODE_CHANGE,this)}},{key:"formatDate",value:function(e){var t;return(null===(t=this.options.callbacks)||void 0===t?void 0:t.onFormatDate)?this.options.callbacks.onFormatDate(this,e):vR(e)}},{key:"scrollToMiddleView",value:function(){if(this.hasFocus()){var e=NL();if(!e)return;var t=Ds(e);w(t);var n=cs(this.rootContainer()),r=ls(n);Es(n,n.scrollTop+t.bottom-r.top-r.height/2)}}},{key:"isTypewriterMode",value:function(){return Ga(this.rootContainerElement,Vi.TYPEWRITER_MODE)}},{key:"setTypewriterMode",value:function(e){this.isTypewriterMode()!==e&&(e?(this.scrollToMiddleView(),Qa(this.rootContainerElement,Vi.TYPEWRITER_MODE)):Ja(this.rootContainerElement,Vi.TYPEWRITER_MODE))}},{key:"isFocusMode",value:function(){return Ga(this.rootContainerElement,Vi.FOCUS_MODE)}},{key:"setFocusMode",value:function(e){var t=Ga(this.rootContainerElement,Vi.FOCUS_MODE);!e&&t?Ja(this.rootContainerElement,Vi.FOCUS_MODE):e&&!t&&Qa(this.rootContainerElement,Vi.FOCUS_MODE)}},{key:"isCommentsVisible",value:function(){return this.commentsContainer.isVisible()}},{key:"setCommentsVisible",value:function(e){e?this.commentsContainer.handleShow():this.commentsContainer.handleHide()}},{key:"clearEditorPlugin",value:function(){var e,t,n;this.editableToolbar.hide(),xO.destroy(this),this.autoSuggest.destroy?this.autoSuggest.destroy():this.autoSuggest.hide(),(null===(e=this.tooltip)||void 0===e?void 0:e.destroy)?this.tooltip.destroy():null===(t=this.tooltip)||void 0===t||t.hide(),this.textToolbar.hide(),this.contextMenu.destroy&&this.contextMenu.destroy(),null===(n=this.blockMenuButton)||void 0===n||n.destroy(),this.findDialog.destroy(),this.commentsContainer.destroy(),function(e){var t=e.rootElement.querySelector(".".concat(aD));console.log(t)}(this)}},{key:"resetContent",value:function(e){var t=!this.options.disableLogout;this.otClient.close(t&&e),this.otClient=new zQ(this.auth,this.options.serverUrl,this.handleReauth),this.focusedBlock=null,this.hoverBlock=null,this.clearEditorPlugin(),this.rootContainerElement.innerHTML="",this.undoState.reset(),this.remoteCaretPos.clear(),this.commentsContainer=new WW(this)}},{key:"destroy",value:function(){var t;kw.hide(!0),this.editableToolbar.destroy(),this.onChange.flush(),this.remoteCaretPos.removeAllListeners();var n,r=!this.isLocal()||!!this.options.localNeedAuth;this.resetContent(r&&!this.isChildEditor()),this.elementRemoveListener&&this.elementRemoveListener.disconnect(),this.textToolbar.destroy&&this.textToolbar.destroy(),null===(t=this.headingBlockScrollListener)||void 0===t||t.destroy(),this.rootContainerElement.removeEventListener("compositionstart",this.handleCompositionStart),this.rootContainerElement.removeEventListener("compositionend",this.handleCompositionEnd),document.removeEventListener("mousemove",this.handleMouseMove),this.rootContainerElement.removeEventListener("mousedown",this.handleMouseDown),this.rootContainerElement.removeEventListener("mouseup",this.handleMouseUp),this.rootContainerElement.removeEventListener("click",this.handleClick),this.rootContainerElement.removeEventListener("keydown",this.handleKeydown),this.rootContainerElement.removeEventListener("dragstart",this.handleDragStart),this.rootContainerElement.removeEventListener("dragenter",this.handleDragEnter),this.rootContainerElement.removeEventListener("drop",this.handleDrop),document.removeEventListener("copy",this.handleCopy),document.removeEventListener("cut",this.handleCut),document.removeEventListener("paste",this.handlePaste),document.removeEventListener("contextmenu",this.handleContextMenu),document.removeEventListener("wheel",this.handleWheel),document.removeEventListener("selectionchange",this.handleSelectionChanged),this.mediaQueryList.removeEventListener?this.mediaQueryList.removeEventListener("change",this.handleMediaQueryListChange):this.mediaQueryList.removeListener&&this.mediaQueryList.removeListener(this.handleMediaQueryListChange),n=this.handleAssertionFailure,v.off("failure",n),PZ.off("resize",this.handleResize),PZ.off("comments-resize-width",this.handleResize),vO.destroy(this),yO.destroy(this),this.events.removeAllListeners(),this.agentSelector.destroy(),this.options.callbacks=void 0,SX-=1,console.log("destroy editor: ",SX),e.editors.delete(this.editorElement)}},{key:"id",get:function(){return eL(this.rootContainer())}},{key:"version",get:function(){return _X.version}},{key:"docId",value:function(){return this.auth.docId}},{key:"data",value:function(){return w(this.doc),this.doc.data()}},{key:"docVersion",value:function(){return w(this.doc),this.doc.version()}},{key:"applyOps",value:function(e){w(this.isLocal()),w(this.doc),this.doc.applyOps(e)}},{key:"meta",value:function(){return this.data().meta||{}}},{key:"reload",value:function(){var t=this,n=this.hasFocus(),r=n&&this.getCaretPos();this.resetContent(!1),e.editors.set(this.editorElement,this),this.loadDocument().then((function(){if(n)try{r&&t.setCaretPos(r),hL(t,{autoScroll:!0,mouseDown:!1,lastEvent:null,lastPosition:t.lastPosition})}catch(e){hL(t,{autoScroll:!0,mouseDown:!1,lastEvent:null,lastPosition:t.lastPosition})}AX(t)})).catch((function(e){var n;t.setReadOnly(!0),(null===(n=t.options.callbacks)||void 0===n?void 0:n.onError)&&t.options.callbacks.onError(t,e)}))}},{key:"loadLocalBlocks",value:function(e){w(this.isLocal()),w(this.doc),this.options.initLocalData=Object.assign(Object.assign({meta:{},comments:{}},this.options.initLocalData),{blocks:e}),this.reload()}},{key:"loadLocalData",value:function(e){w(this.isLocal()),w(this.doc),this.options.initLocalData=e,this.reload()}},{key:"isLocal",value:function(){return!!this.options.initLocalData||!!this.options.local}},{key:"isHistory",value:function(){return!!this.options.isHistory}},{key:"isMarkdownOnly",value:function(){return!!this.options.markdownOnly}},{key:"isDirty",value:function(){return this.dirty}},{key:"isReadOnly",value:function(){return!this.doc||!this.data()||"w"!==this.auth.permission||this.readonly||!this.loaded}},{key:"setReadOnly",value:function(e){var t,n,r=this;this.readonly=e,this.readonly?(this.hoverBlock&&this.isInEditor(this.hoverBlock)&&this.updateBlockToolsFixedButton(this.hoverBlock),this.focusedBlock&&this.focusedBlock!==this.hoverBlock&&this.isInEditor(this.focusedBlock)&&this.updateBlockToolsFixedButton(this.focusedBlock),rx.isEmpty(this)||rx.clearAllTools(this)):this.updatePlaceholder(),this.isCommentable()?Ja(this.rootElement,"comment-readonly"):Qa(this.rootElement,"comment-readonly"),$N(this),Array.from(this.rootContainerElement.querySelectorAll(".".concat(Vi.EMBED_CONTAINER))).forEach((function(t){t.contentEditable=e?"false":"true"})),e?Qa(this.rootElement,"readonly"):Ja(this.rootElement,"readonly"),e&&(this.textToolbar.hide(),this.contextMenu.destroy(),this.agentSelector.clearSelection()),setTimeout((function(){JZ(r)}),1e3),(null===(t=this.options.callbacks)||void 0===t?void 0:t.onReadonlyChange)&&this.options.callbacks.onReadonlyChange(this,e),(null===(n=this.options.docTemplates)||void 0===n?void 0:n.hideWhenReadOnly)&&AX(this),this.showElement(e)}},{key:"isCommentable",value:function(){var e;return!(this.isReadOnly()&&(null===(e=this.options.commentsOptions)||void 0===e?void 0:e.disableForReadonly)||"r"===this.auth.permission||this.isChildEditor())}},{key:"isChildEditor",value:function(){return!!this.parentEditor}},{key:"isWritable",value:function(){return"w"===this.auth.permission&&this.loaded}},{key:"isDragging",value:function(){return this.dragging}},{key:"setDragging",value:function(e){this.dragging=e}},{key:"isMouseDown",value:function(){return this.mouseDown}},{key:"isAllLoaded",value:function(){return 0===this.rootContainer().querySelectorAll(".loading, .box-math-loading").length}},{key:"onChangeCore",value:function(){var e,t;if(this.isLocal()&&(null===(e=this.options.callbacks)||void 0===e?void 0:e.onChange))try{null===(t=this.options.callbacks)||void 0===t||t.onChange(this)}catch(e){console.error(e)}}},{key:"onDirty",value:function(e){var t,n;if(this.dirty=!0,!e&&(null===(t=this.options.callbacks)||void 0===t?void 0:t.onStatusChanged))try{null===(n=this.options.callbacks)||void 0===n||n.onStatusChanged(this,this.dirty)}catch(e){console.error(e)}this.onChange(),AX(this)}},{key:"onClean",value:function(){var e,t;if(this.dirty=!1,null===(e=this.options.callbacks)||void 0===e?void 0:e.onStatusChanged)try{null===(t=this.options.callbacks)||void 0===t||t.onStatusChanged(this,this.dirty)}catch(e){console.error(e)}}},{key:"getAgentSelector",value:function(){return this.agentSelector}},{key:"rootContainer",value:function(){return this.rootContainerElement}},{key:"getContainerById",value:function(e){if("blocks"===e)return this.rootContainer();if(eL(this.rootContainerElement)===e)return this.rootContainerElement;var t=this.rootContainerElement.querySelector("#".concat(e));return t?(w(t instanceof HTMLElement),w(Up(t)),t):null}},{key:"getBlockByIndex",value:function(e,t){return BN(e,t)}},{key:"getBlockContainer",value:function(e){return kN(e)}},{key:"getBlockIndex",value:function(e){return TN(e)}},{key:"getBlockById",value:function(e){var t=this.rootContainerElement.querySelector("#".concat(e));return t?(w(t instanceof HTMLElement),w(jp(t)),t):null}},{key:"getBoxById",value:function(e){var t=this.rootContainerElement.querySelector("#".concat(e));return t?(w(t instanceof HTMLSpanElement),w(Cd(t)),t):null}},{key:"replaceBoxToText",value:function(e,t){if(!this.isReadOnly()){var n=this.getBoxById(e);w(n);var r=wN(n);if(w(r),this.isBlockWritable(r)){w(Uf(r));var o=rp(Vf(r),n,0);w(o>=0),this.beginUndoGroup(),this.deleteBlockText(r,o,o+1),this.insertBlockText(r,o,Yo.fromText(t)),this.endUndoGroup()}}}},{key:"getBoxData",value:function(e){var t=this.boxDataMap.get(e);return w(t),t}},{key:"setBoxData",value:function(e,t){if(w(t),this.boxDataMap.has(e)){var n=this.boxDataMap.get(e);w(n),w(t.id===n.id),w(t.type===n.type),w(t.id===e)}this.boxDataMap.set(e,t)}},{key:"loadDocument",value:function(){var e,t,n;return DX(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s,c,l,u,d,p,f,h,A,m=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.undoState.reset(),this.loader.style.display="none",o=setTimeout((function(){m.loaded||m.options.initLocalDataOps||(m.loader.style.display="unset"),clearTimeout(o)}),800),w(!this.otClient.hasDocContainer(),"doc has opened"),this.isChildEditor()||this.isLocal()||this.otClient.on("error",this.handleWebSocketError),this.isChildEditor()||this.isLocal()||(this.otClient.onMaxUsersError(this.handleMaxUserError),this.otClient.onRequestReloadError(this.handleRequestReloadError)),!this.isLocal()){r.next=17;break}if(!this.options.localNeedAuth||this.isChildEditor()){r.next=10;break}return r.next=10,this.otClient.authOnly();case 10:(a=this.options.initLocalData)&&0!==a.blocks.length||(a=this.options.titleInEditor?M(this.options.initTitle):{blocks:[Ea(If(this,Qi.TEXT))],comments:{},meta:{}}),s=a,w(Array.isArray(s.blocks)),i=this.otClient.createLocalDocContainer(s),r.next=21;break;case 17:this.options.template&&this.options.templateValues&&(c=Hn(this.options.template,this.options.templateValues)),!c&&this.options.titleInEditor&&(c=M(this.options.initTitle)),l=!this.options.disableAutoCreateDoc,i=this.otClient.getDocContainer(this.handleWebsocketMessage,l,c);case 21:return r.next=23,i;case 23:if(u=r.sent,this.doc=u,w(this.doc),w(d=this.doc.data()),(p=wu(d))===d){r.next=33;break}return r.next=32,this.otClient.recreateDoc(p);case 32:(null===(e=this.options.callbacks)||void 0===e?void 0:e.onError)&&((f=new Error("document repaired")).code="DocumentRepaired",this.options.callbacks.onError(this,f));case 33:return h=new Promise((function(e,t){w(m.doc),m.doc.subscribe((function(n){if(n)return console.error(n),console.error("failed to load document: ".concat(n.message)),void t(n);if(m.isValid()){m.isReadOnly()?Qa(m.rootElement,"readonly"):Ja(m.rootElement,"readonly"),m.options.lineNumber?Qa(m.rootElement,"line-number"):Ja(m.rootElement,"line-number"),w(m.doc);var r=m.doc.data();w(r),nL(m,m.rootContainerElement,r.blocks),m.isChildEditor()||m.options.hideComments||m.commentsContainer.showComments(m.getComments()),m.rootContainerElement.style.display="",e(),setTimeout((function(){m.processHeadingBlocks(),m.updateToc()}),0)}else e()}))})),r.next=36,h;case 36:if(this.isValid()){r.next=38;break}return r.abrupt("return");case 38:if(this.loader.style.display="none",qZ(this),this.doc.onLocalDataUpdated((function(e){var t;(null===(t=m.options.callbacks)||void 0===t?void 0:t.onLocalDataUpdated)&&m.options.callbacks.onLocalDataUpdated(m,e)})),this.doc.onNothingPending((function(){m.onClean()})),this.doc.onOp((function(e,t){w(e),m.isValid()?m.isReadOnly()&&m.options.disableRealTime||m.updateDocumentByRemoteOps(e,t):console.log("editor has been destroyed")})),this.doc.onDelete((function(){m.hoverBlock=null,m.hoverComplexBlock=null,m.focusedBlock=null,m.remoteCaretPos.clear(),m.lastSelectionDetail=null,m.exclusiveBlocks.clear(),xO.destroy(m),m.rootContainer().innerHTML=""})),this.doc.onCreate((function(){return DX(m,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loaded=!1,this.hasFocus()&&(n=this.saveSelectionState()),xO.destroy(this),w(this.doc),w(r=this.doc.data()),this.rootContainer().innerHTML="",nL(this,this.rootContainerElement,r.blocks),o=this.getBlockByIndex(this.rootContainer(),0),this.isTitleBlock(o)&&Qa(o,"title-block"),this.updateCommentsCore(),this.updateCommandStatusCore(),this.updateToc(),this.processHeadingBlocks(),n&&this.restoreSelectionState(n),(null===(t=this.options.callbacks)||void 0===t?void 0:t.onRevertVersion)&&this.options.callbacks.onRevertVersion(this,r.meta.revertedBy),qZ(this),this.loaded=!0,AX(this);case 19:case"end":return e.stop()}}),e,this)})))})),A=this.getBlockByIndex(this.rootContainer(),0),this.isTitleBlock(A)&&Qa(A,"title-block"),!this.isLocal()){r.next=53;break}if(!this.options.initLocalDataOps){r.next=51;break}return r.next=51,DZ(this,this.options.initLocalDataOps,{play:!!this.options.playOps,speed:this.options.playOpsSpeed||150});case 51:r.next=56;break;case 53:this.otClient.on("open",this.handleWebSocketOpen),this.otClient.on("close",this.handleWebSocketClose),this.otClient.onWriteConflictError(this.handleWriteConflictError);case 56:this.loaded=!0,this.setReadOnly("w"!==this.auth.permission||this.readonly),(null===(t=this.options.callbacks)||void 0===t?void 0:t.onLoad)&&this.options.callbacks.onLoad(this,null===(n=this.doc)||void 0===n?void 0:n.data()),this.pendingExclusiveMessages.forEach((function(e){return m.handleRemoteExclusiveBlockMessage(e)})),this.pendingExclusiveMessages=[],this.options.docTemplates&&AX(this);case 62:case"end":return r.stop()}}),r,this)})))}},{key:"getOnlineUsers",value:function(){return this.onlineUsers}},{key:"getOnlineUserColor",value:function(e,t){var n=this.onlineUsers.find((function(t){return t.userId===e}));return n?"flag"===t?this.remoteCaretPos.colors[n.rainbowIndex]:this.remoteCaretPos.getSelectionColor(n.rainbowIndex):""}},{key:"getFixedUserColor",value:function(e,t){var n=0;Array.from(e).forEach((function(e){n+=e.charCodeAt(0)}));var r=n%this.remoteCaretPos.colors.length;return"flag"===t?this.remoteCaretPos.colors[r]:this.remoteCaretPos.getSelectionColor(r)}},{key:"getUserAvatarUrl",value:function(e,t){var n;return e||((null===(n=this.options.callbacks)||void 0===n?void 0:n.onBuildUserAvatarUrl)?this.options.callbacks.onBuildUserAvatarUrl(this,t):"")}},{key:"isComposing",value:function(){return this.compositing}},{key:"composingBlock",value:function(){return this.compositionData.block}},{key:"isInEditor",value:function(e){return!!this.isValid()&&(e===this.editorElement||!!e&&this.rootContainerElement.contains(e))}},{key:"isValid",value:function(){try{return e.getEditor(this.rootContainer()),!0}catch(e){return!1}}},{key:"showFindDialog",value:function(){this.findDialog.show()}},{key:"showReplaceDialog",value:function(){this.findDialog.show({showFindAndReplace:!0})}},{key:"highlightText",value:function(e,t){var n=this;this.clearHighlight(t),e&&SN(this.rootContainer()).forEach((function(t){Ff(t)?_f(t).forEach((function(t){var r=n.getContainerById(t.id);w(r),SN(r).forEach((function(t){Ih(t,e)}))})):Ih(t,e)}))}},{key:"clearHighlight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{keepReplaceResult:!0};lg(this),(null==e?void 0:e.keepReplaceResult)||ug(this)}},{key:"getWaitingCommand",value:function(){return this.waitingCommand?Object.assign({},this.waitingCommand):this.waitingCommand}},{key:"addWaitingCommand",value:function(e){var t=this;this.lastSelectionDetail=this.getSelectionDetail(),null===this.waitingCommand&&(this.waitingCommand={}),Object.keys(e).forEach((function(n){w(t.waitingCommand),t.waitingCommand[n]===e[n]?delete t.waitingCommand[n]:t.waitingCommand[n]=e[n]})),0===Object.keys(this.waitingCommand).length&&this.clearWaitingCommand()}},{key:"clearWaitingCommand",value:function(){this.waitingCommand&&(this.waitingCommand=null)}},{key:"endComposition",value:function(){this.compositing=!1,this.compositionData.endTime=Date.now()}},{key:"getRemoteCaretPosesInBlock",value:function(e){return this.remoteCaretPos.getCaretPosesInBlock(e)}},{key:"mousePosition",value:function(){return this.lastPosition}},{key:"clearSelectedContents",value:function(){var e=this.getSelectionDetail();e.startBlock?l_(e,{merge:!0}):this.getAgentSelector().deleteSelectedContents()}},{key:"setImageSelected",value:function(e,t){var n,r;this.focusedImage!==t&&(this.focusedImage=t,(null===(n=this.options.callbacks)||void 0===n?void 0:n.onSelectImage)&&(null===(r=this.options.callbacks)||void 0===r||r.onSelectImage(this,e,t)))}},{key:"updateTextToolbar",value:function(e){this.textToolbar.update(this,e,null)}},{key:"updateBlockToolsFixedButton",value:function(e){TL(this,e)}},{key:"updateCommandStatusCore",value:function(){this.isComposing()||BL(this,this.getSelectionDetail())}},{key:"broadcastCaretMessageCore",value:function(e){var t,n=this;-1!==this.onlineUsers.findIndex((function(e){return e.userId===n.auth.userId}))&&(null===(t=this.doc)||void 0===t||t.broadcastMessage(e),this.keyPressed=!1)}},{key:"broadcastCaretPos",value:function(){if(!this.isReadOnly()){var e,t,n,r,o=this.getSelectionDetail();if(o.type===ia.INVALID){if(!this.agentSelector.isSelected())return;var i=this.agentSelector.getSelectedSubContainers();if(0===i.length)return;var a=SN(i[0]);e=a[0],n=0,r=Kf(t=a[a.length-1])}else{if(!o.startBlock||!o.endBlock)return;w(void 0!==o.startOffset),w(void 0!==o.endOffset),e=o.startBlock,t=o.endBlock,n=o.startOffset,r=o.endOffset}var s={containerId:eL(kN(e)),blockId:zp(e),offset:n},c={containerId:eL(kN(t)),blockId:zp(t),offset:r};if((!lL(s,this.lastCaretPos)||!lL(c,this.lastEndCaretPos))&&(this.lastCaretPos=s,this.lastEndCaretPos=c,this.doc)){var l={type:"remoteCaretPos",userId:this.auth.userId,caretPos:s,endCaretPos:c,keyPressed:this.keyPressed};this.broadcastCaretMessage(l)}}}},{key:"broadcastExclusiveBlockMessage",value:function(e,t){var n;if(!this.isReadOnly()&&0!==e.length){var r={type:"exclusiveBlock",userId:this.auth.userId,displayName:this.auth.displayName,blockIds:e.map((function(e){return zp(e)})),exclusive:t};null===(n=this.doc)||void 0===n||n.broadcastMessage(r)}}},{key:"handleRemoteExclusiveBlockMessage",value:function(e){var t=this;this.loaded?(w(e.blockIds),e.blockIds.forEach((function(n){var r=t.getBlockById(n);r&&xL(r,e.exclusive,e.userId,e.displayName)}))):this.pendingExclusiveMessages.push(e)}},{key:"isPreviewEnabled",value:function(e){if(!this.options.previewFiles)return!1;var t=OR(e).toLocaleLowerCase();return-1!==this.options.previewFiles.indexOf(t)}},{key:"setFileDisplayType",value:function(e,t){qY(this,e,t),this.textToolbar.hide()}},{key:"fullscreenPreviewFile",value:function(e){!function(e,t){if(Cd(t)){var n=Md(t),r=e.getBoxData(n);w(r.type===Pi.FILE),YY(e,r)}else{var o=t;w(Hf(o));var i=Nw(o);w(dp(i)===aa.OFFICE),YY(e,xp(e,i))}}(this,e)}},{key:"getBlockData",value:function(e){return hf(e)}},{key:"getBlockDataFromDoc",value:function(e){var t=kN(e),n=this.getBlockIndex(e);if(t===this.rootContainer()){var r=this.data().blocks[n];return w(r),Ba(r)}var o=eL(t),i=this.data()[o];w(i);var a=i[n];return w(a),Ba(a)}},{key:"saveData",value:function(){var e,t;(null===(e=this.options.callbacks)||void 0===e?void 0:e.onSave)&&(null===(t=this.options.callbacks)||void 0===t||t.onSave(this,this.data()))}},{key:"cloneBlock",value:function(e,t){if(w(e),Ff(e))return!1;var n=hf(e);delete n.lock,delete n.markerData,delete n.markerExpired,delete n.markerWidth,n.id=B();var r=kN(e),o=TN(e);if(this.options.titleInEditor&&0===o)return!1;"below"===t.type&&(o+=1);var i=this.getSelectionDetail(),a=i.startBlock===e,s=this.insertBlock(r,o,n.type,n,{focusToBlock:!1,fromUndo:!1,localAction:!1});return t.focusToNewBlock&&(a?this.selectBlock(s,i.startOffset,i.startOffset):this.selectBlock(s,0,0)),!0}},{key:"moveBlock",value:function(e,t){if(w(e),Ff(e))return!1;var n=hf(e);n.id=B();var r=kN(e),o=TN(e);if(this.options.titleInEditor){if(0===o)return!1;if(1===o&&"up"===t.type)return!1}if("up"===t.type&&0===o)return!1;if("down"===t.type&&o===ON(r)-1)return!1;"down"===t.type?o+=2:o-=1;var i=this.getSelectionDetail(),a=i.startBlock===e;this.beginUndoGroup();try{var s=this.insertBlock(r,o,n.type,n,{focusToBlock:!1,fromUndo:!1,localAction:!1});a&&this.selectBlock(s,i.startOffset,i.startOffset),this.deleteBlock(e,{fromUndo:!1,localAction:!1})}finally{this.endUndoGroup()}return!0}},{key:"checkCommentable",value:function(){if(this.isChildEditor())throw new Wi;if(!this.isCommentable())throw new Gi}},{key:"executeBlockCommand",value:function(e,t,n){if("comment"===e&&this.checkCommentable(),this.isReadOnly()&&"comment"!==e)throw new Gi;if(t&&"comment"!==e){if(!this.isBlockWritable(t)&&!e.startsWith("clone"))return[];var r=Rp(t);if(r===Qi.CODE_LINE||r===Qi.CODE)return[]}var o=this.saveSelectionState();this.beginUndoGroup();var i=uL(this,e,t,n);this.endUndoGroup();try{/toBodyText|toHeading[1-8]|toQuoted|toOrderedList|toUnorderedList|indent|outdent|toCheckbox|list\/.*|cloneBlockAbove|cloneBlockBelow|moveBlockUp|moveBlockDown|alignLeft|alignCenter|alignRight/.test(e)||this.restoreSelectionState(o)}catch(e){console.warn("failed to restore selection state: ".concat(e))}return this.updateTextToolbar(!0),i}},{key:"editComment",value:function(e){var t=this.getCommentData(e);w(t.groupId===e),this.commentsContainer.editComment(t.groupId,e)}},{key:"executeTextCommand",value:function(e,t){var n,r,o=this;if("comment"===e&&this.checkCommentable(),"selectAll"===e){var i=this.getSelectionDetail(),a=i.startBlock,s=this.rootContainer();return a&&Rp(a)===Qi.CODE_LINE&&(w(i.startComplexBlock),n=i.startComplexBlock,r=i.range,Yg(n,r)&&qg(n,r)||(s=kN(a))),VL(BN(s,0),0,BN(s,-1),-1),[]}if("copy"===e)return document.execCommand("copy"),[];if("comment"!==e&&this.isReadOnly())throw new Gi;if("delete"===e)return l_(this.getSelectionDetail(),{merge:!0}),[];if("cut"===e)return document.execCommand("cut"),[];if("inline-math"===e){var c=this.getSelectionDetail();return c.collapsed&&c.startBlock&&Uf(c.startBlock)&&(w(void 0!==c.startOffset),this.insertEmptyBox(Pi.MATH)),[]}if("wiki-link"===e){var l=this.getSelectionDetail();return l.collapsed&&l.startBlock&&Uf(l.startBlock)&&(w(void 0!==l.startOffset),this.insertEmptyBox(Pi.WIKI_LINK)),[]}if("tag"===e){var u=this.getSelectionDetail();return u.collapsed&&u.startBlock&&Uf(u.startBlock)&&(w(void 0!==u.startOffset),this.insertEmptyBox(Pi.TAG)),[]}if("paste"===e&&Xo.isAndroid)return t&&this.handlePasteText(t),[];this.beginUndoGroup();var d=dL(this,e,t);return this.endUndoGroup(),"comment"===e&&d.length>0&&(this.updateCommentsCore(),setTimeout((function(){var e=d[0];o.editComment(e)}))),setTimeout((function(){o.updateCommandStatus()})),d}},{key:"applyTextCustomStyle",value:function(e,t){var n,r,o;w(e.startsWith("style-")),this.executeTextCommand(e,(o=t,(r=e)in(n={})?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n))}},{key:"undo",value:function(){if(this.isReadOnly())throw new Gi;var e=this.undoState.undo();return this.updateCommentsCore(),this.updateImageResizeTool(),this.updateCommandStatus(),e}},{key:"redo",value:function(){if(this.isReadOnly())throw new Gi;var e=this.undoState.redo();return this.updateCommentsCore(),this.updateImageResizeTool(),this.updateCommandStatus(),e}},{key:"beginUndoGroup",value:function(){if(this.isReadOnly()&&!this.isCommentable())throw new Gi;this.undoState.beginGroup()}},{key:"endUndoGroup",value:function(){if(this.isReadOnly()&&!this.isCommentable())throw new Gi;this.undoState.endGroup()}},{key:"beginUpdateSelection",value:function(){w(this.updateSelectionCounter>=0),this.updateSelectionCounter+=1}},{key:"endUpdateSelection",value:function(){this.updateSelectionCounter-=1,w(this.updateSelectionCounter>=0)}},{key:"isUpdatingSelection",value:function(){return this.updateSelectionCounter>0}},{key:"exclusiveBlock",value:function(e){this.exclusiveBlocks.has(e)||(this.broadcastExclusiveBlockMessage([e],!0),this.exclusiveBlocks.add(e),1===this.exclusiveBlocks.size&&this.startExclusiveBlockTimer())}},{key:"isTitleBlock",value:function(e){if(this.options.titleInEditor){var t=kN(e);if(this.isMainContainer(t)&&0===TN(e)&&Uf(e))return!0}return!1}},{key:"titleFromEditor",value:function(){try{var e=Ch(BN(this.rootContainer(),0));return e.length>200?e.substr(0,200):e}catch(e){return""}}},{key:"setTitle",value:function(e){if(this.options.titleInEditor){var t=BN(this.rootContainer(),0);if(this.isTitleBlock(t)&&Uf(t)){if(!e)throw new Error("no title");this.beginUndoGroup();try{this.deleteBlockText(t,0,-1),this.insertBlockText(t,0,Yo.fromText(e))}finally{this.endUndoGroup()}}else console.warn("can not find title block")}else console.warn("editor has no title block, please set options.titleInEditor = true;")}},{key:"isBlockLocked",value:function(e){return!!Af(e)}},{key:"isParentBlockLocked",value:function(e){if(Ff(e))return this.isBlockLocked(e);var t=Mh(e);return!!t&&!!Af(t)}},{key:"isBlockWritable",value:function(e){if(this.isReadOnly())return!1;if(this.isBlockExclusive(e))return!1;if(!Ff(e)){var t=Mh(e);if(t&&!this.isBlockWritable(t))return!1}return!this.isBlockLocked(e)||!!Ga(e,Vi.READONLY)||this.getBlockLockInfo(e).userId===this.auth.userId||!!this.unlockedBlocksByPassword.has(zp(e))}},{key:"isBlockMarkerExpired",value:function(e){var t=hf(e);return!t.markerData||!0===t.markerExpired}},{key:"setBlockMarkerExpired",value:function(e,t){this.updateBlockData(e,{markerExpired:t},{fromUndo:!0,updateBlock:!0,partial:!0})}},{key:"getBlockLockInfo",value:function(e){w(this.isBlockLocked(e));var t=this.getBlockDataFromDoc(e);return w(t.lock),t.lock}},{key:"lockBlock",value:function(e){var t=this.getBlockDataFromDoc(e);if(t.lock){if(t.lock.userId!==this.auth.userId)throw new Gi}else{var n=Object.assign(Object.assign({},t),{lock:{userId:this.auth.userId,displayName:this.auth.displayName,locked:(new Date).valueOf()}});this.updateBlockData(e,n,{fromUndo:!1,updateBlock:!0,partial:!1})}}},{key:"setBlockMarkerData",value:function(e,t,n,r){w(r),Sh(e,t,n,!1),this.updateBlockData(e,{markerData:t,markerWidth:n,markerExpired:!1},{updateBlock:!1,fromUndo:!0,partial:!0})}},{key:"setBlockPadding",value:function(e,t){t>=0&&t<=12&&(af(e,t),this.updateBlockData(e,{padding:t},{fromUndo:!1,updateBlock:!1,partial:!0}),this.updateImageResizeTool())}},{key:"setBlockStyleState",value:function(e,t,n){lf(e,t,n),this.updateBlockData(e,{styles:uf(e)},{fromUndo:!1,updateBlock:!1,partial:!0})}},{key:"indentBlock",value:function(e){if(!this.isBlockWritable(e))throw new Gi;var t=sf(e)||0;t<12&&(this.setBlockPadding(e,t+1),this.updateCommandStatus())}},{key:"outdentBlock",value:function(e){if(!this.isBlockWritable(e))throw new Gi;var t=sf(e)||0;t>0&&(this.setBlockPadding(e,t-1),this.updateCommandStatus())}},{key:"unlockBlock",value:function(e){var t=this.getBlockDataFromDoc(e);if(t.lock){if(t.lock.userId!==this.auth.userId)throw new Gi;var n=Object.assign(Object.assign({},t),{lock:void 0});this.updateBlockData(e,n,{fromUndo:!1,updateBlock:!0,partial:!1})}}},{key:"unlockBlockByPassword",value:function(e,t){var n=this.getBlockDataFromDoc(e);if(n.lock&&n.lock.userId!==this.auth.userId){if(!n.lock.password)throw new Gi;if(n.lock.password!==k()("".concat(n.lock.userId,"|").concat(t)))throw new Gi;this.unlockedBlocksByPassword.add(zp(e)),qp(this,e,n.lock)}}},{key:"isBlockUnlockedByPassword",value:function(e){return this.unlockedBlocksByPassword.has(zp(e))}},{key:"setBlockLockPassword",value:function(e,t){var n=this.getBlockDataFromDoc(e);if(n.lock){if(n.lock&&n.lock.userId!==this.auth.userId)throw new Gi;var r=Object.assign(Object.assign({},n),{lock:Object.assign(Object.assign({},n.lock),{password:k()("".concat(n.lock.userId,"|").concat(t))})});this.updateBlockData(e,r,{fromUndo:!1,updateBlock:!0,partial:!1})}}},{key:"unexclusiveBlock",value:function(e){this.exclusiveBlocks.has(e)&&(this.exclusiveBlocks.delete(e),this.broadcastExclusiveBlockMessage([e],!1),0===this.exclusiveBlocks.size&&this.stopExclusiveBlockTimer())}},{key:"isBlockExclusive",value:function(e){return wL(e)}},{key:"startExclusiveBlockTimer",value:function(){var e=this;w(0===this.exclusiveBlockTimer),this.exclusiveBlockTimer=setInterval((function(){Array.from(e.exclusiveBlocks.keys()).forEach((function(t){e.broadcastExclusiveBlockMessage([t],!0)}))}),3e4)}},{key:"stopExclusiveBlockTimer",value:function(){w(0!==this.exclusiveBlockTimer),clearInterval(this.exclusiveBlockTimer),this.exclusiveBlockTimer=0}},{key:"alignBlock",value:function(e,t){Qh(e,t);var n=t?{align:t}:{};this.updateBlockData(e,n,{fromUndo:!1,updateBlock:!1,partial:!0}),this.updateCommandStatus()}},{key:"blinkBlock",value:function(e,t){Qa(e,Vi.FLASH),setTimeout((function(){Ja(e,Vi.FLASH)}),t<=0?2e3:t)}},{key:"isMainContainer",value:function(e){var t=kN(e);return this.rootContainerElement===t}},{key:"createEmptyContainerBlockData",value:function(){return[If(this,Qi.TEXT)]}},{key:"insertDoc",value:function(e,t){this.beginUndoGroup();try{!function(e,t,n){zZ(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s,c,l,u,d,p,f,h,A,m,g,v,b,y,x,k,C,E,T,M,I,D,_,S,O,N;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=(o=n||{}).block,a=o.offset,!i){r.next=7;break}w(i),w(e.isInEditor(i)),w(void 0!==a),r.next=15;break;case 7:if((s=e.getSelectionDetail()).type!==ia.INVALID){r.next=10;break}return r.abrupt("return");case 10:s.collapsed||(l_(s,{merge:!0}),s=e.getSelectionDetail()),i=s.startBlock,a=s.startOffset,w(i),w(void 0!==a);case 15:if(!uh(i,{doc:t},e.getSelectionDetail())){r.next=17;break}return r.abrupt("return");case 17:if(c=Uf(i),w(i),l=Kf(i),-1===a&&(a=l),u=kN(i),d=TN(i)+1,0===a&&(d-=1),w((p=TO(t)).blocks),p.blocks&&p.blocks.length>0&&jf((f=p.blocks[p.blocks.length-1]).type)&&0===new Yo(f.text).getLength()&&p.blocks.splice(p.blocks.length-1),0!==(h=p.blocks.length)){r.next=30;break}return r.abrupt("return");case 30:if(A=p.blocks[0].type===Qi.TEXT,m=p.blocks[h-1].type===Qi.TEXT,-1===p.blocks.findIndex((function(e){return Qf(e.type)}))){r.next=37;break}if(!Mh(i)){r.next=37;break}return console.warn("can not paste complex block inside complex block"),r.abrupt("return");case 37:if(!c){r.next=46;break}if(!A||!m){r.next=43;break}if(1!==h){r.next=43;break}return!Gf(i)||e.isTitleBlock(i)||vD(i)?e.insertBlockText(i,a,new Yo(p.blocks[0].text||[])):(b=e.getBlockIndex(i),y=hf(i),x=kN(i),k=Ba(p.blocks[0]),e.deleteBlock(i,{fromUndo:!1,localAction:!0,noFixEmptyContainer:!0}),e.insertBlock(x,b,k.type,Object.assign(Object.assign({},k),{padding:y.padding}),{fromUndo:!1,localAction:!0,focusToBlock:!0})),r.abrupt("return");case 43:C=!1,0===a||a===l?C=!1:(a<l||!A&&!m&&a<l)&&(C=!0),C?(E=e.splitTextBlock(i,a,{keepFormat:!0}),A&&(e.insertBlockText(i,-1,new Yo(p.blocks[0].text)),p.blocks.splice(0,1)),m&&(T=new Yo(p.blocks[p.blocks.length-1].text),g=E,v=T.getLength(),e.insertBlockText(E,0,T),p.blocks.splice(p.blocks.length-1))):A&&p.blocks[0].type===Qi.TEXT&&!p.blocks[0].heading?(e.insertBlockText(i,-1,new Yo(p.blocks[0].text)),p.blocks.splice(0,1),d=e.getBlockIndex(i)+1):e.isTitleBlock(i)&&(d=1);case 46:if(D=0,_=[],$t(p,{onBeginBlock:function(t,n,r,o,a){if(!a){if(Qf(r)){if(!e.isMainContainer(u))return;if(e.isChildEditor())return void Cn(Object.assign(Object.assign({},p),{blocks:[o],meta:{},comments:{}})).split("\n").forEach((function(e){var t={id:B(),type:Qi.TEXT,text:Yo.create(e)};_.push(t)}));var s=o.children;return w(Array.isArray(s)),s.forEach((function(t){var n=p[t];w(Array.isArray(n));var r=n.map((function(e){return Ba(e)}));e.createEmptyChildContainerData(r,t)})),void _.push(Ba(o))}if(0===D&&i&&!vD(i)&&Gf(i)&&o.type===Qi.LIST){var c=sf(i);if(c){var l=o;l.level=c+1,l.level>8&&(l.level=8),l.groupId=B()}}_.push(Ba(o)),D+=1}}}),!(_.length>0)){r.next=58;break}return r.next=52,UZ(e,p);case 52:S=e.batchInsertBlocks(u,d,_),I=-1,M=S[S.length-1],O=wN(u),N=O&&Jh(O),S.forEach((function(t){vD(t)&&OD(t)&&YM(e,t,{fromUndo:!1,resetStart:!1}),Zh(t)&&N&&FZ(O,t)}));case 58:if(!g){r.next=63;break}return w(void 0!==v),KL(g,v),fL(e),r.abrupt("return");case 63:if(M){r.next=65;break}return r.abrupt("return");case 65:w(M),w(void 0!==I),KL(M,I),fL(e);case 69:case"end":return r.stop()}}),r)})))}(this,e,t)}catch(e){console.error(e),console.error("failed to inset doc: ".concat(e))}finally{this.endUndoGroup()}}},{key:"insertMarkdown",value:function(e,t){var n=Yc(e);this.insertDoc(n,t)}},{key:"importDocx",value:function(e){return DX(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file-size","".concat(e.size)),n.append("file",e,e.name),t.next=5,this.otClient.request({method:"post",url:"".concat(this.apiServer(),"/import/docx"),data:n});case 5:case"end":return t.stop()}}),t,this)})))}},{key:"batchInsertBlocks",value:function(e,t,n){var r=this,o=[],i=document.createDocumentFragment();return n.forEach((function(n,a){var s=_N(r,n.id,n.type,n);r.undoState.onCreateBlockAction(e,s,t+a,n),i.appendChild(s),r.submitInsertBlockAction(e,s,t+a,n),o.push(s)})),e.insertBefore(i,e.children[t]),o.forEach((function(e){xf(e,{fromUndo:!1,localAction:!0,focusToBlock:!1})})),o}},{key:"canInsertBlockAt",value:function(e,t){var n=ON(e);if(t===n){if(0===n)return!0;if(0===t&&e===this.rootContainer())return!1;if(!this.options.disableInsertAfterLastLockedBlock)return!0;var r=BN(e,t-1);return this.isBlockWritable(r)}if(0===t)return!this.options.titleInEditor||e!==this.rootContainer();var o=BN(e,t-1),i=BN(e,t);return this.isBlockWritable(o)||this.isBlockWritable(i)}},{key:"insertBlock",value:function(e,t,n,r,o){if(e&&t>0&&!o.breakText&&r){if(!o.fromUndo&&!this.canInsertBlockAt(e,t))throw new Gi;o.fromUndo||this.beginUndoGroup();var i=r,a=_N(this,i.id,n,i);if(LN(e,t,a),this.submitInsertBlockAction(e,a,t,i),xf(a,o),!o.fromUndo){this.undoState.onCreateBlockAction(e,a,t,i),o.focusToBlock&&(Ff(a)?KL(a,0):KL(a,Kf(a)),fL(this));var s=this.fixTextBlockAtContainerEnd(a);s&&Hf(a)&&this.selectBlock(s,0,0)}return o.fromUndo||this.endUndoGroup(),this.updateCommentsPosition(),a}var c,l=e,u=null,d=0,p=this.getSelectionDetail();if(-2===t?p.startBlock?(u=p.startBlock,w(void 0!==p.startOffset),d=p.startOffset):l=l||this.rootContainer():-1===t?l||(l=p.startBlock?kN(p.startBlock):this.rootContainer()):(w(l),t<ON(l)?(w(u=BN(l,t)),u===p.startBlock&&(w(void 0!==p.startOffset),d=p.startOffset),this.isTitleBlock(u)&&(w(0===t),t+=1)):(w(t===ON(l)),d=0)),w(l||u),Qf(n)){if(l&&!pL(l)){var f=wN(l);w(f),l=this.rootContainer(),t=TN(f)+1}if(u){var h=Mh(u);h&&(l=this.rootContainer(),t=TN(h)+1)}}if(l&&!this.isMainContainer(l))c=wN(l);else if(!l&&u){w(u);var A=kN(u);this.isMainContainer(A)||(c=wN(A))}if(c&&!dh(c,n))throw new Yi;o.fromUndo||this.beginUndoGroup();try{var m;if(u){if(-2===t)w(u),l=kN(u),Uf(u)&&p.startBlock===u?Gf(u)?this.isTitleBlock(u)?m=1:this.isChildEditor()?m=TN(u)+1:(m=TN(u),this.deleteBlock(u,{fromUndo:!1,localAction:!0})):0===d?(m=TN(u),this.isTitleBlock(u)&&(w(0===m),m=1)):d===Kf(u)?m=TN(u)+1:o.breakText?(this.splitTextBlock(u,d,{keepFormat:!0}),m=TN(u)+1):m=TN(u)+1:m=TN(u)+1;else if(m=t,w(l),w(u),o.breakText&&Uf(u)&&p.startBlock===u&&void 0!==d){var g=Kf(u);0===d||(d===g||this.splitTextBlock(u,d,{keepFormat:!0}),m+=1)}}else w(l),m=ON(l);if(w(void 0!==m),w(l),o.autoCorrectList&&n===Qi.LIST){var v=ON(l);if(m<=v&&m>0){var b=BN(l,m-1),y=m<v&&BN(l,m),x=y&&hf(y);if(Rp(b)===Qi.LIST){var k,C,E=r,T=hf(b);(null==r?void 0:r.padding)&&(null==r?void 0:r.padding)>0?r.padding<=T.level?(k=T.level,C=T.groupId):(k=T.level+1,C=B()):x&&x.padding&&x.padding>0?x.padding+1<=T.level?(k=T.level,C=T.groupId):(k=T.level+1,C=B()):E.level<=T.level?(k=T.level,C=T.groupId):(k=T.level+1,C=B()),E.level=k,E.groupId=C,E.ordered=T.ordered}}}if(!o.fromUndo&&!this.canInsertBlockAt(l,m))throw new Gi;var M=r||If(this,n),I=_N(this,M.id,n,M);if(LN(l,m,I),hL(this,{autoScroll:!0,mouseDown:this.mouseDown,lastEvent:this.lastEvent,lastPosition:this.lastPosition}),this.submitInsertBlockAction(l,I,m,M),xf(I,o),!o.fromUndo){if(this.undoState.onCreateBlockAction(l,I,m,M),this.fixTextBlockAtContainerEnd(I),o.breakText){var D=TN(I);if(D===ON(l)-1)this.insertTextBlock(l,D+1,"",{},{focusToBlock:!0,localAction:!0,fromUndo:!1});else{var _=IN(I);w(_),this.selectBlock(_,0,0)}}else o.focusToBlock&&(Ff(I)?KL(I,0):KL(I,Kf(I)));fL(this)}return this.updateCommentsPosition(),I}finally{o.fromUndo||this.endUndoGroup()}}},{key:"insertTextBlock",value:function(e,t,n,r,o){var i;if(this.isReadOnly())throw new Gi;var a=null;"string"==typeof n?a=Yo.create(n):(w(n instanceof Yo),a=n);var s=null!==(i=null==r?void 0:r.type)&&void 0!==i?i:Qi.TEXT,c=If(this,s,Object.assign({text:a},r));return this.insertBlock(e,t,s,c,Object.assign({fromUndo:!1,focusToBlock:!0,localAction:!0},o))}},{key:"splitTextBlock",value:function(e,t,n){this.beginUndoGroup();try{return ip(e,t,n)}finally{this.endUndoGroup()}}},{key:"insertCheckbox",value:function(e,t,n,r){if(this.isReadOnly())throw new Gi;var o=If(this,Qi.LIST,{text:Yo.create(r),checkbox:n?"checked":"unchecked"});return this.insertBlock(e,t,Qi.LIST,o,{fromUndo:!1,focusToBlock:!0,localAction:!0})}},{key:"replaceBlockToText",value:function(e,t){if(this.isReadOnly())throw new Gi;if(!this.isBlockWritable(e))throw new Gi;var n=If(this,Qi.TEXT,{text:Yo.create(t)},zp(e));return this.replaceBlock(e,n,{fromUndo:!1,focusToBlock:!0})}},{key:"insertTable",value:function(e,t,n,r){if(this.isReadOnly())throw new Gi;var o=If(this,Qi.TABLE,Object.assign({rows:n,cols:t},r));return this.insertBlock(this.rootContainer(),e,Qi.TABLE,o,{fromUndo:!1,focusToBlock:!0,localAction:!0})}},{key:"insertCode",value:function(e,t,n,r){var o=If(this,Qi.CODE,Object.assign({code:t,language:n},r));return this.insertBlock(this.rootContainer(),e,Qi.CODE,o,{fromUndo:!1,focusToBlock:!0,localAction:!0})}},{key:"insertLayout",value:function(e,t){if(t<2||t>5)throw new Yi;return this.insertTable(e,t,1,{layout:!0})}},{key:"getAccepts",value:function(e){var t,n=null===(t=this.options)||void 0===t?void 0:t.allowedMedias,r=n&&n[e];return r?function(e){return e.map((function(e){return".".concat(e)})).join(",")}(r):e===aa.AUDIO?"audio/*":e===aa.VIDEO?"video/*":e===aa.IMAGE?"image/*":e===aa.OFFICE?this.options.acceptAllOfficeFiles?"*":".xlsx,.xls,.doc,.docx,.ppt,.pptx,.pdf":"*"}},{key:"insertEmbed",value:function(e,t,n,r,o){if(this.isReadOnly())throw new Gi;var i={id:B(),type:Qi.EMBED,embedType:n,embedData:r};"image"===n&&this.options.imageDefaultAlign&&(i.align=this.options.imageDefaultAlign);var a=Object.assign(Object.assign({},o),{fromUndo:!1,focusToBlock:!0,localAction:!0}),s=e;if(!s||t<0){var c=this.getSelectionDetail();c.collapsed&&c.startBlock&&(s=kN(c.startBlock))}return this.insertBlock(s,t,Qi.EMBED,i,a)}},{key:"insertMermaid",value:function(e,t,n,r){if(this.isReadOnly())throw new Gi;return this.insertEmbed(e,t,aa.MERMAID,{mermaidText:n},r)}},{key:"insertDrawIO",value:function(e,t,n,r){if(this.isReadOnly())throw new Gi;var o=this.insertEmbed(e,t,aa.DRAWIO,{xml:n},r);return nh(o,"edit",null),o}},{key:"insertDocSnapshot",value:function(e,t,n,r){return DX(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.isReadOnly()){o.next=2;break}throw new Gi;case 2:return o.next=4,Zv(this,t);case 4:return delete(t=_n()(t)).meta.token,i=this.insertEmbed(e,n,aa.SNAPSHOT,{doc:JSON.stringify(t)},r),(a=IN(i))&&this.selectBlock(a,0),o.abrupt("return",i);case 10:case"end":return o.stop()}}),o,this)})))}},{key:"insertHorizontalLine",value:function(e,t,n){if(this.isReadOnly())throw new Gi;var r=this.insertEmbed(e,t,aa.HR,{},n),o=IN(r);return o&&this.selectBlock(o,0),r}},{key:"insertChart",value:function(e,t,n,r){if(this.isReadOnly())throw new Gi;return this.insertEmbed(e,t,aa.CHARTJS,Object.assign({src:n},r))}},{key:"addResources",value:function(e){return DX(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.otClient.getFileUrlsByHashes(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"uploadDocThumbnail",value:function(e){var t;return DX(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.otClient.uploadResource(e,(function(){}),{thumbnail:!0});case 3:return r=n.sent,n.abrupt("return",r);case 7:throw n.prev=7,n.t0=n.catch(0),(o=new Error("Failed to upload resource: ".concat(JSON.stringify(n.t0)))).code="UploadResource",o.origin=n.t0,(null===(t=this.options.callbacks)||void 0===t?void 0:t.onError)&&this.options.callbacks.onError(this,o),o;case 14:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"uploadResource",value:function(e,t){var n,r,o,i,a;return DX(this,void 0,void 0,regeneratorRuntime.mark((function s(){var c,l,u,d;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.isReadOnly()){s.next=2;break}throw new Gi;case 2:if(0!==e.size){s.next=7;break}throw(c=new Error("Failed to upload resource: file is empty")).code="EmptyFile",(null===(n=this.options.callbacks)||void 0===n?void 0:n.onError)&&this.options.callbacks.onError(this,c),c;case 7:if(!(null===(r=this.options.callbacks)||void 0===r?void 0:r.onBeforeUploadResource)){s.next=10;break}return s.next=10,this.options.callbacks.onBeforeUploadResource(this,e);case 10:if(!this.isLocal()){s.next=17;break}return w(null===(o=this.options.callbacks)||void 0===o?void 0:o.onUploadResource),s.next=14,null===(i=this.options.callbacks)||void 0===i?void 0:i.onUploadResource(this,e,t);case 14:return l=s.sent,t(null,100),s.abrupt("return",l);case 17:return s.prev=17,s.next=20,this.otClient.uploadResource(e,t);case 20:return u=s.sent,s.abrupt("return",u);case 24:throw s.prev=24,s.t0=s.catch(17),(d=new Error("Failed to upload resource: ".concat(JSON.stringify(s.t0)))).code="UploadResource",d.origin=s.t0,(null===(a=this.options.callbacks)||void 0===a?void 0:a.onError)&&this.options.callbacks.onError(this,d),d;case 31:case"end":return s.stop()}}),s,this,[[17,24]])})))}},{key:"createBlockData",value:function(e,t,n){return If(this,e,Mf(this,e,t),n)}},{key:"createEmbedBlockData",value:function(e,t,n){return Ep(this,e,t,n)}},{key:"updateBoxData",value:function(e,t,n){var r=this.rootContainer().querySelector("#".concat(e));w(r);var o=wN(r);if(w(o),!this.isBlockWritable(o)){var i=this.getBoxData(e);if(n&&i.type===Pi.MATH);else if(i.type===Pi.WIKI_LINK);else if(this.isBlockLocked(o)&&i.type===Pi.INPUT);else if(!this.isParentBlockLocked(o)||i.type!==Pi.INPUT)throw new Gi}w(Uf(o));var a=hf(o).text;w(a);var s=a.clone();w(s.updateOpAttributes("id",e,t)),n?this.updateBlockText(o,s,{fromUndo:!0,updateBlock:!0,updateLocalOnly:n}):this.updateBlockText(o,s,{fromUndo:!1,updateBlock:!0})}},{key:"updateEmbedData",value:function(e,t,n){if(!this.isBlockWritable(e))throw new Gi;var r=Nw(e),o=dp(r);xp(this,r);var i=hf(e),a=i.lock,s=i.align,c=i.quoted,l=i.heading,u=i.markerData,d=i.markerWidth,p=i.markerExpired,f=i.padding,h=i.comments,A=i.styles,m=i.inlineStyle,g=Object.assign({lock:a,align:s,quoted:c,heading:l,markerData:u,markerWidth:d,markerExpired:p,padding:f,comments:h,styles:A,inlineStyle:m},Ep(this,o,t,i.id));this.updateBlockData(e,g,Object.assign({fromUndo:!1,updateBlock:!0,partial:!1},n))}},{key:"getResourceToken",value:function(){var e,t;return null!==(t=null!==(e=this.otClient.getResourceToken())&&void 0!==e?e:this.auth.token)&&void 0!==t?t:null}},{key:"getResourceBasePath",value:function(){var e=this.apiServer(),t=new URL(e).pathname;return"".concat(t,"/resource")}},{key:"resourceNameFromUrl",value:function(e){w(e);var t=this.apiServer(),n="".concat(t,"/resources/");if(!e.startsWith(n))return"";var r=e.substr(n.length),o=r.indexOf("?");return-1===o?r:r.substr(0,o)}},{key:"waitForResourceToken",value:function(){return this.otClient.waitForConnected()}},{key:"buildResourceUrl",value:function(e,t,n){if(Array.isArray(e)&&(e=e[0]),wa(e))return e;if(e.startsWith("https:")||e.startsWith("http:")||e.startsWith("file:")||e.startsWith("data:")||e.startsWith("blob:"))return e;if(this.isLocal()&&this.options.callbacks&&this.options.callbacks.onBuildResourceUrl)return this.options.callbacks.onBuildResourceUrl(this,e,t);var r=this.apiServer(),o="".concat(r,"/resources/").concat(encodeURIComponent(e)),i=[];if((null==n?void 0:n.withToken)&&i.push("token=".concat(this.otClient.getResourceToken())),t&&i.push("&fileName=".concat(encodeURIComponent(t))),i.length>0){var a=i.join("&");o+="?".concat(a)}return o}},{key:"getDocThumbImage",value:function(e){return e.thumbnailUrl?e.thumbnailUrl:"".concat(this.options.serverUrl,"/").concat(this.auth.appId,"/").concat(e.docId,"/resources/thumbnail.png").replace("wss:","https:").replace("ws:","http:")}},{key:"apiServer",value:function(){return this.otClient.apiServer()}},{key:"editorServer",value:function(){return this.otClient.editorServer()}},{key:"verifyUploadFile",value:function(e,t){var n,r,o,i,a,s,c,l,u,d,p,f,h,A,m,g=null===(n=this.options.maxSize)||void 0===n?void 0:n.all,v=null;if(t===aa.IMAGE?(g=null===(r=this.options.maxSize)||void 0===r?void 0:r.image,v=null===(o=this.options.allowedMedias)||void 0===o?void 0:o.image):t===aa.VIDEO?(g=null===(i=this.options.maxSize)||void 0===i?void 0:i.video,v=null===(a=this.options.allowedMedias)||void 0===a?void 0:a.video):t===aa.AUDIO?(g=null===(s=this.options.maxSize)||void 0===s?void 0:s.audio,v=null===(c=this.options.allowedMedias)||void 0===c?void 0:c.audio):t===aa.OFFICE&&(g=null===(l=this.options.maxSize)||void 0===l?void 0:l.office,v=null===(u=this.options.allowedMedias)||void 0===u?void 0:u.office),void 0!==g&&e.size>g){var b=new Error("media is too large");throw b.code="MaxMediaSize-".concat(t),(null===(d=this.options.callbacks)||void 0===d?void 0:d.onError)&&(null===(p=this.options.callbacks)||void 0===p||p.onError(this,b)),b}var y=OR(e.name).toLocaleLowerCase();if(this.options.allowedFiles&&-1===this.options.allowedFiles.indexOf(y)){var w=new Error("media file is not allowed: ".concat(y));throw w.code="NotAllowedFile",(null===(f=this.options.callbacks)||void 0===f?void 0:f.onError)&&(null===(h=this.options.callbacks)||void 0===h||h.onError(this,w)),w}if(!v)return t;if(-1!==v.indexOf(y))return t;var x=new Error("media file is not allowed: ".concat(y));if(x.code="NotAllowedFile",(null===(A=this.options.callbacks)||void 0===A?void 0:A.onError)&&(null===(m=this.options.callbacks)||void 0===m||m.onError(this,x)),!this.options.unknownMediaToOffice)throw x;return aa.OFFICE}},{key:"insertMediaFile",value:function(e,t,n,r,o,i){var a,s,c,l=this;if(this.isReadOnly())throw new Gi;if("string"==typeof t)return this.insertEmbed(e,n,r,{src:t},o);r=this.verifyUploadFile(t,r),this.beginUndoGroup();var u=null!==(a=this.options.officeType)&&void 0!==a?a:ra.CARD,d=this.isPreviewEnabled(t.name)?u:ra.CARD;if((null===(s=this.options.callbacks)||void 0===s?void 0:s.verifyUploadImage)&&!(null===(c=this.options.callbacks)||void 0===c?void 0:c.verifyUploadImage(t)))return null;var p=this.insertEmbed(e,n,r,{src:oa.Loading,fileName:t.name,fileSize:t.size,fileType:t.type,previewType:d},o);return DX(l,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,a,s,c,l,u,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="progress",a=URL.createObjectURL(t),nh(p,r,{previewUrl:a,percentage:0}),e.next=6,this.uploadResource(t,(function(e,t){e?(f.updateEmbedData(p,{src:oa.Error,exportSpec:[{type:"text",data:ju.image.imageLoadError}]}),nh(p,"resourceUploadError",o?{operator:o.operator}:{})):nh(p,r,-1===t?{percentage:-1}:{percentage:t})}));case 6:s=e.sent,c=Nw(p),l=xp(this,c),u={src:s,fileName:t.name,fileSize:t.size,fileType:t.type,previewType:d,width:null!==(n=l.width)&&void 0!==n?n:void 0},i&&i(p,u),this.updateEmbedData(p,u),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(0),console.warn("failed to upload resource: ".concat(JSON.stringify(e.t0))),e.t0;case 18:return e.prev=18,this.endUndoGroup(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[0,14,18,21]])}))).then((function(){Ja(p,Vi.RETRY)})).catch((function(e){var t,n;"UploadResource"!==e.code&&(console.error("unknown error occurred while insert image: ".concat(JSON.stringify(e))),(null===(t=l.options.callbacks)||void 0===t?void 0:t.onError)&&(null===(n=l.options.callbacks)||void 0===n||n.onError(l,e))),r===aa.VIDEO||r===aa.AUDIO?(Qa(p,Vi.RETRY),Ap(p).setAttribute("data-retry-text",ju.image.retry)):r!==aa.IMAGE&&l.deleteBlock(p,{fromUndo:!1,localAction:!1})})),p}},{key:"insertImage",value:function(e,t,n,r,o,i){var a;if(this.isReadOnly())throw new Gi;if("string"==typeof t&&!t.startsWith("http:")&&!t.startsWith("https:")&&!(null===(a=this.options.resourceProtocol)||void 0===a?void 0:a.some((function(e){return t.startsWith(e)})))&&t!==oa.Empty)throw new Yi;return this.insertMediaFile(e,t,n,aa.IMAGE,r,(function(e,t){var n=t.src;o&&(t["".concat(k()(n),"_title")]=o),i&&(t["".concat(k()(n),"_link")]=i)}))}},{key:"insertAudio",value:function(e,t,n,r){if(this.isReadOnly())throw new Gi;return this.insertMediaFile(e,t,n,aa.AUDIO,r)}},{key:"insertVideo",value:function(e,t,n,r){if(this.isReadOnly())throw new Gi;return this.insertMediaFile(e,t,n,aa.VIDEO,r)}},{key:"insertOffice",value:function(e,t,n){if(this.isReadOnly())throw new Gi;return this.insertMediaFile(e,t,n,aa.OFFICE)}},{key:"updateOffice",value:function(e,t,n){return DX(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",JY(this,e,t,n));case 1:case"end":return r.stop()}}),r,this)})))}},{key:"insertWebpage",value:function(e,t,n,r,o){return DX(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a={url:t},i.prev=1,i.next=4,this.recognizeWebPageLink(t);case 4:a=i.sent,i.next=9;break;case 7:i.prev=7,i.t0=i.catch(1);case 9:return s="video"===a.type?this.insertVideo(e,a.url,n,o):"audio"===a.type?this.insertAudio(e,a.url,n,o):"image"===a.type?this.insertImage(e,a.url,n,o):this.insertEmbed(e,n,aa.WEBPAGE,{src:a.url,customType:r},o),i.abrupt("return",s);case 11:case"end":return i.stop()}}),i,this,[[1,7]])})))}},{key:"hasFocus",value:function(){var e=this.getSelectionDetail();return e.startBlock&&this.isInEditor(e.startBlock)}},{key:"deleteBlock",value:function(e,t){bb(this,e,t),this.updateComments()}},{key:"insertBox",value:function(e,t,n,r){return DX(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,s;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.isReadOnly()){o.next=2;break}throw new Gi;case 2:if((i=this.getSelectionDetail()).startBlock){o.next=8;break}if(this.lastSelectionState){try{this.restoreSelectionState(this.lastSelectionState)}catch(e){}this.lastSelectionState=null}if((i=this.getSelectionDetail()).startBlock){o.next=8;break}return o.abrupt("return",null);case 8:if(this.isBlockWritable(i.startBlock)){o.next=10;break}throw new Gi;case 10:if(dh(i.startBlock,e)){o.next=12;break}return o.abrupt("return",null);case 12:return(null==r?void 0:r.disableAppendSpace)||(a=i.startOffset,this.insertBlockText(i.startBlock,a,Yo.create(" "))),s=fv(this,i,e,t,n,r),o.abrupt("return",s);case 15:case"end":return o.stop()}}),o,this)})))}},{key:"insertEmptyBox",value:function(e){return DX(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isReadOnly()){t.next=2;break}throw new Gi;case 2:if((n=this.getSelectionDetail()).startBlock){t.next=5;break}return t.abrupt("return",null);case 5:return w(void 0!==n.startOffset),t.abrupt("return",pv(this,n.startBlock,n.startOffset,e));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getBoxInsertTarget",value:function(e,t){var n=e,r=t;if(!n){var o=this.getSelectionDetail();if(!o.startBlock)return{targetBlock:null,targetOffset:void 0};n=o.startBlock,w(void 0!==(r=o.startOffset))}return{targetBlock:n,targetOffset:r}}},{key:"insertImageBox",value:function(e,t,n,r,o){var i=this.getBoxInsertTarget(r,o),a=i.targetBlock,s=i.targetOffset;if(!a||void 0===s)return null;if(!dh(a,Pi.IMAGE))return null;w(void 0!==s);var c={id:B(),type:Pi.IMAGE,src:e,width:t,height:n};this.beginUndoGroup();try{return Hd(this,a,s,Pi.IMAGE,null,c)}finally{this.endUndoGroup()}}},{key:"insertAnchorBox",value:function(e,t){var n=this.getBoxInsertTarget(e,t),r=n.targetBlock,o=n.targetOffset;if(!r||void 0===o)return null;if(!dh(r,Pi.ANCHOR))return null;w(void 0!==o),this.beginUndoGroup();try{return Hd(this,r,o,Pi.ANCHOR,null,{})}finally{this.endUndoGroup()}}},{key:"insertFileBox",value:function(e,t,n,r){var o=this.getBoxInsertTarget(e,t),i=o.targetBlock,a=o.targetOffset;if(!i||void 0===a)return null;if(!dh(i,Pi.FILE))return null;w(void 0!==a),this.beginUndoGroup();try{return Hd(this,i,a,Pi.FILE,n,r)}finally{this.endUndoGroup()}}},{key:"insertWikiLink",value:function(e,t,n,r){var o=this.getBoxInsertTarget(e,t),i=o.targetBlock,a=o.targetOffset;if(!i||void 0===a)return null;if(!dh(i,Pi.WIKI_LINK))return null;w(void 0!==a),this.beginUndoGroup();try{return Hd(this,i,a,Pi.WIKI_LINK,n,r)}finally{this.endUndoGroup()}}},{key:"insertInput",value:function(e,t,n,r,o){var i=this.getBoxInsertTarget(e,t),a=i.targetBlock,s=i.targetOffset;if(!a||void 0===s)return null;if(!dh(a,Pi.INPUT))return null;w(void 0!==s),this.beginUndoGroup();try{return Hd(this,a,s,Pi.INPUT,n,Object.assign(Object.assign({},o),{inputType:r}))}finally{this.endUndoGroup()}}},{key:"insertTextInput",value:function(e,t,n,r){return this.insertInput(e,t,n,"text",r)}},{key:"insertCheckInput",value:function(e,t,n,r){return this.insertInput(e,t,n,"checkbox",r)}},{key:"insertSelect",value:function(e,t,n,r){return this.insertInput(e,t,n,"select",r)}},{key:"editBox",value:function(e,t){this.autoSuggest.isVisible()&&this.autoSuggest.hide();var n=this.getBoxById(e.id);w(n),w(ts(t,n));var r=sp(t,n);this.selectBlock(t,r+1),w(this.getSelectionDetail().startBlock===t),uv(this,e)}},{key:"closeAutoSuggest",value:function(){this.autoSuggest.isVisible()&&this.autoSuggest.hide()}},{key:"getEmbedBlockEmbedData",value:function(e){return w(Rp(e)===Qi.EMBED),hf(e).embedData}},{key:"getMediaBlockUrl",value:function(e){w(Rp(e)===Qi.EMBED);var t=dp(Nw(e));w(-1!==[aa.IMAGE,aa.VIDEO,aa.AUDIO,aa.WEBPAGE,aa.OFFICE].indexOf(t));var n=hf(e).embedData.src;return this.buildResourceUrl(n)}},{key:"getAllImages",value:function(){var e=this,t=this.getAllBlocks({deep:!0}).filter((function(e){return Rp(e)===Qi.EMBED&&dp(Ap(e))===aa.IMAGE})),n=[];return t.forEach((function(t){hf(t).embedData.src.split("|").forEach((function(r){var o={src:e.buildResourceUrl(r),id:zp(t)};n.push(o)}))})),n}},{key:"updatePlaceholder",value:function(){if(this.options.placeholder){var e=document.getElementById("editor-placeholder"),t=".editor-main { --editor-placeholder: '".concat(this.options.placeholder,"' }");e&&e.innerHTML!==t&&(e.innerHTML=t)}}},{key:"getLinkInfo",value:function(e){return Um(e)}},{key:"setLinkInfo",value:function(e,t){!function(e,t,n){var r=wN(t);w(r);var o=Um(t),i=hf(r).text;w(i);var a=Cm(i.split(o.offset+o.length),2),s=a[0],c=a[1],l=Cm(s.split(o.offset),2),u=l[0];w(l[1]);var d,p=void 0===n.text?o.text:n.text,f=void 0===n.link?o.link:n.link;if(null===p||""===p)d=Yo.combine(u,c);else if(null===f||""===f){w(p);var h=Yo.create(p);d=Yo.combine(Yo.combine(u,h),c)}else{w(p),w(f);var A=Yo.createWithAttributes(p,{link:f});d=Yo.combine(Yo.combine(u,A),c)}e.updateBlockText(r,d,{fromUndo:!1,updateBlock:!0,updateLocalOnly:!1})}(this,e,t)}},{key:"isHeadingBlockCollapsed",value:function(e){return w(Gu(e)),qu(e)}},{key:"expandHeadingBlock",value:function(e){w(Gu(e)),$u(e)}},{key:"collapseHeadingBlock",value:function(e){w(Gu(e)),Ju(e)}},{key:"getBlockTocInfo",value:function(e){return function(e,t){w(t);var n,r,o=Ff(t)?t:Mh(t);if(o&&(t=o),Gu(t)){var i=zp(t);return{prevHeadingBlockId:i,nextHeadingBlockId:i}}for(var a=MN(t);a;){if(Gu(a)){n=zp(a);break}a=MN(a)}for(var s=IN(t);s;){if(Gu(s)){r=zp(s);break}s=IN(s)}return{prevHeadingBlockId:n,nextHeadingBlockId:r}}(0,e)}},{key:"createChildContainer",value:function(e,t,n){var r=JN(this,e,!1,t);return nL(this,r,n||this.createEmptyContainerBlockData()),r}},{key:"createEmptyChildContainer",value:function(e,t){var n=JN(this,e,!1,t),r=this.createEmptyContainerBlockData();return nL(this,n,r),this.submitInsertContainerAction(t,r),n}},{key:"createEmptyChildContainerData",value:function(e,t){e&&w(t),t&&w(e);var n=t||B(),r=e||this.createEmptyContainerBlockData();return this.submitInsertContainerAction(n,r),n}},{key:"getChildContainerData",value:function(e){var t=this.data()[e];return w(t),w(Array.isArray(t)),t}},{key:"createComment",value:function(e,t,n,r){var o,i,a=!!e,s=B(),c=e||s;if(n&&0!==n.blocks.length||(n={blocks:[Ma(If(this,Qi.TEXT))],comments:{},meta:{}}),r&&xu(r).length>50&&(r=function(e,t,n){var r,o=xu(e);return r=void 0===n?o.length:t+n,o.slice(t,r).join("")}(r,0,50)),null===(o=this.doc)||void 0===o||o.createComment(s,c,this.auth.userId,this.auth.displayName,this.auth.avatarUrl||"",n,r||""),a){this.updateCommentsCore(),w(t);var l=this.getCommentData(t);if(w(l),null===(i=this.options.callbacks)||void 0===i?void 0:i.onCommentReplied){var u=Cn(Object.assign(Object.assign({},l),{comments:{},meta:{}})),d=Cn(n);this.options.callbacks.onCommentReplied(this,l.userId,u,d)}}return s}},{key:"addBlockComment",value:function(t,n){var r=[];if(n){var o=e.fixTextData(Df(this,n));r.push(o)}var i=Zp(t),a=this.createComment(null,null,{comments:{},meta:{},blocks:r},i);return this.addCommentToBlock(t,a),a}},{key:"addCommentToBlock",value:function(e,t,n){var r,o=this;vf(e,t);var i=hf(e).comments||[];this.updateBlockData(e,{comments:i},{fromUndo:!1,updateBlock:!1,partial:!0}),Gp(e).firstElementChild||$p(e,new _o([])),w(null===(r=this.doc)||void 0===r?void 0:r.getComment(t)),this.updateCommentsCore(),(!n||!n.noEditComment)&&setTimeout((function(){o.editComment(t)}),100)}},{key:"commentImage",value:function(e,t){var n,r=this;w(e),w(t),w(e===wN(e));var o=this.createComment(null,null,null,Zp(e));return nh(e,"comment",{image:t,commentId:o}),w(null===(n=this.doc)||void 0===n?void 0:n.getComment(o)),this.updateCommentsCore(),setTimeout((function(){r.editComment(o)}),100),o}},{key:"updateCommentText",value:function(e,t){var n,r,o=this.getCommentData(e),i=Cn(Object.assign(Object.assign({},o),{comments:{},meta:{}}));w(o);var a=Cn(t);if(null===(n=this.doc)||void 0===n||n.updateComment(e,t),this.updateCommentsCore(),!i&&o.id===o.groupId&&(null===(r=this.options.callbacks)||void 0===r?void 0:r.onCommentInserted)){var s=ZW(this,o.groupId),c=s.blocks,l=s.text;t.blocks.length>0&&this.options.callbacks.onCommentInserted(this,e,l,a,c[0])}}},{key:"deleteComment",value:function(e){var t=this,n=this.getCommentData(e);if(n.userId!==this.auth.userId)throw new Gi;w(this.doc),this.doc.deleteComment(e);var r=this.options.deleteChildComments,o=this.doc.getGroupComments(n.groupId);if(r&&n.groupId===n.id&&o.forEach((function(e){var n;null===(n=t.doc)||void 0===n||n.deleteComment(e.id)})),0===o.length){var i=n.groupId,a=this.commentsContainer.getAllCommentTarget(i),s=new Set;a.forEach((function(e){var t=wN(e);w(t),s.add(t)})),s.forEach((function(e){oh(t,e,i)}))}this.updateCommentsCore()}},{key:"handleCommentInserted",value:function(e,t,n,r){var o;w(null===(o=this.doc)||void 0===o?void 0:o.getComment(r)),this.updateCommentsCore()}},{key:"getCommentData",value:function(e){return w(this.doc),this.doc.getComment(e)}},{key:"getGroupComments",value:function(e){return w(this.doc),this.options.hideComments?[]:this.doc.getGroupComments(e)}},{key:"getComments",value:function(){var e;return w(this.doc),null===(e=this.doc)||void 0===e?void 0:e.getComments()}},{key:"getChildEditorData",value:function(e){var t=this.data()[e];return w(t),w(Array.isArray(t)),t}},{key:"replaceBlock",value:function(e,t,n){var r=TN(e),o=t.id,i=t.type,a=kN(e);if(n.fromUndo||this.beginUndoGroup(),aA(e))return e;Cf(a,e,r,{fromUndo:n.fromUndo,localAction:!0}),zN(a,r);var s=_N(this,o,i,t);return LN(a,r,s),this.submitReplaceBlockAction(a,r,t,n.fromUndo),xf(s,{fromUndo:n.fromUndo,focusToBlock:n.focusToBlock,localAction:!0}),n.fromUndo||this.endUndoGroup(),this.updateComments(),this.updateCommentsPosition(),this.updateToc(),s}},{key:"replaceContainerData",value:function(e,t){var n=this;w(t.length>0),this.beginUndoGroup(),SN(e).forEach((function(e){n.deleteBlock(e,{fromUndo:!1,localAction:!0,noFixEmptyContainer:!0})})),t.forEach((function(t,r){n.insertBlock(e,r,t.type,Ba(t),{fromUndo:!1,localAction:!0,focusToBlock:!1})})),this.endUndoGroup()}},{key:"updateBlockData",value:function(e,t,n){if(!this.isBlockWritable(e)&&!this.isCommentable())throw new Gi;var r=kN(e);w(r);var o=TN(e),i=zp(e),a=hf(e),s=a.markerData,c=a.markerExpired,l=a.markerWidth;n.partial||(w(t.id),w(t.type));var u=Object.assign(Object.assign({markerData:s,markerExpired:c,markerWidth:l},n.partial?hf(e):{}),t);n.updateBlock&&Jp(e,u),this.submitUpdateBlockDataAction(r,o,i,u,{fromUndo:n.fromUndo,skipDirtyCallback:n.skipDirtyCallback}),this.textToolbar.isVisible()&&this.textToolbar.updateStatus(this,{}),this.updateCommentsPosition()}},{key:"updateBlockText",value:function(e,t,n){var r;w(this.doc);var o=this.doc.data();if(!o)throw new Error("no doc data while updating block text");w(o);var i=kN(e),a=TN(e),s=this.getRootObjectName(i),c=_n()(o[s][a].text),l=new Yo(c);w(l);var u=l.diff(t);n.updateBlock&&$p(e,u),n.updateLocalOnly||(this.submitBlockTextChanges(e,l,t,u,n.fromUndo),this.updateComments(),this.isTitleBlock(e)&&(null===(r=this.options.callbacks)||void 0===r?void 0:r.onTitleChanged)&&this.options.callbacks.onTitleChanged(this,this.auth.docId,Ch(e)),this.findDialog.isVisible()&&this.findDialog.research())}},{key:"deleteBlockText",value:function(e,t,n){if(this.isReadOnly())throw new Gi;r_(e,t,n)}},{key:"insertBlockText",value:function(e,t,n){if(this.isReadOnly())throw new Gi;if(!this.isBlockWritable(e))throw new Gi;"string"==typeof n&&(n=n.replace(/\r\n/g," ").replace(/\n/g," ").replace(/\r/g," "),n=Yo.create(n)),this.isTitleBlock(e)?o_(e,t,n.toPlainText()):i_(e,t,n)}},{key:"fixTextBlockAtContainerEnd",value:function(e){var t=kN(e);w(t);var n=ON(t);w(n>0);var r=BN(t,n-1);return w(r),Lf(r).textBlock?null:this.insertBlock(t,-1,Qi.TEXT,null,{fromUndo:!1,focusToBlock:!1,localAction:!0})}},{key:"getRootObjectName",value:function(e){return this.isMainContainer(e)?"blocks":eL(e)}},{key:"submitInsertContainerAction",value:function(t,n){w(this.doc);var r=n.map((function(t){return e.fixTextData(t)}));this.doc.insertRootObject(t,r),this.onDirty()}},{key:"submitInsertBlockAction",value:function(t,n,r,o){w(t),w(n);var i=zp(n),a=Rp(n);w(a),w(a===o.type),w(i===o.id),w(this.doc);var s=this.getRootObjectName(t);this.doc.insertBlock(s,r,e.fixTextData(o)),this.onDirty()}},{key:"submitDeleteBlockAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=kN(e);w(n),w(this.doc);var r=TN(e),o=this.getRootObjectName(n);t||this.undoState.onDeleteBlockAction(n,r),this.doc.deleteObject(o,r),this.onDirty()}},{key:"submitUpdateBlockDataAction",value:function(t,n,r,o,i){w(t),w(this.doc);var a=this.getRootObjectName(t),s=this.getBlockById(r);w(s);var c=this.doc.data();w(c);var l=_n()(c[a][n]);i.fromUndo||(l.text&&(l.text=new Yo(l.text)),this.undoState.onUpdateBlockDataAction(t,s,l));var u=e.fixTextData(o);this.doc.updateObject(a,n,u)?this.onDirty(i.skipDirtyCallback):console.debug("no data changed")}},{key:"submitReplaceBlockAction",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];w(t),w(this.doc);var i=this.getRootObjectName(t);if(!o){w(this.doc);var a=this.doc.data();w(a);var s=_n()(a[i][n]);w(s.id===r.id),s.text&&(s.text=new Yo(s.text)),this.undoState.onReplaceBlockAction(t,r.id,s,r)}this.doc.replaceObject(i,n,e.fixTextData(r)),this.onDirty()}},{key:"submitBlockTextChanges",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=kN(e);w(i),w(this.doc);var a=TN(e),s=this.getRootObjectName(i);o||this.undoState.onUpdateBlockTextAction(i,e,t);var c=t.clone();c.compose(r),Yo.isDocument(c.toOps())||(console.error("invalid ops, doc: ".concat(t.toOps(),", ops: ").concat(r.toOps())),w(!1)),c.delta.ops.forEach((function(e){e.attributes&&0===Object.keys(e.attributes).length&&delete e.attributes})),w(Yo.isEqual(n,c)),this.doc.submitRichTextBlockOps(s,a,r.toOps()),this.onDirty()}},{key:"isLockedForComposition",value:function(){return!!this.compositionLockData}},{key:"lockForComposition",value:function(e){w(!this.compositionLockData),this.compositionLockData={doc:JSON.parse(JSON.stringify(this.data())),inputEvent:[],info:ZZ(0,this.getSelectionDetail()),selectionStatus:this.saveSelectionState(),remoteOps:[],reason:e}}},{key:"unlockComposition",value:function(){w(this.compositionLockData);var e=this.compositionLockData;this.compositionLockData=null;try{return this.applyingRemoteOpsForComposition=!0,XZ(this,e)}finally{this.applyingRemoteOpsForComposition=!1}}},{key:"isApplyingRemoteOpsForComposition",value:function(){return this.applyingRemoteOpsForComposition}},{key:"updateDocumentByRemoteOps",value:function(e,t){var n=this;if(!t)if(this.compositionLockData)this.compositionLockData.remoteOps.push(e);else{var r,o=RN(this);if(o&&(r=o.getBoundingClientRect()),XQ(this,e,{onUpdateBlockText:function(e,t,r){HN(e,t,r),n.isComposing()&&n.broadcastCaretPos(),n.updateComments()},onUpdateBlockData:function(e,t,n){var r=hf(BN(e,t)),o=Object.assign(Object.assign({},r),n);n.text&&(console.warn("update block text by update block data"),o.text=new Yo(n.text)),FN(e,t,o)},onDeleteBlock:function(e,t){var r=n.hasFocus();QN(n,e,t),n.updateComments(),r&&hL(n,{autoScroll:!0,mouseDown:!1,lastEvent:n.lastEvent,lastPosition:n.lastPosition})},onInsertBlock:function(e,t,r){var o=Ba(r),i=o.id,a=o.type;o.text&&(o.text=new Yo(o.text));var s=_N(n,i,a,o);jN(e,t,s),xf(s,{localAction:!1,fromUndo:!1,focusToBlock:!1})},onNoContainer:function(e){console.log("no container: ".concat(e))},onDeleteContainer:function(e){console.log("delete container: ".concat(e))},onUpdateComment:function(e){w(e),n.updateComments(),setTimeout((function(){n.commentsContainer.updateCommentText(e)}))},onUpdateCommentText:function(e){w(e),setTimeout((function(){n.commentsContainer.updateCommentText(e)}))},onDeleteComment:function(e){w(e),n.updateComments()}}),o&&r&&!th(o)){var i=o.getBoundingClientRect(),a=cs(this.rootElement);w(a instanceof Element),a.scrollTop+=i.top-r.top}this.textToolbar.updatePosition&&this.textToolbar.updatePosition(),kw.updatePosition&&kw.updatePosition(),AX(this)}}},{key:"selectBlock",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;try{KL(e,t,n)}catch(e){console.warn("failed to select block: ".concat(e.message))}}},{key:"moveCaretTo",value:function(e,t){var n=Ns(e,t),r=n.node,o=n.offset,i=wN(r);if(i&&!Ff(i))if(Hf(i))this.selectBlock(i,0,1);else if(w(Uf(i)),ts(Vf(i),r)){var a=rp(Vf(i),r,o);this.selectBlock(i,a)}}},{key:"selectBox",value:function(e,t){GL(e,t)}},{key:"isBlockEntireSelected",value:function(e){return nA(e)}},{key:"selectEntireBlock",value:function(e){this.entireSelectedBlock=e,this.selectEntireBlockTime=Date.now(),Qa(e,Vi.ENTIRE_SELECTED),this.agentSelector.selectBlock(e)||this.selectBlock(e,0),Zh(e)&&rx.hasResizeTool(e)&&rx.clearTool(e),Jh(e)&&Mw.updated(e)}},{key:"getEntireSelectedBlock",value:function(){return this.entireSelectedBlock}},{key:"getSelectionDetail",value:function(){return PL(this)}},{key:"getHoverBlock",value:function(){return this.hoverBlock}},{key:"getHoverImage",value:function(){return this.hoverImage}},{key:"getFocusedImage",value:function(){return this.focusedImage&&!this.rootContainer().contains(this.focusedImage)?(this.focusedImage=null,null):this.focusedImage}},{key:"isSelectionWritable",value:function(e){return dR(this,e)}},{key:"getSelectedText",value:function(e){return function(e,t){var n,r,o;if(!document.getSelection())return"";var i=PL(e);if(i.collapsed)return"";if(i.startBlock===i.endBlock)try{return null!==(o=null===(r=null===(n=OL())||void 0===n?void 0:n.getRangeAt(0))||void 0===r?void 0:r.toString())&&void 0!==o?o:""}catch(e){return""}return Cn(Xg(e,i,{keepComments:!0}),!1,t)}(this,e)}},{key:"getAllBlocks",value:function(e){return ML(this,e)}},{key:"getAllSelectedBlocks",value:function(e){return pR(this,e)}},{key:"getCurrentScale",value:function(){var e,t=null===(e=this.options.callbacks)||void 0===e?void 0:e.onGetCurrentScale;return t?t(this):1}},{key:"isSetScale",value:function(){var e,t=null===(e=this.options.callbacks)||void 0===e?void 0:e.isSetScale;return!!t&&t(this)}},{key:"getCaretPos",value:function(){return aL(this)}},{key:"fixSelection",value:function(e){hL(this,{autoScroll:e.autoScroll,mouseDown:!1,lastEvent:this.lastEvent,lastPosition:this.lastPosition})}},{key:"getCommandStatus",value:function(){return gx(this)}},{key:"getBlockCommandStatus",value:function(e){return function(e,t){return fx(e,[t])}(this,e)}},{key:"getDetailCommandStatus",value:function(e){return EL(this,e)}},{key:"saveCommandTarget",value:function(t,n){w(this.isInEditor(t)),e.registerCurrentCommandTarget({target:t,selectionState:this.saveSelectionState(),srcPopover:n})}},{key:"saveSelectionState",value:function(){var e,t=this.getSelectionDetail();if(t.type===ia.INVALID)return null!==(e=this.lastSelectionState)&&void 0!==e?e:{startCaret:null,endCaret:null,startOldData:null,endOldData:null};w(t.startBlock),w(t.endBlock),w(void 0!==t.startOffset),w(void 0!==t.endOffset);var n=t.startBlock&&hf(t.startBlock),r=t.endBlock&&hf(t.endBlock);return this.lastSelectionState={startCaret:{containerId:eL(kN(t.startBlock)),blockId:zp(t.startBlock),offset:t.startOffset},endCaret:{containerId:eL(kN(t.endBlock)),blockId:zp(t.endBlock),offset:t.endOffset},startOldData:n||null,endOldData:r||null},this.lastSelectionState}},{key:"restoreSelectionState",value:function(e){var t=e.startCaret,n=e.endCaret,r=e.startOldData,o=e.endOldData;if(!t||!n)return!1;var i=this.getContainerById(t.containerId),a=this.getContainerById(n.containerId);if(!i||!a)return!1;var s=this.getBlockById(t.blockId),c=this.getBlockById(n.blockId);if(!s||!c)return!1;var l=t.offset,u=n.offset;if(s===c){if(!this.isInEditor(s))return!1;if(!Uf(s))try{return KL(s,l,u),!0}catch(e){return console.error("failed to restore selection: ".concat(e)),!1}var d=null==r?void 0:r.text;w(d);var p=hf(s).text;w(p);var f=p.transformOffset(d,[l,u]);try{KL(s,f[0],f[1])}catch(e){return console.error("failed to restore selection: ".concat(e)),!1}return!0}if(w(c),w(void 0!==u),!this.isInEditor(s)||!this.isInEditor(c))return!1;if(Uf(s)){var h=null==r?void 0:r.text;w(h);var A=hf(s).text;w(A),l=A.transformOffset(h,[l])[0]}if(Uf(c)){var m=null==o?void 0:o.text;w(m);var g=hf(c).text;w(g),u=g.transformOffset(m,[u])[0]}try{VL(s,l,c,u)}catch(e){return console.error("failed to restore selection: ".concat(e)),!1}return!0}},{key:"setCaretPos",value:function(e){e.blockId&&e.containerId&&sL(this,e)}},{key:"getCurrentBlockIndex",value:function(){return VN(this)}},{key:"createChildLocalEditor",value:function(t,n,r,o){var i=Object.assign(Object.assign(Object.assign(Object.assign({},this.options),{callbacks:Object.assign(Object.assign({},this.options.callbacks),{onLoad:void 0,onError:void 0,onSave:void 0,onRemoteUserChanged:void 0,onStatusChanged:void 0,onReauth:void 0,onGetTagItems:void 0,onCommentInserted:void 0})}),r),{defaultRootElement:void 0,defaultRootContainerExtendElement:void 0,themeMode:this.themeMode,initLocalData:o});return i.initLocalData||(i.initLocalData={blocks:[{id:B(),type:Qi.TEXT,text:[]}],comments:{},meta:{}}),new e(t,i,Object.assign(Object.assign({},this.auth),{permission:n}),this)}},{key:"updateImageResizeTool",value:function(){rx.isEmpty(this)||(rx.fixToolSize(this),rx.fixResizeTool())}},{key:"addTokenToResources",value:function(e){!function(e,t){ov(e,t)}(this,e)}},{key:"adjustTextInputSize",value:function(){qZ(this)}},{key:"updateCommentsCore",value:function(){var e;if(!this.isChildEditor()&&this.data()){var t=null===(e=this.doc)||void 0===e?void 0:e.getComments();this.commentsContainer.getComments().update(t),this.updateCommentsPosition()}}},{key:"refreshComments",value:function(e){(null==e?void 0:e.refreshNow)?this.updateCommentsCore():this.updateComments()}},{key:"updateCommentsPositionCore",value:function(){this.isChildEditor()||this.commentsContainer&&this.commentsContainer.getComments().updatePosition()}},{key:"showDialog",value:function(e){if("dialog"===e.type){var t=this.options.dialog||new VP(this);return t.show(e),t}if("standard"===e.type)return rH(this,e);if("input"===e.type)return function(e,t){var n=this,r=t.title,o=t.inputList,i=t.data,a=t.onShown,s=t.onHidden,c=t.onOK,l=t.onCancel,u=ps("div",["dialog-input-group-container"],null),d=[];o.forEach((function(e){var t=sH(e);d.push(t),t.input.onkeydown=function(){Ja(t.content,"error")},u.appendChild(t.content)}));var p=rH(e,{type:"standard",title:r,data:i,content:u,containerClasses:t.containerClasses,showCloseButton:t.showCloseButton,onOK:function(e){return aH(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],d.forEach((function(e){n.push({options:e.inputOptions,value:e.input.value})})),t.next=4,c(e,n);case 4:if(!0!==(r=t.sent)&&!1!==r){t.next=7;break}return t.abrupt("return",r);case 7:return w(o=d.find((function(e){return e.inputOptions.id===r.inputOptions.id}))),o.errorText.innerText=r.error.message,Qa(o.content,"error"),o.input.focus(),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t)})))},onCancel:l,onShown:function(e){d[0].input.focus(),a&&a(e)},onHidden:s});return t.autoFocus&&setTimeout((function(){var e;null===(e=u.querySelectorAll("input, textarea")[0])||void 0===e||e.focus()}),100),p}(this,e);if("confirm"===e.type)return function(e,t){var n=t.text,r=t.title,o=t.data,i=t.onShown,a=t.onHidden,s=t.onOK,c=t.onCancel;return rH(e,{type:"standard",title:r,data:o,content:iH(n),onOK:s,onCancel:c,onShown:i,onHidden:a})}(this,e);throw new Yi}},{key:"showVersions",value:function(e,t){return this.versionDialog.show(e,t),this.versionDialog}},{key:"showOps",value:function(e,t){return DX(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Object.assign({play:!1,speed:150},t),n.next=3,DZ(this,e,r);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"getVersions",value:function(e){return DX(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.otClient.getVersions();case 2:if(n=t.sent,!(null==e?void 0:e.groupVersions)){t.next=5;break}return t.abrupt("return",OZ(n));case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getChanges",value:function(){return function(e){for(var t=Array.from(e.rootContainer().querySelectorAll("span.style-history-new, span.style-history-deleted, a.style-history-new, a.style-history-deleted, .editor-block.history-deleted, .editor-block.history-new")),n=function(e,t){for(var n=0;n<t.length;n++)if(e!==t[n]&&e.contains(t[n]))return!0;return!1},r=t.length-1;r>=0;r--)n(t[r],t)&&t.splice(r,1);return t}(this)}},{key:"highlightChanges",value:function(e,t){!function(e,t,n){NZ(e),Qa(t,Vi.ACTIVE),setTimeout((function(){NZ(e)}),n)}(this,e,t)}},{key:"getVersion",value:function(e){return this.otClient.getVersion(e)}},{key:"getVersionOps",value:function(e,t){return this.otClient.getVersionOps(e,t)}},{key:"getLatestVersion",value:function(){return this.otClient.getLatestVersion()}},{key:"createVersion",value:function(e,t){return this.otClient.createVersion(e,t)}},{key:"revertVersion",value:function(e){return this.isWritable()?this.otClient.revertVersion(e):Promise.resolve()}},{key:"focus",value:function(e){if(this.getSelectionDetail().type===ia.INVALID){var t=this.rootContainer(),n=ON(t);if(w(n>0),void 0===e||0===e){var r=BN(t,0);this.selectBlock(r,0)}else{var o=BN(t,n-1);this.selectBlock(o,-1)}}if(Xo.isAndroid){var i=cs(this.rootContainerElement);if(i){var a=i.scrollTop,s=function(){i.scrollTop=a};i.addEventListener("scroll",s),this.rootContainer().focus(),setTimeout((function(){i.removeEventListener("scroll",s)}),1e3)}}else this.rootContainer().focus()}},{key:"fullscreen",value:function(){this.readonlyBeforeFullscreen=this.readonly,this.setReadOnly(!0),document.addEventListener("fullscreenchange",this.handleFullscreenChange),this.rootElement.requestFullscreen()}},{key:"isBlockQuoted",value:function(e){return rf(e)}},{key:"setBlockQuoted",value:function(e,t){of(e,t),this.beginUndoGroup(),this.updateBlockData(e,{quoted:t},{fromUndo:!1,updateBlock:!1,partial:!0}),this.endUndoGroup(),this.updateCommandStatus()}},{key:"addBlockInlineStyle",value:function(e,t){Hh(e,t),this.beginUndoGroup(),this.updateBlockData(e,{inlineStyle:Vh(e)},{fromUndo:!1,updateBlock:!0,partial:!0}),this.endUndoGroup(),this.updateCommandStatus()}},{key:"getBlockInlineStyle",value:function(e){return Vh(e)}},{key:"addEventListener",value:function(e,t){this.events.addListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"request",value:function(e){return this.otClient.request(e)}},{key:"postCustomMessage",value:function(e){var t,n={type:"custom",data:e};null===(t=this.doc)||void 0===t||t.broadcastMessage(n)}},{key:"recognizeWebPageLink",value:function(e){return DX(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isLocal()){t.next=2;break}return t.abrupt("return",{url:e});case 2:return t.next=4,this.otClient.recognizeLink(e);case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"recognizeNormalLink",value:function(e,t,n){var r;return DX(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(null===(r=this.options.callbacks)||void 0===r?void 0:r.onRecognizeLink)){o.next=8;break}return o.next=3,this.options.callbacks.onRecognizeLink(this,e,t,n);case 3:if(!(i=o.sent)){o.next=8;break}if(!i.processed){o.next=7;break}return o.abrupt("return",null);case 7:return o.abrupt("return",i);case 8:if(!Pm(e)){o.next=12;break}if(!e.startsWith("http:")&&!e.startsWith("https:")){o.next=11;break}return o.abrupt("return",{text:e,link:e});case 11:return o.abrupt("return",{text:e,link:"https://".concat(e)});case 12:return o.abrupt("return",null);case 13:case"end":return o.stop()}}),o,this)})))}},{key:"wrapHtml",value:function(e){var t=this.rootContainer().cloneNode(!1);t.innerHTML=e;var n,r=t.outerHTML,o=(n=document.querySelectorAll(".editor-style-css"),Array.from(n).map((function(e){return e.textContent||""})).join("\n"));return"<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>\n  <style>".concat(o,'</style>\n</head>\n<body>\n<div class="editor-main">\n').concat(r,"\n</div>\n</body>\n</html>")}},{key:"toHtml",value:function(){var e=SN(this.rootContainer()).map((function(e){return Yh(e)})).join("\n");return this.wrapHtml(e)}},{key:"selectionToDoc",value:function(e){return Xg(this,this.getSelectionDetail(),e)}},{key:"selectionToHtml",value:function(){var e,t,n=this.getSelectionDetail();if(this.entireSelectedBlock&&this.isInEditor(this.entireSelectedBlock))t=Ks(this,t=Yh(this.entireSelectedBlock));else if(this.getSelectionDetail().type===ia.INVALID)t=Ks(this,t=this.getAgentSelector().selectionToHtml());else if(this.focusedImage&&n.startBlock===n.endBlock){var r=this.focusedImage.getAttribute("data-src");w(r);var o=this.buildResourceUrl(r,void 0,{withToken:!0});t='<img src="'.concat(o,'">')}else if(n.startBlock&&n.endBlock&&n.startBlock===n.endBlock&&0===n.startOffset&&n.endOffset===Kf(n.startBlock))t=Ks(this,t=Yh(n.startBlock));else{var i=null===(e=document.getSelection())||void 0===e?void 0:e.getRangeAt(0).cloneContents();if(i){i.querySelectorAll(".block-tools").forEach((function(e){return e.remove()})),i.querySelectorAll(".editor-code-config").forEach((function(e){return e.remove()})),Ps(this,i);var a=document.createElement("div");a.appendChild(i),t=a.innerHTML}else t=""}return t}},{key:"toPlainText",value:function(e){w(this.loaded);var t=this.rootContainer().querySelectorAll(".text-element"),n=Array.from(t).map((function(e){return e.innerText})).join("\n");if((null==e?void 0:e.withoutTitle)&&this.options.titleInEditor){var r=this.titleFromEditor();r&&n.startsWith(r)&&(n=n.substr(r.length).trimStart())}return n}},{key:"toImage",value:function(e,t,n){return DX(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s,c,l,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e?((o=this.rootElement.cloneNode(!0)).style.width="".concat(e,"px"),o.style.minWidth=o.style.width,(i=document.createElement("div")).style.opacity="0",i.style.overflow="hidden",i.style.position="fixed",i.style.width="1px",i.style.maxWidth="1px",i.style.top="1px",i.style.left="1px",i.appendChild(o),document.body.appendChild(i)):o=this.rootContainer(),r.next=3,Eu()(o);case 3:return a=r.sent,e&&t&&(s=document.createElement("canvas"),(c=s.getContext("2d"))&&(s.width=a.width,s.height=a.width/e*t,c.drawImage(a,0,0),a=s)),l=new Promise((function(e){a.toBlob((function(t){e(t)}))})),r.next=8,l;case 8:return u=r.sent,i&&i.remove(),u&&n&&HY(this,URL.createObjectURL(u),null),r.abrupt("return",u);case 12:case"end":return r.stop()}}),r,this)})))}},{key:"updateDocThumbnail",value:function(e,t){return DX(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.toImage(e,t);case 2:if(r=n.sent){n.next=5;break}return n.abrupt("return",null);case 5:return n.abrupt("return",this.uploadDocThumbnail(new File([r],"thumbnail.png")));case 6:case"end":return n.stop()}}),n,this)})))}},{key:"print",value:function(){var e;return DX(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toHtml();case 2:return n=t.sent,r=document.createElement("iframe"),o=this.rootContainer().getBoundingClientRect(),r.width="".concat(o.width,"px"),r.height="800px",r.style.display="none",document.body.appendChild(r),(i=r.contentDocument)&&(i.documentElement.innerHTML=n),t.next=13,cd(1e3);case 13:null===(e=r.contentWindow)||void 0===e||e.print(),r.remove();case 15:case"end":return t.stop()}}),t,this)})))}},{key:"toMarkdown",value:function(e){var t=this;return cl(this.data(),{buildResourceUrl:function(e){return t.buildResourceUrl(e)},keepImageSize:null==e?void 0:e.keepImageSize,keepComments:null==e?void 0:e.keepComments,customConverter:jh})}},{key:"toDocx",value:function(e,t,n){return DX(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s,c=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return window.Buffer||(window.Buffer=Sn.lW),e||(e=Buffer.from("UEsDBBQABgAIAAAAIQBk9WPugQEAACkGAAATAAgCW0NvbnRlbnRfVHlwZXNdLnhtbCCiBAIooAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC0lMtqwzAQRfeF/oPRtsRKuiilxMmij2UbaArdKvI4EdULaZzH33fsJKYUJy5NsjHIM/feowHNcLw2OllCiMrZjA3SPkvASpcrO8/Yx/Sld8+SiMLmQjsLGdtAZOPR9dVwuvEQE1LbmLEFon/gPMoFGBFT58FSpXDBCKRjmHMv5JeYA7/t9++4dBbBYg8rDzYaPkEhSo3J85p+b0kC6MiSx21jlZUx4b1WUiDV+dLmv1J6u4SUlHVPXCgfb6iB8daEqnI4YKd7o9EElUMyEQFfhaEuvnIh57mTpSFletymhdMVhZLQ6Cs3H5yEGGnmRqcIxtMNIDVC2T1/G4csIzrzaTRXpJkE5+PgZJzGtPKDgAqaGR6chS3NDALRn38YjXUnRMSNhnh+gq1vdzwgkuASADvnToQVzN4vRvHDvBOkoNypmGk4P0Zj3QmBtIpg+z39VdQ2xyKps36AtNrCP669312Vuuf/9PKaRLI++X5QrcUc8pZsXi/60TcAAAD//wMAUEsDBBQABgAIAAAAIQAekRq37wAAAE4CAAALAAgCX3JlbHMvLnJlbHMgogQCKKAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArJLBasMwDEDvg/2D0b1R2sEYo04vY9DbGNkHCFtJTBPb2GrX/v082NgCXelhR8vS05PQenOcRnXglF3wGpZVDYq9Cdb5XsNb+7x4AJWFvKUxeNZw4gyb5vZm/cojSSnKg4tZFYrPGgaR+IiYzcAT5SpE9uWnC2kiKc/UYySzo55xVdf3mH4zoJkx1dZqSFt7B6o9Rb6GHbrOGX4KZj+xlzMtkI/C3rJdxFTqk7gyjWop9SwabDAvJZyRYqwKGvC80ep6o7+nxYmFLAmhCYkv+3xmXBJa/ueK5hk/Nu8hWbRf4W8bnF1B8wEAAP//AwBQSwMEFAAGAAgAAAAhADPCW79BAQAA5wQAABwACAF3b3JkL19yZWxzL2RvY3VtZW50LnhtbC5yZWxzIKIEASigAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArJQxT8MwEIV3JP5D5B07LVAQatoFkDqwQJFYneSSWI3tyL6Q9t9zojRNRYkYPN6z7r1P57Pny62uo09wXlmTsAmPWQQms7kyZcLe189X9yzyKE0ua2sgYTvwbLm4vJi/Qi2RmnylGh+Ri/EJqxCbByF8VoGWntsGDJ0U1mmJVLpSNDLbyBLENI5nwg092OLEM1rlCXOrnPLXuwb+422LQmXwaLNWg8EzEQKpF8hQuhIwYd/lXpxwMmPiPMN1SAaPu5qG2EPs67H4u5DxhTW4lmk9GEMvjUFMQ0KYVqfgaMeOEL00BjEJCZG1Hq3+oLQegvOjKhSCHl2LWUiaipxcrczmSPNj23UdT6XKW55ZLQ7HLzan5KctgjPyT8TbkIgdpG+ASHc0WN+BODarm6BP6BfFQTkgiJPvafEFAAD//wMAUEsDBBQABgAIAAAAIQBOMo6QFgYAAKYkAAARAAAAd29yZC9kb2N1bWVudC54bWzUWttu40QYvkfiHSJfLRKtz4eYTVeOD7uVQKoo+wCuPUmstT3WeNI0XC0XC1wguOBiuWClLgjBE4AEiIdZ0T28BTM+JM6h7cTZkm0vEnv+mW+++eb7/0yc3r13lsSdU4DyCKY9TtwXuA5IAxhG6bDHPfzM2zO4To79NPRjmIIeNwU5d+/g/ffuTswQBuMEpLhDINLcnGRBjxthnJk8nwcjkPj5fhIFCOZwgPcDmPBwMIgCwE8gCnlJEIXiKkMwAHlO5rP99NTPuQouOGNDC5E/IYMpoMIHIx9hcDbHEDcGUfkub6wCSS2AyAolcRVK3hhK4ymrFSClFRBhtYKktkNaszitHZK0iqS3Q5JXkYx2SCt2SlYNDjOQkuAAosTH5BYN+cRHj8bZHgHOfBydRHGEpwRT0GoYP0oftWBERs0QEjncGEHnExiCWA5rFNjjxig1q/F7s/GUulmOr97qEYhl/eUQpyoOxcp5BGKiBUzzUZTNMjxpi0aCoxrk9KpFnCZx3W+SiYzpcll5ckop54As9Cv9k7hkfjWiKDDsCIWYjWChsDhnzSQhLpxP3EqahrgiYwGpAaQVAC0AjAW/xjAqDD6YZyjFiRhTo8Ypd4XiRHNhRcY6tkymAZCDzSDUmkc+TRoryobb2fY+guNsjhZth3Y4L0ITehzYAKuyfzMl8+3IHI/8jNSmJDAPhylE/klMGBEzd4gfO8UO0FeyrfStuARnHVoIuANyfDmB4ZS+ZySimJmP/EPiHEV2dE+3La5oJcUf01a9+iOtJjkqhZ/2OEEQJE1z5FmTAwb+OMY04nUVRRfryFGjqZjwCBVvx3gaE4bmqR/3uAfAp2cukeNpDJVdYj8d1h1AuvfwmEb5KszPkMqX6tqDKc7JoFGUEi7Az7GVR35z4MTEBy/Pv3rz0w+0CZeBZZwrp6ajxIXBlMwaMT2l6wh9lUHMRcnejpjSDYrJoND2GksMGquOY+iu7exIY/m2ayyzaKwaqi4YNNd3obFy2zVWGDTW+7Il296uaoX6LmisMugkKIpouJqwI5202+5FjUFjTfQ8S7OMHWms33aNdQaNJd3qqoq8q5pq3HaNDRaNNcFzRafLoLGtaF2JdlzReDFSaFw1NTTeRMf1XBVLNcSux+KHnXOVBddQLEm6DVxVSxf6nubdPNfFPLNhCCqWdRxBOHARIj3wNCNf1YbIT46xj3CVi6WxA5jmMAb7MRzeWUqQtQhuGi6Mf/H4xxGIY/hhh3xbjMMXj5998BFDrsiSZnuiYjPoZLiC7fV3rVM+zTFI9uEY72eI1KA4baPWnZZyiYYu2oLFlK6u2C3OzqtyLURaytXME8Zvv//+9fOr8y8unj1lWKjqeroraMpWvliMFAutmoq9WDp9aJohGzrLN7o2M7asLrVj6MMbM8/8gBgqQyAH6BRwB5RlZ8l/1HgFrSO0NH29Wws7e5jGUQoa+zvbLgwuQ26YiBGX2SOvn39z8eWT0ik3tbAzvIzMuiuXbkRndSfW+1rRlb7nKExng00SeDuXXcK1qwiWJi99hmme4uiaRfNkJ1wXt2u78+Dr35+8+vPXJTeMSNVGxDuPOsiMyILRYahR/qMoxxBNSREuTbdox+vy4UGNem06MPB+8/0/L7/9ZdluM+JvV6SX539c/P0dg7eFru3alrhUs1VH6kuqPD/gULUcRVAdd51fFiM35m21L3ueJNOJGlwFQ1FFxZ0beQ3Xcrs3WkDV1FjA4qfrx8RZR4QYOSlko3JX0nFS9ozi07juJ8xih2HdVjy65mcDGlmyljCbK5rbf/H109fPf7u6FjfA2R5Rq47sCZq2JL/ueo5o2VfK//8oXf0g8K4rvcf0c4DrGX25v3TElmzV1foiLe47tfrGZf16xWbiLMlTh/yTCmauWA4CfDST+jopimUNjz8nwQnxhSQp9LmgOSLXqqFUWZoNP/EpIoYZaVfKLigajvD89gRiDJP5fQwGjegI+CEg8+oCfSRmDiDEjdvhGBe31XQBjKle1cmE9imaQxjcR/SnOJOeho4iHBCWslYM4ut1F5flD3P8/B+MDv4DAAD//wMAUEsDBBQABgAIAAAAIQC29GeY0gYAAMkgAAAVAAAAd29yZC90aGVtZS90aGVtZTEueG1s7FlLixtHEL4H8h+Guct6zehhrDXSSPJr1zbetYOPvVJrpq2eadHd2rUwhmCfcgkEnJBDDLnlEEIMMcTkkh9jsEmcH5HqHkkzLfXEj12DCbuCVT++qv66qrq6NHPh4v2YOkeYC8KSjls9V3EdnIzYmCRhx719MCy1XEdIlIwRZQnuuAss3Is7n392AZ2XEY6xA/KJOI86biTl7Hy5LEYwjMQ5NsMJzE0Yj5GELg/LY46OQW9My7VKpVGOEUlcJ0ExqL0xmZARdg6USndnpXxA4V8ihRoYUb6vVGNDQmPH06r6EgsRUO4cIdpxYZ0xOz7A96XrUCQkTHTciv5zyzsXymshKgtkc3JD/beUWwqMpzUtx8PDtaDn+V6ju9avAVRu4wbNQWPQWOvTADQawU5TLqbOZi3wltgcKG1adPeb/XrVwOf017fwXV99DLwGpU1vCz8cBpkNc6C06W/h/V671zf1a1DabGzhm5Vu32saeA2KKEmmW+iK36gHq92uIRNGL1vhbd8bNmtLeIYq56IrlU9kUazF6B7jQwBo5yJJEkcuZniCRoALECWHnDi7JIwg8GYoYQKGK7XKsFKH/+rj6Zb2KDqPUU46HRqJrSHFxxEjTmay414FrW4O8urFi5ePnr989PvLx49fPvp1ufa23GWUhHm5Nz9988/TL52/f/vxzZNv7XiRx7/+5avXf/z5X+qlQeu7Z6+fP3v1/dd//fzEAu9ydJiHH5AYC+c6PnZusRg2aFkAH/L3kziIEMlLdJNQoAQpGQt6ICMDfX2BKLLgeti04x0O6cIGvDS/ZxDej/hcEgvwWhQbwD3GaI9x656uqbXyVpgnoX1xPs/jbiF0ZFs72PDyYD6DuCc2lUGEDZo3KbgchTjB0lFzbIqxRewuIYZd98iIM8Em0rlLnB4iVpMckEMjmjKhyyQGvyxsBMHfhm327jg9Rm3q+/jIRMLZQNSmElPDjJfQXKLYyhjFNI/cRTKykdxf8JFhcCHB0yGmzBmMsRA2mRt8YdC9BmnG7vY9uohNJJdkakPuIsbyyD6bBhGKZ1bOJIny2CtiCiGKnJtMWkkw84SoPvgBJYXuvkOw4e63n+3bkIbsAaJm5tx2JDAzz+OCThC2Ke/y2EixXU6s0dGbh0Zo72JM0TEaY+zcvmLDs5lh84z01QiyymVss81VZMaq6idYQK2kihuLY4kwQnYfh6yAz95iI/EsUBIjXqT5+tQMmQFcdbE1XuloaqRSwtWhtZO4IWJjf4Vab0bICCvVF/Z4XXDDf+9yxkDm3gfI4PeWgcT+zrY5QNRYIAuYAwRVhi3dgojh/kxEHSctNrfKTcxDm7mhvFH0xCR5awW0Ufv4H6/2gQrj1Q9PLdjTqXfswJNUOkXJZLO+KcJtVjUB42Py6Rc1fTRPbmK4RyzQs5rmrKb539c0Ref5rJI5q2TOKhm7yEeoZLLiRT8CWj3o0Vriwqc+E0LpvlxQvCt02SPg7I+HMKg7Wmj9kGkWQXO5nIELOdJthzP5BZHRfoRmsExVrxCKpepQODMmoHDSw1bdaoLO4z02Tker1dVzTRBAMhuHwms1DmWaTEcbzewB3lq97oX6QeuKgJJ9HxK5xUwSdQuJ5mrwLST0zk6FRdvCoqXUF7LQX0uvwOXkIPVI3PdSRhBuENJj5adUfuXdU/d0kTHNbdcs22srrqfjaYNELtxMErkwjODy2Bw+ZV+3M5ca9JQptmk0Wx/D1yqJbOQGmpg95xjOXN0HNSM067gT+MkEzXgG+oTKVIiGSccdyaWhPySzzLiQfSSiFKan0v3HRGLuUBJDrOfdQJOMW7XWVHv8RMm1K5+e5fRX3sl4MsEjWTCSdWEuVWKdPSFYddgcSO9H42PnkM75LQSG8ptVZcAxEXJtzTHhueDOrLiRrpZH0Xjfkh1RRGcRWt4o+WSewnV7TSe3D810c1dmf7mZw1A56cS37tuF1EQuaRZcIOrWtOePj3fJ51hled9glabuzVzXXuW6olvi5BdCjlq2mEFNMbZQy0ZNaqdYEOSWW4dm0R1x2rfBZtSqC2JVV+re1ottdngPIr8P1eqcSqGpwq8WjoLVK8k0E+jRVXa5L505Jx33QcXvekHND0qVlj8oeXWvUmr53Xqp6/v16sCvVvq92kMwioziqp+uPYQf+3SxfG+vx7fe3cerUvvciMVlpuvgshbW7+6rteJ39w4Byzxo1IbtervXKLXr3WHJ6/dapXbQ6JX6jaDZH/YDv9UePnSdIw32uvXAawxapUY1CEpeo6Lot9qlplerdb1mtzXwug+Xtoadr75X5tW8dv4FAAD//wMAUEsDBBQABgAIAAAAIQDlI7CA9QMAAKALAAARAAAAd29yZC9zZXR0aW5ncy54bWy0Vttu2zgQfV9g/8HQ8zq6WHZsoU4R3zYp4nZRebHPlETZRHgRSMqu8/U7pETLu3ELp0VeEmrOzJkh53DoDx+/MdrbY6mI4FMvvAm8Hua5KAjfTr2/N6v+2OspjXiBqOB46h2x8j7e/f7bh0OisNbgpnpAwVXC8qm307pKfF/lO8yQuhEV5gCWQjKk4VNufYbkc131c8EqpElGKNFHPwqCkdfSiKlXS560FH1GcimUKLUJSURZkhy3/1yEvCZvE7IQec0w1zajLzGFGgRXO1Ipx8Z+lg3AnSPZ/2gTe0ad3yEMrtjuQcjiFHFNeSagkiLHSkGDGHUFEt4ljl8RnXLfQO52i5YKwsPArs4rH76NIHpFMMrxt7dxjFsOHyLPeUjxNp7RiYd0BxuOfq6YMwKF30YxdHWoI+t2pOg1PW6gJ5JJJJsb1DaY5cnjlguJMgrlQKN70Kuerc78hS2bf3YJOe/gIr8IwXqHpMIyBzXDFAgCzzdABtXBaFiIz0KntZSi5sUDRmD7LrwSQrcwKFCUqUYa8iZbiRjc/amXU4x4Q1/gEtVUb1CWalGB0x7B1m+jNnu+QxLlwJZWKAcdzwXXUlDnV5i0c5gjEmTeRtipYla1wqvlEzqKWp8haTOxgIEjBofznym0FgWMFAiV5PoumgBbTTg8L+H/iQRMWEkKvDFNSfWR4hVsJiUv+J4Xn2qlCTDaWfQLFfyoAMxN5i8go82xwiuMdA3H9k7JbGdWlFRrAqKQj7wAWb1bMlKWWEICAkJbg5yIFAd7zo1S3ysvKOwfcIZbPNiATJ9nQmvBHo7VDs761zpp9e+fyxme50K5xVe4YifXYBEHw8WyqdSgHRJEo9FicAkJV9Eyvr+EjJfBfDW7hMxm0WB+ewmZx6NJNLmILMPJ+GIFCyhiPL+IfHc/q0kc39qe+KcTYYl5dv+SbmWuVY81EXPEMklQb20eZt94ZPJ5RrjDMwzzFJ8jaZ05sN9vAMUQpStosANsc1hSEFUtcGnXdI3ktuNtPeRFK8y8TycuM26x/BMGZ9WgB4mq5ro4lzCO20jC9RNhzq7qLHVRHF6AMwim8Je9tOfUHc8h0SA/O3aekJWx9cW8P/9shIeR0veKoKn3sjOmRvlUpka1eI2qqhF/tg2nHiXbnQ5NmIavAn7S2Y9sG7VYZLGowewHys1mwbtddLbI2c78Bs426Gyxs8Wdbehsw842craRse1g3ElK+DPcQ7c09lJQKg64eOjwVyb3SuUERJAeWdY9PjcNRomCwVDBO6WFdNgfFgvjpBD5o3ls48Y+nIwXy8mg0XY4tO+btrMDjvYrLmdI4aJRt/tpffcvAAAA//8DAFBLAwQUAAYACAAAACEAQMH/8TkBAAAjAwAAFAAAAHdvcmQvd2ViU2V0dGluZ3MueG1snNJfT8IwEADwdxO/w9J36CCykIVBYgzGF2OifoDS3aCx7S294sBP720CYnhhvvT//XLXdrbYOZt8QiCDvhCjYSoS8BpL49eFeH9bDqYioah8qSx6KMQeSCzmtzezJm9g9Qox8klKWPGUO12ITYx1LiXpDThFQ6zB82aFwanI07CWToWPbT3Q6GoVzcpYE/dynKaZODDhGgWrymh4QL114GMXLwNYFtHTxtR01JprtAZDWQfUQMT1OPvjOWX8iRndXUDO6ICEVRxyMYeMOorDR2k3cvYXmPQDxhdApmHXz5geDMmR544p+znZyTHlmfO/ZM4Agn7E5JgH7V1bkdP509pjUCvLEr9RwtecdHDbcrZt1w35+Jx/LdbROPMFSwz3ARuCINtlZS02L8+PPJF/vvb8GwAA//8DAFBLAwQUAAYACAAAACEAOdtFTLkFAAAnWgAAEgAAAHdvcmQvbnVtYmVyaW5nLnhtbOyczW7qRhiG95V6D8j7xP8/oEOOwECV6rQ60knV9WAGsGKPrbGB0FV7Ke266q430EvpDfQWOuOxzZ9DbIMw5MwmDuP5Xs/3zjfDk0nCh48vvtdaQhy5AeoK8r0ktCBygomLZl3hp6fRnSW0ohigCfACBLvCGkbCx4dvv/mw6qCFP4aYdGwRDRR1VqHTFeZxHHZEMXLm0AfRve86OIiCaXzvBL4YTKeuA8VVgCeiIslS8l2IAwdGEdGxAVqCSEjlnJdyahMMViSYCmqiMwc4hi8bDbmyiC62RetQSKkhRDJU5EMptbKUIdJRHQhptYTIqA6U9HpKBckZ9ZSUQyWznpJ6qGTVUzooJ/+wwIMQInJzGmAfxOQlnok+wM+L8I4IhyB2x67nxmuiKRmZDHDRc40RkahcwVcnlRVM0Q8m0FMnmUrQFRYYddL4uzyeDr3D4tNLFoHL5M9CBoGz8CGKk8xFDD3iRYCiuRvmK9yvq0ZuzjOR5bEklr6X9VuFcsnl8tr2NGBWbgTLDD/13/fYyI8rylKJGaESeUSZIew+MxuJT6pw8+Ba1myZK5fcQDIB5UDAcGDJDT/TsFIN0dmsUKrjllwamQ6bFarjboyVS+5j+4PZEohgNQk9G0e09rcyCmenle13OFiEGzX3NLXHzSa0ojxQQSst/+0lGZ02mC9zEJK9yXc6jzMUYDD2yIhIMbdIPbaSGaBfybTSS/ItfGnRjUB4IPwCxlGMgRP/uPBbO68eSQERDiIiHQwJ/GDayFCnN40h7mMInmkXqoIiKt9ZAo+0jJS+ItuKINI7/sKL3U9wCb2ndQizPkmrR1tZr9gPveyeatvSUJE0dsdb0hsuuWTPSsaSdZZZL0JhIz9vHC88D8Z5/BN8yW/9++sfefv3TtbqwWnaPfyM6cVFNB3a3BU0hdrQmQM0S3iQviZ9xbwzTi+jAMURNTFyXFJgP5PelCCjJLpHLNpvcxGRn8ApIG6wx4+Tr25uJWuNfskalCRfMX2mmKSx75J8ukv//F7VJEu7nEkbO2T9bTuU0+3477e/q/ohK8alDDmevnqO9P+snL5hXUf6bJM7Mf2/qqavyNJ1pK83UvyKfrEt83j6RiPFr7QvthkeT99spPhV9Uq2PquR4lfNxrY+cQfg6DOO0p1ch+4Uua1LumWw/KvTXbsvGX1LS+O3p+sMdJc+r/xkXRPblYEZznY7dnC2Oz19znbV0udsx9mOsx1nuwunX5HtlDpsp2rKSB5ItdlOaxu2aitWbms+Xfzk7kIndzXW9OXwjsMchzkOc4Xpc5hroPg5zHGYuwWYU2vBXNvWTcsasvyLYW6+HmN38sMRpDN7pqbpmpabm09a4l0cek5XsI2BNVRNu8Y0hl/itZeP55MbxZ8BBjMMwnnhPH8FJ3y5rZakS0N5dAZ2fl9nfrlBw/5Is4b9s7x5XDM4VrWI7hepRZImtSVJYlUFUQxidwnP9JPGLcPmvkHMsjMbdMs4um8QazmzQbcMrPsGXccSuyKk3TfoOpbYFUHvvkHXscRuB4vpLl4HiwdqXxqw/KufcQ7aQ0Oib/2ZrfmEvv8zTn6ayU8z+WkmP818M31+mtlA8fPTTH6aeQvYRjG3Mrbplq0aZttm+VfHNsM2FG3YTk9Dt6frDNhWY7FybOPYtsmeYxvHNo5tHNsaTZ9jWwPFfzvYRk+8K2ObOVBHqmFpLP/q2NYb9CRTVtL47el679jGIe317DmkNVD6HNI4pHFI45DWaPoc0o5DGv2te3VIG/ZNc9QbsPyrQxrZGwzLlL/Kf/vgZ2sc2zi2cWx7M32ObQ0UP8c2jm1Xgm0owTWUffIKbdphtywjNZVDBWHsDbQwLPmf3VfC2BtPYVj2x+RFYQefD7gJM4+EsY2uMEw7EsY2iMKw5JMEXwljC6swLJvrojBWkIVhGcYlYezKIPrhfwAAAP//AwBQSwMEFAAGAAgAAAAhAPiVyO/8DgAA85kAAA8AAAB3b3JkL3N0eWxlcy54bWzsXd9zo0YSfr+q+x8oPSUPG/+QLTtbcVJr2T67btdxVt5L3eMIRhZnYHSA1uv89TczDAjUDKKHjuu8m6RqLQH9MczXX890A5qffvkSR95nnmahSM5GBz/sjzye+CIIk4ez0af7qzenIy/LWRKwSCT8bPTMs9EvP//9bz89vc3y54hnngRIsrexfzZa5vnq7d5e5i95zLIfxIoncudCpDHL5df0YS9m6eN69cYX8Yrl4TyMwvx573B/fzIyMGkfFLFYhD6/EP465kmu7fdSHklEkWTLcJWVaE990J5EGqxS4fMskxcdRwVezMKkgjk4AkBx6KciE4v8B3kxpkUaSpof7OtPcbQBOMYBHAKAic+/4DBODcaetKzjhAEOZ1LhhEENx60xNYCM4yCOy3Zkz7G6oth/e/OQiJTNI4kkOfJkN3saWP0rW6v+6I/y8J+lwwbCv+ALto7yTH1N71Lz1XzTf65Ekmfe01uW+WF4L9slweNQnuf6XZKFI7mHsyx/l4WsvvPSbFP7l+rAVks/y2ubz8MgHO2pk2Z/yJ2fWXQ2Ojwqt0xVIxrbIpY8lNt48mZ6W2/M2eiPpdk0l7hnI5a+mb1Thnvm2oq/tSteVd+Ko7a6R+pJqmtWiFzu5Yv3wn/kwSyXO85G++pUcuOnm7s0FKkU8tnoxx/NxhmPw+swCHhSOzBZhgH/fcmTTxkPNtt/u9JiNBt8sU7k5/HJRFMWZcHlF5+vlLTl3oSp3rtVBpE6eh1uTq7N/1uCHZg+a7Nfcqbim3ewDaGbj4I4VBZZ7WrbMddb166PQp1o/FInOnqpEx2/1IkmL3Wik5c60elLnUjD/JknCpOAfymECE8DUHfhWNSIxrGIDY1j0RIaxyIVNI5FCWgci6OjcSx+jMaxuCkCJxe+zQtrzj62eHs37u4xwg1395Dghrt7BHDD3R3w3XB3x3c33N3h3A13d/R2w90drPG4xVTLu5EyS/LBKlsIkSci517OvwxHY4nE0kkfDZ4a9HhKcpEEMEVkMwPxYDSf6e+7PUSL1H08z1U25omFtwgf1inPBjecJ595JLN2jwWBxCMETHm+Ti094uLTKV/wlCc+p3RsOtAoTLiXrOM5gW+u2AMZFk8C4u4rEUmCQuXQbJ0vlUhCAqeOmZ+K4U0TjCw+vA+z4X2lQLzzdRRxIqxbGhfTWMNzAw0zPDXQMMMzAw0zPDGocUbVRQaNqKcMGlGHGTSifiv8k6rfDBpRvxk0on4zaMP77T7MIx3i67OOg/61u2kkVJl+cDtm4UPC5ARg+HBjaqbeHUvZQ8pWS0+VkNth69eMPc+5CJ69e4oxrUKimtdrF5nKqw6T9fAObaBRiavCI5JXhUcksApvuMQ+yGmymqBd0+Qzs/U8bxWtRuol2hmL1sWEdrjaWD7cwzYCuArTjEwG7bAEHnyrprOKTorIt2nl8IZtsIbLajsqkTbPQBK0MhL+I00Yvn5e8VSmZY+Dka5EFIknHtAhzvJUFL5Wl/yhpqSX5C/j1ZJloc6VGhD9h/ryBr/3ga0GX9BdxMKEhrfLNzELI49uBnF9/+G9dy9WKs1UHUMDeC7yXMRkmKYS+N3vfP49TQPfySQ4eSa62ndE5SENNg0JBpkCSQRESHKaGSYhyRiq8f7Jn+eCpQEN2l3Ki2dqck6EOGPxqph0EGhLxsUnGX8IZkMa718sDVVdiEpU9yRgtbJhtp7/h/vDQ92t8EgqQ7+uc11/1FNdbU0HN3ya0IAbPkXQbMrhQfkvwcU24IZfbAOO6mKnEcuy0HoL1RmP6nJLPOrrHZ78GTwRiXSxjug6sAQk68ESkKwLRbSOk4zyijUe4QVrPOrrJXQZjUdQktN4/0jDgIwMDUbFhAajokGDUXGgwUgJGP6ETg1s+GM6NbDhz+oUYERTgBoYlZ+RDv9Ed3lqYFR+psGo/EyDUfmZBqPys/GFxxcLOQmmG2JqkFQ+V4OkG2iSnMcrkbL0mQjyMuIPjKBAWqDdpWKhXrYQSfEQNwGkqlFHhJPtAo6K5N/5nKxpCouyXQQVURZFQhDV1jYDjrZsPru2y0y/czG4CXcR8/lSRAFPLddkt5X58mzFfFOmB7f7epU934cPy9ybLatqfx1msr/TskzYG2a7T9jW55PDDrMPPAjXcdlQ+DLFZNzfWHt0w7h856XDeDOTaFge97SE55zsttzMkhuWJz0t4TlPe1pqnTYsu/RwwdLHVkc46fKfKsezON9JlxdVxq2n7XKkyrLNBU+6vKghFe+d76u7BZCdfpqx2/cTj90eoyI7CkZOdpTeurJDdAnsI/8cqpEdEzT1+aqnJ0Dc15PoXpHzt7Uo6vaNG079X+q6kROnJONeK864/42rRpSx92PvcGOH6B137BC9A5AdolckspqjQpIdpXdsskP0DlJ2CHS0giMCLlpBe1y0gvYu0QqiuESrAbMAO0Tv6YAdAi1UCIEW6oCZgh0CJVRg7iRUiIIWKoRACxVCoIUKJ2A4oUJ7nFChvYtQIYqLUCEKWqgQAi1UCIEWKoRACxVCoIXqOLe3mjsJFaKghQoh0EKFEGih6vniAKFCe5xQob2LUCGKi1AhClqoEAItVAiBFiqEQAsVQqCFCiFQQgXmTkKFKGihQgi0UCEEWqjFq4buQoX2OKFCexehQhQXoUIUtFAhBFqoEAItVAiBFiqEQAsVQqCECsydhApR0EKFEGihQgi0UPXNwgFChfY4oUJ7F6FCFBehQhS0UCEEWqgQAi1UCIEWKoRACxVCoIQKzJ2EClHQQoUQaKFCiC7/NLcobY/ZH+CrntYn9vvfujKN+lh/lbsONe4PVbbKjtX/XYRzIR691hcPxzrf6AcSzqNQ6BK15bZ6HVc/EoG68fnrtPsNnzr6wB9dMu9C6HumAPyoryWoqRx1uXzdEiR5R12eXrcEs86jruhbtwTD4FFX0NW6LB9KkcMRMO4KMzXjA4t5V7SumcMu7orRNUPYw12RuWYIO7grHtcMjz0VnLetj3v206R6vhQgdLljDeHEjtDllpCrMhxDYfQlzY7Qlz07Ql8a7QgoPq0weGLtUGiG7VBuVEOZYal2F6odAUs1RHCiGsC4Uw2hnKmGUG5Uw8CIpRoiYKl2D852BCeqAYw71RDKmWoI5UY1HMqwVEMELNUQAUv1wAHZCuNONYRyphpCuVENJ3dYqiEClmqIgKUaIjhRDWDcqYZQzlRDKDeqQZaMphoiYKmGCFiqIYIT1QDGnWoI5Uw1hOqiWldRGlSjGK6Z4yZhNUPcgFwzxAXnmqFDtlSzdsyWagiO2RLkquQcly3VSbMj9GXPjtCXRjsCik8rDJ5YOxSaYTuUG9W4bKmNaneh2hGwVOOyJSvVuGypk2pcttRJNS5bslONy5baqMZlS21UuwdnO4IT1bhsqZNqXLbUSTUuW7JTjcuW2qjGZUttVOOypTaqBw7IVhh3qnHZUifVuGzJTjUuW2qjGpcttVGNy5baqMZlS1aqcdlSJ9W4bKmTaly2ZKcaly21UY3LltqoxmVLbVTjsiUr1bhsqZNqXLbUSTUuW/ogTUKCn4CaxSzNPbrfi7tm2TJnw3+c8FOS8kxEn3ng0V7qe9RV7j01lr9S2Hq1O3l8LvtM/QJ67XWloPgFWAOoD7wJqmWqlLFqiWeW7jKbdYPN7Vr9Oc1kTm2O2d8/Pz8cT43UVsXSZFnxZqk8Rv1a0dloPNGvJKkvH9dqDTS2zoVpvTbZM43Z0fyqweb+8wFo8mbBLN2eOZM99avqYXBBifqxxZbtysnK7eVppkuWFns37l8eYwRu75+Lo/3ji8tG/zxyvrqV59fb1BfJOc/0t03XzdXvlHG1qJoRvyh+/On956gCr/ehZWE4qcRyrTrv3+yaNxaGa92pV4Vr3eNnZ6P7MOaZd8ufvI8iZon3nemkzJvOvje9rv/1VfjYdIP6T2HodeV0aDkbqd+9N0xtFpYrb5TXF5Yb60hTWx/OxVsOrd5i4hiNtxz28JamlP9kB7L7TxlBvir/GZuJQ2NhQr1toP+Mrf5jHgqh8Z/x6/GfUpVfl/9QxJojq6+Y6EbjK0evx1e0Rv5ffSWcFhfk7DPlSDzEZ46tPmMeAKPxmePX4zNaK19DfBnoGcUKs22eYcY6Gs+YvB7P0Ir4yzMeTqyeYTIyGs84eT2eUc70vppxZqCHnFo9xBS3aDzk9PV4iFbGq4gdhyfq/3bPKDfeh2oV8gtDZiPp6ek+vmSO+eYnxy0VIrN0UPXbN3rhoG3HsqwvZHGKchJVlbnafcTe7lzVKTvarOuYnaWtotRp9VrjtrtaKNszjwonkh9uEuXET2aV96KlwRdWQMn9Ux5FH1hxtFjZD434QmlP7j3Y1780ubV/XiyaYLVPdXXdCrDXbEzxtdtPimUUw+K1D2slUZWQW7pbv4M0tKd7+rC/zmTXzNQB2+1rVPS2W2l2egfeJphtRcdWHdhiovFwazy0B7y/KnlIQouim43QQyJCTZ3wmyV0SGkNSWhRBbMROiYi1BTuvl1C/xw1FmUpG3lHROSZ6PLqyXup4hOSxKJOZCPxmIhEU9r6phRITlVRuLFRNSGiygT/v6gaQlVRSbFRdUJElSn+fJOhkZyyorRho+yUiDKTwH9d6nqZAkaj/tXBp17ibptHvbGNvX5Pv5xe7k+vzoujTEFpdR7U0nt9nFoI2qyb9oe6raE+rJhftlD32eapmCr532GrPwPbqjDgdOaybOBwalVSM5eeLasu8iPOCqHVjpZfF2Ek916eXE4u9YNl2heu9MY58x8fUrFOgn43mKciyUTE9O+BbFx8FsaztX4oy3h2/bBWl9aLsFbuHDFdT9QXwZM3n2a0weUmUWXJVpes7cKFFWuRrZ//EnVv0eagCgKJSCof0mHb+JD+DByQ1HVoWNwMCNVTiNuUbfYMZayshbWUGZvMTS8Pfjw1CaxhrjlMHk/G002YNbF32WzoujzaSH1A52weiCyfh9zupJZHJql6a3eNFtd5k/3jy+Mp1iMPLq4uLhzGrKoPVZF08/vy2/2nn87d7G7ru/qgBXtrbFJm1F2XZB0XH8Jo68kfve+msi5Ha2MAwnZPKZafsp//BwAA//8DAFBLAwQUAAYACAAAACEAzJJQVH0BAADxAgAAEQAIAWRvY1Byb3BzL2NvcmUueG1sIKIEASigAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjJLLTsMwEEX3SPxD5H1qJ+WlKE3FQ6yoQKIViJ2xJ60hsS17IPTvcZI2JYgFO4/n+GRy7Xz+VVfRJzivjJ6RZMJIBFoYqfR6RlbL2/iCRB65lrwyGmZkC57Mi+OjXNhMGAcPzlhwqMBHwaR9JuyMbBBtRqkXG6i5nwRCh2ZpXM0xlG5NLRfvfA00ZeyM1oBccuS0FcZ2MJKdUopBaT9c1QmkoFBBDRo9TSYJPbAIrvZ/Hug6P8ha4dbCn+i+OdBfXg1g0zSTZtqhYf6EPi/uHrtfjZVusxJAilyKDBVWUOT0sAwr//H6BgL77aEIa+GAo3HFQglnvCkxui9LJSBaeXAdvSfa7N9h2xgnffCMqoBJ8MIpi+FG+6+MNgJdcY+LcMWlAnm1LS5Pz9OzTvOr0bIOPlX7NoqkI4Yy3wXdDwUyCgFlfZz7ztP0+mZ5S4qUpUnMTuIpW7I0O00zxl7auUbnD8J6N8A/jdOMnYyNe0EfzfiRFt8AAAD//wMAUEsDBBQABgAIAAAAIQAiURHx1QEAAN4DAAAQAAgBZG9jUHJvcHMvYXBwLnhtbCCiBAEooAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJxTwW7bMAy9D9g/GLo3crKh6AJFxZBi6GFDA8Rtz5xMJ8JsSZDYINnXj7YTT9l2mk/vkfTTE0mp+2PXFgeMyXq3EvNZKQp0xtfW7VbiufpycyeKROBqaL3DlThhEvf6/Tu1iT5gJIupYAmXVmJPFJZSJrPHDtKM044zjY8dENO4k75prMEHb946dCQXZXkr8UjoaqxvwiQoRsXlgf5XtPam95deqlNgPa0q7EILhJrOYFZ7Oio5xVXlCdrKdqjnJccnpjaww6TnSo5AvfpYJ724U3JEar2HCIa4h3p++0HJjKvPIbTWAHF39Tdrok++oeJpsFz0/yuZlyi+xhbNW7R00mwjp+qrdaOREbCxCLsIYX92NzG1NdDimhugG2gTKvk7oB4R+uFuwPb+DrQ8oCEfi2R/8ngXovgOCfu2rcQBogVHYiwbyYDbkCjqylLL2hMfYF6WY/uxNzmC68KBDB4YX7sbTkhPDd+N/mF2npsdPIxWMzu5s8sZf6iufRfAcX/lhLjBP9JzqPxDvxrnHl4Hs6m/WtpvA5h+OJ/KfP5ZRm05ijUPdJrJFFCPfIPY9vr8r9thfan5O9Fv1Mv4XHnbZiV/wwpdYrwI0zvSvwAAAP//AwBQSwMEFAAGAAgAAAAhAIg/pb/hAAAAVQEAABgAKABjdXN0b21YbWwvaXRlbVByb3BzMS54bWwgoiQAKKAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnJDBasMwEETvhf6D2bsiObFdEyyHuE4g19JCroq8tgWWZCS5tJT+e2V6So89LbPDzhu2OnzoKXlH55U1HNINgwSNtJ0yA4e31zMpIfFBmE5M1iAHY+FQPz5Und93IggfrMNLQJ3EhYrz0nL4ykvW5E87Rsr2nJLilDXkmKUNKTKWt8fnU8pY8Q1JRJsY4zmMIcx7Sr0cUQu/sTOaaPbWaRGidAO1fa8ktlYuGk2g25hA5RLx+qonqNc+v9cv2Pt7uVZbnPov5aZuk7KDE/P4CbSu6B/Uqu9eUf8AAAD//wMAUEsDBBQABgAIAAAAIQDBJ8sItgAAACEBAAATACgAY3VzdG9tWG1sL2l0ZW0xLnhtbCCiJAAooCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACskE0OgjAQRq9CegCKLlgQfmKiWzEhcV/KAE3aGdIOBm5v1egJXE7mfS/zTdlsziYP8MEQVuKQZiIJrHBQlhAqgSSauuyLjlavISSRxlD0lZiZl0LKoGdwKqS0AMbdSN4pjqOfJI2j0XAmvTpAlscsy2Vvemto8mqZd/GR/UfVgQXNMHS823i2PN1Ondl4vgyGY7P2LWjRGoR0CzYGXuBVuQhHViT37wtyUZfyV7h+AgAA//8DAFBLAwQUAAYACAAAACEAdD85esIAAAAoAQAAHgAIAWN1c3RvbVhtbC9fcmVscy9pdGVtMS54bWwucmVscyCiBAEooAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIzPsYrDMAwG4P3g3sFob5zcUMoRp0spdDtKDroaR0lMY8tYamnfvuamK3ToKIn/+1G7vYVFXTGzp2igqWpQGB0NPk4Gfvv9agOKxcbBLhTRwB0Ztt3nR3vExUoJ8ewTq6JENjCLpG+t2c0YLFeUMJbLSDlYKWOedLLubCfUX3W91vm/Ad2TqQ6DgXwYGlD9PeE7No2jd7gjdwkY5UWFdhcWCqew/GQqjaq3eUIx4AXD36qpigm6a/XTf90DAAD//wMAUEsDBBQABgAIAAAAIQDrgGBMUwMAAI8OAAASAAAAd29yZC9mb250VGFibGUueG1szJbPb9MwFMfvSPwPUU7jwJqkXZdV66Y2WzQk2IEVAUc3cVqL2I7itF3/AA6IE+LI38C4gwb/DNPYf8FznLRZm25LQbBGzY9n+5vnT57f8+7+KQ21MY4F4aytm5uGrmHmcZ+wQVt/0XMf27omEsR8FHKG2/oUC31/7+GD3Ukr4CwRGoxnokW9tj5MkqhVqwlviCkSmzzCDBoDHlOUwGM8qFEUvxlFjz1OI5SQPglJMq1ZhtHUM5n4Lio8CIiHD7g3opgl6fhajENQ5EwMSSRytcld1CY89qOYe1gImDMNlR5FhM1kzMaSECVezAUPkk2YTOZRKgXDTSO9o+FcYKuagLUk0PTwaTUNO9OowciiDvGr6TRnOsQv6KznTEFA4GoSW7kfYkrljKjXejJgPEb9EJTgG2mAWUuF5Rm8lZf0FrrvZfGqTVoMURjwEj62DHKRNkWIcYFNaB2jsK0bW8bST6/Jjt4QxQJLmbRj40CZA0RJOM2tPvbAr4SMsWqNSOIN88Yxion0WTUJMoCGkegb8Fb1q+vKYsJyzN+tLNasT26pX7d4qY6tDGZmMQt94J01BWIJSI9QLLRjPNGec4pYKRYLjqZRBzwN+Ftw1yjFktO6jiVOdasQgaVoWB17e04km9syEfsmIoqH61Yj4qCQ9GOygoSbEpBHAzhYlUiICRGiEomOdNY6TGegSDSkwdjuVosN9bxTkcQBZoNXJAsKFCbHYM19vvz87vLrj2wyS5RMiBcIabhmRyklu1lGCY0SvgakbgFS3XbcbcftLEIym7dAknQrQnqWZy/tNTrCKmwWWF18P/t1/uXq09urbx9WEetCXMl4knGVnisQqx5X6XqyiivM6jhu3dmy1kFmVkS2kHO0jSOM0qSsOSePygAuJqmVDJsZvWyF/oUs5eMAjcLkxoQB+w8eovKSorzaWTNjUO7juMytgJxif/m7HsrSYamMN88XrjOzzPPFzu2Zs2q+OCH0ZFSaLS7O3v88/3gvskU2j0K5tWzbzadfOVv8WbnVNrrcn96PsGc86cUj3JtGeK1lkFcL7SkZDJPVNSNrvw+x8H8rR7bRKPAq226oovBvthuHEkenmD4caWmUbDfukD5u3XhlN2LvNwAAAP//AwBQSwECLQAUAAYACAAAACEAZPVj7oEBAAApBgAAEwAAAAAAAAAAAAAAAAAAAAAAW0NvbnRlbnRfVHlwZXNdLnhtbFBLAQItABQABgAIAAAAIQAekRq37wAAAE4CAAALAAAAAAAAAAAAAAAAALoDAABfcmVscy8ucmVsc1BLAQItABQABgAIAAAAIQAzwlu/QQEAAOcEAAAcAAAAAAAAAAAAAAAAANoGAAB3b3JkL19yZWxzL2RvY3VtZW50LnhtbC5yZWxzUEsBAi0AFAAGAAgAAAAhAE4yjpAWBgAApiQAABEAAAAAAAAAAAAAAAAAXQkAAHdvcmQvZG9jdW1lbnQueG1sUEsBAi0AFAAGAAgAAAAhALb0Z5jSBgAAySAAABUAAAAAAAAAAAAAAAAAog8AAHdvcmQvdGhlbWUvdGhlbWUxLnhtbFBLAQItABQABgAIAAAAIQDlI7CA9QMAAKALAAARAAAAAAAAAAAAAAAAAKcWAAB3b3JkL3NldHRpbmdzLnhtbFBLAQItABQABgAIAAAAIQBAwf/xOQEAACMDAAAUAAAAAAAAAAAAAAAAAMsaAAB3b3JkL3dlYlNldHRpbmdzLnhtbFBLAQItABQABgAIAAAAIQA520VMuQUAACdaAAASAAAAAAAAAAAAAAAAADYcAAB3b3JkL251bWJlcmluZy54bWxQSwECLQAUAAYACAAAACEA+JXI7/wOAADzmQAADwAAAAAAAAAAAAAAAAAfIgAAd29yZC9zdHlsZXMueG1sUEsBAi0AFAAGAAgAAAAhAMySUFR9AQAA8QIAABEAAAAAAAAAAAAAAAAASDEAAGRvY1Byb3BzL2NvcmUueG1sUEsBAi0AFAAGAAgAAAAhACJREfHVAQAA3gMAABAAAAAAAAAAAAAAAAAA/DMAAGRvY1Byb3BzL2FwcC54bWxQSwECLQAUAAYACAAAACEAiD+lv+EAAABVAQAAGAAAAAAAAAAAAAAAAAAHNwAAY3VzdG9tWG1sL2l0ZW1Qcm9wczEueG1sUEsBAi0AFAAGAAgAAAAhAMEnywi2AAAAIQEAABMAAAAAAAAAAAAAAAAARjgAAGN1c3RvbVhtbC9pdGVtMS54bWxQSwECLQAUAAYACAAAACEAdD85esIAAAAoAQAAHgAAAAAAAAAAAAAAAABVOQAAY3VzdG9tWG1sL19yZWxzL2l0ZW0xLnhtbC5yZWxzUEsBAi0AFAAGAAgAAAAhAOuAYExTAwAAjw4AABIAAAAAAAAAAAAAAAAAWzsAAHdvcmQvZm9udFRhYmxlLnhtbFBLBQYAAAAADwAPANQDAADePgAAAAA=","base64")),w(this.doc&&this.doc.data()),o=new vu(e,this.doc.data(),(function(e){return k()(e)}),(function(e,t,n){return DX(c,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.buildResourceUrl(n,void 0,{withToken:!0}),null!=(null===(t=this.options.callbacks)||void 0===t?void 0:t.onDownloadImage)){e.next=7;break}return e.next=4,ja(r);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,this.options.callbacks.onDownloadImage(this,r,ja);case 9:e.t0=e.sent;case 10:if(o=e.t0){e.next=13;break}return e.abrupt("return",void 0);case 13:if(-1===o.type.indexOf("/svg")){e.next=18;break}return e.next=16,bX(o);case 16:(i=e.sent)&&(o=new File([i],o.name));case 18:return e.t1=Sn.lW,e.next=21,o.arrayBuffer();case 21:return e.t2=e.sent,e.abrupt("return",e.t1.from.call(e.t1,e.t2));case 23:case"end":return e.stop()}}),e,this)})))}),void 0,(function(e,t,n){return DX(c,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(o=Qp(n.type)).toStandardDoc){r.next=3;break}return r.abrupt("return",o.toStandardDoc(this,e,t,n));case 3:return r.abrupt("return",void 0);case 4:case"end":return r.stop()}}),r,this)})))}),(function(e){return DX(c,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=bd(e.attributes.type)).toStandardText){t.next=3;break}return t.abrupt("return",n.toStandardText(this,e.attributes));case 3:return t.abrupt("return",void 0);case 4:case"end":return t.stop()}}),t,this)})))}),n),r.next=6,o.convert(this.auth.appId,this.auth.docId);case 6:return i=r.sent,t&&(a=URL.createObjectURL(i),(s=document.createElement("a")).setAttribute("download","".concat(this.titleFromEditor(),".docx")),s.setAttribute("href","".concat(a)),s.click(),s.remove()),r.abrupt("return",i);case 9:case"end":return r.stop()}}),r,this)})))}},{key:"updateToc",value:function(){this.isValid()&&Xq(this)}},{key:"play",value:function(){!function(e){var t,n;KZ(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=null!==(n=null===(t=e.options.cdn)||void 0===t?void 0:t.revealjs)&&void 0!==n?n:{js:["https://cdn.jsdelivr.net/npm/reveal.js@4.1.3/dist/reveal.min.js"],css:["https://cdn.jsdelivr.net/npm/reveal.js@4.1.3/dist/reveal.css","https://cdn.jsdelivr.net/npm/reveal.js@4.1.3/dist/theme/black.css"]},i=[],o.js.forEach((function(e,t){return i.push(gs(e,"editor-revealjs-".concat(t)))})),o.css.forEach((function(e,t){return i.push(bs(e,"editor-style-revealjs-".concat(t)))})),r.next=6,Promise.all(i);case 6:if((a=document.querySelector("#editor-reveal-root"))?a.innerHTML="":((a=document.createElement("div")).id="editor-reveal-root",Qa(a,"reveal","deck1"),document.body.appendChild(a)),Qa(s=document.createElement("div"),"slides"),a.appendChild(s),(c=e.getAllBlocks({deep:!1}))&&0!==c.length){r.next=14;break}return r.abrupt("return");case 14:l=[],c.forEach((function(e){var t=e.cloneNode(!0);GZ(t),l.push(t)})),WZ(l).forEach((function(e){if(0!==e.length){var t=document.createElement("section");s.appendChild(t),WZ(e).forEach((function(e){var n=document.createElement("section");t.appendChild(n),e.forEach((function(e){n.appendChild(e)}))}))}})),window.Reveal.initialize();case 20:case"end":return r.stop()}}),r)})))}(this)}},{key:"animateScrollToBlock",value:function(e){var t=Gp(e),n=t.getBoundingClientRect(),r=cs(this.rootContainer()),o=n.y;0===o&&(o=t.getBoundingClientRect().y),Es(r,r.scrollTop+o-document.body.clientHeight/2)}},{key:"setBlockIconVisible",value:function(e){e?Qa(this.rootElement,"block-icon"):Ja(this.rootElement,"block-icon")}},{key:"isInComment",value:function(e){return!!e.closest(".".concat(D_))}},{key:"setQuickInsertMenuTrigger",value:function(e){this.options.quickInsertMenuTrigger=Object.assign(Object.assign({},this.options.quickInsertMenuTrigger),e)}},{key:"startHeadingBlockScrollListener",value:function(e){var t;null===(t=this.headingBlockScrollListener)||void 0===t||t.start(e)}},{key:"stopHeadingBlockScrollListener",value:function(){var e;null===(e=this.headingBlockScrollListener)||void 0===e||e.stop()}},{key:"getWikiBoxDataByLinkId",value:function(e){for(var t=this.boxDataMap.values(),n=0;n<this.boxDataMap.size;n++){var r=t.next().value;if(r.type===Pi.WIKI_LINK){var o=r;if(o.linkId===e)return o}}return null}},{key:"processHeadingBlocks",value:function(){var e=SN(this.rootContainer());e.reverse(),e.forEach((function(e){Gu(e)&&qu(e)&&Ju(e,!1)}))}}])&&IX(t.prototype,n),r&&IX(t,r),e}();function NX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}OX.editors=new Map,OX.commandTarget=null,OX.commandTargetCallbacks=new Set;const LX=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callback=null,this.onMouseMove=function(e){t.dragBlock&&(t.dragBlock.style.left="".concat(t.getComputedNumber(e.clientX),"px"),t.dragBlock.style.top="".concat(t.getComputedNumber(e.clientY),"px"),t.onScroll(e),t.onDragging&&t.onDragging(e))},this.onScroll=ky()((function(e){if(t.dragBlock){var n=e.clientY?t.getComputedNumber(e.clientY):t.lastClientY;if(t.lastClientY=n,t.rootContainerRect&&t.scrollContainer){var r=n-t.dragBlock.offsetHeight/2,o=n+t.dragBlock.offsetHeight/2;r<=t.rootContainerRect.top?t.scrollContainer.scrollTop-=10:o>=t.body.offsetHeight&&(t.scrollContainer.scrollTop+=10)}}}),15),this.onDragEnd=function(){var e,n;OX.setCursor(null),null===(e=t.dragBlock)||void 0===e||e.remove(),document.removeEventListener("mousemove",t.onMouseMove),document.removeEventListener("mouseup",t.onDragEnd),document.removeEventListener("mouseleave",t.onDragEnd),null===(n=t.scrollContainer)||void 0===n||n.removeEventListener("scroll",t.onScroll),t.callback&&t.callback(),t.dragBlock=null,t.rootContainerRect=null,t.scrollContainer=null,t.onDragging=null,t.callback=null,t.lastClientY=0},this.dragBlock=null,this.rootContainerRect=null,this.scrollContainer=null,this.onDragging=null,this.callback=null,this.lastClientY=0,this.body=xs(document.body),this.zoom=1}var t,n,r;return t=e,(n=[{key:"createImageDragTool",value:function(e,t,n,r,o){var i=n.getAttribute("src");w(i),OX.setCursor("grabbing");var a=ps("div",["image-drag-container"],null),s=ps("img",[],a);return s.style["max-width"]="64px",s.style["max-height"]="64px",s.setAttribute("src",i),n.getAttributeNames().forEach((function(e){e.startsWith("comment-")&&s.setAttribute(e,n.getAttribute(e))})),a.style.left="".concat(this.getComputedNumber(e.clientX),"px"),a.style.top="".concat(this.getComputedNumber(e.clientY),"px"),this.updateBody(),this.dragBlock=a,this.rootContainerRect={top:this.getComputedNumber(Ts(t,this.body))},this.scrollContainer=cs(t),this.onDragging=r,this.callback=o,this.body.appendChild(a),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("mouseleave",this.onDragEnd),this.scrollContainer.addEventListener("scroll",this.onScroll),a}},{key:"createElementDragTool",value:function(e,t,n,r,o){OX.setCursor("grabbing"),t.style.left="".concat(e.clientX,"px"),t.style.top="".concat(e.clientY,"px"),this.updateBody(),this.rootContainerRect={top:Ts(n)},this.scrollContainer=cs(n),this.dragBlock=t,this.onDragging=r,this.callback=o,this.body.appendChild(t),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("mouseleave",this.onDragEnd),this.scrollContainer.addEventListener("scroll",this.onScroll)}},{key:"updateBody",value:function(){this.body=xs(document.body),this.zoom=parseFloat(window.getComputedStyle(this.body).zoom)}},{key:"getComputedNumber",value:function(e){return e/this.zoom}}])&&NX(t.prototype,n),r&&NX(t,r),e}());var RX=null;function jX(e){var t,n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null,s=e.target,c=s.querySelectorAll(":scope > [".concat(Ui.NODE_TYPE,"=block]"));if(c.length){var l=Number.MAX_VALUE;Array.from(c).forEach((function(t){var n=t.getBoundingClientRect(),r=Math.pow(n.x-e.clientX,2)+Math.pow(n.y-e.clientY,2);r<l&&(a=t,l=r)}))}else a=wN(e.target);if(a)if(Jh(a)){var u=s.closest("td");if(u){var d=SN(Sx(u));w(d.length>0),a=d[d.length-1]}}else if(zf(a)){var p=Mh(a);w(p),$h(p)&&(a=p)}if(a&&(null!==(n=null===(t=i.filter)||void 0===t?void 0:t.call(i,a,RX))&&void 0!==n?n:a!==RX)){RX&&Wh(RX).remove(),RX=a;var f=Wh(a);null!==(o=null===(r=i.handleMarkingLine)||void 0===r?void 0:r.call(i,a,f))&&void 0!==o&&o||(f.style.bottom="0px")}return RX}var UX=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function FX(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e4,o=arguments.length>4?arguments[4]:void 0;return UX(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,s,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a="".concat(e.replace("http:","ws:").replace("https:","wss:"),"/editor/").concat(t,"/").concat(n),wR.types.register(TR.type),s=new vQ(a,o),i.next=5,s.init({appId:t,docId:n,userId:"",permission:"r",displayName:"",avatarUrl:""});case 5:return i.next=7,s.get(t,n);case 7:return c=i.sent,i.abrupt("return",new Promise((function(e){var t=!1;function n(n){s.end(!1),s.destroy(!1),t=n,e(n)}c.on("local doc updated",(function(){n(!0)}));var o=Date.now();!function e(){t?n(!0):Date.now()-o>r?n(!1):setTimeout(e,100)}()})));case 9:case"end":return i.stop()}}),i)})))}function zX(e,t){var n=e.split("\n").map((function(e){return gn(un(e))}));return void 0!==t&&n.unshift({id:B(),type:"text",heading:1,text:mn(t)}),{blocks:n,meta:{},comments:{}}}function QX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var HX={resizeWidth:!0,resizeHeight:!0,ignore:{top:!1,right:!1,bottom:!1,left:!1}},VX=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HX;QX(this,e),this.resizeOptions=n,this.startEvent=null,this.handleResizeCb=null,this.resizeBlock=null,this.resizeElement=null,this.initSize=null,this.blockRect=null,this.isHide=!1,this.onShow=!1,this.body=xs(document.body),this.zoom=1,this.handleResize=function(n){if(w(t.startEvent),t.startEvent.target instanceof HTMLElement){w(t.handleResizeCb),w(t.resizeElement),w(t.resizeBlock),w(t.initSize),w(t.blockRect);var r={},o=function(e){return t.getComputedNumber(e)},i=Math.max(Math.min(o(n.clientX),t.blockRect.right),t.blockRect.left),a=Math.max(o(n.clientY),t.blockRect.top),s=2;(Ga(t.resizeBlock,"block-align-left")||Ga(t.resizeBlock,"block-align-right"))&&(s=1);var c=o(t.startEvent.clientX),l=o(t.startEvent.clientY);Ga(t.startEvent.target,e.SLIDER_LEFT)?r.width=(c-i)*s+t.initSize.width:Ga(t.startEvent.target,e.SLIDER_RIGHT)?r.width=(i-c)*s+t.initSize.width:Ga(t.startEvent.target,e.SLIDER_BOTTOM_LEFT)?(r.width=(c-i)*s+t.initSize.width,r.height=t.initSize.height+a-l):Ga(t.startEvent.target,e.SLIDER_BOTTOM_RIGHT)?(r.width=(i-c)*s+t.initSize.width,r.height=t.initSize.height+a-l):Ga(t.startEvent.target,e.SLIDER_TOP)?r.height=t.initSize.height+l-a:Ga(t.startEvent.target,e.SLIDER_TOP_LEFT)?(r.width=(c-i)*s+t.initSize.width,r.height=t.initSize.height+l-a):Ga(t.startEvent.target,e.SLIDER_TOP_RIGHT)?(r.width=(i-c)*s+t.initSize.width,r.height=t.initSize.height+l-a):Ga(t.startEvent.target,e.SLIDER_BOTTOM)&&(r.height=t.initSize.height+a-l);var u="resizing";"mouseup"===n.type&&(u="end"),Qa(t.getResizeTool(t.resizeBlock),"moving"),t.handleResizeCb(r,u),t.updateResizeTool(t.resizeBlock,t.resizeElement)}"mouseup"===n.type&&(w(t.resizeBlock),Ja(t.getResizeTool(t.resizeBlock),"moving"),window.removeEventListener("mousemove",t.handleResize,!0),window.removeEventListener("mouseup",t.handleResize,!0),t.startEvent=null,t.initSize=null,t.blockRect=null,t.isHide&&(w(t.resizeBlock),t.hide(t.resizeBlock)))},this.handleMouseDown=function(e){w(t.resizeElement),w(t.resizeBlock),t.startEvent=e;var n=t.resizeElement.getBoundingClientRect();t.blockRect=t.resizeBlock.getBoundingClientRect(),OX.getEditor(t.resizeBlock).selectBlock(t.resizeBlock,0,0),t.initSize={height:n.height,width:n.width},window.addEventListener("mousemove",t.handleResize,!0),window.addEventListener("mouseup",t.handleResize,!0)}}var t,n,r;return t=e,(n=[{key:"updateBody",value:function(){this.body=xs(document.body),this.zoom=parseFloat(window.getComputedStyle(this.body).zoom)}},{key:"getComputedNumber",value:function(e){return e/this.zoom}},{key:"getResizeTool",value:function(t){var n=Wp(t,!0);return w(n),Ss(n,e.ROOT)}},{key:"updateResizeTool",value:function(t,n){var r=this.getResizeTool(t),o=n.getBoundingClientRect(),i=t.getBoundingClientRect(),a=this.resizeOptions,s=a.resizeWidth,c=a.resizeHeight,l=a.ignore,u=Ss(r,c&&!(null==l?void 0:l.top)?e.SLIDER_TOP:e.SLIDER_TOP_READONLY,"div",{mousedown:this.handleMouseDown});u.style.left="".concat(o.left-i.left,"px"),u.style.top="".concat(o.top-i.top,"px"),u.style.width="".concat(o.width,"px");var d=Ss(r,c&&!(null==l?void 0:l.bottom)?e.SLIDER_BOTTOM:e.SLIDER_BOTTOM_READONLY,"div",{mousedown:this.handleMouseDown});d.style.left="".concat(o.left-i.left,"px"),d.style.top="".concat(o.bottom-i.top,"px"),d.style.width="".concat(o.width,"px");var p=Ss(r,s&&!(null==l?void 0:l.left)?e.SLIDER_LEFT:e.SLIDER_LEFT_READONLY,"div",{mousedown:this.handleMouseDown});p.style.left="".concat(o.left-i.left,"px"),p.style.top="".concat(o.top-i.top,"px"),p.style.height="".concat(o.height,"px");var f=Ss(r,s&&!(null==l?void 0:l.right)?e.SLIDER_RIGHT:e.SLIDER_RIGHT_READONLY,"div",{mousedown:this.handleMouseDown});if(f.style.left="".concat(o.right-i.left,"px"),f.style.top="".concat(o.top-i.top,"px"),f.style.height="".concat(o.height,"px"),s&&c){var h=Ss(r,e.SLIDER_TOP_LEFT,"div",{mousedown:this.handleMouseDown});h.style.left="".concat(o.left-i.left,"px"),h.style.top="".concat(o.top-i.top,"px");var A=Ss(r,e.SLIDER_TOP_RIGHT,"div",{mousedown:this.handleMouseDown});A.style.left="".concat(o.right-i.left,"px"),A.style.top="".concat(o.top-i.top,"px");var m=Ss(r,e.SLIDER_BOTTOM_LEFT,"div",{mousedown:this.handleMouseDown});m.style.left="".concat(o.left-i.left,"px"),m.style.top="".concat(o.bottom-i.top,"px");var g=Ss(r,e.SLIDER_BOTTOM_RIGHT,"div",{mousedown:this.handleMouseDown});g.style.left="".concat(o.right-i.left,"px"),g.style.top="".concat(o.bottom-i.top,"px")}}},{key:"show",value:function(e,t,n){this.resizeBlock=e,this.resizeElement=t,this.updateBody(),this.updateResizeTool(e,t),this.handleResizeCb=n,this.isHide=!1,this.onShow=!0}},{key:"hide",value:function(e){this.onShow=!1,this.startEvent?this.isHide=!0:(this.getResizeTool(e).remove(),this.resizeElement=null,this.resizeBlock=null,this.handleResizeCb=null)}}])&&PX(t.prototype,n),r&&PX(t,r),e}();VX.ROOT="embed-resize-tool",VX.SLIDER_TOP="resize-slider-top",VX.SLIDER_TOP_READONLY="resize-slider-top-readonly",VX.SLIDER_BOTTOM="resize-slider-bottom",VX.SLIDER_BOTTOM_READONLY="resize-slider-bottom-readonly",VX.SLIDER_LEFT="resize-slider-left",VX.SLIDER_LEFT_READONLY="resize-slider-left-readonly",VX.SLIDER_RIGHT="resize-slider-right",VX.SLIDER_RIGHT_READONLY="resize-slider-right-readonly",VX.SLIDER_TOP_LEFT="resize-slider-top-left",VX.SLIDER_BOTTOM_LEFT="resize-slider-bottom-left",VX.SLIDER_TOP_RIGHT="resize-slider-top-right",VX.SLIDER_BOTTOM_RIGHT="resize-slider-bottom-right";var KX=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function GX(e,t,n){return new OX(e,t,n)}function WX(e,t,n){return new Promise((function(r,o){var i,a,s=null===(i=t.callbacks)||void 0===i?void 0:i.onLoad,c=null===(a=t.callbacks)||void 0===a?void 0:a.onError;t.callbacks||(t.callbacks={}),w(t.callbacks),t.callbacks.onLoad=function(e,t){s&&s(e,t),r(e)},t.callbacks.onError=function(e,t){c&&c(e,t),o(t)},new OX(e,t,n)}))}function YX(e){return OX.getEditor(e)}function qX(){return OX.getCurrentCommandTarget()}function ZX(){return OX.getCurrentCommandBlock()}function XX(){OX.hideCurPopover()}function JX(e,t,n){return KX(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=n,null==n&&(o=M()),w(o,"doc data cannot be null"),r.next=5,Zz("".concat(e,":").concat(t),o);case 5:case"end":return r.stop()}}),r)})))}function $X(e,t){return KX(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Xz("".concat(e,":").concat(t));case 2:if(void 0!==(r=n.sent)){n.next=5;break}return n.abrupt("return",void 0);case 5:return n.abrupt("return",r.data);case 6:case"end":return n.stop()}}),n)})))}function eJ(e,t){return OX.setEditor(e,t)}function tJ(e){OX.setCommandTargetCallback(e)}function nJ(e){OX.registerCurrentCommandTarget(e)}var rJ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function oJ(e,t){var n=this;return function(r){return rJ(n,void 0,void 0,regeneratorRuntime.mark((function n(){var o,i,a,s,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=wN(r.target)){n.next=3;break}return n.abrupt("return");case 3:if(Hf(o)){n.next=5;break}return n.abrupt("return");case 5:if(Ga(o,Vi.RETRY)||Ga(o,Vi.UPLOAD_ERROR)){n.next=7;break}return n.abrupt("return");case 7:return n.prev=7,n.next=10,LR(t);case 10:if(1===(i=n.sent).length){n.next=13;break}return n.abrupt("return");case 13:a=i[0],s=kN(o),e.beginUndoGroup();try{c=mp(o),e.insertMediaFile(s,a,TN(o),c),e.deleteBlock(o,{fromUndo:!1,localAction:!0})}finally{e.endUndoGroup()}n.next=21;break;case 19:n.prev=19,n.t0=n.catch(7);case 21:case"end":return n.stop()}}),n,null,[[7,19]])})))}}function iJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var sJ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},cJ=qo.imageIcon,lJ=qo.tipsIcon,uJ=qo.imageLoadErrorIcon,dJ=qo.imageLinkIcon,pJ=qo.imagePlaceHolderIcon,fJ="upload-loading",hJ="upload-loading-container",AJ="upload-loading-wall",mJ="upload-loading-progress",gJ="upload-loading-progress-inner",vJ="upload-loading-clone",bJ="upload-loading-text",yJ="editor-image-content",wJ="editor-image-upload-error-tips",xJ="editor-image-upload-error-subject";function kJ(e){var t=e.parentElement;return t&&t instanceof HTMLDivElement&&t.querySelector("button")||null}function CJ(e,t,n){var r=k()(t);return e["".concat(r,"_").concat(n)]}function EJ(e,t,n,r){var o=k()(t);e["".concat(o,"_").concat(n)]=r}function BJ(e,t){return CJ(e,t,"link")}function TJ(e){var t=e.parentElement;return t&&Ga(t,yJ)?t:null}function MJ(e,t){var n=k()(t),r="".concat(n,"_width"),o="".concat(n,"_height");return{width:e[r],height:e[o]}}function IJ(e,t,n,r){var o=k()(t),i="".concat(o,"_width"),a="".concat(o,"_height");e[i]=n,e[a]=r}function DJ(e){return e.startsWith("https:")||e.startsWith("http:")||e.startsWith("file:")}function _J(e,t){var n=e.naturalWidth,r=e.naturalHeight;if(n&&r){var o=t/n*r;e.setAttribute("data-width",t.toString()),e.setAttribute("data-height",o.toString())}}function SJ(e,t,n){e["".concat(k()(t),"_comments")]=n}function OJ(e,t){Qa(t,Vi.COMMENT),t.setAttribute("comment-".concat(e.toLowerCase()),e)}function NJ(e){return e.getAttributeNames().filter((function(e){return e.startsWith("comment-")})).map((function(t){return e.getAttribute(t)}))}function LJ(e){return Rp(e)===Qi.EMBED&&mp(e)===aa.IMAGE}function RJ(e){return Ap(e).childElementCount<6}function jJ(e){w(e instanceof HTMLDivElement);var t=e;return Array.from(t.querySelectorAll("img.editor-image"))}function UJ(e){return w(LJ(e)),jJ(Nw(e))}function FJ(e,t,n){w(LJ(t));var r=Nw(t);if(n){var o=jJ(r);if(o.indexOf(n)<0)return;if(1===o.length)e.deleteBlock(t,{fromUndo:!1,localAction:!0});else{var i=TJ(n);i&&i.remove();var a=xp(e,r);e.updateEmbedData(t,a,{fromUndo:!1,updateBlock:!1,partial:!1})}}else 0===r.childElementCount&&e.deleteBlock(t,{fromUndo:!1,localAction:!0})}function zJ(e,t){for(var n=e.offsetWidth-26,r=Array.prototype.map.call(t.children,(function(e){var t=e.querySelector("img");return w(t),t.naturalWidth&&t.naturalHeight?t.naturalWidth/t.naturalHeight:t.width/t.height})),o=(n-4*r.length)/r.reduce((function(e,t){return e+t}),0),i=0;i<t.childElementCount;i++){var a=t.children[i].querySelector("img");if(!(a instanceof HTMLImageElement))return;var s=o*r[i];a.width=s,a.setAttribute("data-width",s.toString()),a.setAttribute("data-height",o.toString())}}function QJ(e,t,n,r){return sJ(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,s,c,l,u,d,p,f,h;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return w(LJ(t)),w(i=r.querySelector("img")),a=Nw(t),s=t.contains(i),c=t.getBoundingClientRect(),l=a.getBoundingClientRect(),o.next=9,Ww(i);case 9:i=o.sent,PJ.bindImageEvents(e,i),(u=c.width-30-l.width)>=16&&1!==a.childElementCount&&(_J(i,u),i.width=u),d=r.cloneNode(!0),(p=d.querySelector("button.".concat(wJ)))&&p.setAttribute("style","opacity: 1"),n===a.childElementCount?a.appendChild(d):a.insertBefore(d,a.children[n]),(f=d.querySelector("img"))&&PJ.bindImageEvents(e,f),!s&&(u<16||2===a.childElementCount)&&zJ(t,a),h=xp(e,a),e.updateEmbedData(t,h,{fromUndo:!1,updateBlock:!1,partial:!1});case 22:case"end":return o.stop()}}),o)})))}var PJ=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=aa.IMAGE,this.timer=null,this.handleResizeCallback=function(e){var t=e.target,n=wN(t);if(w(n),rx.hasResizeTool(n))try{var r=OX.getEditor(n);rx.fixToolSize(r,!0)}catch(e){vO.unobserve(t)}},this.handleImageLoad=function(e){var n,r=wN(e.target);if(e.target instanceof HTMLImageElement){var o=e.target;Ja(o,"loading"),o.removeAttribute("loading"),o.hasAttribute("data-width")&&o.removeAttribute("height"),o.getAttribute("data-tmp-size")&&(o.removeAttribute("width"),o.removeAttribute("data-tmp-size"))}if(r){r.style.removeProperty("min-height"),null===(n=e.target)||void 0===n||n.removeEventListener("load",t.handleImageLoad);var i=UJ(r);if(i.length>1){if(i.filter((function(e){return!e.width})).length>0)return;if(i.filter((function(e){return!e.getAttribute("data-width")})).length>0)zJ(r,Nw(r))}OX.getRootEditor(r).commentsContainer.fixGroupsPosition()}},this.handleImageLoadError=function(e){var n,r=e.target;w(r),r.removeEventListener("error",t.handleImageLoadError),Ja(r,"loading");var o=wN(r);w(o);var i=Ap(o),a=OX.getEditor(r),s=a.getBlockData(o).embedData,c=r.getAttribute("data-src");if(c&&DJ(c)){var l=TJ(r);return l&&l.remove(),void t.renderLoadErrorTips(a,i,"externalImageLoadError",s.src)}Qa(r,"error");var u=i.querySelector("button.".concat(wJ));u&&u.remove();try{a.loaded&&((null===(n=a.options.callbacks)||void 0===n?void 0:n.onImageError)?a.options.callbacks.onImageError(a,r):(r.remove(),t.renderLoadErrorTips(a,i,"imageLoadError",s.src)))}catch(e){console.error(e)}},this.lockBlockHeight=function(e){var n=wN(e.target);if(n&&!th(n)){var r=e.target;if(r instanceof HTMLImageElement){r.style.display="block",r.removeEventListener("load",t.lockBlockHeight);var o=r.clientWidth,i=r.clientHeight;if(o&&i)try{var a=OX.getEditor(r);t.setSize(a,r,n,o,i)}catch(e){console.log("failed to get editor, image was deleted? ".concat(JSON.stringify(e)))}}n&&(n.setAttribute("data-tmp-img-width","".concat(r.clientWidth)),n.setAttribute("data-tmp-img-height","".concat(r.clientHeight)))}},this.handleClick=function(e){return sJ(t,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a,s,c,l,u,d,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w(e.target),e.target instanceof HTMLImageElement){t.next=3;break}return t.abrupt("return");case 3:if(o=e.target,i=wN(e.target),a=Nw(i),w(i),w(a),s=OX.getEditor(i),c=null!==(n=o.getAttribute("src"))&&void 0!==n?n:o.src,w(l=o.getAttribute("data-src")),u=this.saveData(s,a),d=BJ(u,l),s.selectBlock(i,0,0),!(null===(r=s.options.callbacks)||void 0===r?void 0:r.onImageClicked)){t.next=21;break}if(p=s.getAllImages(),w(p.find((function(e){return e.src===c||c.startsWith(e.src)}))),!s.options.callbacks.onImageClicked(s,i,c,p,"dblclick"===e.type,o,e,{link:d})){t.next=21;break}return t.abrupt("return");case 21:if(d&&(s.isReadOnly()||e.ctrlKey||e.metaKey)&&window.open(d,"_blank"),s.isBlockWritable(i)){t.next=24;break}return t.abrupt("return");case 24:setTimeout((function(){s.commentsContainer.handleSelectImg(o)}),0),s.isReadOnly()||this.selectImage(i,o);case 26:case"end":return t.stop()}}),t,this)})))},this.getToolTipsByImageIndex=function(e,t){var n=Array.from(e.querySelectorAll("div.".concat(yJ))||[]);return n[t]&&n[t].querySelector("button.".concat(wJ))||null},this.handleMousedown=function(e){e.stopPropagation()},this.handleDragStart=function(e){w(e.target);var n=wN(e.target),r=Nw(n);w(n),w(r);var o=OX.getEditor(n);if(!o.isChildEditor()&&o.isBlockWritable(n)){var i=t.getImageIndexToBlock(n,e.target),a=EN(n);if(w(a),e.target instanceof HTMLImageElement){var s=e.target;Qa(s,Vi.ON_DRAGGING);var c=TJ(s);c&&t.updateExternalLinkTipsStatus(c);var l=null,u=null;o.setDragging(!0),LX.createImageDragTool(e,a,s,(function(e){l=jX(e,{filter:function(n,r){if(LJ(n)&&!o.isMarkdownOnly()){var i=t.getImageIndexToBlock(n,e);if(i>=0)return(n!==r||i!==u)&&(u=i,!0)}return null!==u?(u=null,!0):n!==r},handleMarkingLine:function(e,t){if(LJ(e)&&null!==u){t.style.width="1px",t.style.height="".concat(e.offsetHeight-35,"px"),t.style.top="0";var n=Nw(e),r=e.getBoundingClientRect();if(u===n.childElementCount){var o=n.lastElementChild.getBoundingClientRect();t.style.left="".concat(o.left+o.width-r.left,"px")}else{var i=n.children[u].getBoundingClientRect();t.style.left="".concat(i.left-r.left,"px")}return!0}return!1}})}),(function(){return sJ(t,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,a,d,p,f,h,A,m,g,v,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(c),Ja(s,Vi.ON_DRAGGING),c&&this.updateExternalLinkTipsStatus(c,!1),l&&Wh(l).remove(),!l||!o.isBlockWritable(l)||l===n&&(i===u||i+1===u)){e.next=37;break}if((t=LJ(l))&&!RJ(l)&&!l.contains(c)){e.next=35;break}if(o.beginUndoGroup(),!t||null===u){e.next=17;break}return e.next=11,QJ(o,l,u,c);case 11:FJ(o,n,s),Qh(r=l,"left"),o.updateCommentsCore(),e.next=31;break;case 17:a=s.getAttribute("data-src"),d=s.getAttribute("data-width"),p=s.getAttribute("data-height"),f=d&&Number.parseInt(d,10)||void 0,h=p&&Number.parseInt(p,10)||void 0,w(a),A=NJ(s),m={src:a},f&&h&&IJ(m,a,f,h),A.length>0&&SJ(m,a,A),g=kN(l),v=TN(l),!pL(g)&&1===ON(g)&&Gf(BN(g,0))?(r=o.insertEmbed(g,1,this.type,m),o.deleteBlock(BN(g,0),{fromUndo:!1,localAction:!0})):r=o.insertEmbed(g,v+1,this.type,m),FJ(o,n,s);case 31:(b=Mh(r))&&Jh(b)&&FZ(b,r),o.selectBlock(r,0,-1),o.endUndoGroup();case 35:rx.clearAllTools(o),o.updateCommentsCore();case 37:l=null,setTimeout((function(){o.setDragging(!1)}),0);case 39:case"end":return e.stop()}}),e,this)})))}))}}},this.handleFileChanged=function(e){var n=qX();w(n),w(n.target);var r=wN(n.target);w(r);var o,i=e.target;try{o=kN(r)}catch(e){return i.files=null,void(i.value="")}var a=TN(r);Gf(r)||(a+=1),w(e.target);var s=YX(r);i.files&&i.files.length>0&&(Array.from(i.files).forEach((function(e,n){s.insertMediaFile(o,e,a+n,t.type)})),i.files=null,i.value="")},this._observeMap=new Map}var t,n,r;return t=e,r=[{key:"uploadRemoteImage",value:function(e,t,n){var r,o;return sJ(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,s,c,l,u,d,p;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(w(DJ(a=null!==(r=n.getAttribute("data-src"))&&void 0!==r?r:"")),s=OX.getEditor(e),i.prev=3,!(null===(o=s.options.callbacks)||void 0===o?void 0:o.onDownloadImage)){i.next=10;break}return i.next=7,s.options.callbacks.onDownloadImage(s,a,ja);case 7:c=i.sent,i.next=13;break;case 10:return i.next=12,ja(a,!1);case 12:c=i.sent;case 13:if(!c){i.next=34;break}return i.next=16,s.uploadResource(c,(function(){}));case 16:if(l=i.sent,!th(e)){i.next=24;break}if(e=s.getBlockById(zp(e))){i.next=21;break}return i.abrupt("return");case 21:if(n=e.querySelector('img[data-src="'.concat(a,'"]'))){i.next=24;break}return i.abrupt("return");case 24:if(n.setAttribute("data-src",l||a),n.src=s.buildResourceUrl(l||a),Ja(n,"error"),u=xp(s,t),s.updateEmbedData(e,u,{fromUndo:!0,updateBlock:!1,partial:!1}),d=TJ(n)){i.next=32;break}return i.abrupt("return");case 32:(p=d.querySelector("button.".concat(wJ)))&&p.remove();case 34:i.next=39;break;case 36:i.prev=36,i.t0=i.catch(3),console.error(i.t0);case 39:case"end":return i.stop()}}),i,null,[[3,36]])})))}}],(n=[{key:"bindImageEvents",value:function(e,t){t.addEventListener("click",this.handleClick),t.addEventListener("dblclick",this.handleClick),t.addEventListener("dragstart",this.handleDragStart),t.addEventListener("mousedown",this.handleMousedown),t.addEventListener("load",this.handleImageLoad),t.addEventListener("error",this.handleImageLoadError)}},{key:"createEmptyImageEmbedElements",value:function(e,t,n){w(n);var r=ps("div",["image-empty-container"],t);ps("span",["image-empty-icon"],r).innerHTML=cJ,As(ju.image.addImage,["image-empty-button","editor-link-button"],r).onclick=function(n){n.preventDefault(),n.stopPropagation();var r=wN(t);if(r){if(!e.isBlockWritable(r))return;Nv(e,r)}}}},{key:"renderLoadErrorTips",value:function(e,t,n,r){var o=this,i=wN(t);w(i),this.getUploadMarker(i,t).remove();var a=jJ(t),s=0;if(a.forEach((function(e){s+=e.height})),!(s/=a.length)){var c=t.querySelector(".editor-image-error");s=c?c.clientHeight:400}t.style.width="100%",Gp(i).style.width="100%";var l=ps("div",["editor-image-error"],t);l.style.height="".concat(s,"px"),l.setAttribute("data-src",r||"");var u=ps("div",["editor-image-error-content"],l);ps("div",["editor-image-upload-error-icon"],u).innerHTML=uJ;var d=t.querySelector("button.".concat(wJ));if(d&&d.remove(),"uploadError"===n||"clipboardUploadError"===n){Qa(i,Vi.UPLOAD_ERROR),ps("div",[xJ],u,ju.image.uploadFailed);var p=ps("div",["editor-image-upload-error-detail"],u,"uploadError"===n?"".concat(ju.image.netWorkCauseUploadFailed,",").concat(ju.image.youCan):"".concat(ju.image.netWorkCauseUploadFailed));if("clipboardUploadError"===n)return;ps("span",["editor-image-upload-error-retry"],p,ju.image.retryUpload).onclick=function(t){t.preventDefault(),t.stopPropagation(),oJ(e,e.getAccepts(aa.IMAGE))}}else if("externalImageLoadError"===n){ps("div",[xJ],u,ju.image.imageLoadError),ps("div",["editor-image-upload-error-detail"],u,ju.image.uploadErrorDetail);var f=ps("div",["editor-image-upload-error-detail"],u,ju.image.uploadErrorDetail2),h=ps("span",["editor-image-error-link"],f,ju.image.openImageLink),A=(new DOMParser).parseFromString(dJ,"image/svg+xml");w(A.firstChild),h.appendChild(A.firstChild),h.onclick=function(){window.open(r)}}else if("imageLoadError"===n){ps("div",[xJ],u,ju.image.imageLoadError);var m=ps("div",["editor-image-upload-error-detail"],u,"".concat(ju.image.netWorkCauseUploadFailed,",").concat(ju.image.youCan));ps("span",["editor-image-upload-error-retry"],m,ju.image.retryUpload).onclick=function(n){n.preventDefault(),n.stopPropagation(),w(i),o.updateData(e,t,{src:r})}}}},{key:"createEmptyPlaceHolder",value:function(e){e.innerHTML="",e.style.width="100%",ps("div",["editor-image-error-placeholder"],e).innerHTML=pJ}},{key:"updateExternalLinkTipsStatus",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.querySelector("button.".concat(wJ));n&&(t?Qa(n,Vi.ON_DRAGGING):Ja(n,Vi.ON_DRAGGING))}},{key:"createExternalLinkTips",value:function(e,t,n){if(w(n),DJ(n)&&!e.options.isMobile){t.style.position="relative";var r=hs(lJ,[Vi.TEXT_BUTTON,Vi.TOOLTIP,wJ],t);r.setAttribute("data-tooltip-maxwidth","400"),r.setAttribute("data-tooltip",ju.image.uploadErrorTips)}}},{key:"createImages",value:function(e,t,n){var r=this,o=n;w(n.src),n.src!==oa.Error?(t.innerHTML="",n.src!==oa.Empty?((Array.isArray(o.src)?o.src[0]:o.src).split("|").forEach((function(i){if(i!==oa.Loading){var a=ps("div",[yJ],t);if(i!==oa.Progress){var s=ps("img",["editor-image","loading"],a);s.setAttribute("data-src",i);var c=function(e,t){return CJ(e,t,"alt")}(o,i);c&&s.setAttribute("alt",c);var l=function(e,t){return CJ(e,t,"title")}(o,i);l&&(s.setAttribute("title",l),Qa(s,"editor-image-title"));var u=BJ(o,i);u&&(s.setAttribute("data-link",u),Qa(s,"editor-image-link")),!e.options.disableLazyLoading&&(s.loading="lazy"),s.src=e.buildResourceUrl(i);var d=MJ(o,i),p=d.width,f=d.height;if(!p&&!f){var h=wN(t);if(h){var A=h.getAttribute("data-tmp-img-width")||0,m=h.getAttribute("data-tmp-img-height")||0;A&&m&&(s.setAttribute("width","".concat(A,"px")),s.setAttribute("height","".concat(m,"px")),s.setAttribute("data-tmp-size","1"))}}p&&(s.setAttribute("data-width","".concat(p)),s.setAttribute("width","".concat(p,"px"))),f&&(s.setAttribute("data-height","".concat(f)),s.setAttribute("height","".concat(f,"px")));var g=function(e,t){return e["".concat(k()(t),"_comments")]}(o,i);g&&g.length>0&&g.forEach((function(e){OJ(e,s)})),r.bindImageEvents(e,s),r.createExternalLinkTips(e,a,i)}else if("string"==typeof n.previewUrl){var v=ps("img",["editor-image"],a);v.setAttribute("data-src",i),v.src=n.previewUrl,v.addEventListener("load",r.lockBlockHeight)}else{var b=ps("img",["editor-image","uploading-image"],a);b.setAttribute("data-src",i),b.setAttribute("data-placeholder",ju.image.uploading),b.setAttribute("alt",ju.image.uploading),b.src="";var y=MJ(o,i),w=y.width,x=y.height;w&&(b.setAttribute("data-width","".concat(w)),b.setAttribute("width","".concat(w,"px"))),x&&(b.setAttribute("data-height","".concat(x)),b.setAttribute("height","".concat(x,"px")))}}})),0===t.querySelectorAll("img").length?Qa(t,"empty"):Ja(t,"empty")):this.createEmptyPlaceHolder(t)):this.createEmptyPlaceHolder(t)}},{key:"createElement",value:function(e,t,n){var r=ps("div",["editor-images-container"],t);return this.createImages(e,r,n),vO.observe(e,r,this.handleResizeCallback),r.onclick=oJ(e,e.getAccepts(aa.IMAGE)),r}},{key:"saveData",value:function(e,t){w(t instanceof HTMLDivElement);var n={src:""},r=[];jJ(t).forEach((function(e){var t=e.getAttribute("data-width"),o=e.getAttribute("data-height"),i=e.getAttribute("data-src");w(i),r.push(i),t&&o&&IJ(n,i,Number.parseInt(t,10),Number.parseInt(o,10));var a=NJ(e);SJ(n,i,a);var s=e.getAttribute("title"),c=e.getAttribute("alt"),l=e.getAttribute("data-link");s&&function(e,t,n){EJ(e,t,"title",n)}(n,i,s),c&&function(e,t,n){EJ(e,t,"alt",n)}(n,i,c),l&&function(e,t,n){EJ(e,t,"link",n)}(n,i,l)})),n.src=r.join("|");var o=t.querySelector("div.editor-image-error");return o?n.src=o.getAttribute("data-src")||oa.Empty:n.src||(n.src=oa.Empty,n.exportSpec=[{type:"text",data:ju.image.imageLoadError}]),n}},{key:"saveSelectionData",value:function(e,t){var n=e.getFocusedImage();if(!n)return this.saveData(e,t);var r=wN(t),o=wN(n);return w(r===o&&r&&o),1===jJ(t).length?this.saveData(e,t):{src:n.getAttribute("data-src")}}},{key:"clearSelection",value:function(e,t){var n=e.getFocusedImage();if(!n)return!1;var r=wN(t),o=wN(n);if(w(r===o&&r&&o),1===jJ(t).length)return!1;n.remove();var i=this.saveData(e,t);return e.updateEmbedData(r,i,{fromUndo:!1,updateBlock:!0,partial:!1}),!0}},{key:"updateData",value:function(e,t,n){w(t instanceof HTMLDivElement);var r=wN(t);r&&rx.clearTool(r),this.createImages(e,t,n);var o=t.closest(".".concat(Vi.BLOCK_CONTENT));o&&(n.src===oa.Empty?Qa(o,"editor-empty-image-container"):Ja(o,"editor-empty-image-container"))}},{key:"createResizeTool",value:function(e,t,n){return sJ(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!rx.isCloneImage(n)&&!rx.isSelectedImage(n)){r.next=2;break}return r.abrupt("return");case 2:return this.recoverImageStatusBeforeUnSelected(e),o=Wp(t,!0),r.next=6,rx.createImageResizeTool(e,n,t,(function(r,o){a.setSize(e,n,t,r,o)}));case 6:i=r.sent,null==o||o.appendChild(i),e.setImageSelected(t,n);case 9:case"end":return r.stop()}}),r,this)})))}},{key:"setSize",value:function(e,t,n,r,o){t.setAttribute("data-width","".concat(r)),t.setAttribute("data-height","".concat(o));var i=this.saveData(e,Nw(n));if(e.updateEmbedData(n,i,{fromUndo:!1,updateBlock:!1,partial:!1}),zf(n)){var a=Mh(n);if(a&&Jh(a)){var s=hf(a);e.updateBlockData(a,s,{fromUndo:!1,updateBlock:!1,partial:!1})}}}},{key:"selectImage",value:function(e,t){return sJ(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,s,c,l,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(w(e),r=Nw(e),w(e),w(r),!(o=OX.getEditor(e)).isReadOnly()){n.next=7;break}return n.abrupt("return");case 7:if(o.isBlockWritable(e)){n.next=9;break}return n.abrupt("return");case 9:if((i=t)||(a=UJ(e)).length>0&&(i=a[0]),i){n.next=13;break}return n.abrupt("return");case 13:if(s=Ga(r,Vi.IMAGE_LOADING),c=Ga(r,Vi.IMAGE_ERROR),l=!!r.querySelector("img.error"),s||c||l){n.next=21;break}return n.next=19,this.createResizeTool(o,e,i);case 19:null==(u=kJ(i))||u.setAttribute("style","opacity: 0");case 21:case"end":return n.stop()}}),n,this)})))}},{key:"handleUnselectChanged",value:function(e){var t=rx.getImageIndex(e),n=this.getToolTipsByImageIndex(e,t);n&&n.setAttribute("style","opacity: 1"),rx.clearTool(e)}},{key:"getImageIndexToBlock",value:function(e,t){var n=t instanceof HTMLElement?t:t.target;if(n instanceof HTMLImageElement){var r=0;if(rx.isCloneImage(n)){var o=rx.getImageIndex(e),i=rx.getOriginImage(e);if(w(i),!(t instanceof HTMLElement)){var a=i.getBoundingClientRect();r=a.left+a.width/2<t.clientX?1:0}return o+r}if(!(t instanceof HTMLElement)){var s=n.getBoundingClientRect();r=s.left+s.width/2<t.clientX?1:0}for(var c=Nw(e),l=0;l<c.childElementCount;l++){var u=c.children[l].querySelector("img");if(u&&u===n)return l+r}}else if(LJ(e)&&!(t instanceof HTMLElement)){var d=Nw(e),p=d.getBoundingClientRect();if(t.clientY-p.top<20||p.bottom-t.clientY<20)return-1;if(t.clientX<=p.left)return 0;if(t.clientX>=p.right)return d.childElementCount}return-1}},{key:"recoverImageStatusBeforeUnSelected",value:function(e){var t=e.getFocusedImage();if(t){var n=wN(t);n&&this.handleUnselectChanged(n)}}},{key:"notify",value:function(e,t,n,r){var o;if("progress"===n){var i=this.getUploadMarker(e,t),a=OX.getEditor(e);if(r.previewUrl){var s=this.saveData(a,t);s.src=oa.Progress,s.previewUrl=r.previewUrl,this.updateData(a,t,s)}try{(null===(o=a.options.callbacks)||void 0===o?void 0:o.onMediaUploadProgress)&&a.options.callbacks.onMediaUploadProgress(a,e,r.percentage)}catch(e){console.warn(e.message)}if(-1===r.percentage||r.percentage>=100)return this.updateUploadMark(i,"100%"),this.handleDisconnectObserver(t),void setTimeout((function(){i.remove()}),350);this.updateUploadMark(i,"".concat(parseInt(r.percentage,10),"%"))}else if("comment"===n){var c=r.image,l=r.commentId;w(c),w(l),w(wN(c)===e),OJ(l,c);var u=OX.getEditor(e),d=this.saveData(u,t);u.updateEmbedData(e,d,{updateBlock:!1,fromUndo:!1,partial:!1})}else if("select"===n){var p=r;if(!p){var f=OX.getEditor(e).getFocusedImage();if(f&&wN(f)===e)return}this.selectImage(e,p)}else if("updateAlign"===n)rx.clearTool(e);else if("resourceUploadError"===n){var h=r.src,A=r.operator;t.innerHTML="";var m=OX.getEditor(e),g="clipboard"===A?"clipboardUploadError":"uploadError";this.renderLoadErrorTips(m,t,g,h)}else if("syncSourceSuccessful"===n){var v=t.querySelector("button.".concat(wJ));v&&v.remove()}else if("reloadImage"===n){var b=OX.getEditor(e);this.updateData(b,t,this.saveData(b,t))}}},{key:"hasUploadMarker",value:function(e){return!!e.querySelector(".".concat(Vi.BLOCK_TOOLS," .").concat(fJ))}},{key:"updateUploadMark",value:function(e,t){var n=e.querySelector(".".concat(gJ)),r=e.querySelector(".".concat(bJ));if(n&&(n.style.width=t),r){var o=ju.get(ju.office.textProcess,{percentage:t});r.innerHTML=o}}},{key:"getUploadMarker",value:function(e,t){var n=e.querySelector(".".concat(Vi.BLOCK_TOOLS," .").concat(fJ));if(!n){Ja(t,Vi.IMAGE_LOADING,Vi.IMAGE_ERROR);var r=Wp(e,!0),o=this.createUploadMarker(t);return r.appendChild(o),o}return n}},{key:"handleDisconnectObserver",value:function(e){var t;this._observeMap.has(e)&&(null===(t=this._observeMap.get(e))||void 0===t||t.disconnect(),this._observeMap.delete(e))}},{key:"handleEmbedObserver",value:function(e,t){var n=new MutationObserver((function(){var n=e.querySelector(".".concat(vJ)),r=t.cloneNode(!0);null==n||n.remove(),Qa(r,vJ),e.appendChild(r)}));n.observe(t,{attributes:!0,childList:!0,subtree:!0}),this._observeMap.set(t,n)}},{key:"createUploadMarker",value:function(e){var t=ps("div",[fJ],null),n=ps("div",[hJ],t),r=ps("div",[AJ],n),o=ps("div",[],r),i=e.cloneNode(!0);return Qa(o,mJ),ps("div",[gJ],o),Qa(i,vJ),n.appendChild(i),this.handleEmbedObserver(n,e),t}},{key:"getUrls",value:function(e){return UJ(e).map((function(e){var t;return{url:e.src,width:null!==(t=e.width)&&void 0!==t?t:void 0}}))}},{key:"getMenuText",value:function(e){return w(e),ju.blocks.image}},{key:"getEmbedOptions",value:function(e){var t={menuItems:[]},n=Ti.createElement(document.documentElement,{id:"",text:this.getMenuText(e),icon:cJ});if(e.options.insertEmptyImage)n.onclick=function(){var t=qX();w(t),w(t.target);var n,r=wN(t.target);w(r);try{n=kN(r)}catch(e){return}var o=TN(r);Gf(r)||(o+=1);var i=e.insertImage(n,oa.Empty,o);setTimeout((function(){Nv(e,i)}))};else{var r=document.createElement("input");r.type="file",r.accept=e.getAccepts(aa.IMAGE),r.title="",Qa(r,"menu-item-input"),n.appendChild(r),r.onchange=this.handleFileChanged,r.onmousedown=OX.selectCurrentCommandTargetBlock}return t.menuItems.push({id:"",text:this.getMenuText(e),element:n,order:EO.image,onClick:function(){},supportMarkdown:this.isSupportMarkdown()}),t}},{key:"isSupportMarkdown",value:function(){return!0}},{key:"getAbstract",value:function(){return"[".concat(ju.blocks.image,"]")}},{key:"deleteElement",value:function(e){var t=Gp(e);w(t instanceof HTMLElement),vO.unobserve(t)}},{key:"removeComment",value:function(e,t,n){var r=jJ(t),o=!1;if(r.forEach((function(e){-1!==NJ(e).indexOf(n)&&(function(e,t){e.removeAttribute("comment-".concat(t.toLowerCase())),0===NJ(e).length&&Ja(e,Vi.COMMENT)}(e,n),o=!0)})),o){var i=OX.getEditor(e),a=xp(i,t);i.updateEmbedData(e,a,{fromUndo:!1,updateBlock:!1,partial:!1})}}},{key:"handleEmbedInserted",value:function(t,n){OX.getEditor(t).isReadOnly()||jJ(n).forEach((function(r){var o;DJ(null!==(o=r.getAttribute("data-src"))&&void 0!==o?o:"")&&e.uploadRemoteImage(t,n,r)}))}},{key:"handleKeydownEvent",value:function(e,t,n){if((" "===n.key||"Enter"===n.key)&&Ga(Gp(e),"editor-empty-image-container")){var r=OX.getEditor(e);return!!r.isBlockWritable(e)&&(Nv(r,e),!0)}return!1}},{key:"getContextMenuData",value:function(e,t,n,r){var o,i,a,s=this,c=OX.getEditor(e),l=[];return i=/^https:$/i.test(window.location.protocol),a=window.navigator.userAgent.indexOf("Electron")>-1,(i||a)&&l.push({id:"copy",text:ju.image.copy,onClick:function(){return sJ(s,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o,i,a,s,l,u,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!th(e)){t.next=2;break}return t.abrupt("return");case 2:if(o=r instanceof Element?r:r.parentElement,i=null==o?void 0:o.closest("img")){t.next=6;break}return t.abrupt("return");case 6:if(a=i.src,!(null===(n=c.options.callbacks)||void 0===n?void 0:n.onDownloadImage)){t.next=13;break}return t.next=10,c.options.callbacks.onDownloadImage(c,a,ja);case 10:s=t.sent,t.next=16;break;case 13:return t.next=15,ja(a);case 15:s=t.sent;case 16:if(!s){t.next=26;break}if(-1!==s.type.indexOf("/png")){t.next=21;break}return t.next=20,bX(s);case 20:s=t.sent;case 21:return l=s.type,u=iJ({},l,s),d=new window.ClipboardItem(u),t.next=26,navigator.clipboard.write([d]);case 26:case"end":return t.stop()}}),t)})))}}),(null===(o=c.options.callbacks)||void 0===o?void 0:o.onSaveImage)&&l.push({id:"save",text:ju.image.save,onClick:function(){return sJ(s,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!th(e)){t.next=2;break}return t.abrupt("return");case 2:if(i=r instanceof Element?r:r.parentElement,a=null==i?void 0:i.closest("img")){t.next=6;break}return t.abrupt("return");case 6:(null===(n=c.options.callbacks)||void 0===n?void 0:n.onSaveImage)&&(null===(o=c.options.callbacks)||void 0===o||o.onSaveImage(c,a));case 7:case"end":return t.stop()}}),t)})))}}),l}},{key:"adjustArrowMove",value:function(e,t,n,r,o,i){var a=UJ(r);if(a.length<=1)return null;if("right"===i){var s=a.findIndex((function(e){return rx.isSelectedImage(e)}));if(s<a.length-1){var c=a[s+1];return this.selectImage(r,c),{stop:!0}}return null}if("left"===i){var l=a.findIndex((function(e){return rx.isSelectedImage(e)}));if(l>0){var u=a[l-1];return this.selectImage(r,u),{stop:!0}}return null}return null}}])&&aJ(t.prototype,n),r&&aJ(t,r),e}());function HJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}wp(aa.IMAGE,PJ);var VJ=qo.loadingIcon,KJ=qo.filePrefixIcon,GJ="upload-loading",WJ="upload-loading-container",YJ="upload-loading-wall",qJ="upload-loading-progress",ZJ="upload-loading-progress-inner",XJ="upload-loading-clone",JJ="upload-loading-office",$J="upload-loading-container-preview",e$="upload-loading-container-card",t$="upload-loading-text",n$="upload-enabled-background",r$="upload-enabled-block",o$=function(){function e(t,n,r,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleFileChanged=function(e){var t=qX();w(t),w(t.target);var n=wN(t.target);w(n);var r=kN(n),o=TN(n);Gf(n)||(o+=1),w(e.target);var a=YX(n),s=e.target;s.files&&s.files.length>0&&(Array.from(s.files).forEach((function(e,t){a.insertMediaFile(r,e,o+t,i.type)})),s.files=null,s.value="")},this.type=t,this.tagName=n,this.icon=r,this.menuItemOrder=o,this._observeMap=new Map}var t,n,r;return t=e,(n=[{key:"getMediaPreviewType",value:function(e,t){var n=t.previewType;return(e.isPreviewEnabled(t.fileName)&&!e.options.isMobile||n!==ra.PREVIEW)&&n||ra.CARD}},{key:"updateMedia",value:function(e,t,n,r){var o=n.getAttribute("data-src"),i=r.src;w(i),Ja(n,Vi.IMAGE_LOADING,Vi.IMAGE_ERROR),r.width&&(n.setAttribute("data-width","".concat(r.width)),n.setAttribute("width","".concat(r.width,"px")),n.style.width="".concat(r.width,"px")),r.height&&(n.setAttribute("data-height","".concat(r.height)),n.setAttribute("height","".concat(r.height,"px")),n.style.height="".concat(r.height,"px")),r.fileName&&n.setAttribute("data-file-name",r.fileName),r.fileSize&&n.setAttribute("data-file-size","".concat(r.fileSize)),r.fileType&&n.setAttribute("data-file-type",r.fileType),n.setAttribute("data-src",r.src),i!==o&&(i===oa.Loading?(n.removeAttribute("style"),Qa(n,Vi.IMAGE_LOADING)):i===oa.Error?(n.removeAttribute("style"),Qa(n,Vi.IMAGE_ERROR)):i===oa.Progress?(n.removeAttribute("style"),this.updateEmbedInner(e,t,n,r)):i===oa.Empty?(n.removeAttribute("style"),Qa(n,Vi.IMAGE_EMPTY)):this.updateMediaSrc(e,t,n,r.src,r)),0===n.children.length?Qa(n,"empty"):Ja(n,"empty")}},{key:"updateEmbedInner",value:function(e,t,n,r){w(e),w(t),w(n),w(r);var o=n.getAttribute("data-file-name");w(o);var i=ps("div",["editor-preview-info"],n);i.innerHTML=KJ;var a=OR(o),s=o.length-a.length-3;s>0?(ps("span",["editor-preview-filename-front"],i,o.slice(0,s)),ps("span",[],i,o.slice(s))):ps("span",["editor-preview-filename-front"],i,o),Qa(t,"container-on-uploading")}},{key:"supportSetHeight",value:function(e,t){return w(t),!1}},{key:"getWidth",value:function(e){var t=e.getAttribute("data-width");if(t)return Number.parseFloat(t)||void 0}},{key:"getHeight",value:function(e){var t=e.getAttribute("data-height");if(t)return Number.parseFloat(t)||void 0}},{key:"createElement",value:function(e,t,n){w(n.src);var r=document.createElement("div");return this.updateMedia(e,t,r,n),r.onclick=oJ(e,e.getAccepts(this.type)),r}},{key:"saveData",value:function(e,t){var n,r;w(t instanceof HTMLDivElement);var o,i=t;Ga(i,Vi.IMAGE_LOADING)?o=oa.Loading:Ga(i,Vi.IMAGE_EMPTY)?o=oa.Empty:Ga(i,Vi.IMAGE_ERROR)?o=oa.Error:w(o=i.getAttribute("data-src"));var a=null!==(n=i.getAttribute("data-file-name"))&&void 0!==n?n:"",s=i.getAttribute("data-file-size"),c=null!==(r=i.getAttribute("data-file-type"))&&void 0!==r?r:"",l=i.getAttribute("data-preview-type")||void 0;return{src:o,width:this.getWidth(t),height:this.getHeight(t),fileName:a,fileSize:(s?Number.parseInt(s,10):0)||0,fileType:c,previewType:l}}},{key:"setWidth",value:function(e,t){var n=this.getMediaElement(e);n.setAttribute("data-width","".concat(t)),n.setAttribute("width","".concat(t,"px")),n.style.width="".concat(t,"px"),Bf(e)}},{key:"setHeight",value:function(e,t){var n=this.getMediaElement(e);n.setAttribute("data-height","".concat(t)),n.setAttribute("height","".concat(t,"px")),n.style.height="".concat(t,"px"),Bf(e)}},{key:"updateData",value:function(e,t,n){w(t instanceof HTMLDivElement);var r=t,o=wN(t);w(o);var i=Ow(o);this.updateMedia(OX.getEditor(t),i,r,n)}},{key:"notify",value:function(e,t,n,r){var o;if("progress"===n){var i=this.getUploadMarker(e,t,r),a=Ow(e),s=OX.getEditor(e);if(r.previewUrl){var c=this.saveData(s,t);c.src=oa.Progress,this.updateData(s,t,c)}try{(null===(o=s.options.callbacks)||void 0===o?void 0:o.onMediaUploadProgress)&&s.options.callbacks.onMediaUploadProgress(s,e,r.percentage)}catch(e){console.warn(e.message)}if(-1===r.percentage||r.percentage>=100)return this.updateUploadMark(i,"100%"),this.handleDisconnectObserver(t),Ja(a,"container-on-uploading"),void i.remove();this.updateUploadMark(i,"".concat(parseInt(r.percentage,10),"%"))}}},{key:"hasUploadMarker",value:function(e){return!!e.querySelector(".".concat(Vi.BLOCK_TOOLS," .").concat(GJ))}},{key:"updateUploadMark",value:function(e,t){var n=e.querySelector(".".concat(ZJ)),r=e.querySelector(".".concat(t$));if(n&&(n.style.width=t),r){var o=ju.get(ju.office.textProcess,{percentage:t});r.innerHTML=o}}},{key:"getUploadMarker",value:function(e,t,n){w(void 0!==n);var r=e.querySelector(".".concat(Vi.BLOCK_TOOLS," .").concat(GJ));if(!r){Ja(t,Vi.IMAGE_LOADING,Vi.IMAGE_ERROR);var o=Wp(e,!0),i=this.createUploadMarker(t);return o.appendChild(i),i}return r}},{key:"handleDisconnectObserver",value:function(e){var t;this._observeMap.has(e)&&(null===(t=this._observeMap.get(e))||void 0===t||t.disconnect(),this._observeMap.delete(e))}},{key:"handleEmbedObserver",value:function(e,t){var n=new MutationObserver((function(){var n=e.querySelector(".".concat(XJ)),r=t.cloneNode(!0);null==n||n.remove(),Qa(r,XJ),e.appendChild(r)}));n.observe(t,{attributes:!0,childList:!0,subtree:!0}),this._observeMap.set(t,n)}},{key:"createUploadMarker",value:function(e){var t=e.getAttribute("data-embed-type"),n=e.getAttribute("data-preview-type"),r=e.getAttribute("data-file-name");w(OX.getEditor(e)),w(r);var o=t===aa.IMAGE,i=t===aa.OFFICE&&n===ra.CARD,a=ps("div",[GJ],null),s=ps("div",[WJ],a),c=ps("div",[YJ],s),l=ps("div",[],c),u=e.cloneNode(!0);return o&&Qa(s,JJ),i?Qa(s,e$):o||Qa(s,$J),o||i?(Qa(l,qJ),ps("div",[ZJ],l)):(Qa(c,n$),Qa(l,r$),l.innerHTML=VJ,ps("div",[t$],l,"")),Qa(u,XJ),s.appendChild(u),this.handleEmbedObserver(s,e),a}},{key:"getMediaElement",value:function(e){return Nw(e)}},{key:"getSrc",value:function(e){var t=this.getMediaElement(e).getAttribute("data-src");return w(t),t}},{key:"getUrl",value:function(e){return OX.getEditor(e).buildResourceUrl(this.getSrc(e))}},{key:"getMenuText",value:function(e){return w(e),""}},{key:"getAccept",value:function(e){return w(e),e.getAccepts(this.type)}},{key:"getEmbedOptions",value:function(e){var t={menuItems:[]};if(window.disableVideo&&"video"===this.tagName||window.disableAudio&&"audio"===this.tagName)return t;var n=Ti.createElement(document.documentElement,{id:"",text:this.getMenuText(e),icon:this.icon}),r=document.createElement("input");return r.type="file",r.accept=e.getAccepts(this.type),Qa(r,"menu-item-input"),n.appendChild(r),r.onchange=this.handleFileChanged,r.onmousedown=OX.selectCurrentCommandTargetBlock,t.menuItems.push({id:"",text:this.getMenuText(e),element:n,order:this.menuItemOrder,onClick:function(){},supportMarkdown:this.isSupportMarkdown()}),t}},{key:"isSupportMarkdown",value:function(){return!1}},{key:"getAbstract",value:function(e,t){return w(e),w(t),"[Embed]"}}])&&HJ(t.prototype,n),r&&HJ(t,r),e}();function i$(e){return(i$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s$(e,t){return(s$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u$(e);if(t){var o=u$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l$(this,n)}}function l$(e,t){if(t&&("object"===i$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u$(e){return(u$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d$=qo.audioIcon,p$=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s$(e,t)}(i,e);var t,n,r,o=c$(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,aa.AUDIO,"audio",d$,EO.audio)}return t=i,(n=[{key:"getAbstract",value:function(){return"[".concat(ju.blocks.audio,"]")}},{key:"getMenuText",value:function(e){return w(e),ju.blocks.audio}},{key:"updateMediaSrc",value:function(e,t,n,r,o){var i,a,s;if(w(r),w(o),!wa(o.src)){if(n.innerHTML="",null===(i=e.options.callbacks)||void 0===i?void 0:i.onRenderMediaPlayer)e.options.callbacks.onRenderMediaPlayer(e,n,o,"audio");else{var c=document.createElement("audio");c.controls=!0,n.appendChild(c)}if(null===(a=e.options.callbacks)||void 0===a?void 0:a.onUpdateMediaSrc)null===(s=e.options.callbacks)||void 0===s||s.onUpdateMediaSrc(e,n,r,o);else{var l=n.querySelector("audio");l&&(l.src=e.buildResourceUrl(r))}}}},{key:"createElement",value:function(e,t,n){var r=document.createElement("div");return t.appendChild(r),this.updateMedia(e,t,r,n),r.onclick=oJ(e,e.getAccepts(aa.AUDIO)),r}}])&&a$(t.prototype,n),r&&a$(t,r),i}(o$));function f$(e){return(f$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A$(e,t){return(A$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v$(e);if(t){var o=v$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g$(this,n)}}function g$(e,t){if(t&&("object"===f$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v$(e){return(v$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}wp(aa.AUDIO,p$);var b$=qo.videoIcon,y$=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A$(e,t)}(i,e);var t,n,r,o=m$(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,aa.VIDEO,"video",b$,EO.video)}return t=i,(n=[{key:"getAbstract",value:function(){return"[".concat(ju.blocks.video,"]")}},{key:"getMenuText",value:function(){return ju.blocks.video}},{key:"updateMediaSrc",value:function(e,t,n,r,o){var i,a;if(w(r),w(o),!wa(r)){if(n.innerHTML="",null===(i=e.options.callbacks)||void 0===i?void 0:i.onRenderMediaPlayer)e.options.callbacks.onRenderMediaPlayer(e,n,o,"video");else{var s=document.createElement("video");s.controls=!0,n.appendChild(s)}if(null===(a=e.options.callbacks)||void 0===a?void 0:a.onUpdateMediaSrc)e.options.callbacks.onUpdateMediaSrc(e,n,r,o);else{var c=n.querySelector("video");c&&(c.src=e.buildResourceUrl(r))}}}},{key:"createElement",value:function(e,t,n){var r=document.createElement("div");return t.appendChild(r),this.updateMedia(e,t,r,n),r.onclick=oJ(e,e.getAccepts(aa.VIDEO)),r}}])&&h$(t.prototype,n),r&&h$(t,r),i}(o$));wp(aa.VIDEO,y$);var w$=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},x$="data-code";function k$(e,t,n){var r,o=this,i=Nw(e);w(i),YX(e).exclusiveBlock(e);var a=document.createElement("div");Qa(a,"embed-code-editor-mask");var s=document.createElement("textarea");s.value=(null===(r=i.getAttribute(x$))||void 0===r?void 0:r.trim())||"",s.setAttribute("spellcheck","false"),s.onblur=function(e){!function(e,t,n,r){var o=e.target;w(o),w(o instanceof HTMLTextAreaElement);var i=t.getAttribute(x$)!==o.value;i&&t.setAttribute(x$,o.value),w(t);var a=wN(t);w(a);var s=YX(a),c=o.closest(".embed-code-editor-mask");w(c),c.remove(),i&&(Bf(a),n(t)),r&&r(t),Ja(a,"editing"),s.unexclusiveBlock(a),Gp(a).style.removeProperty("margin-top")}(e,i,t,n)},a.appendChild(s);var c=function(e){var t,n=YX(e),r=fp(e);return null!==(t=r.getEmbedOptions&&r.getEmbedOptions(n).editorHeight)&&void 0!==t?t:100}(i);a.style.height="".concat(c,"px"),Gp(e).style.marginTop="".concat(c,"px");var l=Wp(e,!0);w(l),l.appendChild(a),Qa(e,"editing"),s.focus(),s.setSelectionRange(0,0),s.scrollTop=0;var u=In()((function(e){return w$(o,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{w(e),i.setAttribute(x$,s.value),t(i)}catch(e){console.error(e)}case 1:case"end":return n.stop()}}),n)})))}),500);return s.onkeyup=function(e){"Escape"===e.key&&s.blur()},s.oninput=function(e){u(e)},!0}function C$(e,t,n){k$(e,t,n)}var E$=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},B$=qo.editIcon,T$=qo.helpIcon,M$="wiz-editor-mermaid-inline",I$=In()((function(e,t,n,r){return E$(void 0,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,s;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,i=new File([new Blob([n])],"res.svg"),o.next=4,e.uploadResource(i,(function(){}));case 4:a=o.sent,r!==a&&(t.setAttribute("data-src",a),w(s=wN(t)),Bf(s)),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),console.warn(o.t0);case 11:case"end":return o.stop()}}),o,null,[[0,8]])})))}),5e3);function D$(e){w(e),function(e,t){var n=window;if(n.mermaid){n.mermaid.initialize({startOnLoad:!0,theme:e}),function(e){return yL(e,Qi.EMBED).reduce((function(e,t){var n=Nw(t);return dp(n)===aa.MERMAID&&e.push(n),e}),[])}(t).forEach((function(e){var n=_$(t,e);O$(t,e,n)}))}}("auto"===e.themeMode?Bs()?"dark":"default":"dark"===e.themeMode?"dark":"default",e)}function _$(e,t){var n=t.getAttribute(x$),r=t.getAttribute("data-src");return w(void 0!==n),{mermaidText:n,src:r}}function S$(e,t,n,r,o){var i=this;t.setAttribute(x$,n),n?Ja(t,"empty-embed"):(Qa(t,"empty-embed"),t.setAttribute("data-empty-text",ju.mermaid.empty)),Qa(t,"loading"),r&&t.setAttribute("data-src",r);var a=function(n){return E$(i,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t.innerHTML=n,!e.isReadOnly()){i.next=3;break}return i.abrupt("return");case 3:(null==o?void 0:o.saveEditorResult)&&I$(e,t,n,r),(null==o?void 0:o.saveFlush)&&I$.flush();case 5:case"end":return i.stop()}}),i)})))},s=document.querySelector("editor-mermaid-container");s||(s=ps("div",["editor-mermaid-container"],document.body)),w(s),w(s instanceof HTMLElement);var c=ps("div",["editor-mermaid-render"],s);c.id=B(),c.style.display="none",function(e){var t;return E$(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(null===(t=e.options.cdn)||void 0===t?void 0:t.mermaid)||"https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js",n.next=3,gs(r,"wiz-editor-mermaid");case 3:if(e.removeEventListener(zi.THEME_MODE_CHANGE,D$),e.addEventListener(zi.THEME_MODE_CHANGE,D$),!document.getElementById(M$)){n.next=7;break}return n.abrupt("return");case 7:(o=document.createElement("script")).id=M$,i="auto"===e.themeMode?Bs()?"dark":"default":"dark"===e.themeMode?"dark":"default",o.text='mermaid.initialize({startOnLoad:true, theme: "'.concat(i,'"});'),document.head.appendChild(o);case 12:case"end":return n.stop()}}),n)})))}(e).then((function(){var e=window;setTimeout((function(){try{e.mermaid.mermaidAPI.render(c.id,n,a),Ja(t,"editor-invalid-code")}catch(e){Qa(t,"editor-invalid-code"),t.setAttribute("data-invalid-text","".concat(ju.mermaid.invalid,"\n").concat(e.message));var r=document.getElementById(c.id);r&&(r.style.display="none")}finally{Ja(t,"loading")}}))}))}function O$(e,t,n,r,o){S$(e,t,n.mermaidText,n.src,o)}function N$(e){function t(t,n){try{var r=YX(e);Bf(e),O$(r,t,_$(0,t),r.getBlockData(e),n)}catch(e){console.warn("failed to save code: ".concat(e.message))}}w(e),C$(e,(function(e){t(e,{saveEditorResult:!0,saveFlush:!1})}),(function(e){t(e,{saveEditorResult:!1,saveFlush:!0})}))}function L$(){return window.open("https://mermaid-js.github.io/mermaid/"),!1}var R$={createElement:function(e,t,n){w(void 0!==n.mermaidText),w("string"==typeof n.mermaidText);var r=document.createElement("div");r.contentEditable="false";var o=r;return S$(e,o,n.mermaidText,n.src),o},saveData:_$,updateData:O$,getToolbarOptions:function(e){if(w(e),!mh(e))return null;if(!OX.getEditor(e).isBlockWritable(e))return null;var t=[];return Ga(e,"editing")?null:(t.push({id:"",text:ju.common.edit,icon:B$,disabled:!1,data:e,onClick:function(){return N$(e)}},{id:"",text:ju.common.help,icon:T$,disabled:!1,onClick:L$}),t)},notify:function(e,t,n,r){"edit"===n&&(w(r||!0),N$(e))},getEmbedOptions:function(){return{menuItems:[],editorHeight:300}}};wp(aa.MERMAID,R$);var j$=n(1018),U$=n.n(j$),F$=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},z$=qo.editIcon,Q$=qo.helpIcon;function P$(e,t){var n=t.getAttribute(x$),r=t.getAttribute("data-src");return w(void 0!==n),{plantumlText:n,src:r}}function H$(e,t,n,r,o){var i,a,s=this;t.setAttribute(x$,n),n?Ja(t,"empty-embed"):(Qa(t,"empty-embed"),t.setAttribute("data-empty-text",ju.plantuml.empty)),o&&t.setAttribute("data-src",o);var c=null!==(i=t.querySelector(".editor-plantuml-svg"))&&void 0!==i?i:ps("div",["editor-plantuml-svg"],t),l=null!==(a=c.querySelector("img"))&&void 0!==a?a:ps("img",["editor-plantuml-img"],c);o?l.src=e.buildResourceUrl(o):n&&(Qa(t,"loading"),l.src=function(e,t,n){var r,o,i=null!==(o=null===(r=e.options.cdn)||void 0===r?void 0:r.plantuml)&&void 0!==o?o:"https://www.plantuml.com/plantuml/svg";return i.endsWith("/")||(i+="/"),i+U$().encode(t)+"?id=".concat(encodeURIComponent(e.docId()),"-").concat(encodeURIComponent(n))}(e,n,r),l.onload=function(){return F$(s,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Ja(t,"loading"),!e.isReadOnly()){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,n.next=6,ja(l.src,!1);case 6:if(!(r=n.sent)){n.next=12;break}return n.next=10,e.uploadResource(r,(function(){}));case 10:i=n.sent,o!==i&&(t.setAttribute("data-src",i),w(a=wN(t)),Bf(a));case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(3),console.warn(n.t0);case 17:case"end":return n.stop()}}),n,null,[[3,14]])})))},l.onerror=function(){return F$(s,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ja(t,"loading");case 1:case"end":return e.stop()}}),e)})))})}function V$(e){w(e),C$(e,(function(t){try{var n=YX(e);Bf(e),t.removeAttribute("data-src"),H$(n,t,P$(0,t).plantumlText,zp(e),"")}catch(e){console.warn("failed to save code: ".concat(e.message))}}))}function K$(){return window.open("https://plantuml.com/"),!1}var G$={createElement:function(e,t,n,r){w(void 0!==n.plantumlText),w("string"==typeof n.plantumlText);var o=document.createElement("div");o.contentEditable="false";var i=o;return H$(e,i,n.plantumlText,r.id,n.src),i},saveData:P$,updateData:function(e,t,n,r){H$(e,t,n.plantumlText,r.id,n.src)},getToolbarOptions:function(e){if(w(e),!mh(e))return null;if(!OX.getEditor(e).isBlockWritable(e))return null;var t=[];return Ga(e,"editing")?null:(t.push({id:"",text:ju.common.edit,icon:z$,disabled:!1,data:e,onClick:function(){return V$(e)}},{id:"",text:ju.common.help,icon:Q$,disabled:!1,onClick:K$}),t)},notify:function(e,t,n,r){"edit"===n&&(w(r||!0),V$(e))},getEmbedOptions:function(){return{menuItems:[],editorHeight:300}}};wp(aa.PLANTUML,G$);var W$=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Y$=qo.editIcon,q$=qo.helpIcon;function Z$(e){w(e),function(e,t){var n=window;if(n.flowchart){n.flowchart.initialize({startOnLoad:!0,theme:e}),function(e){return yL(e,Qi.EMBED).reduce((function(e,t){var n=Nw(t);return dp(n)===aa.FLOWCHART&&e.push(n),e}),[])}(t).forEach((function(e){var n=X$(t,e);$$(t,e,n)}))}}("auto"===e.themeMode?Bs()?"dark":"default":"dark"===e.themeMode?"dark":"default",e)}function X$(e,t){var n=t.getAttribute(x$);return w(void 0!==n),{flowchartText:n}}function J$(e,t,n){var r;Qa(t,"loading"),t.setAttribute(x$,n),n?Ja(t,"empty-embed"):(Qa(t,"empty-embed"),t.setAttribute("data-empty-text",ju.flowchart.empty));var o=null!==(r=t.querySelector(".editor-flowchart-svg"))&&void 0!==r?r:ps("div",["editor-flowchart-svg"],t);o.id="flowchart-".concat(Date.now()),o.innerHTML="",n&&function(e){var t;return W$(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=(null===(t=e.options.cdn)||void 0===t?void 0:t.flowchart)||["//cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js","//cdnjs.cloudflare.com/ajax/libs/flowchart/1.15.0/flowchart.min.js"],o=0;case 2:if(!(o<r.length)){n.next=9;break}return i=r[o],n.next=6,gs(i,"".concat("wiz-editor-flowchart","-").concat(o));case 6:o+=1,n.next=2;break;case 9:e.removeEventListener(zi.THEME_MODE_CHANGE,Z$),e.addEventListener(zi.THEME_MODE_CHANGE,Z$);case 11:case"end":return n.stop()}}),n)})))}(e).then((function(){var e=window.flowchart.parse(n);try{e.drawSVG(o.id),Ja(t,"editor-invalid-code")}catch(e){Qa(t,"editor-invalid-code"),t.setAttribute("data-invalid-text","".concat(ju.flowchart.invalid,"\n").concat(e.message)),o.remove()}finally{Ja(t,"loading")}}))}function $$(e,t,n){J$(e,t,n.flowchartText)}function e1(e){w(e),C$(e,(function(t){try{var n=YX(e);Bf(e),$$(n,t,X$(0,t))}catch(e){console.warn("failed to save code: ".concat(e.message))}}))}function t1(){return window.open("https://flowchart.js.org/"),!1}var n1={createElement:function(e,t,n){w(void 0!==n.flowchartText),w("string"==typeof n.flowchartText);var r=document.createElement("div");r.contentEditable="false";var o=r;return J$(e,o,n.flowchartText),o},saveData:X$,updateData:$$,getToolbarOptions:function(e){if(w(e),!mh(e))return null;if(!OX.getEditor(e).isBlockWritable(e))return null;var t=[];return Ga(e,"editing")?null:(t.push({id:"",text:ju.common.edit,icon:Y$,disabled:!1,data:e,onClick:function(){return e1(e)}},{id:"",text:ju.common.help,icon:q$,disabled:!1,onClick:t1}),t)},notify:function(e,t,n,r){"edit"===n&&(w(r||!0),e1(e))},getEmbedOptions:function(){return{menuItems:[],editorHeight:300}}};wp(aa.FLOWCHART,n1);var r1=qo.lineIcon;var o1={createElement:function(e,t,n){return w(n),document.createElement("hr")},saveData:function(e,t){return w(t instanceof HTMLHRElement),{}},updateData:function(e,t,n){w(t instanceof HTMLHRElement),w(n)},getEmbedOptions:function(e){w(e);var t={menuItems:[]};return t.menuItems.push({id:"",text:ju.blocks.dividingLine,order:EO.hr,icon:r1,onClick:function(){var e=qX();w(e),w(e.target);var t=wN(e.target);w(t);var n=kN(t),r=TN(t);Gf(t)||(r+=1),OX.getEditor(n).insertHorizontalLine(n,r)},supportMarkdown:!0}),t},getAbstract:function(){return"[".concat(ju.blocks.dividingLine,"]")}};wp(aa.HR,o1);n(3049),n(4882);function i1(e){return(i1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s1(e,t,n){return(s1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d1(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c1(e,t){return(c1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l1(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d1(e);if(t){var o=d1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u1(this,n)}}function u1(e,t){if(t&&("object"===i1(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d1(e){return(d1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p1=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},f1=qo.officeIcon,h1=qo.filePrefixIcon,A1=qo.officeFullscreenIcon,m1=qo.officeDownloadIcon,g1=qo.officeLinkIcon,v1=qo.officePreviewIcon,b1=qo.officeCardIcon,y1=qo.addCommentIcon,w1=qo.filePreviewIcon,x1=qo.fileDownloadIcon,k1=qo.loadingIcon,C1=qo.saveOfficeIcon,E1=qo.editOfficeIcon,B1=qo.openOfficeIcon,T1="embed-office-card",M1="office-card-icon",I1="office-card-info",D1="office-card-handle",_1="office-card-name",S1="office-card-size",O1="office-handle-button";function N1(e,t){var n,r=t.data;w(r);var o=OX.getEditor(r);if(w(o),w(r),!o.options.disableOfficeDownload)if(null===(n=o.options.callbacks)||void 0===n?void 0:n.onSaveOffice){var i=wN(r);w(i);var a=xp(o,Ap(i));o.options.callbacks.onSaveOffice(o,i,a,e)}else{var s=r.getAttribute("data-src"),c=r.getAttribute("data-file-name");w(s),HY(o,s,c)}}function L1(e,t){var n=t.data.media;w(n);var r=OX.getEditor(n);w(r);var o=wN(n);o&&r.executeBlockCommand("comment",o)}function R1(e,t){var n=t.data.media;w(n);var r=n.getAttribute("data-preview-type");t.checked=r===t.id}function j1(e,t){return p1(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(n=t.data),r=OX.getEditor(n),o=wN(n),w(r),w(o),!0,r.textToolbar.hide(true),i=xp(r,n),e.next=11,YY(r,i);case 11:case"end":return e.stop()}}),e)})))}function U1(e){var t=wN(e.target);return!t||Af(t)}function F1(e,t){var n=t.data,r=n.media,o=n.previewType;w(r),w(o);var i=OX.getEditor(r);w(i);var a=wN(r);w(a),i.setFileDisplayType(a,o)}function z1(e,t,n){var r,o,i,a=this,s=t.getAttribute("data-file-name"),c=t.getAttribute("data-file-type"),l=t.getAttribute("data-file-size");w(s),w(l);var u=ps("div",[T1],null),d=ps("div",[M1],u),p=ps("div",[I1],u),f=ps("div",[D1],u);l=hR(parseInt(l,10));var h=ps("div",[_1],p),A=OR(s),m=s.length-A.length-3;if(m>0?(ps("span",["office-card-filename-front"],h,s.slice(0,m)),ps("span",[],h,s.slice(m))):ps("span",["office-card-filename-front"],h,s),ps("div",[S1],p,l),(null===(r=e.options.callbacks)||void 0===r?void 0:r.onEditOffice)&&(null===(o=e.options.callbacks)||void 0===o?void 0:o.onOpenOffice)){var g=ps("div",[O1,"editor-tooltip"],f);g.setAttribute("data-tooltip",ju.office.save),g.innerHTML=C1,g.addEventListener("click",(function(r){var o;r.stopPropagation();var i=wN(t);w(i),e.selectBlock(i,0,0),(null===(o=e.options.callbacks)||void 0===o?void 0:o.onSaveOffice)?e.options.callbacks.onSaveOffice(e,i,n,r):N1(r,{data:t})}));var v=ps("div",[O1,"editor-tooltip","editor-edit-office"],f);v.setAttribute("data-tooltip",ju.office.edit),v.innerHTML=E1,v.addEventListener("click",(function(r){var o;if(r.stopPropagation(),!U1(r)){var i=wN(t);w(i),e.selectBlock(i,0,0),w(null===(o=e.options.callbacks)||void 0===o?void 0:o.onEditOffice),e.options.callbacks.onEditOffice(e,i,n,r)}}));var b=ps("div",[O1,"editor-tooltip"],f);b.setAttribute("data-tooltip",ju.office.open),b.innerHTML=B1,b.addEventListener("click",(function(r){return p1(a,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,s,c,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r.stopPropagation(),w(l=wN(t)),e.selectBlock(l,0,0),!(null===(i=e.options.callbacks)||void 0===i?void 0:i.onPreviewOffice)){o.next=10;break}return o.next=7,e.options.callbacks.onPreviewOffice(e,l,n,"open",r);case 7:if(!o.sent){o.next=10;break}return o.abrupt("return");case 10:return w(null===(a=e.options.callbacks)||void 0===a?void 0:a.onOpenOffice),o.next=13,e.options.callbacks.onOpenOffice(e,l,n,r);case 13:if(!o.sent){o.next=16;break}return o.abrupt("return");case 16:return o.prev=16,o.next=19,j1(0,{data:t});case 19:o.next=24;break;case 21:o.prev=21,o.t0=o.catch(16),(null===(s=e.options.callbacks)||void 0===s?void 0:s.onError)&&(null===(c=e.options.callbacks)||void 0===c||c.onError(e,o.t0));case 24:case"end":return o.stop()}}),o,null,[[16,21]])})))}))}else{if(!e.options.disableOfficeDownload){var y=ps("div",[O1,"editor-tooltip"],f);y.setAttribute("data-tooltip",ju.office.download),y.innerHTML=x1,y.addEventListener("click",(function(n){n.stopPropagation(),e.selectBlock(wN(t),0,0),N1(n,{data:t})}))}if(e.isPreviewEnabled(s)){var x=ps("div",[O1,"editor-tooltip"],f);x.setAttribute("data-tooltip",ju.office.preview),x.innerHTML=w1,x.addEventListener("click",(function(r){return p1(a,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,s,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r.stopPropagation(),e.selectBlock(wN(t),0,0),!(null===(i=e.options.callbacks)||void 0===i?void 0:i.onPreviewOffice)){o.next=10;break}return w(c=wN(t)),o.next=7,e.options.callbacks.onPreviewOffice(e,c,n,"preview",r);case 7:if(!o.sent){o.next=10;break}return o.abrupt("return");case 10:return o.prev=10,o.next=13,j1(0,{data:t});case 13:o.next=18;break;case 15:o.prev=15,o.t0=o.catch(10),(null===(a=e.options.callbacks)||void 0===a?void 0:a.onError)&&(null===(s=e.options.callbacks)||void 0===s||s.onError(e,o.t0));case 18:case"end":return o.stop()}}),o,null,[[10,15]])})))}))}}(null===(i=e.options.callbacks)||void 0===i?void 0:i.onRenderFileCardIcon)?e.options.callbacks.onRenderFileCardIcon(e,n,d).then((function(e){d.innerHTML=e||GY(s,c)})):d.innerHTML=GY(s,c);var k=!1,C=!1;return u.onclick=function(r){return p1(a,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(w(c=wN(r.target)),e.selectBlock(c,0,0),k=!1,C=!1,!Af(c)){o.next=7;break}return o.abrupt("return");case 7:if(!e.isDragging()){o.next=9;break}return o.abrupt("return");case 9:if(o.prev=9,!e.options.callbacks||!e.options.callbacks.onFileCardClicked){o.next=13;break}if(!e.options.callbacks.onFileCardClicked(e,n.src,n)){o.next=13;break}return o.abrupt("return");case 13:if(!e.options.callbacks||!e.options.callbacks.onOpenOffice){o.next=20;break}if(!c){o.next=20;break}return o.next=17,e.options.callbacks.onOpenOffice(e,c,n,r);case 17:if(!o.sent){o.next=20;break}return o.abrupt("return");case 20:if(!e.isPreviewEnabled(s)){o.next=25;break}return o.next=23,j1(0,{data:t});case 23:o.next=26;break;case 25:N1(r,{data:t});case 26:o.next=31;break;case 28:o.prev=28,o.t0=o.catch(9),(null===(i=e.options.callbacks)||void 0===i?void 0:i.onError)&&(null===(a=e.options.callbacks)||void 0===a||a.onError(e,o.t0));case 31:case"end":return o.stop()}}),o,null,[[9,28]])})))},u.setAttribute("draggable","true"),u.addEventListener("mousedown",(function(e){if(e.preventDefault(),e.stopPropagation(),!U1(e)&&1===e.buttons){var t=e.target;if(w(t instanceof Element),t.closest(".".concat(O1)))return;k=!0}})),u.addEventListener("mousemove",(function(n){var r=wN(n.target);if(w(r),!Af(r)&&!(k&&C||!k&&!C)){C=!0;var o=EN(u);w(o);var i=u.cloneNode(!0);i.style.width="".concat(u.offsetWidth,"px"),i.style.height="".concat(u.offsetHeight,"px"),Qa(u,Vi.ON_DRAGGING),Qa(i,"embed-office-card-fixed");var a=null;e.setDragging(!0),LX.createElementDragTool(n,i,o,(function(e){a=jX(e)}),(function(){if(Ja(u,Vi.ON_DRAGGING),a&&Wh(a).remove(),a&&a!==r){e.beginUndoGroup();var n=kN(a),o=TN(a),i=xp(e,t);e.insertEmbed(n,o+1,aa.OFFICE,i),e.deleteBlock(r,{fromUndo:!1,localAction:!0}),e.endUndoGroup()}a=null,k=!1,C=!1,setTimeout((function(){e.setDragging(!1)}),0)}))}})),u}var Q1=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c1(e,t)}(i,e);var t,n,r,o=l1(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,aa.OFFICE,"div",f1,EO.office)}return t=i,(n=[{key:"createElement",value:function(e,t,n){var r=s1(d1(i.prototype),"createElement",this).call(this,e,t,n),o=this.getMediaPreviewType(e,n);return r.setAttribute("data-preview-type",o),r}},{key:"getMenuText",value:function(e){return e.options.acceptAllOfficeFiles?e.options.acceptOfficeFilesMenuText?e.options.acceptOfficeFilesMenuText:ju.blocks.file:ju.blocks.office}},{key:"getEmbedOptions",value:function(e){var t,n;if(!(null===(t=e.options.callbacks)||void 0===t?void 0:t.onInsertOfficeMenuClicked))return s1(d1(i.prototype),"getEmbedOptions",this).call(this,e);var r={menuItems:[]},o=Ti.createElement(document.documentElement,{id:"",text:this.getMenuText(e),icon:null!==(n=e.options.officeMenuIcon)&&void 0!==n?n:this.icon});return r.menuItems.push({id:"",text:this.getMenuText(e),order:this.menuItemOrder,element:o,onClick:function(){var t;w(null===(t=e.options.callbacks)||void 0===t?void 0:t.onInsertOfficeMenuClicked);var n=Bh();w(n),w(!0),e.options.callbacks.onInsertOfficeMenuClicked(e,n,0,"BlockMenu")},supportMarkdown:this.isSupportMarkdown()}),r}},{key:"createPreview",value:function(e,t,n,r){return p1(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,s,c,l,u,d,p,f=this;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(w(r.src),o.prev=1,setTimeout((function(){var t,r;if(null===(t=e.options.callbacks)||void 0===t?void 0:t.onCreatePreviewUrl){var o=wN(n);w(o),null===(r=e.options.callbacks)||void 0===r||r.onCreatePreviewUrl(e,o,"start")}})),Ja(t,"embed-container-card"),i=this.getMediaPreviewType(e,r),n.setAttribute("data-preview-type",i),i!==ra.CARD){o.next=13;break}return(a=n.querySelectorAll(".editor-preview-no-support"))&&a.length>0&&a.forEach((function(e){e.remove()})),s=z1(e,n,r),Qa(t,"embed-container-card"),n.appendChild(s),o.abrupt("return");case 13:return this.updateMediaInner(e,n),o.next=16,KY(e,r.src,r);case 16:if(!(c=o.sent).html){o.next=20;break}return this.updateToIframe(e,n,r.fileName,{html:c.html}),o.abrupt("return");case 20:if(!c.iframeUrl){o.next=23;break}return this.updateToIframe(e,n,r.fileName,{iframeUrl:c.iframeUrl}),o.abrupt("return");case 23:for(l=c.url,u=c.pageCount,w(l),w(void 0!==u),w("string"==typeof l),d=0;d<u;d++)p=document.createElement("img"),n.appendChild(p),p.src=0===d?l:VY(e,r.src,d+1);o.next=33;break;case 30:o.prev=30,o.t0=o.catch(1),WY(0,n,o.t0,r.fileName);case 33:return o.prev=33,setTimeout((function(){var t,r;if(null===(t=e.options.callbacks)||void 0===t?void 0:t.onCreatePreviewUrl){var o=wN(n);w(o),null===(r=e.options.callbacks)||void 0===r||r.onCreatePreviewUrl(e,o,"end")}f.hidePreviewLoading(n)}),300),o.finish(33);case 36:case"end":return o.stop()}}),o,this,[[1,30,33,36]])})))}},{key:"handleEmbedMouseEnter",value:function(e){this.getIframeMask(e).remove()}},{key:"handleEmbedMouseLeave",value:function(e){this.getIframeMask(e)}},{key:"updateEmbedInner",value:function(e,t,n,r){var o=this.getMediaPreviewType(e,r);if(o===ra.CARD){var i=z1(e,n,r);return Qa(t,"embed-container-card"),void n.appendChild(i)}o===ra.PREVIEW&&this.updateMediaInner(e,n)}},{key:"updateMediaSrc",value:function(e,t,n,r,o){return p1(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:this.createPreview(e,t,n,o);case 1:case"end":return r.stop()}}),r,this)})))}},{key:"updateMedia",value:function(e,t,n,r){var o=n.getAttribute("data-src"),i=n.getAttribute("data-preview-type"),a=r.src;w(a),Ja(n,Vi.IMAGE_LOADING,Vi.IMAGE_ERROR),r.height&&this.supportSetHeight(e,r)&&(n.style.height="".concat(r.height,"px")),r.fileName&&n.setAttribute("data-file-name",r.fileName),r.fileSize&&n.setAttribute("data-file-size","".concat(r.fileSize)),r.fileType&&n.setAttribute("data-file-type",r.fileType),n.setAttribute("data-src",r.src);var s=this.getMediaPreviewType(e,r);a===o&&s===i||(n.innerHTML="",n.removeAttribute("style"),a===oa.Loading?Qa(n,Vi.IMAGE_LOADING):a===oa.Error?Qa(n,Vi.IMAGE_ERROR):a===oa.Progress?this.updateEmbedInner(e,t,n,r):this.updateMediaSrc(e,t,n,r.src,r))}},{key:"getToolbarOptions",value:function(e){var t;w(e);var n=OX.getEditor(e);if(!n.isBlockWritable(e))return null;var r=Xp(e);if(r&&n.auth.userId!==r.userId)return null;if(!mh(e))return null;var o=[];if(e.editing)return null;if(this.hasUploadMarker(e))return null;var i=Nw(e),a=this.saveData(n,i),s=this.getMediaPreviewType(n,a),c=n.isPreviewEnabled(a.fileName),l=!!n.options.disableOfficeDownload;return c&&o.push({id:"",text:ju.office.fullscreen,icon:A1,disabled:!c,data:i,onClick:j1}),l||o.push({id:"",text:ju.office.download,icon:m1,disabled:!1,data:i,onClick:N1}),o.push({id:"",text:ju.office.link,icon:g1,color:s===ra.LINK?"style-color-4":void 0,data:{media:i,previewType:ra.LINK},onClick:F1,updateStatus:R1}),c&&o.push({id:ra.PREVIEW,text:ju.office.preview,icon:v1,disabled:!c,checked:s===ra.PREVIEW,data:{media:i,previewType:ra.PREVIEW},onClick:F1,updateStatus:R1}),o.push({id:ra.CARD,text:ju.office.card,icon:b1,disabled:!1,checked:s===ra.CARD,data:{media:i,previewType:ra.CARD},onClick:F1,updateStatus:R1}),(null===(t=n.options.callbacks)||void 0===t?void 0:t.onEditOffice)&&o.push({id:"",text:ju.office.edit,icon:E1,disabled:!1,onClick:function(t){var r;w(null===(r=n.options.callbacks)||void 0===r?void 0:r.onEditOffice),n.options.callbacks.onEditOffice(n,e,a,t)}}),o.push({id:"",text:ju.office.comment,icon:y1,disabled:!1,data:{media:i},onClick:L1}),o}},{key:"hidePreviewLoading",value:function(e){var t=e.querySelector(".editor-preview-loading");t&&(t.style.display="none")}},{key:"updateMediaInner",value:function(e,t){var n=t.getAttribute("data-file-name");w(n);var r=ps("div",["editor-preview-info"],t);r.innerHTML=h1;var o=OR(n),i=n.length-o.length-3;i>0?(ps("span",["editor-preview-filename-front"],r,n.slice(0,i)),ps("span",[],r,n.slice(i))):ps("span",["editor-preview-filename-front"],r,n);var a=ps("div",["editor-preview-drag"],t),s=ps("div",["editor-preview-drag-wall"],t),c=ps("div",["editor-preview-loading"],t);ps("div",[],c).innerHTML=k1,ps("div",[],c,ju.office.previewLoading),c.style.display="flex";var l=null,u=function n(r){r.preventDefault(),r.stopPropagation(),s.removeEventListener("mouseup",n),s.removeEventListener("mouseleave",n),l=null,s.style.display="none";var o=xp(e,t);o.height=Number.parseInt(t.style.height,10),t.setAttribute("data-height","".concat(o.height));var i=wN(t);w(i),e.updateEmbedData(i,o,{updateBlock:!1,fromUndo:!1,partial:!0})};a.addEventListener("mousedown",(function(e){e.preventDefault(),e.stopPropagation(),l=e.pageY,s.style.display="block",s.addEventListener("mouseup",u),s.addEventListener("mouseleave",u)})),s.addEventListener("mousemove",(function(e){if(e.preventDefault(),e.stopPropagation(),l){var n=Math.floor(e.pageY-l);l=e.pageY,t.style.height="".concat(t.offsetHeight+n,"px")}}))}},{key:"supportSetHeight",value:function(e,t){return e.isPreviewEnabled(t.fileName)&&t.previewType===ra.PREVIEW}},{key:"getAbstract",value:function(e){return OX.getEditor(e).options.acceptAllOfficeFiles?"[".concat(ju.blocks.file,"]"):"[".concat(ju.blocks.office,"]")}},{key:"getIframeMask",value:function(e){var t=Wp(e,!0);w(t);var n=t.querySelector(".".concat(i.IFRAME_MASK));return n||(Qa(n=document.createElement("div"),i.IFRAME_MASK),t.append(n)),n}},{key:"updateToIframe",value:function(e,t,n,r){var o=wN(t);if(w(o),!t.querySelector(".embed-office-card")){var i=t.querySelector(".editor-preview-iframe-container");i&&i.remove();var a=ps("div",["editor-preview-iframe-container"],t),s=document.createElement("iframe");a.appendChild(s),Qa(s,"editor-preview-iframe"),this.getIframeMask(o),r.iframeUrl?s.src=r.iframeUrl:setTimeout((function(){try{if(e.isInEditor(s)){if(!s.contentDocument)throw Error("iframe.contentDocument is null");if(s.contentDocument.documentElement.innerHTML="",!r.html)throw Error("preview html is empty");s.contentDocument.write(r.html)}else console.info("iframe has already removed")}catch(e){WY(0,t,e,n,a)}}))}}},{key:"toStandardDoc",value:function(e,t,n,r){var o;return p1(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=e.options.callbacks)||void 0===o?void 0:o.onGetFileDownloadUrl){t.next=2;break}return t.abrupt("return",void 0);case 2:return n=r.embedData,t.next=5,e.options.callbacks.onGetFileDownloadUrl(e,Object.assign({box:!0,id:B(),type:Pi.FILE,created:Date.now()},n));case 5:if(i=t.sent){t.next=8;break}return t.abrupt("return",void 0);case 8:return t.abrupt("return",{meta:{},comments:{},blocks:[{id:r.id,type:"text",text:[{insert:r.embedData.fileName,attributes:{link:i}}]}]});case 9:case"end":return t.stop()}}),t)})))}}])&&a1(t.prototype,n),r&&a1(t,r),i}(o$);Q1.IFRAME_MASK="iframe-mask";var P1=new Q1;function H1(e){return(H1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K1(e,t,n){return(K1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Z1(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function G1(e,t){return(G1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W1(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z1(e);if(t){var o=Z1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y1(this,n)}}function Y1(e,t){if(t&&("object"===H1(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q1(e)}function q1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z1(e){return(Z1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}wp(aa.OFFICE,P1);var X1=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},J1=qo.webIcon,$1=qo.loadingIcon,e0="editor-webpage-custom-",t0=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G1(e,t)}(i,e);var t,n,r,o=W1(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,aa.WEBPAGE,"div",J1,25)).handleLoaded=function(e){var t=e.target;w(t instanceof HTMLIFrameElement),console.log(t);var n=wN(t);w(n),Qa(n,"editor-webpage-loaded");var r=n.querySelector(".editor-preview-iframe-loading");r&&r.remove()},e.createExtActions=function(e,t,n){var r=As("How to get links",["editor-webpage-input-ext-action"],null);return r.onclick=function(){var r,o;(null===(r=e.options.callbacks)||void 0===r?void 0:r.onClickWebPageHelp)?null===(o=e.options.callbacks)||void 0===o||o.onClickWebPageHelp(e,t):n(t)},r},e.handleShowInsertWebPageDialog=function(t,n){var r;if(n.helpHtml){var o=ps("div",["dialog-webpage-help-container"],null);o.innerHTML=n.helpHtml,r=o}else if(n.helpLink){var i=ps("a",["dialog-webpage-help"],null,ju.webpage.howToGetLinks);i.href=n.helpLink,i.target="_blank",r=i}var a=null!=t?t:OX.getCurrentCommandBlock();w(a);var s=OX.getEditor(a),c={type:"input",inputList:[{id:"webPageUrl",defaultValue:"",inputPlaceholder:ju.webpage.inputPlaceholder,inputType:qi.INPUT,inputDescription:ju.webpage.enterUrl,required:!0,secondaryText:r,secondaryTextOnTop:"normal"===n.type}],autoFocus:!0,title:ju.get(ju.webpage.dialogTitle,{name:n.name}),data:a,showCloseButton:!0,containerClasses:["webpage","webpage-".concat(n.type)],onOK:function(t,r){return X1(q1(e),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.handleInsertWebPage(t,r,n));case 1:case"end":return e.stop()}}),e,this)})))},onCancel:function(){}};s.showDialog(c)},e.handleInsertWebPage=function(t,n,r){return X1(q1(e),void 0,void 0,regeneratorRuntime.mark((function e(){var o,i,a,s,c,l,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n[0].value){e.next=3;break}return e.abrupt("return",{inputOptions:n[0].options,error:new Error(ju.webpage.errorEnterUrl)});case 3:o.startsWith("http://")||o.startsWith("https://")||o.startsWith("//")||(o="//".concat(o)),(i=o).startsWith("//")&&(i="http:".concat(i)),e.prev=6,new URL(i),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(6),console.warn("invalid url: ".concat(e.t0.message)),e.abrupt("return",{inputOptions:n[0].options,error:new Error(ju.webpage.unsupportedUrl)});case 14:return a=o,s=OX.getEditor(t),c={url:a},e.prev=17,e.next=20,s.recognizeWebPageLink(a);case 20:c=e.sent,e.next=31;break;case 23:if(e.prev=23,e.t1=e.catch(17),console.error(e.t1),!(l=e.t1.responseData)||!l.statusCode){e.next=31;break}if(415!==l.statusCode||"normal"===r.type){e.next=31;break}return e.abrupt("return",{inputOptions:n[0].options,error:new Error(ju.webpage.unsupportedUrl)});case 31:return u=kN(t),d=TN(t),Gf(t)||(d+=1),"video"===c.type?s.insertVideo(u,c.url,d):"audio"===c.type?s.insertAudio(u,c.url,d):"image"===c.type?s.insertImage(u,c.url,d):s.insertEmbed(u,d,aa.WEBPAGE,{src:c.url}),e.abrupt("return",!0);case 36:case"end":return e.stop()}}),e,null,[[6,10],[17,23]])})))},e.resizeTool=new VX,e}return t=i,(n=[{key:"createElement",value:function(e,t,n){var r=K1(Z1(i.prototype),"createElement",this).call(this,e,t,n);return n.customType&&Qa(r,"".concat(e0).concat(n.customType)),r}},{key:"getCustomType",value:function(e){var t=Array.from(e.classList).filter((function(e){return e.startsWith(e0)}));if(t&&0!==t.length)return t[0].substr(e0.length)}},{key:"updateMediaSrc",value:function(e,t,n,r){return X1(this,void 0,void 0,regeneratorRuntime.mark((function t(){var o,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(r),e.options.isMobile?((o=ps("a",["editor-webpage-mobile-link"],n)).href=r,o.text=r):((i=ps("iframe",["editor-preview-iframe"],n)).addEventListener("load",this.handleLoaded),a=/^http:\/\//i,i.src=r.replace(a,"//"),s=ps("div",["editor-preview-iframe-loading"],n),ps("div",[],s).innerHTML=$1);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"getEmbedOptions",value:function(e){var t,n=this;w(e);var r={menuItems:[]};return e.options.allowedWebPages&&(r.menuItems.push({id:"",text:ju.command.webpage,order:EO.secondLevelHeader,groupHeader:!0}),(null!==(t=e.options.allowedWebPages)&&void 0!==t?t:[]).forEach((function(e){r.menuItems.push({id:"",text:e.name,order:EO.webpageCategory,icon:e.icon||J1,onClick:function(){return n.handleShowInsertWebPageDialog(void 0,e)}})}))),r}},{key:"getAbstract",value:function(){return"[".concat(ju.blocks.webpage,"]")}},{key:"saveData",value:function(e,t){var n=K1(Z1(i.prototype),"saveData",this).call(this,e,t),r=this.getCustomType(t);return r&&(n.customType=r),n}},{key:"updateData",value:function(e,t,n){var r=this;K1(Z1(i.prototype),"updateData",this).call(this,e,t,n);var o=wN(t);o&&this.resizeTool.onShow&&setTimeout((function(){r.resizeTool.updateResizeTool(o,t)}),0)}},{key:"notify",value:function(e,t,n){if("refresh"===n&&t.querySelector("iframe")){var r=this.getMediaElement(e),o=Gp(e),i=OX.getEditor(e),a=this.saveData(i,t);r.innerHTML="",this.updateMediaSrc(i,o,r,a.src)}}},{key:"handleEmbedMouseEnter",value:function(e,t){var n=this,r=OX.getEditor(e),o=Gp(e),a=getComputedStyle(o),s=parseFloat(a.paddingLeft),c=parseFloat(a.paddingRight),l=o.clientWidth-s-c;r.isReadOnly()||this.resizeTool.show(e,t,(function(t){t.width&&n.setWidth(e,Math.max(i.MIN_SIZE,Math.min(t.width,l))),t.height&&n.setHeight(e,Math.max(i.MIN_SIZE,t.height))}))}},{key:"handleEmbedMouseLeave",value:function(e){this.resizeTool.hide(e)}}])&&V1(t.prototype,n),r&&V1(t,r),i}(o$);t0.MIN_SIZE=30;var n0=new t0;wp(aa.WEBPAGE,n0);var r0=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function o0(e,t){var n;return r0(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!=(null===(n=e.options.callbacks)||void 0===n?void 0:n.onDownloadImage)){r.next=6;break}return r.next=3,ja(t);case 3:r.t0=r.sent,r.next=9;break;case 6:return r.next=8,e.options.callbacks.onDownloadImage(e,t,ja);case 8:r.t0=r.sent;case 9:return o=r.t0,r.abrupt("return",o);case 11:case"end":return r.stop()}}),r)})))}function i0(e,t){return r0(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o0(e,t);case 2:if(r=n.sent){n.next=5;break}return n.abrupt("return",null);case 5:return n.next=7,r.text();case 7:return o=n.sent,n.abrupt("return",o);case 9:case"end":return n.stop()}}),n)})))}var a0=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function s0(e){return new Promise((function(t,n){var r=indexedDB.open("wiz-editor-local-storage-".concat(e));r.onupgradeneeded=function(){r.result.createObjectStore(e,{keyPath:"key"})},r.onsuccess=function(){var o=r.result;if(o)try{var i=o.transaction([e],"readwrite").objectStore(e);t(i)}catch(e){n(e)}else n(new Error("cant't open db"))},r.onerror=n}))}function c0(e,t,n){var r=e.put({key:t,value:n});return new Promise((function(e,t){r.onsuccess=e,r.onerror=t}))}function l0(e,t){var n=e.get(t);return new Promise((function(e,t){n.onsuccess=function(){var t;e(null===(t=n.result)||void 0===t?void 0:t.value)},n.onerror=t}))}function u0(e,t,n){return a0(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s0(e);case 2:return o=r.sent,r.next=5,c0(o,t,n);case 5:case"end":return r.stop()}}),r)})))}function d0(e,t){return a0(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s0(e);case 2:return r=n.sent,n.next=5,l0(r,t);case 5:return o=n.sent,n.abrupt("return",o);case 7:case"end":return n.stop()}}),n)})))}var p0=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},f0=qo.editIcon,h0=qo.graphIcon,A0=null,m0=!1;function g0(e){e.setAttribute("date-empty-drawio-content",ju.drawio.empty),Qa(e,"editor-empty-drawio")}function v0(e){Ja(e,"editor-empty-drawio")}function b0(e,t){if(function(e){return void 0!==e.src}(t))return w(t),void e.setAttribute("data-src",t.src);if(function(e){return void 0!==e.xmlSvg}(t))return w(t),void e.setAttribute("data-xmlsvg",t.xmlSvg);if(function(e){return void 0!==e.xml}(t)){var n=t.xml,r=t.graph;e.graph=r,e.setAttribute("data-mxfile",n)}}function y0(e,t,n){(function(e){var t,n;return p0(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return window.mxClientOnLoad||(window.mxClientOnLoad=function(e){null!=e&&(A0=e)}),o=(null===(t=e.options.cdn)||void 0===t?void 0:t.drawio)||"https://www.draw.io/embed.js",i=(null===(n=e.options.cdn)||void 0===n?void 0:n.pako)||"https://cdn.jsdelivr.net/npm/pako@2.0.3/dist/pako.es5.js",r.next=5,gs(i,"editor-pako");case 5:return r.next=7,gs(o,"editor-drawio");case 7:return r.next=9,new Promise((function(e){setTimeout(e,100)}));case 9:case"end":return r.stop()}}),r)})))})(e).then((function(){var e=window.mxUtils,r=window.mxGraph,o=window.mxCodec;w(e),w(r),w(o);var i=e.parseXml(t);n.innerHTML="";var a=i.documentElement;w(a),w("mxfile"===a.nodeName);var s=a.getElementsByTagName("diagram");w(s.length>0);var c=function(e){return null!=e?e[void 0===e.textContent?"text":"textContent"]:""}(s[0]),l=atob(c),u=window.pako;w(u);var d=u.inflateRaw(Uint8Array.from(l,(function(e){return e.charCodeAt(0)})),{to:"string"}),p=decodeURIComponent(d),f=new r(n);if(f.resetViewOnRootChange=!1,f.foldingEnabled=!1,f.setTooltips(!1),f.setEnabled(!1),null!=A0){var h=e.parseXml(A0);new o(h).decode(h.documentElement,f.getStylesheet())}var A=new o(e.parseXml(p));A.decode(A.document.documentElement,f.getModel()),f.maxFitScale=1,f.fit(),f.center(!0,!1),b0(n,{graph:f,xml:t})}))}function w0(e,t,n){var r=this;v0(t);var o=n;o.src?function(e,t,n){var r=wN(n);if(r){var o=r.getBoundingClientRect().height;r.style.minHeight="".concat(o,"px")}var i=e.buildResourceUrl(t),a=document.createElement("img");n.innerHTML="",n.appendChild(a),a.src=i,b0(n,{src:t}),a.onload=function(){var e;(e=a.getBoundingClientRect()).width<=1&&e.height<=1?g0(n):v0(n),r&&r.style.removeProperty("min-height")}}(e,o.src,t):o.xmlSvg?function(e,t,n){n.innerHTML=t,b0(n,{xmlSvg:t});for(var r=function(e){var t,n,r=null!==(t=e.getAttribute("width"))&&void 0!==t?t:"",o=null!==(n=e.getAttribute("height"))&&void 0!==n?n:"",i=Number.parseInt(r,10),a=Number.parseInt(o,10);return!i||!a||i<=1&&a<=1},o=n.querySelectorAll("svg"),i=0;i<o.length;i++)if(!r(o[i]))return;g0(n)}(0,o.xmlSvg,t):o.xml?y0(e,o.xml,t):g0(t),setTimeout((function(){return p0(r,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=wN(t))&&!th(r)){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,d0("drawio-temp-data","".concat(e.docId,"-").concat(r.id));case 5:n.sent?(Qa(r,"has-draft"),r.setAttribute("data-draft-text",ju.drawio.hasDraft)):Ja(r,"has-draft");case 7:case"end":return n.stop()}}),n)})))}),100)}function x0(e){var t,n=(null===(t=e.options.cdn)||void 0===t?void 0:t.drawioIframe)||"https://embed.diagrams.net/?embed=1";-1===n.indexOf("?")?n+="?":n+="&",n+="spin=1&proto=json&configure=1";var r=function(e){return"zh-CN"===e.options.lang?"zh":"zh-TW"===e.options.lang?"zh-tw":""}(e);return r&&(n+="&lang=".concat(r)),n}function k0(e){var t,n;return p0(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(null===(t=e.options.callbacks)||void 0===t?void 0:t.onCreateDrawIoFrame)){r.next=8;break}return r.next=3,null===(n=e.options.callbacks)||void 0===n?void 0:n.onCreateDrawIoFrame(e);case 3:w(o=r.sent),i=function(){var t,n;w(null===(t=e.options.callbacks)||void 0===t?void 0:t.onCloseDrawIoFrame),null===(n=e.options.callbacks)||void 0===n||n.onCloseDrawIoFrame(e,o)},r.next=22;break;case 8:(a=document.createElement("div")).setAttribute("data-placeholder",ju.drawio.loading),Qa(a,"editor-drawio-iframe-container","loading"),o=document.createElement("iframe"),a.appendChild(o),Qa(o,"editor-drawio-iframe","loading"),0,o.setAttribute("frameborder","0"),s=function(){w(o);var e=document.body.clientWidth||document.documentElement.clientWidth,t=document.body.clientHeight||document.documentElement.clientHeight;o.setAttribute("width","".concat(e-0)),o.setAttribute("height","".concat(t-0))},window.addEventListener("resize",s),s(),Qa(document.body,Vi.SHOW_FULL_SCREEN_IFRAME),document.body.appendChild(a),i=function(){w(o),window.removeEventListener("resize",s),document.body.removeChild(a),Ja(document.body,Vi.SHOW_FULL_SCREEN_IFRAME)};case 22:return r.abrupt("return",{iframe:o,exit:i});case 23:case"end":return r.stop()}}),r)})))}function C0(e,t,n,r){var o,i;return p0(this,void 0,void 0,regeneratorRuntime.mark((function a(){var s,c,l,u,d,p;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r&&console.debug("auto saving drawio data"),s=new Blob([n]),c=new File([s],"drawio.svg",{type:"image/svg+xml"}),a.prev=4,u0("drawio-temp-data","".concat(e.docId,"-").concat(t.id),""),a.next=8,e.uploadResource(c,(function(){}));case 8:l=a.sent,e.getEmbedBlockEmbedData(t).src!==l&&e.updateEmbedData(t,{src:l},{fromUndo:!1,updateBlock:!0,partial:!0}),a.next=19;break;case 12:a.prev=12,a.t0=a.catch(4),u="failed to upload drawio data: ".concat(a.t0.message),console.error(u),u0("drawio-temp-data","".concat(e.docId,"-").concat(t.id),n),Qa(t,"has-draft"),t.setAttribute("data-draft-text",ju.drawio.hasDraft);case 19:a.next=26;break;case 21:a.prev=21,a.t1=a.catch(0),d="failed to save drawio data: ".concat(a.t1.message),console.error(d),(null===(o=e.options.callbacks)||void 0===o?void 0:o.onError)&&((p=new Error(d)).code="SaveDrawIo",null===(i=e.options.callbacks)||void 0===i||i.onError(e,p));case 26:case"end":return a.stop()}}),a,null,[[0,21],[4,12]])})))}function E0(e,t,n,r,o,i){var a=this;window.addEventListener("message",(function s(c){return p0(a,void 0,void 0,regeneratorRuntime.mark((function a(){var l,u,d,p,f,h,A;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:w(r.contentWindow),c.data.length>0&&("configure"===(f=JSON.parse(c.data)).event?r.contentWindow.postMessage(JSON.stringify({action:"configure",config:{defaultFonts:["Humor Sans","Helvetica","Times New Roman"]}}),"*"):"init"===f.event?(null!=(h=n.xmlSvg||n.xml)&&r.contentWindow.postMessage(JSON.stringify({action:"load",saveAndExit:1,noSaveBtn:1,noExitBtn:0,xml:h}),"*"),m0=!1,(null===(l=e.options.callbacks)||void 0===l?void 0:l.onEndInitDrawIo)&&(null===(u=e.options.callbacks)||void 0===u||u.onEndInitDrawIo(e,t)),o(),document.querySelectorAll(".editor-drawio-iframe-container").forEach((function(e){Ja(e,"loading")}))):"export"===f.event?(console.log(f.message),A=wo(f.data.substring(f.data.indexOf(",")+1)),C0(e,t,A,!!(null===(d=f.message)||void 0===d?void 0:d.autoSave)),(null===(p=f.message)||void 0===p?void 0:p.autoSave)||(window.removeEventListener("message",s),e.unexclusiveBlock(t),i())):"save"===f.event?r.contentWindow.postMessage(JSON.stringify({action:"export",format:"xmlsvg",spin:"Saving graph"}),"*"):"exit"===f.event&&(window.removeEventListener("message",s),e.unexclusiveBlock(t),i()));case 2:case"end":return a.stop()}}),a)})))}))}function B0(e){var t,n;return p0(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,s,c,l,u,d,p,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!m0){r.next=2;break}return r.abrupt("return");case 2:return m0=!0,w(o=OX.getEditor(e)),(null===(t=o.options.callbacks)||void 0===t?void 0:t.onBeginInitDrawIo)&&(null===(n=o.options.callbacks)||void 0===n||n.onBeginInitDrawIo(o,e)),o.exclusiveBlock(e),r.next=9,k0(o);case 9:if(i=r.sent,a=i.iframe,s=i.exit,!(c=xp(o,Ap(e))).src){r.next=18;break}return r.next=16,i0(o,o.buildResourceUrl(c.src));case 16:(l=r.sent)&&(c.xmlSvg=l);case 18:return r.next=20,d0("drawio-temp-data","".concat(o.docId,"-").concat(e.id));case 20:(u=r.sent)&&(c.xmlSvg=u),OX.hideCurPopover(),p=function(){d=setInterval((function(){a&&a.contentWindow&&a.contentWindow.postMessage(JSON.stringify({action:"export",format:"xmlsvg",spin:"Saving graph",autoSave:!0}),"*")}),3e4)},E0(o,e,c,a,p,(function(){s(),d&&clearInterval(d)})),f=x0(o),a.setAttribute("src",f);case 28:case"end":return r.stop()}}),r)})))}function T0(e,t,n){return p0(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(n),B0(t);case 2:case"end":return e.stop()}}),e)})))}function M0(){return p0(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(t=OX.getCurrentCommandBlock()),n=OX.getEditor(t),r=kN(t),o=TN(t),Gf(t)||(o+=1),w(n),i=n.insertEmbed(r,o,"drawio",{}),a=Ap(i),T0(0,i,a);case 10:case"end":return e.stop()}}),e)})))}function I0(e){return(I0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _0(e,t,n){return(_0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L0(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function S0(e,t){return(S0=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O0(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L0(e);if(t){var o=L0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N0(this,n)}}function N0(e,t){if(t&&("object"===I0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L0(e){return(L0=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}wp("drawio",{getToolbarOptions:function(e){return w(e),OX.getEditor(e).isBlockWritable(e)?[{id:"",icon:f0,text:ju.common.edit,onClick:function(){B0(e)}}]:[]},getEmbedOptions:function(){return{menuItems:[{id:"uml",text:ju.blocks.uml,order:EO.uml,icon:h0,onClick:M0}]}},createElement:function(e,t,n){w(n);var r=ps("div",["editor-drawio-content"],null);return w0(e,r,n),r},saveData:function(e,t){return w(t instanceof HTMLDivElement),{src:function(e){return e.getAttribute("data-src")||""}(t),xml:function(e){return e.getAttribute("data-mxfile")||""}(t),xmlSvg:function(e){return e.getAttribute("data-xmlsvg")||""}(t)}},updateData:function(e,t,n){w(n),w0(e,t,n)},getAbstract:function(){return"[".concat(ju.blocks.uml,"]")},notify:function(e,t,n,r){"edit"===n?T0(OX.getEditor(e),e,t):"select"===n||console.error("unknown notify command: ".concat(n,", ").concat(r))}});var R0=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},j0=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S0(e,t)}(i,e);var t,n,r,o=O0(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,aa.CHARTJS,"div","",25)}return t=i,(n=[{key:"handleError",value:function(e,t){ps("div",["chartjs-error"],t,e.message)}},{key:"saveData",value:function(e,t){var n=_0(L0(i.prototype),"saveData",this).call(this,e,t);return n.width=this.getWidth(t),n.height=this.getHeight(t),n}},{key:"updateChartJsData",value:function(e,t,n){var r;return R0(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,s,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i=(null===(r=e.options.cdn)||void 0===r?void 0:r.chartjs)||"https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js",o.prev=1,o.next=4,gs(i,"editor-chartjs");case 4:a=ps("canvas",["editor-chartjs-canvas"],n),s=a.getContext("2d"),c=Ou()({},t,{options:{onClick:function(){var t=wN(n);w(t),e.selectBlock(t,0,-1)}}}),w(new window.Chart(s,c)),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),this.handleError(o.t0,n);case 14:case"end":return o.stop()}}),o,this,[[1,11]])})))}},{key:"updateMediaSrc",value:function(e,t,n,r,o){var i;return R0(this,void 0,void 0,regeneratorRuntime.mark((function t(){var a,s,c,l,u,d,p,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w(r),o.width&&(a=n.style,"number"==typeof o.width?a.width="".concat(o.width,"px"):(w("string"==typeof o.width),a.width=o.width),n.setAttribute("data-width","".concat(o.width))),o.height&&(s=n.style,"number"==typeof o.height?s.height="".concat(o.height,"px"):(w("string"==typeof o.height),s.height=o.height),n.setAttribute("data-height","".concat(o.height))),!r.startsWith("https://")&&!r.startsWith("http://")){t.next=19;break}return t.prev=4,t.next=7,Da()(r);case 7:return l=t.sent,u=l.data,t.next=11,this.updateChartJsData(e,u,n);case 11:return t.abrupt("return");case 14:t.prev=14,t.t0=t.catch(4),c=t.t0;case 17:t.next=46;break;case 19:if(!r.startsWith("callback:")){t.next=36;break}return w(null===(i=e.options.callbacks)||void 0===i?void 0:i.onGetChartJsData),d=r.substr(9),t.prev=22,t.next=25,e.options.callbacks.onGetChartJsData(e,d);case 25:return p=t.sent,t.next=28,this.updateChartJsData(e,p,n);case 28:return t.abrupt("return");case 31:t.prev=31,t.t1=t.catch(22),c=t.t1;case 34:t.next=46;break;case 36:return t.prev=36,f=JSON.parse(r),t.next=40,this.updateChartJsData(e,f,n);case 40:return t.abrupt("return");case 43:t.prev=43,t.t2=t.catch(36),c=t.t2;case 46:this.handleError(c,n);case 47:case"end":return t.stop()}}),t,this,[[4,14],[22,31],[36,43]])})))}},{key:"getEmbedOptions",value:function(e){return w(e),{menuItems:[]}}}])&&D0(t.prototype,n),r&&D0(t,r),i}(o$));wp(aa.CHARTJS,j0);var U0={createElement:function(e,t,n){var r;w(n);var o=document.createElement("div");Qa(o,"editor-auto-toc-container");var i=null===(r=e.options.callbacks)||void 0===r?void 0:r.onUpdateToc;return e.options.callbacks||(e.options.callbacks={}),e.options.callbacks.onUpdateToc=function(e,t){!function(e,t,n){e.options.titleInEditor&&1===t.length&&(t=t[0].children),n.innerHTML="",function t(n,r){r.forEach((function(r){var o=ps("li",[],n),i=ps("a",[],o,r.text);if(i.href="#".concat(r.blockId),i.classList.add(Vi.TOC_LINK),i.onclick=function(t){var n,o,a=document.getElementById(r.blockId);a&&(e.expandHeadingBlock(a),(null===(n=e.options.callbacks)||void 0===n?void 0:n.onClickTocItem)&&(null===(o=e.options.callbacks)||void 0===o||o.onClickTocItem(e,t,a,i)))},r.children.length>0){var a=ps("ol",[],n);o.appendChild(a),t(a,r.children)}}))}(ps("ol",[],n),t)}(e,t,o),i&&i(e,t)},o},saveData:function(e,t){return w(t instanceof HTMLDivElement),{}},updateData:function(e,t,n){w(t instanceof HTMLDivElement),w(n)},handleEmbedMouseDown:function(e,t,n){var r=n.target;return w(r instanceof Element),!(!Ya(r,"a")&&!r.closest("a"))&&(n.preventDefault(),!0)},handleEmbedClicked:function(e,t,n){var r=n.target;return w(r instanceof Element),!(!Ya(r,"a")&&!r.closest("a"))}};wp(aa.TOC,U0);var F0=qo.editIcon,z0=qo.helpIcon;function Q0(e,t){var n,r=null===(n=t.getAttribute(x$))||void 0===n?void 0:n.trim();return w(void 0!==r),{mathjaxText:r}}function P0(e,t,n){var r;Qa(t,"loading"),t.setAttribute(x$,n),n?Ja(t,"empty-embed"):(Qa(t,"empty-embed"),t.setAttribute("data-empty-text",ju.math.emptyTeX));var o=null!==(r=t.querySelector(".editor-mathjax-svg"))&&void 0!==r?r:ps("div",["editor-mathjax-svg"],t);kv(e,n).then((function(e){o.innerHTML=e,Ja(t,"loading")})).catch((function(e){var n;o.textContent=null!==(n=e.message)&&void 0!==n?n:"Invalid Tex",Ja(t,"loading")}))}function H0(e,t,n){P0(e,t,n.mathjaxText)}function V0(e){w(e),C$(e,(function(t){try{var n=YX(e);Bf(e),H0(n,t,Q0(0,t))}catch(e){console.warn("failed to save code: ".concat(e.message))}}))}function K0(){return window.open("https://www.mathjax.org/"),!1}var G0={createElement:function(e,t,n){w(void 0!==n.mathjaxText),w("string"==typeof n.mathjaxText);var r=document.createElement("div");r.contentEditable="false";var o=r;return P0(e,o,n.mathjaxText),o},saveData:Q0,updateData:H0,getToolbarOptions:function(e){if(w(e),!mh(e))return null;if(!OX.getEditor(e).isBlockWritable(e))return null;var t=[];return Ga(e,"editing")?null:(t.push({id:"",text:ju.common.edit,icon:F0,disabled:!1,data:e,onClick:function(){return V0(e)}},{id:"",text:ju.common.help,icon:z0,disabled:!1,onClick:K0}),t)},notify:function(e,t,n,r){"edit"===n&&(w(r||!0),V0(e))},getEmbedOptions:function(){return{menuItems:[],editorHeight:100}}};wp(aa.MATHJAX,G0);var W0=qo.referenceIcon;function Y0(e){Array.from(e.querySelectorAll(".block-tools")).forEach((function(e){return e.remove()})),Array.from(e.querySelectorAll(".editor-code-config")).forEach((function(e){return e.remove()}));var t=e;t.id="snapshot-".concat(e.id),Ja(t,"editor-block"),Qa(t,"editor-block-snapshot"),Ja(t,"table-block"),Qa(t,"table-block-snapshot"),t.removeAttribute("data-node-type"),t.removeAttribute("data-block-type");var n=t.querySelector(".block-content");n&&(Ja(n,"block-content"),Qa(n,"block-content-snapshot")),Array.from(e.querySelectorAll(".editor-block")).forEach(Y0)}var q0={createElement:function(e,t,n){w(n);var r=n.doc;w(r),w("string"==typeof r);var o=JSON.parse(r),i=document.createElement("div"),a=ps("div",["editor-snapshot-content"],i),s=ps("div",["editor-snapshot-info"],i);new Promise((function(t,n){e.createChildLocalEditor(a,"r",{serverUrl:"",callbacks:{onBuildResourceUrl:function(t,n,r){return e.buildResourceUrl(n,r)},onLoad:function(e){return t(e)},onError:function(){return n()}}},o)})).then((function(e){var t=Array.from(e.rootContainer().children).map((function(e){return e.cloneNode(!0)}));t.forEach(Y0),e.destroy(),e.rootElement.remove(),t.forEach((function(e){return a.appendChild(e)}))})).catch((function(){})),i.setAttribute("data-doc",r);var c=ps("span",["editor-snapshot-icon"],s);c.innerHTML=W0;var l=ps("span",["editor-snapshot-title"],s,o.meta.title);return c.onmousedown=l.onmousedown=function(e){e.stopPropagation()},c.onclick=l.onclick=function(t){var n,r;if(t.preventDefault(),null===(n=e.options.callbacks)||void 0===n?void 0:n.onDocSnapshotClicked){var i=wN(c);w(i),null===(r=e.options.callbacks)||void 0===r||r.onDocSnapshotClicked(e,i,o,t)}},i},saveData:function(e,t){w(t instanceof HTMLDivElement);var n=t.getAttribute("data-doc");return w(n),{doc:n}},updateData:function(e,t,n){w(t instanceof HTMLDivElement),w(n)}};wp(aa.SNAPSHOT,q0)})(),r})()}));